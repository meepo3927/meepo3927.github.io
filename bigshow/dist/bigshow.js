webpackJsonp([0],[
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};!function(t,e){"object"==( false?"undefined":_typeof(exports))&&"object"==( false?"undefined":_typeof(module))?module.exports=e(): true?!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (e),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)):"object"==(typeof exports==="undefined"?"undefined":_typeof(exports))?exports.echarts=e():t.echarts=e();}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports;}var i={};return e.m=t,e.c=i,e.p="",e(0);}([function(t,e,i){t.exports=i(2),i(107),i(101),i(111),i(191),i(330),i(318),i(345),i(292),i(288),i(284),i(325),i(335),i(270),i(275),i(281),i(313),i(305),i(329),i(340),i(207),i(208),i(209),i(232),i(55),i(372),i(369),i(251),i(252),i(360),i(367),i(223),i(197),i(386),i(216),i(215),i(214),i(376),i(224),i(239);},function(t,e){function i(t){if(null==t||"object"!=(typeof t==="undefined"?"undefined":_typeof(t)))return t;var e=t,n=z.call(t);if("[object Array]"===n){e=[];for(var o=0,a=t.length;o<a;o++){e[o]=i(t[o]);}}else if(E[n])e=t.constructor.from(t);else if(!O[n]&&!P(t)&&!I(t)){e={};for(var r in t){t.hasOwnProperty(r)&&(e[r]=i(t[r]));}}return e;}function n(t,e,o){if(!S(e)||!S(t))return o?i(e):t;for(var a in e){if(e.hasOwnProperty(a)){var r=t[a],s=e[a];!S(s)||!S(r)||_(s)||_(r)||I(s)||I(r)||M(s)||M(r)||P(s)||P(r)?!o&&a in t||(t[a]=i(e[a],!0)):n(r,s,o);}}return t;}function o(t,e){for(var i=t[0],o=1,a=t.length;o<a;o++){i=n(i,t[o],e);}return i;}function a(t,e){for(var i in e){e.hasOwnProperty(i)&&(t[i]=e[i]);}return t;}function r(t,e,i){for(var n in e){e.hasOwnProperty(n)&&(i?null!=e[n]:null==t[n])&&(t[n]=e[n]);}return t;}function s(){return document.createElement("canvas");}function l(){return k||(k=W.createCanvas().getContext("2d")),k;}function u(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var i=0,n=t.length;i<n;i++){if(t[i]===e)return i;}}return-1;}function c(t,e){function i(){}var n=t.prototype;i.prototype=e.prototype,t.prototype=new i();for(var o in n){t.prototype[o]=n[o];}t.prototype.constructor=t,t.superClass=e;}function h(t,e,i){t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,r(t,e,i);}function d(t){if(t)return"string"!=typeof t&&"number"==typeof t.length;}function f(t,e,i){if(t&&e)if(t.forEach&&t.forEach===N)t.forEach(e,i);else if(t.length===+t.length)for(var n=0,o=t.length;n<o;n++){e.call(i,t[n],n,t);}else for(var a in t){t.hasOwnProperty(a)&&e.call(i,t[a],a,t);}}function p(t,e,i){if(t&&e){if(t.map&&t.map===G)return t.map(e,i);for(var n=[],o=0,a=t.length;o<a;o++){n.push(e.call(i,t[o],o,t));}return n;}}function g(t,e,i,n){if(t&&e){if(t.reduce&&t.reduce===F)return t.reduce(e,i,n);for(var o=0,a=t.length;o<a;o++){i=e.call(n,i,t[o],o,t);}return i;}}function m(t,e,i){if(t&&e){if(t.filter&&t.filter===V)return t.filter(e,i);for(var n=[],o=0,a=t.length;o<a;o++){e.call(i,t[o],o,t)&&n.push(t[o]);}return n;}}function v(t,e,i){if(t&&e)for(var n=0,o=t.length;n<o;n++){if(e.call(i,t[n],n,t))return t[n];}}function y(t,e){var i=B.call(arguments,2);return function(){return t.apply(e,i.concat(B.call(arguments)));};}function x(t){var e=B.call(arguments,1);return function(){return t.apply(this,e.concat(B.call(arguments)));};}function _(t){return"[object Array]"===z.call(t);}function b(t){return"function"==typeof t;}function w(t){return"[object String]"===z.call(t);}function S(t){var e=typeof t==="undefined"?"undefined":_typeof(t);return"function"===e||!!t&&"object"==e;}function M(t){return!!O[z.call(t)];}function I(t){return"object"==(typeof t==="undefined"?"undefined":_typeof(t))&&"number"==typeof t.nodeType&&"object"==_typeof(t.ownerDocument);}function T(t){return t!==t;}function A(t){for(var e=0,i=arguments.length;e<i;e++){if(null!=arguments[e])return arguments[e];}}function C(){return Function.call.apply(B,arguments);}function L(t,e){if(!t)throw new Error(e);}function D(t){t[H]=!0;}function P(t){return t[H];}var k,O={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},E={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},z=Object.prototype.toString,R=Array.prototype,N=R.forEach,V=R.filter,B=R.slice,G=R.map,F=R.reduce,H="__ec_primitive__",W={inherits:c,mixin:h,clone:i,merge:n,mergeAll:o,extend:a,defaults:r,getContext:l,createCanvas:s,indexOf:u,slice:C,find:v,isArrayLike:d,each:f,map:p,reduce:g,filter:m,bind:y,curry:x,isArray:_,isString:w,isObject:S,isFunction:b,isBuiltInObject:M,isDom:I,eqNaN:T,retrieve:A,assert:L,setAsPrimitive:D,noop:function noop(){}};t.exports=W;},function(t,e,i){function n(t){return function(e,i,n){e=e&&e.toLowerCase(),V.prototype[t].call(this,e,i,n);};}function o(){V.call(this);}function a(t,e,i){function n(t,e){return t.prio-e.prio;}i=i||{},"string"==typeof e&&(e=lt[e]),this.id,this.group,this._dom=t;var a=this._zr=z.init(t,{renderer:i.renderer||"canvas",devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height});this._throttledZrFlush=E.throttle(R.bind(a.flush,a),17),this._theme=R.clone(e),this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new T(),this._api=b(this),V.call(this),this._messageCenter=new o(),this._initEvents(),this.resize=R.bind(this.resize,this),this._pendingActions=[],B(st,n),B(ot,n),a.animation.on("frame",this._onframe,this),R.setAsPrimitive(this);}function r(t,e,i){var n,o=this._model,a=this._coordSysMgr.getCoordinateSystems();e=O.parseFinder(o,e);for(var r=0;r<a.length;r++){var s=a[r];if(s[t]&&null!=(n=s[t](o,e,i)))return n;}}function s(t,e,i,n,o){function a(n){n&&n.__alive&&n[e]&&n[e](n.__model,r,t._api,i);}var r=t._model;if(!n)return void G(t._componentsViews.concat(t._chartsViews),a);var s={};s[n+"Id"]=i[n+"Id"],s[n+"Index"]=i[n+"Index"],s[n+"Name"]=i[n+"Name"];var l={mainType:n,query:s};o&&(l.subType=o),r&&r.eachComponent(l,function(e,i){a(t["series"===n?"_chartsMap":"_componentsMap"][e.__viewId]);},t);}function l(t,e){var i=t.type,n=t.escapeConnect,o=it[i],a=o.actionInfo,r=(a.update||"update").split(":"),l=r.pop();r=null!=r[0]&&F(r[0]),this[Y]=!0;var u=[t],c=!1;t.batch&&(c=!0,u=R.map(t.batch,function(e){return e=R.defaults(R.extend({},e),t),e.batch=null,e;}));var h,d=[],f="highlight"===i||"downplay"===i;G(u,function(t){h=o.action(t,this._model,this._api),h=h||R.extend({},t),h.type=a.event||h.type,d.push(h),f?s(this,l,t,"series"):r&&s(this,l,t,r.main,r.sub);},this),"none"===l||f||r||(this[K]?(tt.prepareAndUpdate.call(this,t),this[K]=!1):tt[l].call(this,t)),h=c?{type:a.event||i,escapeConnect:n,batch:d}:d[0],this[Y]=!1,!e&&this._messageCenter.trigger(h.type,h);}function u(t){for(var e=this._pendingActions;e.length;){var i=e.shift();l.call(this,i,t);}}function c(t){!t&&this.trigger("updated");}function h(t,e,i){var n=this._api;G(this._componentsViews,function(o){var a=o.__model;o[t](a,e,n,i),_(a,o);},this),e.eachSeries(function(o,a){var r=this._chartsMap[o.__viewId];r[t](o,e,n,i),_(o,r),x(o,r);},this),y(this._zr,e),G(rt,function(t){t(e,n);});}function d(t,e){for(var i="component"===t,n=i?this._componentsViews:this._chartsViews,o=i?this._componentsMap:this._chartsMap,a=this._zr,r=0;r<n.length;r++){n[r].__alive=!1;}e[i?"eachComponent":"eachSeries"](function(t,r){if(i){if("series"===t)return;}else r=t;var s=r.id+"_"+r.type,l=o[s];if(!l){var u=F(r.type),c=i?D.getClass(u.main,u.sub):P.getClass(u.sub);if(!c)return;l=new c(),l.init(e,this._api),o[s]=l,n.push(l),a.add(l.group);}r.__viewId=l.__id=s,l.__alive=!0,l.__model=r,l.group.__ecComponentInfo={mainType:r.mainType,index:r.componentIndex};},this);for(var r=0;r<n.length;){var s=n[r];s.__alive?r++:(a.remove(s.group),s.dispose(e,this._api),n.splice(r,1),delete o[s.__id],s.__id=s.group.__ecComponentInfo=null);}}function f(t,e){G(ot,function(i){i.func(t,e);});}function p(t){var e={};t.eachSeries(function(t){var i=t.get("stack"),n=t.getData();if(i&&"list"===n.type){var o=e[i];o&&(n.stackedOn=o),e[i]=n;}});}function g(t,e){var i=this._api;G(st,function(n){n.isLayout&&n.func(t,i,e);});}function m(t,e,i){var n=this._api;t.clearColorPalette(),t.eachSeries(function(t){t.clearColorPalette();}),G(st,function(o){(!i||!o.isLayout)&&o.func(t,n,e);});}function v(t,e){var i=this._api;G(this._componentsViews,function(n){var o=n.__model;n.render(o,t,i,e),_(o,n);},this),G(this._chartsViews,function(t){t.__alive=!1;},this),t.eachSeries(function(n,o){var a=this._chartsMap[n.__viewId];a.__alive=!0,a.render(n,t,i,e),a.group.silent=!!n.get("silent"),_(n,a),x(n,a);},this),y(this._zr,t),G(this._chartsViews,function(e){e.__alive||e.remove(t,i);},this);}function y(t,e){var i=t.storage,n=0;i.traverse(function(t){t.isGroup||n++;}),n>e.get("hoverLayerThreshold")&&!S.node&&i.traverse(function(t){t.isGroup||(t.useHoverLayer=!0);});}function x(t,e){var i=0;e.group.traverse(function(t){"group"===t.type||t.ignore||i++;});var n=+t.get("progressive"),o=i>t.get("progressiveThreshold")&&n&&!S.node;o&&e.group.traverse(function(t){t.isGroup||(t.progressive=o?Math.floor(i++/n):-1,o&&t.stopAnimation(!0));});var a=t.get("blendMode")||null;e.group.traverse(function(t){t.isGroup||t.setStyle("blend",a);});}function _(t,e){var i=t.get("z"),n=t.get("zlevel");e.group.traverse(function(t){"group"!==t.type&&(null!=i&&(t.z=i),null!=n&&(t.zlevel=n));});}function b(t){var e=t._coordSysMgr;return R.extend(new I(t),{getCoordinateSystems:R.bind(e.getCoordinateSystems,e),getComponentByElement:function getComponentByElement(e){for(;e;){var i=e.__ecComponentInfo;if(null!=i)return t._model.getComponent(i.mainType,i.index);e=e.parent;}}});}function w(t){function e(t,e){for(var i=0;i<t.length;i++){var n=t[i];n[a]=e;}}var i=0,n=1,o=2,a="__connectUpdateStatus";R.each(nt,function(r,s){t._messageCenter.on(s,function(r){if(ht[t.group]&&t[a]!==i){if(r&&r.escapeConnect)return;var s=t.makeActionFromEvent(r),l=[];R.each(ct,function(e){e!==t&&e.group===t.group&&l.push(e);}),e(l,i),G(l,function(t){t[a]!==n&&t.dispatchAction(s);}),e(l,o);}});});}/*!
	 * ECharts, a javascript interactive chart library.
	 *
	 * Copyright (c) 2015, Baidu Inc.
	 * All rights reserved.
	 *
	 * LICENSE
	 * https://github.com/ecomfe/echarts/blob/master/LICENSE.txt
	 */var S=i(9),M=i(137),I=i(100),T=i(26),A=i(138),C=i(13),L=i(19),D=i(64),P=i(30),k=i(3),O=i(6),E=i(37),z=i(87),R=i(1),N=i(22),V=i(23),B=i(51),G=R.each,F=C.parseClassType,H=1e3,W=5e3,Z=1e3,q=2e3,j=3e3,U=4e3,X=5e3,Y="__flagInMainProcess",$="__hasGradientOrPatternBg",K="__optionUpdated",J=/^[a-zA-Z0-9_]+$/;o.prototype.on=n("on"),o.prototype.off=n("off"),o.prototype.one=n("one"),R.mixin(o,V);var Q=a.prototype;Q._onframe=function(){if(this[K]){var t=this[K].silent;this[Y]=!0,tt.prepareAndUpdate.call(this),this[Y]=!1,this[K]=!1,u.call(this,t),c.call(this,t);}},Q.getDom=function(){return this._dom;},Q.getZr=function(){return this._zr;},Q.setOption=function(t,e,i){var n;if(R.isObject(e)&&(i=e.lazyUpdate,n=e.silent,e=e.notMerge),this[Y]=!0,!this._model||e){var o=new A(this._api),a=this._theme,r=this._model=new M(null,null,a,o);r.init(null,null,a,o);}this.__lastOnlyGraphic=!(!t||!t.graphic),R.each(t,function(t,e){"graphic"!==e&&(this.__lastOnlyGraphic=!1);},this),this._model.setOption(t,at,this.__lastOnlyGraphic),i?(this[K]={silent:n},this[Y]=!1):(tt.prepareAndUpdate.call(this),this._zr.flush(),this[K]=!1,this[Y]=!1,u.call(this,n),c.call(this,n));},Q.setTheme=function(){console.log("ECharts#setTheme() is DEPRECATED in ECharts 3.0");},Q.getModel=function(){return this._model;},Q.getOption=function(){return this._model&&this._model.getOption();},Q.getWidth=function(){return this._zr.getWidth();},Q.getHeight=function(){return this._zr.getHeight();},Q.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1;},Q.getRenderedCanvas=function(t){if(S.canvasSupported){t=t||{},t.pixelRatio=t.pixelRatio||1,t.backgroundColor=t.backgroundColor||this._model.get("backgroundColor");var e=this._zr,i=e.storage.getDisplayList();return R.each(i,function(t){t.stopAnimation(!0);}),e.painter.getRenderedCanvas(t);}},Q.getDataURL=function(t){t=t||{};var e=t.excludeComponents,i=this._model,n=[],o=this;G(e,function(t){i.eachComponent({mainType:t},function(t){var e=o._componentsMap[t.__viewId];e.group.ignore||(n.push(e),e.group.ignore=!0);});});var a=this.getRenderedCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return G(n,function(t){t.group.ignore=!1;}),a;},Q.getConnectedDataURL=function(t){if(S.canvasSupported){var e=this.group,i=Math.min,n=Math.max,o=1/0;if(ht[e]){var a=o,r=o,s=-o,l=-o,u=[],c=t&&t.pixelRatio||1;R.each(ct,function(o,c){if(o.group===e){var h=o.getRenderedCanvas(R.clone(t)),d=o.getDom().getBoundingClientRect();a=i(d.left,a),r=i(d.top,r),s=n(d.right,s),l=n(d.bottom,l),u.push({dom:h,left:d.left,top:d.top});}}),a*=c,r*=c,s*=c,l*=c;var h=s-a,d=l-r,f=R.createCanvas();f.width=h,f.height=d;var p=z.init(f);return G(u,function(t){var e=new k.Image({style:{x:t.left*c-a,y:t.top*c-r,image:t.dom}});p.add(e);}),p.refreshImmediately(),f.toDataURL("image/"+(t&&t.type||"png"));}return this.getDataURL(t);}},Q.convertToPixel=R.curry(r,"convertToPixel"),Q.convertFromPixel=R.curry(r,"convertFromPixel"),Q.containPixel=function(t,e){var i,n=this._model;return t=O.parseFinder(n,t),R.each(t,function(t,n){n.indexOf("Models")>=0&&R.each(t,function(t){var o=t.coordinateSystem;if(o&&o.containPoint)i|=!!o.containPoint(e);else if("seriesModels"===n){var a=this._chartsMap[t.__viewId];a&&a.containPoint&&(i|=a.containPoint(e,t));}},this);},this),!!i;},Q.getVisual=function(t,e){var i=this._model;t=O.parseFinder(i,t,{defaultMainType:"series"});var n=t.seriesModel,o=n.getData(),a=t.hasOwnProperty("dataIndexInside")?t.dataIndexInside:t.hasOwnProperty("dataIndex")?o.indexOfRawIndex(t.dataIndex):null;return null!=a?o.getItemVisual(a,e):o.getVisual(e);},Q.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId];},Q.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId];};var tt={update:function update(t){var e=this._model,i=this._api,n=this._coordSysMgr,o=this._zr;if(e){e.restoreData(),n.create(this._model,this._api),f.call(this,e,i),p.call(this,e),n.update(e,i),m.call(this,e,t),v.call(this,e,t);var a=e.get("backgroundColor")||"transparent",r=o.painter;if(r.isSingleCanvas&&r.isSingleCanvas())o.configLayer(0,{clearColor:a});else{if(!S.canvasSupported){var s=N.parse(a);a=N.stringify(s,"rgb"),0===s[3]&&(a="transparent");}a.colorStops||a.image?(o.configLayer(0,{clearColor:a}),this[$]=!0,this._dom.style.background="transparent"):(this[$]&&o.configLayer(0,{clearColor:null}),this[$]=!1,this._dom.style.background=a);}G(rt,function(t){t(e,i);});}},updateView:function updateView(t){var e=this._model;e&&(e.eachSeries(function(t){t.getData().clearAllVisual();}),m.call(this,e,t),h.call(this,"updateView",e,t));},updateVisual:function updateVisual(t){var e=this._model;e&&(e.eachSeries(function(t){t.getData().clearAllVisual();}),m.call(this,e,t,!0),h.call(this,"updateVisual",e,t));},updateLayout:function updateLayout(t){var e=this._model;e&&(g.call(this,e,t),h.call(this,"updateLayout",e,t));},prepareAndUpdate:function prepareAndUpdate(t){var e=this._model;d.call(this,"component",e),d.call(this,"chart",e),this.__lastOnlyGraphic?(G(this._componentsViews,function(i){var n=i.__model;n&&"graphic"===n.mainType&&(i.render(n,e,this._api,t),_(n,i));},this),this.__lastOnlyGraphic=!1):tt.update.call(this,t);}};Q.resize=function(t){this[Y]=!0,this._zr.resize(t);var e=this._model&&this._model.resetOption("media"),i=e?"prepareAndUpdate":"update";tt[i].call(this),this._loadingFX&&this._loadingFX.resize(),this[Y]=!1;var n=t&&t.silent;u.call(this,n),c.call(this,n);},Q.showLoading=function(t,e){if(R.isObject(t)&&(e=t,t=""),t=t||"default",this.hideLoading(),ut[t]){var i=ut[t](this._api,e),n=this._zr;this._loadingFX=i,n.add(i);}},Q.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null;},Q.makeActionFromEvent=function(t){var e=R.extend({},t);return e.type=nt[t.type],e;},Q.dispatchAction=function(t,e){if(R.isObject(e)||(e={silent:!!e}),it[t.type]){if(this[Y])return void this._pendingActions.push(t);l.call(this,t,e.silent),e.flush?this._zr.flush(!0):e.flush!==!1&&S.browser.weChat&&this._throttledZrFlush(),u.call(this,e.silent),c.call(this,e.silent);}},Q.on=n("on"),Q.off=n("off"),Q.one=n("one");var et=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];Q._initEvents=function(){G(et,function(t){this._zr.on(t,function(e){var i,n=this.getModel(),o=e.target;if("globalout"===t)i={};else if(o&&null!=o.dataIndex){var a=o.dataModel||n.getSeriesByIndex(o.seriesIndex);i=a&&a.getDataParams(o.dataIndex,o.dataType)||{};}else o&&o.eventData&&(i=R.extend({},o.eventData));i&&(i.event=e,i.type=t,this.trigger(t,i));},this);},this),G(nt,function(t,e){this._messageCenter.on(e,function(t){this.trigger(e,t);},this);},this);},Q.isDisposed=function(){return this._disposed;},Q.clear=function(){this.setOption({series:[]},!0);},Q.dispose=function(){if(!this._disposed){this._disposed=!0;var t=this._api,e=this._model;G(this._componentsViews,function(i){i.dispose(e,t);}),G(this._chartsViews,function(i){i.dispose(e,t);}),this._zr.dispose(),delete ct[this.id];}},R.mixin(a,V);var it={},nt={},ot=[],at=[],rt=[],st=[],lt={},ut={},ct={},ht={},dt=new Date()-0,ft=new Date()-0,pt="_echarts_instance_",gt={version:"3.5.3",dependencies:{zrender:"3.4.3"}};gt.init=function(t,e,i){var n=new a(t,e,i);return n.id="ec_"+dt++,ct[n.id]=n,t.setAttribute&&t.setAttribute(pt,n.id),w(n),n;},gt.connect=function(t){if(R.isArray(t)){var e=t;t=null,R.each(e,function(e){null!=e.group&&(t=e.group);}),t=t||"g_"+ft++,R.each(e,function(e){e.group=t;});}return ht[t]=!0,t;},gt.disConnect=function(t){ht[t]=!1;},gt.disconnect=gt.disConnect,gt.dispose=function(t){R.isDom(t)?t=gt.getInstanceByDom(t):"string"==typeof t&&(t=ct[t]),t instanceof a&&!t.isDisposed()&&t.dispose();},gt.getInstanceByDom=function(t){var e=t.getAttribute(pt);return ct[e];},gt.getInstanceById=function(t){return ct[t];},gt.registerTheme=function(t,e){lt[t]=e;},gt.registerPreprocessor=function(t){at.push(t);},gt.registerProcessor=function(t,e){"function"==typeof t&&(e=t,t=H),ot.push({prio:t,func:e});},gt.registerPostUpdate=function(t){rt.push(t);},gt.registerAction=function(t,e,i){"function"==typeof e&&(i=e,e="");var n=R.isObject(t)?t.type:[t,t={event:e}][0];t.event=(t.event||n).toLowerCase(),e=t.event,R.assert(J.test(n)&&J.test(e)),it[n]||(it[n]={action:i,actionInfo:t}),nt[e]=n;},gt.registerCoordinateSystem=function(t,e){T.register(t,e);},gt.registerLayout=function(t,e){"function"==typeof t&&(e=t,t=Z),st.push({prio:t,func:e,isLayout:!0});},gt.registerVisual=function(t,e){"function"==typeof t&&(e=t,t=j),st.push({prio:t,func:e});},gt.registerLoading=function(t,e){ut[t]=e;},gt.extendComponentModel=function(t){return C.extend(t);},gt.extendComponentView=function(t){return D.extend(t);},gt.extendSeriesModel=function(t){return L.extend(t);},gt.extendChartView=function(t){return P.extend(t);},gt.setCanvasCreator=function(t){R.createCanvas=t;},gt.registerVisual(q,i(151)),gt.registerPreprocessor(i(145)),gt.registerLoading("default",i(136)),gt.registerAction({type:"highlight",event:"highlight",update:"highlight"},R.noop),gt.registerAction({type:"downplay",event:"downplay",update:"downplay"},R.noop),gt.zrender=z,gt.List=i(14),gt.Model=i(10),gt.Axis=i(33),gt.graphic=i(3),gt.number=i(4),gt.format=i(7),gt.throttle=E.throttle,gt.matrix=i(16),gt.vector=i(5),gt.color=i(22),gt.util={},G(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],function(t){gt.util[t]=R[t];}),gt.helper=i(135),gt.PRIORITY={PROCESSOR:{FILTER:H,STATISTIC:W},VISUAL:{LAYOUT:Z,GLOBAL:q,CHART:j,COMPONENT:U,BRUSH:X}},t.exports=gt;},function(t,e,i){"use strict";function n(t){return null!=t&&"none"!=t;}function o(t){return"string"==typeof t?_.lift(t,-.1):t;}function a(t){if(t.__hoverStlDirty){var e=t.style.stroke,i=t.style.fill,a=t.__hoverStl;a.fill=a.fill||(n(i)?o(i):null),a.stroke=a.stroke||(n(e)?o(e):null);var r={};for(var s in a){a.hasOwnProperty(s)&&(r[s]=t.style[s]);}t.__normalStl=r,t.__hoverStlDirty=!1;}}function r(t){t.__isHover||(a(t),t.useHoverLayer?t.__zr&&t.__zr.addHover(t,t.__hoverStl):(t.setStyle(t.__hoverStl),t.z2+=1),t.__isHover=!0);}function s(t){if(t.__isHover){var e=t.__normalStl;t.useHoverLayer?t.__zr&&t.__zr.removeHover(t):(e&&t.setStyle(e),t.z2-=1),t.__isHover=!1;}}function l(t){"group"===t.type?t.traverse(function(t){"group"!==t.type&&r(t);}):r(t);}function u(t){"group"===t.type?t.traverse(function(t){"group"!==t.type&&s(t);}):s(t);}function c(t,e){t.__hoverStl=t.hoverStyle||e||{},t.__hoverStlDirty=!0,t.__isHover&&a(t);}function h(t){this.__hoverSilentOnTouch&&t.zrByTouch||!this.__isEmphasis&&l(this);}function d(t){this.__hoverSilentOnTouch&&t.zrByTouch||!this.__isEmphasis&&u(this);}function f(){this.__isEmphasis=!0,l(this);}function p(){this.__isEmphasis=!1,u(this);}function g(t,e,i,n,o,a){"function"==typeof o&&(a=o,o=null);var r=n&&n.isAnimationEnabled();if(r){var s=t?"Update":"",l=n.getShallow("animationDuration"+s),u=n.getShallow("animationEasing"+s),c=n.getShallow("animationDelay"+s);"function"==typeof c&&(c=c(o,n.getAnimationDelayParams?n.getAnimationDelayParams(e,o):null)),"function"==typeof l&&(l=l(o)),l>0?e.animateTo(i,l,c||0,u,a):(e.stopAnimation(),e.attr(i),a&&a());}else e.stopAnimation(),e.attr(i),a&&a();}var m=i(1),v=i(180),y=Math.round,x=i(8),_=i(22),b=i(16),w=i(5),S=i(57),M=i(11),I={};I.Group=i(36),I.Image=i(53),I.Text=i(85),I.Circle=i(171),I.Sector=i(177),I.Ring=i(176),I.Polygon=i(173),I.Polyline=i(174),I.Rect=i(175),I.Line=i(172),I.BezierCurve=i(170),I.Arc=i(169),I.CompoundPath=i(164),I.LinearGradient=i(99),I.RadialGradient=i(165),I.BoundingRect=M,I.extendShape=function(t){return x.extend(t);},I.extendPath=function(t,e){return v.extendFromString(t,e);},I.makePath=function(t,e,i,n){var o=v.createFromString(t,e),a=o.getBoundingRect();if(i){var r=a.width/a.height;if("center"===n){var s,l=i.height*r;l<=i.width?s=i.height:(l=i.width,s=l/r);var u=i.x+i.width/2,c=i.y+i.height/2;i.x=u-l/2,i.y=c-s/2,i.width=l,i.height=s;}I.resizePath(o,i);}return o;},I.mergePath=v.mergePath,I.resizePath=function(t,e){if(t.applyTransform){var i=t.getBoundingRect(),n=i.calculateTransform(e);t.applyTransform(n);}},I.subPixelOptimizeLine=function(t){var e=I.subPixelOptimize,i=t.shape,n=t.style.lineWidth;return y(2*i.x1)===y(2*i.x2)&&(i.x1=i.x2=e(i.x1,n,!0)),y(2*i.y1)===y(2*i.y2)&&(i.y1=i.y2=e(i.y1,n,!0)),t;},I.subPixelOptimizeRect=function(t){var e=I.subPixelOptimize,i=t.shape,n=t.style.lineWidth,o=i.x,a=i.y,r=i.width,s=i.height;return i.x=e(i.x,n,!0),i.y=e(i.y,n,!0),i.width=Math.max(e(o+r,n,!1)-i.x,0===r?0:1),i.height=Math.max(e(a+s,n,!1)-i.y,0===s?0:1),t;},I.subPixelOptimize=function(t,e,i){var n=y(2*t);return(n+y(e))%2===0?n/2:(n+(i?1:-1))/2;},I.setHoverStyle=function(t,e,i){t.__hoverSilentOnTouch=i&&i.hoverSilentOnTouch,"group"===t.type?t.traverse(function(t){"group"!==t.type&&c(t,e);}):c(t,e),t.on("mouseover",h).on("mouseout",d),t.on("emphasis",f).on("normal",p);},I.setText=function(t,e,i){var n=e.getShallow("position")||"inside",o=e.getShallow("offset"),a=n.indexOf("inside")>=0?"white":i,r=e.getModel("textStyle");m.extend(t,{textDistance:e.getShallow("distance")||5,textFont:r.getFont(),textPosition:n,textOffset:o,textFill:r.getTextColor()||a});},I.updateProps=function(t,e,i,n,o){g(!0,t,e,i,n,o);},I.initProps=function(t,e,i,n,o){g(!1,t,e,i,n,o);},I.getTransform=function(t,e){for(var i=b.identity([]);t&&t!==e;){b.mul(i,t.getLocalTransform(),i),t=t.parent;}return i;},I.applyTransform=function(t,e,i){return e&&!m.isArrayLike(e)&&(e=S.getLocalTransform(e)),i&&(e=b.invert([],e)),w.applyTransform([],t,e);},I.transformDirection=function(t,e,i){var n=0===e[4]||0===e[5]||0===e[0]?1:Math.abs(2*e[4]/e[0]),o=0===e[4]||0===e[5]||0===e[2]?1:Math.abs(2*e[4]/e[2]),a=["left"===t?-n:"right"===t?n:0,"top"===t?-o:"bottom"===t?o:0];return a=I.applyTransform(a,e,i),Math.abs(a[0])>Math.abs(a[1])?a[0]>0?"right":"left":a[1]>0?"bottom":"top";},I.groupTransition=function(t,e,i,n){function o(t){var e={};return t.traverse(function(t){!t.isGroup&&t.anid&&(e[t.anid]=t);}),e;}function a(t){var e={position:w.clone(t.position),rotation:t.rotation};return t.shape&&(e.shape=m.extend({},t.shape)),e;}if(t&&e){var r=o(t);e.traverse(function(t){if(!t.isGroup&&t.anid){var e=r[t.anid];if(e){var n=a(t);t.attr(a(e)),I.updateProps(t,n,i,t.dataIndex);}}});}},t.exports=I;},function(t,e){function i(t){return t.replace(/^\s+/,"").replace(/\s+$/,"");}function n(t){return Math.floor(Math.log(t)/Math.LN10);}var o={},a=1e-4;o.linearMap=function(t,e,i,n){var o=e[1]-e[0],a=i[1]-i[0];if(0===o)return 0===a?i[0]:(i[0]+i[1])/2;if(n){if(o>0){if(t<=e[0])return i[0];if(t>=e[1])return i[1];}else{if(t>=e[0])return i[0];if(t<=e[1])return i[1];}}else{if(t===e[0])return i[0];if(t===e[1])return i[1];}return(t-e[0])/o*a+i[0];},o.parsePercent=function(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%";}return"string"==typeof t?i(t).match(/%$/)?parseFloat(t)/100*e:parseFloat(t):null==t?NaN:+t;},o.round=function(t,e,i){return null==e&&(e=10),e=Math.min(Math.max(0,e),20),t=(+t).toFixed(e),i?t:+t;},o.asc=function(t){return t.sort(function(t,e){return t-e;}),t;},o.getPrecision=function(t){if(t=+t,isNaN(t))return 0;for(var e=1,i=0;Math.round(t*e)/e!==t;){e*=10,i++;}return i;},o.getPrecisionSafe=function(t){var e=t.toString(),i=e.indexOf("e");if(i>0){var n=+e.slice(i+1);return n<0?-n:0;}var o=e.indexOf(".");return o<0?0:e.length-1-o;},o.getPixelPrecision=function(t,e){var i=Math.log,n=Math.LN10,o=Math.floor(i(t[1]-t[0])/n),a=Math.round(i(Math.abs(e[1]-e[0]))/n),r=Math.min(Math.max(-o+a,0),20);return isFinite(r)?r:20;},o.MAX_SAFE_INTEGER=9007199254740991,o.remRadian=function(t){var e=2*Math.PI;return(t%e+e)%e;},o.isRadianAroundZero=function(t){return t>-a&&t<a;};var r=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;o.getTimezoneOffset=function(){return new Date().getTimezoneOffset();},o.parseDate=function(t){if(t instanceof Date)return t;if("string"==typeof t){var e=r.exec(t);if(!e)return new Date(NaN);var i=o.getTimezoneOffset(),n=e[8]?"Z"===e[8].toUpperCase()?i:60*+e[8].slice(0,3)+i:0;return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0)-n,+e[6]||0,+e[7]||0);}return null==t?new Date(NaN):new Date(Math.round(t));},o.quantity=function(t){return Math.pow(10,n(t));},o.nice=function(t,e){var i,o=n(t),a=Math.pow(10,o),r=t/a;return i=e?r<1.5?1:r<2.5?2:r<4?3:r<7?5:10:r<1?1:r<2?2:r<3?3:r<5?5:10,t=i*a,o>=-20?+t.toFixed(o<0?-o:0):t;},o.reformIntervals=function(t){function e(t,i,n){return t.interval[n]<i.interval[n]||t.interval[n]===i.interval[n]&&(t.close[n]-i.close[n]===(n?-1:1)||!n&&e(t,i,1));}t.sort(function(t,i){return e(t,i,0)?-1:1;});for(var i=-(1/0),n=1,o=0;o<t.length;){for(var a=t[o].interval,r=t[o].close,s=0;s<2;s++){a[s]<=i&&(a[s]=i,r[s]=s?1:1-n),i=a[s],n=r[s];}a[0]===a[1]&&r[0]*r[1]!==1?t.splice(o,1):o++;}return t;},o.isNumeric=function(t){return t-parseFloat(t)>=0;},t.exports=o;},function(t,e){var i="undefined"==typeof Float32Array?Array:Float32Array,n={create:function create(t,e){var n=new i(2);return null==t&&(t=0),null==e&&(e=0),n[0]=t,n[1]=e,n;},copy:function copy(t,e){return t[0]=e[0],t[1]=e[1],t;},clone:function clone(t){var e=new i(2);return e[0]=t[0],e[1]=t[1],e;},set:function set(t,e,i){return t[0]=e,t[1]=i,t;},add:function add(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t;},scaleAndAdd:function scaleAndAdd(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t;},sub:function sub(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t;},len:function len(t){return Math.sqrt(this.lenSquare(t));},lenSquare:function lenSquare(t){return t[0]*t[0]+t[1]*t[1];},mul:function mul(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t;},div:function div(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t;},dot:function dot(t,e){return t[0]*e[0]+t[1]*e[1];},scale:function scale(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t;},normalize:function normalize(t,e){var i=n.len(e);return 0===i?(t[0]=0,t[1]=0):(t[0]=e[0]/i,t[1]=e[1]/i),t;},distance:function distance(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]));},distanceSquare:function distanceSquare(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]);},negate:function negate(t,e){return t[0]=-e[0],t[1]=-e[1],t;},lerp:function lerp(t,e,i,n){return t[0]=e[0]+n*(i[0]-e[0]),t[1]=e[1]+n*(i[1]-e[1]),t;},applyTransform:function applyTransform(t,e,i){var n=e[0],o=e[1];return t[0]=i[0]*n+i[2]*o+i[4],t[1]=i[1]*n+i[3]*o+i[5],t;},min:function min(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t;},max:function max(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t;}};n.length=n.len,n.lengthSquare=n.lenSquare,n.dist=n.distance,n.distSquare=n.distanceSquare,t.exports=n;},function(t,e,i){function n(t,e){return t&&t.hasOwnProperty(e);}var o=i(7),a=i(4),r=i(10),s=i(1),l=s.each,u=s.isObject,c={};c.normalizeToArray=function(t){return t instanceof Array?t:null==t?[]:[t];},c.defaultEmphasis=function(t,e){if(t){var i=t.emphasis=t.emphasis||{},n=t.normal=t.normal||{};l(e,function(t){var e=s.retrieve(i[t],n[t]);null!=e&&(i[t]=e);});}},c.LABEL_OPTIONS=["position","offset","show","textStyle","distance","formatter"],c.getDataItemValue=function(t){return t&&(null==t.value?t:t.value);},c.isDataItemOption=function(t){return u(t)&&!(t instanceof Array);},c.converDataValue=function(t,e){var i=e&&e.type;return"ordinal"===i?t:("time"===i&&"number"!=typeof t&&null!=t&&"-"!==t&&(t=+a.parseDate(t)),null==t||""===t?NaN:+t);},c.createDataFormatModel=function(t,e){var i=new r();return s.mixin(i,c.dataFormatMixin),i.seriesIndex=e.seriesIndex,i.name=e.name||"",i.mainType=e.mainType,i.subType=e.subType,i.getData=function(){return t;},i;},c.dataFormatMixin={getDataParams:function getDataParams(t,e){var i=this.getData(e),n=this.getRawValue(t,e),o=i.getRawIndex(t),a=i.getName(t,!0),r=i.getRawDataItem(t);return{componentType:this.mainType,componentSubType:this.subType,seriesType:"series"===this.mainType?this.subType:null,seriesIndex:this.seriesIndex,seriesId:this.id,seriesName:this.name,name:a,dataIndex:o,data:r,dataType:e,value:n,color:i.getItemVisual(t,"color"),$vars:["seriesName","name","value"]};},getFormattedLabel:function getFormattedLabel(t,e,i,n){e=e||"normal";var a=this.getData(i),r=a.getItemModel(t),s=this.getDataParams(t,i);null!=n&&s.value instanceof Array&&(s.value=s.value[n]);var l=r.get(["label",e,"formatter"]);return"function"==typeof l?(s.status=e,l(s)):"string"==typeof l?o.formatTpl(l,s):void 0;},getRawValue:function getRawValue(t,e){var i=this.getData(e),n=i.getRawDataItem(t);if(null!=n)return!u(n)||n instanceof Array?n:n.value;},formatTooltip:s.noop},c.mappingToExists=function(t,e){e=(e||[]).slice();var i=s.map(t||[],function(t,e){return{exist:t};});return l(e,function(t,n){if(u(t)){for(var o=0;o<i.length;o++){if(!i[o].option&&null!=t.id&&i[o].exist.id===t.id+"")return i[o].option=t,void(e[n]=null);}for(var o=0;o<i.length;o++){var a=i[o].exist;if(!(i[o].option||null!=a.id&&null!=t.id||null==t.name||c.isIdInner(t)||c.isIdInner(a)||a.name!==t.name+""))return i[o].option=t,void(e[n]=null);}}}),l(e,function(t,e){if(u(t)){for(var n=0;n<i.length;n++){var o=i[n].exist;if(!i[n].option&&!c.isIdInner(o)&&null==t.id){i[n].option=t;break;}}n>=i.length&&i.push({option:t});}}),i;},c.makeIdAndName=function(t){var e={};l(t,function(t,i){var n=t.exist;n&&(e[n.id]=t);}),l(t,function(t,i){var n=t.option;s.assert(!n||null==n.id||!e[n.id]||e[n.id]===t,"id duplicates: "+(n&&n.id)),n&&null!=n.id&&(e[n.id]=t),!t.keyInfo&&(t.keyInfo={});}),l(t,function(t,i){var n=t.exist,o=t.option,a=t.keyInfo;if(u(o)){if(a.name=null!=o.name?o.name+"":n?n.name:"\0-",n)a.id=n.id;else if(null!=o.id)a.id=o.id+"";else{var r=0;do{a.id="\0"+a.name+"\0"+r++;}while(e[a.id]);}e[a.id]=t;}});},c.isIdInner=function(t){return u(t)&&t.id&&0===(t.id+"").indexOf("\0_ec_\0");},c.compressBatches=function(t,e){function i(t,e,i){for(var n=0,o=t.length;n<o;n++){for(var a=t[n].seriesId,r=c.normalizeToArray(t[n].dataIndex),s=i&&i[a],l=0,u=r.length;l<u;l++){var h=r[l];s&&s[h]?s[h]=null:(e[a]||(e[a]={}))[h]=1;}}}function n(t,e){var i=[];for(var o in t){if(t.hasOwnProperty(o)&&null!=t[o])if(e)i.push(+o);else{var a=n(t[o],!0);a.length&&i.push({seriesId:o,dataIndex:a});}}return i;}var o={},a={};return i(t||[],o),i(e||[],a,o),[n(o),n(a)];},c.queryDataIndex=function(t,e){return null!=e.dataIndexInside?e.dataIndexInside:null!=e.dataIndex?s.isArray(e.dataIndex)?s.map(e.dataIndex,function(e){return t.indexOfRawIndex(e);}):t.indexOfRawIndex(e.dataIndex):null!=e.name?s.isArray(e.name)?s.map(e.name,function(e){return t.indexOfName(e);}):t.indexOfName(e.name):void 0;},c.makeGetter=function(){var t=0;return function(){var e="\0__ec_prop_getter_"+t++;return function(t){return t[e]||(t[e]={});};};}(),c.parseFinder=function(t,e,i){if(s.isString(e)){var o={};o[e+"Index"]=0,e=o;}var a=i&&i.defaultMainType;!a||n(e,a+"Index")||n(e,a+"Id")||n(e,a+"Name")||(e[a+"Index"]=0);var r={};return l(e,function(n,o){var n=e[o];if("dataIndex"===o||"dataIndexInside"===o)return void(r[o]=n);var a=o.match(/^(\w+)(Index|Id|Name)$/)||[],l=a[1],u=(a[2]||"").toLowerCase();if(!(!l||!u||null==n||"index"===u&&"none"===n||i&&i.includeMainTypes&&s.indexOf(i.includeMainTypes,l)<0)){var c={mainType:l};"index"===u&&"all"===n||(c[u]=n);var h=t.queryComponents(c);r[l+"Models"]=h,r[l+"Model"]=h[0];}}),r;},t.exports=c;},function(t,e,i){var n=i(1),o=i(4),a=i(17),r={};r.addCommas=function(t){return isNaN(t)?"-":(t=(t+"").split("."),t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:""));},r.toCamelCase=function(t,e){return t=(t||"").toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase();}),e&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t;},r.normalizeCssArray=function(t){var e=t.length;return"number"==typeof t?[t,t,t,t]:2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t;};var s=r.encodeHTML=function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;");},l=["a","b","c","d","e","f","g"],u=function u(t,e){return"{"+t+(null==e?"":e)+"}";};r.formatTpl=function(t,e,i){n.isArray(e)||(e=[e]);var o=e.length;if(!o)return"";for(var a=e[0].$vars||[],r=0;r<a.length;r++){var c=l[r],h=u(c,0);t=t.replace(u(c),i?s(h):h);}for(var d=0;d<o;d++){for(var f=0;f<a.length;f++){var h=e[d][a[f]];t=t.replace(u(l[f],d),i?s(h):h);}}return t;},r.formatTplSimple=function(t,e,i){return n.each(e,function(e,n){t=t.replace("{"+n+"}",i?s(e):e);}),t;};var c=function c(t){return t<10?"0"+t:t;};r.formatTime=function(t,e,i){"week"!==t&&"month"!==t&&"quarter"!==t&&"half-year"!==t&&"year"!==t||(t="MM-dd\nyyyy");var n=o.parseDate(e),a=i?"UTC":"",r=n["get"+a+"FullYear"](),s=n["get"+a+"Month"]()+1,l=n["get"+a+"Date"](),u=n["get"+a+"Hours"](),h=n["get"+a+"Minutes"](),d=n["get"+a+"Seconds"]();return t=t.replace("MM",c(s)).toLowerCase().replace("yyyy",r).replace("yy",r%100).replace("dd",c(l)).replace("d",l).replace("hh",c(u)).replace("h",u).replace("mm",c(h)).replace("m",h).replace("ss",c(d)).replace("s",d);},r.capitalFirst=function(t){return t?t.charAt(0).toUpperCase()+t.substr(1):t;},r.truncateText=a.truncateText,t.exports=r;},function(t,e,i){function n(t){o.call(this,t),this.path=null;}var o=i(38),a=i(1),r=i(27),s=i(161),l=i(71),u=l.prototype.getCanvasPattern,c=Math.abs,h=new r(!0);n.prototype={constructor:n,type:"path",__dirtyPath:!0,strokeContainThreshold:5,brush:function brush(t,e){var i=this.style,n=this.path||h,o=i.hasStroke(),a=i.hasFill(),r=i.fill,s=i.stroke,l=a&&!!r.colorStops,c=o&&!!s.colorStops,d=a&&!!r.image,f=o&&!!s.image;if(i.bind(t,this,e),this.setTransform(t),this.__dirty){var p;l&&(p=p||this.getBoundingRect(),this._fillGradient=i.getGradient(t,r,p)),c&&(p=p||this.getBoundingRect(),this._strokeGradient=i.getGradient(t,s,p));}l?t.fillStyle=this._fillGradient:d&&(t.fillStyle=u.call(r,t)),c?t.strokeStyle=this._strokeGradient:f&&(t.strokeStyle=u.call(s,t));var g=i.lineDash,m=i.lineDashOffset,v=!!t.setLineDash,y=this.getGlobalScale();n.setScale(y[0],y[1]),this.__dirtyPath||g&&!v&&o?(n.beginPath(t),g&&!v&&(n.setLineDash(g),n.setLineDashOffset(m)),this.buildPath(n,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(t.beginPath(),this.path.rebuildPath(t)),a&&n.fill(t),g&&v&&(t.setLineDash(g),t.lineDashOffset=m),o&&n.stroke(t),g&&v&&t.setLineDash([]),this.restoreTransform(t),null!=i.text&&this.drawRectText(t,this.getBoundingRect());},buildPath:function buildPath(t,e,i){},createPathProxy:function createPathProxy(){this.path=new r();},getBoundingRect:function getBoundingRect(){var t=this._rect,e=this.style,i=!t;if(i){var n=this.path;n||(n=this.path=new r()),this.__dirtyPath&&(n.beginPath(),this.buildPath(n,this.shape,!1)),t=n.getBoundingRect();}if(this._rect=t,e.hasStroke()){var o=this._rectWithStroke||(this._rectWithStroke=t.clone());if(this.__dirty||i){o.copy(t);var a=e.lineWidth,s=e.strokeNoScale?this.getLineScale():1;e.hasFill()||(a=Math.max(a,this.strokeContainThreshold||4)),s>1e-10&&(o.width+=a/s,o.height+=a/s,o.x-=a/s/2,o.y-=a/s/2);}return o;}return t;},contain:function contain(t,e){var i=this.transformCoordToLocal(t,e),n=this.getBoundingRect(),o=this.style;if(t=i[0],e=i[1],n.contain(t,e)){var a=this.path.data;if(o.hasStroke()){var r=o.lineWidth,l=o.strokeNoScale?this.getLineScale():1;if(l>1e-10&&(o.hasFill()||(r=Math.max(r,this.strokeContainThreshold)),s.containStroke(a,r/l,t,e)))return!0;}if(o.hasFill())return s.contain(a,t,e);}return!1;},dirty:function dirty(t){null==t&&(t=!0),t&&(this.__dirtyPath=t,this._rect=null),this.__dirty=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty();},animateShape:function animateShape(t){return this.animate("shape",t);},attrKV:function attrKV(t,e){"shape"===t?(this.setShape(e),this.__dirtyPath=!0,this._rect=null):o.prototype.attrKV.call(this,t,e);},setShape:function setShape(t,e){var i=this.shape;if(i){if(a.isObject(t))for(var n in t){t.hasOwnProperty(n)&&(i[n]=t[n]);}else i[t]=e;this.dirty(!0);}return this;},getLineScale:function getLineScale(){var t=this.transform;return t&&c(t[0]-1)>1e-10&&c(t[3]-1)>1e-10?Math.sqrt(c(t[0]*t[3]-t[2]*t[1])):1;}},n.extend=function(t){var e=function e(_e){n.call(this,_e),t.style&&this.style.extendFrom(t.style,!1);var i=t.shape;if(i){this.shape=this.shape||{};var o=this.shape;for(var a in i){!o.hasOwnProperty(a)&&i.hasOwnProperty(a)&&(o[a]=i[a]);}}t.init&&t.init.call(this,_e);};a.inherits(e,n);for(var i in t){"style"!==i&&"shape"!==i&&(e.prototype[i]=t[i]);}return e;},a.inherits(n,o),t.exports=n;},function(t,e){function i(t){var e={},i={},n=t.match(/Firefox\/([\d.]+)/),o=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),a=t.match(/Edge\/([\d.]+)/),r=/micromessenger/i.test(t);return n&&(i.firefox=!0,i.version=n[1]),o&&(i.ie=!0,i.version=o[1]),a&&(i.edge=!0,i.version=a[1]),r&&(i.weChat=!0),{browser:i,os:e,node:!1,canvasSupported:!!document.createElement("canvas").getContext,touchEventsSupported:"ontouchstart"in window&&!i.ie&&!i.edge,pointerEventsSupported:"onpointerdown"in window&&(i.edge||i.ie&&i.version>=11)};}var n={};n="undefined"==typeof navigator?{browser:{},os:{},node:!0,canvasSupported:!0}:i(navigator.userAgent),t.exports=n;},function(t,e,i){function n(t,e,i){this.parentModel=e,this.ecModel=i,this.option=t;}function o(t,e,i){for(var n=0;n<e.length&&(!e[n]||(t=t&&"object"==(typeof t==="undefined"?"undefined":_typeof(t))?t[e[n]]:null,null!=t));n++){}return null==t&&i&&(t=i.get(e)),t;}function a(t,e){var i=s.get(t,"getParent");return i?i.call(t,e):t.parentModel;}var r=i(1),s=i(15),l=i(9);n.prototype={constructor:n,init:null,mergeOption:function mergeOption(t){r.merge(this.option,t,!0);},get:function get(t,e){return null==t?this.option:o(this.option,this.parsePath(t),!e&&a(this,t));},getShallow:function getShallow(t,e){var i=this.option,n=null==i?i:i[t],o=!e&&a(this,t);return null==n&&o&&(n=o.getShallow(t)),n;},getModel:function getModel(t,e){var i,r=null==t?this.option:o(this.option,t=this.parsePath(t));return e=e||(i=a(this,t))&&i.getModel(t),new n(r,e,this.ecModel);},isEmpty:function isEmpty(){return null==this.option;},restoreData:function restoreData(){},clone:function clone(){var t=this.constructor;return new t(r.clone(this.option));},setReadOnly:function setReadOnly(t){s.setReadOnly(this,t);},parsePath:function parsePath(t){return"string"==typeof t&&(t=t.split(".")),t;},customizeGetParent:function customizeGetParent(t){s.set(this,"getParent",t);},isAnimationEnabled:function isAnimationEnabled(){if(!l.node){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled();}}},s.enableClassExtend(n);var u=r.mixin;u(n,i(143)),u(n,i(140)),u(n,i(144)),u(n,i(142)),t.exports=n;},function(t,e,i){"use strict";function n(t,e,i,n){i<0&&(t+=i,i=-i),n<0&&(e+=n,n=-n),this.x=t,this.y=e,this.width=i,this.height=n;}var o=i(5),a=i(16),r=o.applyTransform,s=Math.min,l=Math.max;n.prototype={constructor:n,union:function union(t){var e=s(t.x,this.x),i=s(t.y,this.y);this.width=l(t.x+t.width,this.x+this.width)-e,this.height=l(t.y+t.height,this.y+this.height)-i,this.x=e,this.y=i;},applyTransform:function(){var t=[],e=[],i=[],n=[];return function(o){if(o){t[0]=i[0]=this.x,t[1]=n[1]=this.y,e[0]=n[0]=this.x+this.width,e[1]=i[1]=this.y+this.height,r(t,t,o),r(e,e,o),r(i,i,o),r(n,n,o),this.x=s(t[0],e[0],i[0],n[0]),this.y=s(t[1],e[1],i[1],n[1]);var a=l(t[0],e[0],i[0],n[0]),u=l(t[1],e[1],i[1],n[1]);this.width=a-this.x,this.height=u-this.y;}};}(),calculateTransform:function calculateTransform(t){var e=this,i=t.width/e.width,n=t.height/e.height,o=a.create();return a.translate(o,o,[-e.x,-e.y]),a.scale(o,o,[i,n]),a.translate(o,o,[t.x,t.y]),o;},intersect:function intersect(t){if(!t)return!1;t instanceof n||(t=n.create(t));var e=this,i=e.x,o=e.x+e.width,a=e.y,r=e.y+e.height,s=t.x,l=t.x+t.width,u=t.y,c=t.y+t.height;return!(o<s||l<i||r<u||c<a);},contain:function contain(t,e){var i=this;return t>=i.x&&t<=i.x+i.width&&e>=i.y&&e<=i.y+i.height;},clone:function clone(){return new n(this.x,this.y,this.width,this.height);},copy:function copy(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height;},plain:function plain(){return{x:this.x,y:this.y,width:this.width,height:this.height};}},n.create=function(t){return new n(t.x,t.y,t.width,t.height);},t.exports=n;},function(t,e,i){"use strict";function n(t,e,i,n,o){var a=0,r=0;null==n&&(n=1/0),null==o&&(o=1/0);var s=0;e.eachChild(function(l,u){var c,h,d=l.position,f=l.getBoundingRect(),p=e.childAt(u+1),g=p&&p.getBoundingRect();if("horizontal"===t){var m=f.width+(g?-g.x+f.x:0);c=a+m,c>n||l.newline?(a=0,c=m,r+=s+i,s=f.height):s=Math.max(s,f.height);}else{var v=f.height+(g?-g.y+f.y:0);h=r+v,h>o||l.newline?(a+=s+i,r=0,h=v,s=f.width):s=Math.max(s,f.width);}l.newline||(d[0]=a,d[1]=r,"horizontal"===t?a=c+i:r=h+i);});}var o=i(1),a=i(11),r=i(4),s=i(7),l=r.parsePercent,u=o.each,c={},h=c.LOCATION_PARAMS=["left","right","top","bottom","width","height"],d=c.HV_NAMES=[["width","left","right"],["height","top","bottom"]];c.box=n,c.vbox=o.curry(n,"vertical"),c.hbox=o.curry(n,"horizontal"),c.getAvailableSize=function(t,e,i){var n=e.width,o=e.height,a=l(t.x,n),r=l(t.y,o),u=l(t.x2,n),c=l(t.y2,o);return(isNaN(a)||isNaN(parseFloat(t.x)))&&(a=0),(isNaN(u)||isNaN(parseFloat(t.x2)))&&(u=n),(isNaN(r)||isNaN(parseFloat(t.y)))&&(r=0),(isNaN(c)||isNaN(parseFloat(t.y2)))&&(c=o),i=s.normalizeCssArray(i||0),{width:Math.max(u-a-i[1]-i[3],0),height:Math.max(c-r-i[0]-i[2],0)};},c.getLayoutRect=function(t,e,i){i=s.normalizeCssArray(i||0);var n=e.width,o=e.height,r=l(t.left,n),u=l(t.top,o),c=l(t.right,n),h=l(t.bottom,o),d=l(t.width,n),f=l(t.height,o),p=i[2]+i[0],g=i[1]+i[3],m=t.aspect;switch(isNaN(d)&&(d=n-c-g-r),isNaN(f)&&(f=o-h-p-u),isNaN(d)&&isNaN(f)&&(m>n/o?d=.8*n:f=.8*o),null!=m&&(isNaN(d)&&(d=m*f),isNaN(f)&&(f=d/m)),isNaN(r)&&(r=n-c-d-g),isNaN(u)&&(u=o-h-f-p),t.left||t.right){case"center":r=n/2-d/2-i[3];break;case"right":r=n-d-g;}switch(t.top||t.bottom){case"middle":case"center":u=o/2-f/2-i[0];break;case"bottom":u=o-f-p;}r=r||0,u=u||0,isNaN(d)&&(d=n-r-(c||0)),isNaN(f)&&(f=o-u-(h||0));var v=new a(r+i[3],u+i[0],d,f);return v.margin=i,v;},c.positionElement=function(t,e,i,n,r){var s=!r||!r.hv||r.hv[0],l=!r||!r.hv||r.hv[1],u=r&&r.boundingMode||"all";if(s||l){var h;if("raw"===u)h="group"===t.type?new a(0,0,+e.width||0,+e.height||0):t.getBoundingRect();else if(h=t.getBoundingRect(),t.needLocalTransform()){var d=t.getLocalTransform();h=h.clone(),h.applyTransform(d);}e=c.getLayoutRect(o.defaults({width:h.width,height:h.height},e),i,n);var f=t.position,p=s?e.x-h.x:0,g=l?e.y-h.y:0;t.attr("position","raw"===u?[p,g]:[f[0]+p,f[1]+g]);}},c.sizeCalculable=function(t,e){return null!=t[d[e][0]]||null!=t[d[e][1]]&&null!=t[d[e][2]];},c.mergeLayoutParam=function(t,e,i){function n(i,n){var o={},s=0,c={},h=0,d=2;if(u(i,function(e){c[e]=t[e];}),u(i,function(t){a(e,t)&&(o[t]=c[t]=e[t]),r(o,t)&&s++,r(c,t)&&h++;}),l[n])return r(e,i[1])?c[i[2]]=null:r(e,i[2])&&(c[i[1]]=null),c;if(h!==d&&s){if(s>=d)return o;for(var f=0;f<i.length;f++){var p=i[f];if(!a(o,p)&&a(t,p)){o[p]=t[p];break;}}return o;}return c;}function a(t,e){return t.hasOwnProperty(e);}function r(t,e){return null!=t[e]&&"auto"!==t[e];}function s(t,e,i){u(t,function(t){e[t]=i[t];});}!o.isObject(i)&&(i={});var l=i.ignoreSize;!o.isArray(l)&&(l=[l,l]);var c=n(d[0],0),h=n(d[1],1);s(d[0],t,c),s(d[1],t,h);},c.getLayoutParams=function(t){return c.copyLayoutParams({},t);},c.copyLayoutParams=function(t,e){return e&&t&&u(h,function(i){e.hasOwnProperty(i)&&(t[i]=e[i]);}),t;},t.exports=c;},function(t,e,i){function n(t){var e=[];return a.each(c.getClassesByMainType(t),function(t){r.apply(e,t.prototype.dependencies||[]);}),a.map(e,function(t){return l.parseClassType(t).main;});}var o=i(10),a=i(1),r=Array.prototype.push,s=i(49),l=i(15),u=i(12),c=o.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function $constructor(t,e,i,n){o.call(this,t,e,i,n),this.uid=s.getUID("componentModel");},init:function init(t,e,i,n){this.mergeDefaultAndTheme(t,i);},mergeDefaultAndTheme:function mergeDefaultAndTheme(t,e){var i=this.layoutMode,n=i?u.getLayoutParams(t):{},o=e.getTheme();a.merge(t,o.get(this.mainType)),a.merge(t,this.getDefaultOption()),i&&u.mergeLayoutParam(t,n,i);},mergeOption:function mergeOption(t,e){a.merge(this.option,t,!0);var i=this.layoutMode;i&&u.mergeLayoutParam(this.option,t,i);},optionUpdated:function optionUpdated(t,e){},getDefaultOption:function getDefaultOption(){if(!l.hasOwn(this,"__defaultOption")){for(var t=[],e=this.constructor;e;){var i=e.prototype.defaultOption;i&&t.push(i),e=e.superClass;}for(var n={},o=t.length-1;o>=0;o--){n=a.merge(n,t[o],!0);}l.set(this,"__defaultOption",n);}return l.get(this,"__defaultOption");},getReferringComponents:function getReferringComponents(t){return this.ecModel.queryComponents({mainType:t,index:this.get(t+"Index",!0),id:this.get(t+"Id",!0)});}});l.enableClassManagement(c,{registerWhenExtend:!0}),s.enableSubTypeDefaulter(c),s.enableTopologicalTravel(c,n),a.mixin(c,i(141)),t.exports=c;},function(t,e,i){(function(e){function n(t){return d.isArray(t)||(t=[t]),t;}function o(t,e){var i=t.dimensions,n=new v(d.map(i,t.getDimensionInfo,t),t.hostModel);m(n,t);for(var o=n._storage={},a=t._storage,r=0;r<i.length;r++){var s=i[r],l=a[s];d.indexOf(e,s)>=0?o[s]=new l.constructor(a[s].length):o[s]=a[s];}return n;}var a="undefined",r="undefined"==typeof window?e:window,s=_typeof(r.Float64Array)===a?Array:r.Float64Array,l=_typeof(r.Int32Array)===a?Array:r.Int32Array,u={"float":s,"int":l,ordinal:Array,number:Array,time:Array},c=i(10),h=i(48),d=i(1),f=i(6),p=d.isObject,g=["stackedOn","hasItemOption","_nameList","_idList","_rawData"],m=function m(t,e){d.each(g.concat(e.__wrappedMethods||[]),function(i){e.hasOwnProperty(i)&&(t[i]=e[i]);}),t.__wrappedMethods=e.__wrappedMethods;},v=function v(t,e){t=t||["x","y"];for(var i={},n=[],o=0;o<t.length;o++){var a,r={};"string"==typeof t[o]?(a=t[o],r={name:a,stackable:!1,type:"number"}):(r=t[o],a=r.name,r.type=r.type||"number"),n.push(a),i[a]=r;}this.dimensions=n,this._dimensionInfos=i,this.hostModel=e,this.dataType,this.indices=[],this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this.stackedOn=null,this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._rawData,this._extent;},y=v.prototype;y.type="list",y.hasItemOption=!0,y.getDimension=function(t){return isNaN(t)||(t=this.dimensions[t]||t),t;},y.getDimensionInfo=function(t){return d.clone(this._dimensionInfos[this.getDimension(t)]);},y.initData=function(t,e,i){t=t||[],this._rawData=t;var n=this._storage={},o=this.indices=[],a=this.dimensions,r=t.length,s=this._dimensionInfos,l=[],c={};e=e||[];for(var h=0;h<a.length;h++){var d=s[a[h]],p=u[d.type];n[a[h]]=new p(r);}var g=this;i||(g.hasItemOption=!1),i=i||function(t,e,i,n){var o=f.getDataItemValue(t);return f.isDataItemOption(t)&&(g.hasItemOption=!0),f.converDataValue(o instanceof Array?o[n]:o,s[e]);};for(var m=0;m<t.length;m++){for(var v=t[m],y=0;y<a.length;y++){var x=a[y],_=n[x];_[m]=i(v,x,m,y);}o.push(m);}for(var h=0;h<t.length;h++){e[h]||t[h]&&null!=t[h].name&&(e[h]=t[h].name);var b=e[h]||"",w=t[h]&&t[h].id;!w&&b&&(c[b]=c[b]||0,w=b,c[b]>0&&(w+="__ec__"+c[b]),c[b]++),w&&(l[h]=w);}this._nameList=e,this._idList=l;},y.count=function(){return this.indices.length;},y.get=function(t,e,i){var n=this._storage,o=this.indices[e];if(null==o)return NaN;var a=n[t]&&n[t][o];if(i){var r=this._dimensionInfos[t];if(r&&r.stackable)for(var s=this.stackedOn;s;){var l=s.get(t,e);(a>=0&&l>0||a<=0&&l<0)&&(a+=l),s=s.stackedOn;}}return a;},y.getValues=function(t,e,i){var n=[];d.isArray(t)||(i=e,e=t,t=this.dimensions);for(var o=0,a=t.length;o<a;o++){n.push(this.get(t[o],e,i));}return n;},y.hasValue=function(t){for(var e=this.dimensions,i=this._dimensionInfos,n=0,o=e.length;n<o;n++){if("ordinal"!==i[e[n]].type&&isNaN(this.get(e[n],t)))return!1;}return!0;},y.getDataExtent=function(t,e,i){t=this.getDimension(t);var n=this._storage[t],o=this.getDimensionInfo(t);e=o&&o.stackable&&e;var a,r=(this._extent||(this._extent={}))[t+!!e];if(r)return r;if(n){for(var s=1/0,l=-(1/0),u=0,c=this.count();u<c;u++){a=this.get(t,u,e),i&&!i(a,t,u)||(a<s&&(s=a),a>l&&(l=a));}return this._extent[t+!!e]=[s,l];}return[1/0,-(1/0)];},y.getSum=function(t,e){var i=this._storage[t],n=0;if(i)for(var o=0,a=this.count();o<a;o++){var r=this.get(t,o,e);isNaN(r)||(n+=r);}return n;},y.indexOf=function(t,e){var i=this._storage,n=i[t],o=this.indices;if(n)for(var a=0,r=o.length;a<r;a++){var s=o[a];if(n[s]===e)return a;}return-1;},y.indexOfName=function(t){for(var e=this.indices,i=this._nameList,n=0,o=e.length;n<o;n++){var a=e[n];if(i[a]===t)return n;}return-1;},y.indexOfRawIndex=function(t){var e=this.indices,i=e[t];if(null!=i&&i===t)return t;for(var n=0,o=e.length-1;n<=o;){var a=(n+o)/2|0;if(e[a]<t)n=a+1;else{if(!(e[a]>t))return a;o=a-1;}}return-1;},y.indicesOfNearest=function(t,e,i,n){var o=this._storage,a=o[t],r=[];if(!a)return r;null==n&&(n=1/0);for(var s=Number.MAX_VALUE,l=-1,u=0,c=this.count();u<c;u++){var h=e-this.get(t,u,i),d=Math.abs(h);h<=n&&d<=s&&((d<s||h>=0&&l<0)&&(s=d,l=h,r.length=0),r.push(u));}return r;},y.getRawIndex=function(t){var e=this.indices[t];return null==e?-1:e;},y.getRawDataItem=function(t){return this._rawData[this.getRawIndex(t)];},y.getName=function(t){return this._nameList[this.indices[t]]||"";},y.getId=function(t){return this._idList[this.indices[t]]||this.getRawIndex(t)+"";},y.each=function(t,e,i,o){"function"==typeof t&&(o=i,i=e,e=t,t=[]),t=d.map(n(t),this.getDimension,this);var a=[],r=t.length,s=this.indices;o=o||this;for(var l=0;l<s.length;l++){switch(r){case 0:e.call(o,l);break;case 1:e.call(o,this.get(t[0],l,i),l);break;case 2:e.call(o,this.get(t[0],l,i),this.get(t[1],l,i),l);break;default:for(var u=0;u<r;u++){a[u]=this.get(t[u],l,i);}a[u]=l,e.apply(o,a);}}},y.filterSelf=function(t,e,i,o){"function"==typeof t&&(o=i,i=e,e=t,t=[]),t=d.map(n(t),this.getDimension,this);var a=[],r=[],s=t.length,l=this.indices;o=o||this;for(var u=0;u<l.length;u++){var c;if(1===s)c=e.call(o,this.get(t[0],u,i),u);else{for(var h=0;h<s;h++){r[h]=this.get(t[h],u,i);}r[h]=u,c=e.apply(o,r);}c&&a.push(l[u]);}return this.indices=a,this._extent={},this;},y.mapArray=function(t,e,i,n){"function"==typeof t&&(n=i,i=e,e=t,t=[]);var o=[];return this.each(t,function(){o.push(e&&e.apply(this,arguments));},i,n),o;},y.map=function(t,e,i,a){t=d.map(n(t),this.getDimension,this);var r=o(this,t),s=r.indices=this.indices,l=r._storage,u=[];return this.each(t,function(){var i=arguments[arguments.length-1],n=e&&e.apply(this,arguments);if(null!=n){"number"==typeof n&&(u[0]=n,n=u);for(var o=0;o<n.length;o++){var a=t[o],r=l[a],c=s[i];r&&(r[c]=n[o]);}}},i,a),r;},y.downSample=function(t,e,i,n){for(var a=o(this,[t]),r=this._storage,s=a._storage,l=this.indices,u=a.indices=[],c=[],h=[],d=Math.floor(1/e),f=s[t],p=this.count(),g=0;g<r[t].length;g++){s[t][g]=r[t][g];}for(var g=0;g<p;g+=d){d>p-g&&(d=p-g,c.length=d);for(var m=0;m<d;m++){var v=l[g+m];c[m]=f[v],h[m]=v;}var y=i(c),v=h[n(c,y)||0];f[v]=y,u.push(v);}return a;},y.getItemModel=function(t){var e=this.hostModel;return t=this.indices[t],new c(this._rawData[t],e,e&&e.ecModel);},y.diff=function(t){var e,i=this._idList,n=t&&t._idList,o="e\0\0";return new h(t?t.indices:[],this.indices,function(t){return null!=(e=n[t])?e:o+t;},function(t){return null!=(e=i[t])?e:o+t;});},y.getVisual=function(t){var e=this._visual;return e&&e[t];},y.setVisual=function(t,e){if(p(t))for(var i in t){t.hasOwnProperty(i)&&this.setVisual(i,t[i]);}else this._visual=this._visual||{},this._visual[t]=e;},y.setLayout=function(t,e){if(p(t))for(var i in t){t.hasOwnProperty(i)&&this.setLayout(i,t[i]);}else this._layout[t]=e;},y.getLayout=function(t){return this._layout[t];},y.getItemLayout=function(t){return this._itemLayouts[t];},y.setItemLayout=function(t,e,i){this._itemLayouts[t]=i?d.extend(this._itemLayouts[t]||{},e):e;},y.clearItemLayouts=function(){this._itemLayouts.length=0;},y.getItemVisual=function(t,e,i){var n=this._itemVisuals[t],o=n&&n[e];return null!=o||i?o:this.getVisual(e);},y.setItemVisual=function(t,e,i){var n=this._itemVisuals[t]||{};if(this._itemVisuals[t]=n,p(e))for(var o in e){e.hasOwnProperty(o)&&(n[o]=e[o]);}else n[e]=i;},y.clearAllVisual=function(){this._visual={},this._itemVisuals=[];};var x=function x(t){t.seriesIndex=this.seriesIndex,t.dataIndex=this.dataIndex,t.dataType=this.dataType;};y.setItemGraphicEl=function(t,e){var i=this.hostModel;e&&(e.dataIndex=t,e.dataType=this.dataType,e.seriesIndex=i&&i.seriesIndex,"group"===e.type&&e.traverse(x,e)),this._graphicEls[t]=e;},y.getItemGraphicEl=function(t){return this._graphicEls[t];},y.eachItemGraphicEl=function(t,e){d.each(this._graphicEls,function(i,n){i&&t&&t.call(e,i,n);});},y.cloneShallow=function(){var t=d.map(this.dimensions,this.getDimensionInfo,this),e=new v(t,this.hostModel);return e._storage=this._storage,m(e,this),e.indices=this.indices.slice(),this._extent&&(e._extent=d.extend({},this._extent)),e;},y.wrapMethod=function(t,e){var i=this[t];"function"==typeof i&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var t=i.apply(this,arguments);return e.apply(this,[t].concat(d.slice(arguments)));});},y.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],y.CHANGABLE_METHODS=["filterSelf"],t.exports=v;}).call(e,function(){return this;}());},function(t,e,i){function n(t){r.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(t),'componentType "'+t+'" illegal');}function o(t,e){var i=r.slice(arguments,2);return this.superClass.prototype[e].apply(t,i);}function a(t,e,i){return this.superClass.prototype[e].apply(t,i);}var r=i(1),s={},l=".",u="___EC__COMPONENT__CONTAINER___",c="\0ec_\0";s.set=function(t,e,i){return t[c+e]=i;},s.get=function(t,e){return t[c+e];},s.hasOwn=function(t,e){return t.hasOwnProperty(c+e);};var h=s.parseClassType=function(t){var e={main:"",sub:""};return t&&(t=t.split(l),e.main=t[0]||"",e.sub=t[1]||""),e;};s.enableClassExtend=function(t,e){t.$constructor=t,t.extend=function(t){var e=this,i=function i(){t.$constructor?t.$constructor.apply(this,arguments):e.apply(this,arguments);};return r.extend(i.prototype,t),i.extend=this.extend,i.superCall=o,i.superApply=a,r.inherits(i,this),i.superClass=e,i;};},s.enableClassManagement=function(t,e){function i(t){var e=o[t.main];return e&&e[u]||(e=o[t.main]={},e[u]=!0),e;}e=e||{};var o={};if(t.registerClass=function(t,e){if(e)if(n(e),e=h(e),e.sub){if(e.sub!==u){var a=i(e);a[e.sub]=t;}}else o[e.main]=t;return t;},t.getClass=function(t,e,i){var n=o[t];if(n&&n[u]&&(n=e?n[e]:null),i&&!n)throw new Error(e?"Component "+t+"."+(e||"")+" not exists. Load it first.":t+".type should be specified.");return n;},t.getClassesByMainType=function(t){t=h(t);var e=[],i=o[t.main];return i&&i[u]?r.each(i,function(t,i){i!==u&&e.push(t);}):e.push(i),e;},t.hasClass=function(t){return t=h(t),!!o[t.main];},t.getAllClassMainTypes=function(){var t=[];return r.each(o,function(e,i){t.push(i);}),t;},t.hasSubTypes=function(t){t=h(t);var e=o[t.main];return e&&e[u];},t.parseClassType=h,e.registerWhenExtend){var a=t.extend;a&&(t.extend=function(e){var i=a.call(this,e);return t.registerClass(i,e.type);});}return t;},s.setReadOnly=function(t,e){},t.exports=s;},function(t,e){var i="undefined"==typeof Float32Array?Array:Float32Array,n={create:function create(){var t=new i(6);return n.identity(t),t;},identity:function identity(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t;},copy:function copy(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t;},mul:function mul(t,e,i){var n=e[0]*i[0]+e[2]*i[1],o=e[1]*i[0]+e[3]*i[1],a=e[0]*i[2]+e[2]*i[3],r=e[1]*i[2]+e[3]*i[3],s=e[0]*i[4]+e[2]*i[5]+e[4],l=e[1]*i[4]+e[3]*i[5]+e[5];return t[0]=n,t[1]=o,t[2]=a,t[3]=r,t[4]=s,t[5]=l,t;},translate:function translate(t,e,i){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+i[0],t[5]=e[5]+i[1],t;},rotate:function rotate(t,e,i){var n=e[0],o=e[2],a=e[4],r=e[1],s=e[3],l=e[5],u=Math.sin(i),c=Math.cos(i);return t[0]=n*c+r*u,t[1]=-n*u+r*c,t[2]=o*c+s*u,t[3]=-o*u+c*s,t[4]=c*a+u*l,t[5]=c*l-u*a,t;},scale:function scale(t,e,i){var n=i[0],o=i[1];return t[0]=e[0]*n,t[1]=e[1]*o,t[2]=e[2]*n,t[3]=e[3]*o,t[4]=e[4]*n,t[5]=e[5]*o,t;},invert:function invert(t,e){var i=e[0],n=e[2],o=e[4],a=e[1],r=e[3],s=e[5],l=i*r-a*n;return l?(l=1/l,t[0]=r*l,t[1]=-a*l,t[2]=-n*l,t[3]=i*l,t[4]=(n*s-r*o)*l,t[5]=(a*o-i*s)*l,t):null;}};t.exports=n;},function(t,e,i){function n(t,e){var i=t+":"+e;if(l[i])return l[i];for(var n=(t+"").split("\n"),o=0,a=0,r=n.length;a<r;a++){o=Math.max(p.measureText(n[a],e).width,o);}return u>c&&(u=0,l={}),u++,l[i]=o,o;}function o(t,e,i,o){var a=((t||"")+"").split("\n").length,r=n(t,e),s=n("",e),l=a*s,u=new d(0,0,r,l);switch(u.lineHeight=s,o){case"bottom":case"alphabetic":u.y-=s;break;case"middle":u.y-=s/2;}switch(i){case"end":case"right":u.x-=u.width;break;case"center":u.x-=u.width/2;}return u;}function a(t,e,i,n){var o=e.x,a=e.y,r=e.height,s=e.width,l=i.height,u=i.lineHeight,c=r/2-l/2+u,h="left";switch(t){case"left":o-=n,a+=c,h="right";break;case"right":o+=n+s,a+=c,h="left";break;case"top":o+=s/2,a-=n+l-u,h="center";break;case"bottom":o+=s/2,a+=r+n+u,h="center";break;case"inside":o+=s/2,a+=c,h="center";break;case"insideLeft":o+=n,a+=c,h="left";break;case"insideRight":o+=s-n,a+=c,h="right";break;case"insideTop":o+=s/2,a+=n,h="center";break;case"insideBottom":o+=s/2,a+=r-l-n+u,h="center";break;case"insideTopLeft":o+=n,a+=n,h="left";break;case"insideTopRight":o+=s-n,a+=n,h="right";break;case"insideBottomLeft":o+=n,a+=r-l-n+u;break;case"insideBottomRight":o+=s-n,a+=r-l-n+u,h="right";}return{x:o,y:a,textAlign:h,textBaseline:"alphabetic"};}function r(t,e,i,o,a){if(!e)return"";a=a||{},o=f(o,"...");for(var r=f(a.maxIterations,2),l=f(a.minChar,0),u=n("",i),c=n("a",i),h=f(a.placeholder,""),d=e=Math.max(0,e-1),p=0;p<l&&d>=c;p++){d-=c;}var g=n(o);g>d&&(o="",g=0),d=e-g;for(var m=(t+"").split("\n"),p=0,v=m.length;p<v;p++){var y=m[p],x=n(y,i);if(!(x<=e)){for(var _=0;;_++){if(x<=d||_>=r){y+=o;break;}var b=0===_?s(y,d,c,u):x>0?Math.floor(y.length*d/x):0;y=y.substr(0,b),x=n(y,i);}""===y&&(y=h),m[p]=y;}}return m.join("\n");}function s(t,e,i,n){for(var o=0,a=0,r=t.length;a<r&&o<e;a++){var s=t.charCodeAt(a);o+=0<=s&&s<=127?i:n;}return a;}var l={},u=0,c=5e3,h=i(1),d=i(11),f=h.retrieve,p={getWidth:n,getBoundingRect:o,adjustTextPositionOnRect:a,truncateText:r,measureText:function measureText(t,e){var i=h.getContext();return i.font=e||"12px sans-serif",i.measureText(t);}};t.exports=p;},function(t,e,i){var n=i(149),o=i(43);i(150),i(148);var a=i(34),r=i(4),s=i(1),l=i(17),u={};u.getScaleExtent=function(t,e){var i,n,o,a=t.type,l=e.getMin(),u=e.getMax(),c=null!=l,h=null!=u,d=t.getExtent();return"ordinal"===a?i=(e.get("data")||[]).length:(n=e.get("boundaryGap"),s.isArray(n)||(n=[n||0,n||0]),"boolean"==typeof n[0]&&(n=[0,0]),n[0]=r.parsePercent(n[0],1),n[1]=r.parsePercent(n[1],1),o=d[1]-d[0]||Math.abs(d[0])),null==l&&(l="ordinal"===a?i?0:NaN:d[0]-n[0]*o),null==u&&(u="ordinal"===a?i?i-1:NaN:d[1]+n[1]*o),"dataMin"===l&&(l=d[0]),"dataMax"===u&&(u=d[1]),(null==l||!isFinite(l))&&(l=NaN),(null==u||!isFinite(u))&&(u=NaN),t.setBlank(s.eqNaN(l)||s.eqNaN(u)),e.getNeedCrossZero()&&(l>0&&u>0&&!c&&(l=0),l<0&&u<0&&!h&&(u=0)),[l,u];},u.niceScaleExtent=function(t,e){var i=u.getScaleExtent(t,e),n=null!=e.getMin(),o=null!=e.getMax(),a=e.get("splitNumber");"log"===t.type&&(t.base=e.get("logBase")),t.setExtent(i[0],i[1]),t.niceExtent(a,n,o);var r=e.get("minInterval");if(isFinite(r)&&!n&&!o&&"interval"===t.type){var s=t.getInterval(),l=Math.max(Math.abs(s),r)/s;i=t.getExtent();var c=(i[1]+i[0])/2;t.setExtent(l*(i[0]-c)+c,l*(i[1]-c)+c),t.niceExtent(a);}var s=e.get("interval");null!=s&&t.setInterval&&t.setInterval(s);},u.createScaleByModel=function(t,e){if(e=e||t.get("type"))switch(e){case"category":return new n(t.getCategories(),[1/0,-(1/0)]);case"value":return new o();default:return(a.getClass(e)||o).create(t);}},u.ifAxisCrossZero=function(t){var e=t.scale.getExtent(),i=e[0],n=e[1];return!(i>0&&n>0||i<0&&n<0);},u.getAxisLabelInterval=function(t,e,i,n){var o,a=0,r=0,s=1;e.length>40&&(s=Math.floor(e.length/40));for(var u=0;u<t.length;u+=s){var c=t[u],h=l.getBoundingRect(e[u],i,"center","top");h[n?"x":"y"]+=c,h[n?"width":"height"]*=1.3,o?o.intersect(h)?(r++,a=Math.max(a,r)):(o.union(h),r=0):o=h.clone();}return 0===a&&s>1?s:(a+1)*s-1;},u.getFormattedLabels=function(t,e){var i=t.scale,n=i.getTicksLabels(),o=i.getTicks();return"string"==typeof e?(e=function(t){return function(e){return t.replace("{value}",null!=e?e:"");};}(e),s.map(n,e)):"function"==typeof e?s.map(o,function(i,n){return e(u.getAxisRawValue(t,i),n);},this):n;},u.getAxisRawValue=function(t,e){return"category"===t.type?t.scale.getLabel(e):e;},t.exports=u;},function(t,e,i){"use strict";var n=i(1),o=i(7),a=i(15),r=i(6),s=i(13),l=i(61),u=i(9),c=i(12),h=a.set,d=a.get,f=o.encodeHTML,p=o.addCommas,g=s.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,visualColorAccessPath:"itemStyle.normal.color",layoutMode:null,init:function init(t,e,i,n){this.seriesIndex=this.componentIndex,this.mergeDefaultAndTheme(t,i);var o=this.getInitialData(t,i);h(this,"dataBeforeProcessed",o),this.restoreData();},mergeDefaultAndTheme:function mergeDefaultAndTheme(t,e){var i=this.layoutMode,o=i?c.getLayoutParams(t):{};n.merge(t,e.getTheme().get(this.subType)),n.merge(t,this.getDefaultOption()),r.defaultEmphasis(t.label,r.LABEL_OPTIONS),this.fillDataTextStyle(t.data),i&&c.mergeLayoutParam(t,o,i);},mergeOption:function mergeOption(t,e){t=n.merge(this.option,t,!0),this.fillDataTextStyle(t.data);var i=this.layoutMode;i&&c.mergeLayoutParam(this.option,t,i);var o=this.getInitialData(t,e);o&&(h(this,"data",o),h(this,"dataBeforeProcessed",o.cloneShallow()));},fillDataTextStyle:function fillDataTextStyle(t){if(t)for(var e=0;e<t.length;e++){t[e]&&t[e].label&&r.defaultEmphasis(t[e].label,r.LABEL_OPTIONS);}},getInitialData:function getInitialData(){},getData:function getData(t){var e=d(this,"data");return null==t?e:e.getLinkedData(t);},setData:function setData(t){h(this,"data",t);},getRawData:function getRawData(){return d(this,"dataBeforeProcessed");},coordDimToDataDim:function coordDimToDataDim(t){return[t];},dataDimToCoordDim:function dataDimToCoordDim(t){return t;},getBaseAxis:function getBaseAxis(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis();},formatTooltip:function formatTooltip(t,e,i){function a(t){var i=[];return n.each(t,function(t,n){var a,s=r.getDimensionInfo(n),l=s&&s.type;a="ordinal"===l?t+"":"time"===l?e?"":o.formatTime("yyyy/MM/dd hh:mm:ss",t):p(t),a&&i.push(a);}),i.join(", ");}var r=d(this,"data"),s=this.getRawValue(t),l=f(n.isArray(s)?a(s):p(s)),u=r.getName(t),c=r.getItemVisual(t,"color");n.isObject(c)&&c.colorStops&&(c=(c.colorStops[0]||{}).color),c=c||"transparent";var h='<span style="display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:'+f(c)+'"></span>',g=this.name;return"\0-"===g&&(g=""),e?h+f(this.name)+" : "+l:(g&&f(g)+"<br />")+h+(u?f(u)+" : "+l:l);},isAnimationEnabled:function isAnimationEnabled(){if(u.node)return!1;var t=this.getShallow("animation");return t&&this.getData().count()>this.getShallow("animationThreshold")&&(t=!1),t;},restoreData:function restoreData(){h(this,"data",d(this,"dataBeforeProcessed").cloneShallow());},getColorFromPalette:function getColorFromPalette(t,e){var i=this.ecModel,n=l.getColorFromPalette.call(this,t,e);return n||(n=i.getColorFromPalette(t,e)),n;},getAxisTooltipData:null,getTooltipPosition:null});n.mixin(g,r.dataFormatMixin),n.mixin(g,l),t.exports=g;},function(t,e,i){"use strict";function n(t){return t>-w&&t<w;}function o(t){return t>w||t<-w;}function a(t,e,i,n,o){var a=1-o;return a*a*(a*t+3*o*e)+o*o*(o*n+3*a*i);}function r(t,e,i,n,o){var a=1-o;return 3*(((e-t)*a+2*(i-e)*o)*a+(n-i)*o*o);}function s(t,e,i,o,a,r){var s=o+3*(e-i)-t,l=3*(i-2*e+t),u=3*(e-t),c=t-a,h=l*l-3*s*u,d=l*u-9*s*c,f=u*u-3*l*c,p=0;if(n(h)&&n(d)){if(n(l))r[0]=0;else{var g=-u/l;g>=0&&g<=1&&(r[p++]=g);}}else{var m=d*d-4*h*f;if(n(m)){var v=d/h,g=-l/s+v,y=-v/2;g>=0&&g<=1&&(r[p++]=g),y>=0&&y<=1&&(r[p++]=y);}else if(m>0){var x=b(m),w=h*l+1.5*s*(-d+x),S=h*l+1.5*s*(-d-x);w=w<0?-_(-w,I):_(w,I),S=S<0?-_(-S,I):_(S,I);var g=(-l-(w+S))/(3*s);g>=0&&g<=1&&(r[p++]=g);}else{var T=(2*h*l-3*s*d)/(2*b(h*h*h)),A=Math.acos(T)/3,C=b(h),L=Math.cos(A),g=(-l-2*C*L)/(3*s),y=(-l+C*(L+M*Math.sin(A)))/(3*s),D=(-l+C*(L-M*Math.sin(A)))/(3*s);g>=0&&g<=1&&(r[p++]=g),y>=0&&y<=1&&(r[p++]=y),D>=0&&D<=1&&(r[p++]=D);}}return p;}function l(t,e,i,a,r){var s=6*i-12*e+6*t,l=9*e+3*a-3*t-9*i,u=3*e-3*t,c=0;if(n(l)){if(o(s)){var h=-u/s;h>=0&&h<=1&&(r[c++]=h);}}else{var d=s*s-4*l*u;if(n(d))r[0]=-s/(2*l);else if(d>0){var f=b(d),h=(-s+f)/(2*l),p=(-s-f)/(2*l);h>=0&&h<=1&&(r[c++]=h),p>=0&&p<=1&&(r[c++]=p);}}return c;}function u(t,e,i,n,o,a){var r=(e-t)*o+t,s=(i-e)*o+e,l=(n-i)*o+i,u=(s-r)*o+r,c=(l-s)*o+s,h=(c-u)*o+u;a[0]=t,a[1]=r,a[2]=u,a[3]=h,a[4]=h,a[5]=c,a[6]=l,a[7]=n;}function c(t,e,i,n,o,r,s,l,u,c,h){var d,f,p,g,m,v=.005,y=1/0;T[0]=u,T[1]=c;for(var _=0;_<1;_+=.05){A[0]=a(t,i,o,s,_),A[1]=a(e,n,r,l,_),g=x(T,A),g<y&&(d=_,y=g);}y=1/0;for(var w=0;w<32&&!(v<S);w++){f=d-v,p=d+v,A[0]=a(t,i,o,s,f),A[1]=a(e,n,r,l,f),g=x(A,T),f>=0&&g<y?(d=f,y=g):(C[0]=a(t,i,o,s,p),C[1]=a(e,n,r,l,p),m=x(C,T),p<=1&&m<y?(d=p,y=m):v*=.5);}return h&&(h[0]=a(t,i,o,s,d),h[1]=a(e,n,r,l,d)),b(y);}function h(t,e,i,n){var o=1-n;return o*(o*t+2*n*e)+n*n*i;}function d(t,e,i,n){return 2*((1-n)*(e-t)+n*(i-e));}function f(t,e,i,a,r){var s=t-2*e+i,l=2*(e-t),u=t-a,c=0;if(n(s)){if(o(l)){var h=-u/l;h>=0&&h<=1&&(r[c++]=h);}}else{var d=l*l-4*s*u;if(n(d)){var h=-l/(2*s);h>=0&&h<=1&&(r[c++]=h);}else if(d>0){var f=b(d),h=(-l+f)/(2*s),p=(-l-f)/(2*s);h>=0&&h<=1&&(r[c++]=h),p>=0&&p<=1&&(r[c++]=p);}}return c;}function p(t,e,i){var n=t+i-2*e;return 0===n?.5:(t-e)/n;}function g(t,e,i,n,o){var a=(e-t)*n+t,r=(i-e)*n+e,s=(r-a)*n+a;o[0]=t,o[1]=a,o[2]=s,o[3]=s,o[4]=r,o[5]=i;}function m(t,e,i,n,o,a,r,s,l){var u,c=.005,d=1/0;T[0]=r,T[1]=s;for(var f=0;f<1;f+=.05){A[0]=h(t,i,o,f),A[1]=h(e,n,a,f);var p=x(T,A);p<d&&(u=f,d=p);}d=1/0;for(var g=0;g<32&&!(c<S);g++){var m=u-c,v=u+c;A[0]=h(t,i,o,m),A[1]=h(e,n,a,m);var p=x(A,T);if(m>=0&&p<d)u=m,d=p;else{C[0]=h(t,i,o,v),C[1]=h(e,n,a,v);var y=x(C,T);v<=1&&y<d?(u=v,d=y):c*=.5;}}return l&&(l[0]=h(t,i,o,u),l[1]=h(e,n,a,u)),b(d);}var v=i(5),y=v.create,x=v.distSquare,_=Math.pow,b=Math.sqrt,w=1e-8,S=1e-4,M=b(3),I=1/3,T=y(),A=y(),C=y();t.exports={cubicAt:a,cubicDerivativeAt:r,cubicRootAt:s,cubicExtrema:l,cubicSubdivide:u,cubicProjectPoint:c,quadraticAt:h,quadraticDerivativeAt:d,quadraticRootAt:f,quadraticExtremum:p,quadraticSubdivide:g,quadraticProjectPoint:m};},function(t,e,i){"use strict";function n(t){return t.getBoundingClientRect?t.getBoundingClientRect():{left:0,top:0};}function o(t,e,i,n){return i=i||{},n||!c.canvasSupported?a(t,e,i):c.browser.firefox&&null!=e.layerX&&e.layerX!==e.offsetX?(i.zrX=e.layerX,i.zrY=e.layerY):null!=e.offsetX?(i.zrX=e.offsetX,i.zrY=e.offsetY):a(t,e,i),i;}function a(t,e,i){var o=n(t);i.zrX=e.clientX-o.left,i.zrY=e.clientY-o.top;}function r(t,e,i){if(e=e||window.event,null!=e.zrX)return e;var n=e.type,a=n&&n.indexOf("touch")>=0;if(a){var r="touchend"!=n?e.targetTouches[0]:e.changedTouches[0];r&&o(t,r,e,i);}else o(t,e,e,i),e.zrDelta=e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3;return e;}function s(t,e,i){h?t.addEventListener(e,i):t.attachEvent("on"+e,i);}function l(t,e,i){h?t.removeEventListener(e,i):t.detachEvent("on"+e,i);}var u=i(23),c=i(9),h="undefined"!=typeof window&&!!window.addEventListener,d=h?function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0;}:function(t){t.returnValue=!1,t.cancelBubble=!0;};t.exports={clientToLocal:o,normalizeEvent:r,addEventListener:s,removeEventListener:l,stop:d,Dispatcher:u};},function(t,e,i){function n(t){return t=Math.round(t),t<0?0:t>255?255:t;}function o(t){return t=Math.round(t),t<0?0:t>360?360:t;}function a(t){return t<0?0:t>1?1:t;}function r(t){return n(t.length&&"%"===t.charAt(t.length-1)?parseFloat(t)/100*255:parseInt(t,10));}function s(t){return a(t.length&&"%"===t.charAt(t.length-1)?parseFloat(t)/100:parseFloat(t));}function l(t,e,i){return i<0?i+=1:i>1&&(i-=1),6*i<1?t+(e-t)*i*6:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t;}function u(t,e,i){return t+(e-t)*i;}function c(t,e,i,n,o){return t[0]=e,t[1]=i,t[2]=n,t[3]=o,t;}function h(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t;}function d(t,e){T&&h(T,e),T=I.put(t,T||e.slice());}function f(t,e){if(t){e=e||[];var i=I.get(t);if(i)return h(e,i);t+="";var n=t.replace(/ /g,"").toLowerCase();if(n in M)return h(e,M[n]),d(t,e),e;if("#"!==n.charAt(0)){var o=n.indexOf("("),a=n.indexOf(")");if(o!==-1&&a+1===n.length){var l=n.substr(0,o),u=n.substr(o+1,a-(o+1)).split(","),f=1;switch(l){case"rgba":if(4!==u.length)return void c(e,0,0,0,1);f=s(u.pop());case"rgb":return 3!==u.length?void c(e,0,0,0,1):(c(e,r(u[0]),r(u[1]),r(u[2]),f),d(t,e),e);case"hsla":return 4!==u.length?void c(e,0,0,0,1):(u[3]=s(u[3]),p(u,e),d(t,e),e);case"hsl":return 3!==u.length?void c(e,0,0,0,1):(p(u,e),d(t,e),e);default:return;}}c(e,0,0,0,1);}else{if(4===n.length){var g=parseInt(n.substr(1),16);return g>=0&&g<=4095?(c(e,(3840&g)>>4|(3840&g)>>8,240&g|(240&g)>>4,15&g|(15&g)<<4,1),d(t,e),e):void c(e,0,0,0,1);}if(7===n.length){var g=parseInt(n.substr(1),16);return g>=0&&g<=16777215?(c(e,(16711680&g)>>16,(65280&g)>>8,255&g,1),d(t,e),e):void c(e,0,0,0,1);}}}}function p(t,e){var i=(parseFloat(t[0])%360+360)%360/360,o=s(t[1]),a=s(t[2]),r=a<=.5?a*(o+1):a+o-a*o,u=2*a-r;return e=e||[],c(e,n(255*l(u,r,i+1/3)),n(255*l(u,r,i)),n(255*l(u,r,i-1/3)),1),4===t.length&&(e[3]=t[3]),e;}function g(t){if(t){var e,i,n=t[0]/255,o=t[1]/255,a=t[2]/255,r=Math.min(n,o,a),s=Math.max(n,o,a),l=s-r,u=(s+r)/2;if(0===l)e=0,i=0;else{i=u<.5?l/(s+r):l/(2-s-r);var c=((s-n)/6+l/2)/l,h=((s-o)/6+l/2)/l,d=((s-a)/6+l/2)/l;n===s?e=d-h:o===s?e=1/3+c-d:a===s&&(e=2/3+h-c),e<0&&(e+=1),e>1&&(e-=1);}var f=[360*e,i,u];return null!=t[3]&&f.push(t[3]),f;}}function m(t,e){var i=f(t);if(i){for(var n=0;n<3;n++){e<0?i[n]=i[n]*(1-e)|0:i[n]=(255-i[n])*e+i[n]|0;}return w(i,4===i.length?"rgba":"rgb");}}function v(t,e){var i=f(t);if(i)return((1<<24)+(i[0]<<16)+(i[1]<<8)+ +i[2]).toString(16).slice(1);}function y(t,e,i){if(e&&e.length&&t>=0&&t<=1){i=i||[];var o=t*(e.length-1),r=Math.floor(o),s=Math.ceil(o),l=e[r],c=e[s],h=o-r;return i[0]=n(u(l[0],c[0],h)),i[1]=n(u(l[1],c[1],h)),i[2]=n(u(l[2],c[2],h)),i[3]=a(u(l[3],c[3],h)),i;}}function x(t,e,i){if(e&&e.length&&t>=0&&t<=1){var o=t*(e.length-1),r=Math.floor(o),s=Math.ceil(o),l=f(e[r]),c=f(e[s]),h=o-r,d=w([n(u(l[0],c[0],h)),n(u(l[1],c[1],h)),n(u(l[2],c[2],h)),a(u(l[3],c[3],h))],"rgba");return i?{color:d,leftIndex:r,rightIndex:s,value:o}:d;}}function _(t,e,i,n){if(t=f(t))return t=g(t),null!=e&&(t[0]=o(e)),null!=i&&(t[1]=s(i)),null!=n&&(t[2]=s(n)),w(p(t),"rgba");}function b(t,e){if(t=f(t),t&&null!=e)return t[3]=a(e),w(t,"rgba");}function w(t,e){if(t&&t.length){var i=t[0]+","+t[1]+","+t[2];return"rgba"!==e&&"hsva"!==e&&"hsla"!==e||(i+=","+t[3]),e+"("+i+")";}}var S=i(69),M={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]},I=new S(20),T=null;t.exports={parse:f,lift:m,toHex:v,fastMapToColor:y,mapToColor:x,modifyHSL:_,modifyAlpha:b,stringify:w};},function(t,e){var i=Array.prototype.slice,n=function n(){this._$handlers={};};n.prototype={constructor:n,one:function one(t,e,i){var n=this._$handlers;if(!e||!t)return this;n[t]||(n[t]=[]);for(var o=0;o<n[t].length;o++){if(n[t][o].h===e)return this;}return n[t].push({h:e,one:!0,ctx:i||this}),this;},on:function on(t,e,i){var n=this._$handlers;if(!e||!t)return this;n[t]||(n[t]=[]);for(var o=0;o<n[t].length;o++){if(n[t][o].h===e)return this;}return n[t].push({h:e,one:!1,ctx:i||this}),this;},isSilent:function isSilent(t){var e=this._$handlers;return e[t]&&e[t].length;},off:function off(t,e){var i=this._$handlers;if(!t)return this._$handlers={},this;if(e){if(i[t]){for(var n=[],o=0,a=i[t].length;o<a;o++){i[t][o].h!=e&&n.push(i[t][o]);}i[t]=n;}i[t]&&0===i[t].length&&delete i[t];}else delete i[t];return this;},trigger:function trigger(t){if(this._$handlers[t]){var e=arguments,n=e.length;n>3&&(e=i.call(e,1));for(var o=this._$handlers[t],a=o.length,r=0;r<a;){switch(n){case 1:o[r].h.call(o[r].ctx);break;case 2:o[r].h.call(o[r].ctx,e[1]);break;case 3:o[r].h.call(o[r].ctx,e[1],e[2]);break;default:o[r].h.apply(o[r].ctx,e);}o[r].one?(o.splice(r,1),a--):r++;}}return this;},triggerWithContext:function triggerWithContext(t){if(this._$handlers[t]){var e=arguments,n=e.length;n>4&&(e=i.call(e,1,e.length-1));for(var o=e[e.length-1],a=this._$handlers[t],r=a.length,s=0;s<r;){switch(n){case 1:a[s].h.call(o);break;case 2:a[s].h.call(o,e[1]);break;case 3:a[s].h.call(o,e[1],e[2]);break;default:a[s].h.apply(o,e);}a[s].one?(a.splice(s,1),r--):s++;}}return this;}},t.exports=n;},function(t,e,i){"use strict";var n=i(3),o=i(11),a=n.extendShape({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function buildPath(t,e){var i=e.cx,n=e.cy,o=e.width/2,a=e.height/2;t.moveTo(i,n-a),t.lineTo(i+o,n+a),t.lineTo(i-o,n+a),t.closePath();}}),r=n.extendShape({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function buildPath(t,e){var i=e.cx,n=e.cy,o=e.width/2,a=e.height/2;t.moveTo(i,n-a),t.lineTo(i+o,n),t.lineTo(i,n+a),t.lineTo(i-o,n),t.closePath();}}),s=n.extendShape({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function buildPath(t,e){var i=e.x,n=e.y,o=e.width/5*3,a=Math.max(o,e.height),r=o/2,s=r*r/(a-r),l=n-a+r+s,u=Math.asin(s/r),c=Math.cos(u)*r,h=Math.sin(u),d=Math.cos(u);t.arc(i,l,r,Math.PI-u,2*Math.PI+u);var f=.6*r,p=.7*r;t.bezierCurveTo(i+c-h*f,l+s+d*f,i,n-p,i,n),t.bezierCurveTo(i,n-p,i-c+h*f,l+s+d*f,i-c,l+s),t.closePath();}}),l=n.extendShape({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function buildPath(t,e){var i=e.height,n=e.width,o=e.x,a=e.y,r=n/3*2;t.moveTo(o,a),t.lineTo(o+r,a+i),t.lineTo(o,a+i/4*3),t.lineTo(o-r,a+i),t.lineTo(o,a),t.closePath();}}),u={line:n.Line,rect:n.Rect,roundRect:n.Rect,square:n.Rect,circle:n.Circle,diamond:r,pin:s,arrow:l,triangle:a},c={line:function line(t,e,i,n,o){o.x1=t,o.y1=e+n/2,o.x2=t+i,o.y2=e+n/2;},rect:function rect(t,e,i,n,o){o.x=t,o.y=e,o.width=i,o.height=n;},roundRect:function roundRect(t,e,i,n,o){o.x=t,o.y=e,o.width=i,o.height=n,o.r=Math.min(i,n)/4;},square:function square(t,e,i,n,o){var a=Math.min(i,n);o.x=t,o.y=e,o.width=a,o.height=a;},circle:function circle(t,e,i,n,o){o.cx=t+i/2,o.cy=e+n/2,o.r=Math.min(i,n)/2;},diamond:function diamond(t,e,i,n,o){o.cx=t+i/2,o.cy=e+n/2,o.width=i,o.height=n;},pin:function pin(t,e,i,n,o){o.x=t+i/2,o.y=e+n/2,o.width=i,o.height=n;},arrow:function arrow(t,e,i,n,o){o.x=t+i/2,o.y=e+n/2,o.width=i,o.height=n;},triangle:function triangle(t,e,i,n,o){o.cx=t+i/2,o.cy=e+n/2,o.width=i,o.height=n;}},h={};for(var d in u){u.hasOwnProperty(d)&&(h[d]=new u[d]());}var f=n.extendShape({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function beforeBrush(){var t=this.style,e=this.shape;"pin"===e.symbolType&&"inside"===t.textPosition&&(t.textPosition=["50%","40%"],t.textAlign="center",t.textVerticalAlign="middle");},buildPath:function buildPath(t,e,i){var n=e.symbolType,o=h[n];"none"!==e.symbolType&&(o||(n="rect",o=h[n]),c[n](e.x,e.y,e.width,e.height,o.shape),o.buildPath(t,o.shape,i));}}),p=function p(t){if("image"!==this.type){var e=this.style,i=this.shape;i&&"line"===i.symbolType?e.stroke=t:this.__isEmptyBrush?(e.stroke=t,e.fill="#fff"):(e.fill&&(e.fill=t),e.stroke&&(e.stroke=t)),this.dirty(!1);}},g={createSymbol:function createSymbol(t,e,i,a,r,s){var l=0===t.indexOf("empty");l&&(t=t.substr(5,1).toLowerCase()+t.substr(6));var u;return u=0===t.indexOf("image://")?new n.Image({style:{image:t.slice(8),x:e,y:i,width:a,height:r}}):0===t.indexOf("path://")?n.makePath(t.slice(7),{},new o(e,i,a,r)):new f({shape:{symbolType:t,x:e,y:i,width:a,height:r}}),u.__isEmptyBrush=l,u.setColor=p,u.setColor(s),u;}};t.exports=g;},function(t,e,i){function n(t,e,i){if(!e)return t;i=i||{};var n=i.dimCount;if(null==n){var s=o(e[0]);n=a.isArray(s)&&s.length||1;}for(var l=i.defaultNames||[],u=i.extraPrefix||"extra",c=0;c<n;c++){if(!t[c]){var h=l[c]||u+(c-l.length);t[c]=r(e,c)?{type:"ordinal",name:h}:h;}}return t;}function o(t){return a.isArray(t)?t:a.isObject(t)?t.value:t;}var a=i(1),r=n.guessOrdinal=function(t,e){for(var i=0,n=t.length;i<n;i++){var r=o(t[i]);if(!a.isArray(r))return!1;var r=r[e];if(null!=r&&isFinite(r))return!1;if(a.isString(r)&&"-"!==r)return!0;}return!1;};t.exports=n;},function(t,e,i){"use strict";function n(){this._coordinateSystems=[];}var o=i(1),a={};n.prototype={constructor:n,create:function create(t,e){var i=[];o.each(a,function(n,o){var a=n.create(t,e);i=i.concat(a||[]);}),this._coordinateSystems=i;},update:function update(t,e){o.each(this._coordinateSystems,function(i){i.update&&i.update(t,e);});},getCoordinateSystems:function getCoordinateSystems(){return this._coordinateSystems.slice();}},n.register=function(t,e){a[t]=e;},n.get=function(t){return a[t];},t.exports=n;},function(t,e,i){"use strict";var n=i(20),o=i(5),a=i(84),r=i(11),s=i(35).devicePixelRatio,l={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},u=[],c=[],h=[],d=[],f=Math.min,p=Math.max,g=Math.cos,m=Math.sin,v=Math.sqrt,y=Math.abs,x="undefined"!=typeof Float32Array,_=function _(t){this._saveData=!t,this._saveData&&(this.data=[]),this._ctx=null;};_.prototype={constructor:_,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function setScale(t,e){this._ux=y(1/s/t)||0,this._uy=y(1/s/e)||0;},getContext:function getContext(){return this._ctx;},beginPath:function beginPath(t){return this._ctx=t,t&&t.beginPath(),t&&(this.dpr=t.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this;},moveTo:function moveTo(t,e){return this.addData(l.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this;},lineTo:function lineTo(t,e){var i=y(t-this._xi)>this._ux||y(e-this._yi)>this._uy||this._len<5;return this.addData(l.L,t,e),this._ctx&&i&&(this._needsDash()?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)),i&&(this._xi=t,this._yi=e),this;},bezierCurveTo:function bezierCurveTo(t,e,i,n,o,a){return this.addData(l.C,t,e,i,n,o,a),this._ctx&&(this._needsDash()?this._dashedBezierTo(t,e,i,n,o,a):this._ctx.bezierCurveTo(t,e,i,n,o,a)),this._xi=o,this._yi=a,this;},quadraticCurveTo:function quadraticCurveTo(t,e,i,n){return this.addData(l.Q,t,e,i,n),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(t,e,i,n):this._ctx.quadraticCurveTo(t,e,i,n)),this._xi=i,this._yi=n,this;},arc:function arc(t,e,i,n,o,a){return this.addData(l.A,t,e,i,i,n,o-n,0,a?0:1),this._ctx&&this._ctx.arc(t,e,i,n,o,a),this._xi=g(o)*i+t,this._yi=m(o)*i+t,this;},arcTo:function arcTo(t,e,i,n,o){return this._ctx&&this._ctx.arcTo(t,e,i,n,o),this;},rect:function rect(t,e,i,n){return this._ctx&&this._ctx.rect(t,e,i,n),this.addData(l.R,t,e,i,n),this;},closePath:function closePath(){this.addData(l.Z);var t=this._ctx,e=this._x0,i=this._y0;return t&&(this._needsDash()&&this._dashedLineTo(e,i),t.closePath()),this._xi=e,this._yi=i,this;},fill:function fill(t){t&&t.fill(),this.toStatic();},stroke:function stroke(t){t&&t.stroke(),this.toStatic();},setLineDash:function setLineDash(t){if(t instanceof Array){this._lineDash=t,this._dashIdx=0;for(var e=0,i=0;i<t.length;i++){e+=t[i];}this._dashSum=e;}return this;},setLineDashOffset:function setLineDashOffset(t){return this._dashOffset=t,this;},len:function len(){return this._len;},setData:function setData(t){var e=t.length;this.data&&this.data.length==e||!x||(this.data=new Float32Array(e));for(var i=0;i<e;i++){this.data[i]=t[i];}this._len=e;},appendPath:function appendPath(t){t instanceof Array||(t=[t]);for(var e=t.length,i=0,n=this._len,o=0;o<e;o++){i+=t[o].len();}x&&this.data instanceof Float32Array&&(this.data=new Float32Array(n+i));for(var o=0;o<e;o++){for(var a=t[o].data,r=0;r<a.length;r++){this.data[n++]=a[r];}}this._len=n;},addData:function addData(t){if(this._saveData){var e=this.data;this._len+arguments.length>e.length&&(this._expandData(),e=this.data);for(var i=0;i<arguments.length;i++){e[this._len++]=arguments[i];}this._prevCmd=t;}},_expandData:function _expandData(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++){t[e]=this.data[e];}this.data=t;}},_needsDash:function _needsDash(){return this._lineDash;},_dashedLineTo:function _dashedLineTo(t,e){var i,n,o=this._dashSum,a=this._dashOffset,r=this._lineDash,s=this._ctx,l=this._xi,u=this._yi,c=t-l,h=e-u,d=v(c*c+h*h),g=l,m=u,y=r.length;for(c/=d,h/=d,a<0&&(a=o+a),a%=o,g-=a*c,m-=a*h;c>0&&g<=t||c<0&&g>=t||0==c&&(h>0&&m<=e||h<0&&m>=e);){n=this._dashIdx,i=r[n],g+=c*i,m+=h*i,this._dashIdx=(n+1)%y,c>0&&g<l||c<0&&g>l||h>0&&m<u||h<0&&m>u||s[n%2?"moveTo":"lineTo"](c>=0?f(g,t):p(g,t),h>=0?f(m,e):p(m,e));}c=g-t,h=m-e,this._dashOffset=-v(c*c+h*h);},_dashedBezierTo:function _dashedBezierTo(t,e,i,o,a,r){var s,l,u,c,h,d=this._dashSum,f=this._dashOffset,p=this._lineDash,g=this._ctx,m=this._xi,y=this._yi,x=n.cubicAt,_=0,b=this._dashIdx,w=p.length,S=0;for(f<0&&(f=d+f),f%=d,s=0;s<1;s+=.1){l=x(m,t,i,a,s+.1)-x(m,t,i,a,s),u=x(y,e,o,r,s+.1)-x(y,e,o,r,s),_+=v(l*l+u*u);}for(;b<w&&(S+=p[b],!(S>f));b++){}for(s=(S-f)/_;s<=1;){c=x(m,t,i,a,s),h=x(y,e,o,r,s),b%2?g.moveTo(c,h):g.lineTo(c,h),s+=p[b]/_,b=(b+1)%w;}b%2!==0&&g.lineTo(a,r),l=a-c,u=r-h,this._dashOffset=-v(l*l+u*u);},_dashedQuadraticTo:function _dashedQuadraticTo(t,e,i,n){var o=i,a=n;i=(i+2*t)/3,n=(n+2*e)/3,t=(this._xi+2*t)/3,e=(this._yi+2*e)/3,this._dashedBezierTo(t,e,i,n,o,a);},toStatic:function toStatic(){var t=this.data;t instanceof Array&&(t.length=this._len,x&&(this.data=new Float32Array(t)));},getBoundingRect:function getBoundingRect(){u[0]=u[1]=h[0]=h[1]=Number.MAX_VALUE,c[0]=c[1]=d[0]=d[1]=-Number.MAX_VALUE;for(var t=this.data,e=0,i=0,n=0,s=0,f=0;f<t.length;){var p=t[f++];switch(1==f&&(e=t[f],i=t[f+1],n=e,s=i),p){case l.M:n=t[f++],s=t[f++],e=n,i=s,h[0]=n,h[1]=s,d[0]=n,d[1]=s;break;case l.L:a.fromLine(e,i,t[f],t[f+1],h,d),e=t[f++],i=t[f++];break;case l.C:a.fromCubic(e,i,t[f++],t[f++],t[f++],t[f++],t[f],t[f+1],h,d),e=t[f++],i=t[f++];break;case l.Q:a.fromQuadratic(e,i,t[f++],t[f++],t[f],t[f+1],h,d),e=t[f++],i=t[f++];break;case l.A:var v=t[f++],y=t[f++],x=t[f++],_=t[f++],b=t[f++],w=t[f++]+b,S=(t[f++],1-t[f++]);1==f&&(n=g(b)*x+v,s=m(b)*_+y),a.fromArc(v,y,x,_,b,w,S,h,d),e=g(w)*x+v,i=m(w)*_+y;break;case l.R:n=e=t[f++],s=i=t[f++];var M=t[f++],I=t[f++];a.fromLine(n,s,n+M,s+I,h,d);break;case l.Z:e=n,i=s;}o.min(u,u,h),o.max(c,c,d);}return 0===f&&(u[0]=u[1]=c[0]=c[1]=0),new r(u[0],u[1],c[0]-u[0],c[1]-u[1]);},rebuildPath:function rebuildPath(t){for(var e,i,n,o,a,r,s=this.data,u=this._ux,c=this._uy,h=this._len,d=0;d<h;){var f=s[d++];switch(1==d&&(n=s[d],o=s[d+1],e=n,i=o),f){case l.M:e=n=s[d++],i=o=s[d++],t.moveTo(n,o);break;case l.L:a=s[d++],r=s[d++],(y(a-n)>u||y(r-o)>c||d===h-1)&&(t.lineTo(a,r),n=a,o=r);break;case l.C:t.bezierCurveTo(s[d++],s[d++],s[d++],s[d++],s[d++],s[d++]),n=s[d-2],o=s[d-1];break;case l.Q:t.quadraticCurveTo(s[d++],s[d++],s[d++],s[d++]),n=s[d-2],o=s[d-1];break;case l.A:var p=s[d++],v=s[d++],x=s[d++],_=s[d++],b=s[d++],w=s[d++],S=s[d++],M=s[d++],I=x>_?x:_,T=x>_?1:x/_,A=x>_?_/x:1,C=Math.abs(x-_)>.001,L=b+w;C?(t.translate(p,v),t.rotate(S),t.scale(T,A),t.arc(0,0,I,b,L,1-M),t.scale(1/T,1/A),t.rotate(-S),t.translate(-p,-v)):t.arc(p,v,I,b,L,1-M),1==d&&(e=g(b)*x+p,i=m(b)*_+v),n=g(L)*x+p,o=m(L)*_+v;break;case l.R:e=n=s[d],i=o=s[d+1],t.rect(s[d++],s[d++],s[d++],s[d++]);break;case l.Z:t.closePath(),n=e,o=i;}}}},_.CMD=l,t.exports=_;},function(t,e,i){"use strict";function n(t){for(var e=0;e<t.length&&null==t[e];){e++;}return t[e];}function o(t){var e=n(t);return null!=e&&!h.isArray(p(e));}function a(t,e,i){t=t||[];var n=e.get("coordinateSystem"),a=m[n],r=f.get(n),s=a&&a(t,e,i),v=s&&s.dimensions;v||(v=r&&(r.getDimensionsInfo?r.getDimensionsInfo():r.dimensions.slice())||["x","y"],v=c(v,t,{defaultNames:v.concat(["value"])}));var y=s?s.categoryIndex:-1,x=new u(v,e),_=l(s,t),b={},w=y>=0&&o(t)?function(t,e,i,n){return d.isDataItemOption(t)&&(x.hasItemOption=!0),n===y?i:g(p(t),v[n]);}:function(t,e,i,n){var o=p(t),a=g(o&&o[n],v[n]);d.isDataItemOption(t)&&(x.hasItemOption=!0);var r=s&&s.categoryAxesModels;return r&&r[e]&&"string"==typeof a&&(b[e]=b[e]||r[e].getCategories(),a=h.indexOf(b[e],a),a<0&&!isNaN(a)&&(a=+a)),a;};return x.hasItemOption=!1,x.initData(t,_,w),x;}function r(t){return"category"!==t&&"time"!==t;}function s(t){return"category"===t?"ordinal":"time"===t?"time":"float";}function l(t,e){var i,n=[],o=t&&t.dimensions[t.categoryIndex];if(o&&(i=t.categoryAxesModels[o.name]),i){var a=i.getCategories();if(a){var r=e.length;if(h.isArray(e[0])&&e[0].length>1){n=[];for(var s=0;s<r;s++){n[s]=a[e[s][t.categoryIndex||0]];}}else n=a.slice(0);}}return n;}var u=i(14),c=i(25),h=i(1),d=i(6),f=i(26),p=d.getDataItemValue,g=d.converDataValue,m={cartesian2d:function cartesian2d(t,e,i){var n=h.map(["xAxis","yAxis"],function(t){return i.queryComponents({mainType:t,index:e.get(t+"Index"),id:e.get(t+"Id")})[0];}),o=n[0],a=n[1],l=o.get("type"),u=a.get("type"),d=[{name:"x",type:s(l),stackable:r(l)},{name:"y",type:s(u),stackable:r(u)}],f="category"===l,p="category"===u;c(d,t,{defaultNames:["x","y","z"]});var g={};return f&&(g.x=o),p&&(g.y=a),{dimensions:d,categoryIndex:f?0:p?1:-1,categoryAxesModels:g};},singleAxis:function singleAxis(t,e,i){var n=i.queryComponents({mainType:"singleAxis",index:e.get("singleAxisIndex"),id:e.get("singleAxisId")})[0],o=n.get("type"),a="category"===o,l=[{name:"single",type:s(o),stackable:r(o)}];c(l,t);var u={};return a&&(u.single=n),{dimensions:l,categoryIndex:a?0:-1,categoryAxesModels:u};},polar:function polar(t,e,i){var n=i.queryComponents({mainType:"polar",index:e.get("polarIndex"),id:e.get("polarId")})[0],o=n.findAxisModel("angleAxis"),a=n.findAxisModel("radiusAxis"),l=a.get("type"),u=o.get("type"),h=[{name:"radius",type:s(l),stackable:r(l)},{name:"angle",type:s(u),stackable:r(u)}],d="category"===u,f="category"===l;c(h,t,{defaultNames:["radius","angle","value"]});var p={};return f&&(p.radius=a),d&&(p.angle=o),{dimensions:h,categoryIndex:d?1:f?0:-1,categoryAxesModels:p};},geo:function geo(t,e,i){return{dimensions:c([{name:"lng"},{name:"lat"}],t,{defaultNames:["lng","lat","value"]})};}};t.exports=a;},function(t,e){"use strict";var i={};t.exports={register:function register(t,e){i[t]=e;},get:function get(t){return i[t];}};},function(t,e,i){function n(){this.group=new r(),this.uid=s.getUID("viewChart");}function o(t,e){if(t&&(t.trigger(e),"group"===t.type))for(var i=0;i<t.childCount();i++){o(t.childAt(i),e);}}function a(t,e,i){var n=u.queryDataIndex(t,e);null!=n?c.each(u.normalizeToArray(n),function(e){o(t.getItemGraphicEl(e),i);}):t.eachItemGraphicEl(function(t){o(t,i);});}var r=i(36),s=i(49),l=i(15),u=i(6),c=i(1);n.prototype={type:"chart",init:function init(t,e){},render:function render(t,e,i,n){},highlight:function highlight(t,e,i,n){a(t.getData(),n,"emphasis");},downplay:function downplay(t,e,i,n){a(t.getData(),n,"normal");},remove:function remove(t,e){this.group.removeAll();},dispose:function dispose(){}};var h=n.prototype;h.updateView=h.updateLayout=h.updateVisual=function(t,e,i,n){this.render(t,e,i,n);},l.enableClassExtend(n,["dispose"]),l.enableClassManagement(n,{registerWhenExtend:!0}),t.exports=n;},function(t,e,i){var n=i(1);t.exports=function(t){for(var e=0;e<t.length;e++){t[e][1]||(t[e][1]=t[e][0]);}return function(e,i){for(var o={},a=0;a<t.length;a++){var r=t[a][1];if(!(e&&n.indexOf(e,r)>=0||i&&n.indexOf(i,r)<0)){var s=this.getShallow(r);null!=s&&(o[t[a][0]]=s);}}return o;};};},function(t,e,i){"use strict";var n=i(3),o=i(1),a=i(2);i(56),i(116),a.extendComponentView({type:"grid",render:function render(t,e){this.group.removeAll(),t.get("show")&&this.group.add(new n.Rect({shape:t.coordinateSystem.getRect(),style:o.defaults({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}));}}),a.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={});});},function(t,e,i){function n(t,e){var i=t[1]-t[0],n=e,o=i/n/2;t[0]+=o,t[1]-=o;}var o=i(4),a=o.linearMap,r=i(1),s=[0,1],l=function l(t,e,i){this.dim=t,this.scale=e,this._extent=i||[0,0],this.inverse=!1,this.onBand=!1;};l.prototype={constructor:l,contain:function contain(t){var e=this._extent,i=Math.min(e[0],e[1]),n=Math.max(e[0],e[1]);return t>=i&&t<=n;},containData:function containData(t){return this.contain(this.dataToCoord(t));},getExtent:function getExtent(){var t=this._extent.slice();return t;},getPixelPrecision:function getPixelPrecision(t){return o.getPixelPrecision(t||this.scale.getExtent(),this._extent);},setExtent:function setExtent(t,e){var i=this._extent;i[0]=t,i[1]=e;},dataToCoord:function dataToCoord(t,e){var i=this._extent,o=this.scale;return t=o.normalize(t),this.onBand&&"ordinal"===o.type&&(i=i.slice(),n(i,o.count())),a(t,s,i,e);},coordToData:function coordToData(t,e){var i=this._extent,o=this.scale;this.onBand&&"ordinal"===o.type&&(i=i.slice(),n(i,o.count()));var r=a(t,i,s,e);return this.scale.scale(r);},pointToData:function pointToData(t,e){},getTicksCoords:function getTicksCoords(t){if(this.onBand&&!t){for(var e=this.getBands(),i=[],n=0;n<e.length;n++){i.push(e[n][0]);}return e[n-1]&&i.push(e[n-1][1]),i;}return r.map(this.scale.getTicks(),this.dataToCoord,this);},getLabelsCoords:function getLabelsCoords(){return r.map(this.scale.getTicks(),this.dataToCoord,this);},getBands:function getBands(){for(var t=this.getExtent(),e=[],i=this.scale.count(),n=t[0],o=t[1],a=o-n,r=0;r<i;r++){e.push([a*r/i+n,a*(r+1)/i+n]);}return e;},getBandWidth:function getBandWidth(){var t=this._extent,e=this.scale.getExtent(),i=e[1]-e[0]+(this.onBand?1:0);0===i&&(i=1);var n=Math.abs(t[1]-t[0]);return Math.abs(n)/i;}},t.exports=l;},function(t,e,i){function n(t){this._setting=t||{},this._extent=[1/0,-(1/0)],this._interval=0,this.init&&this.init.apply(this,arguments);}var o=i(15),a=n.prototype;a.parse=function(t){return t;},a.getSetting=function(t){return this._setting[t];},a.contain=function(t){var e=this._extent;return t>=e[0]&&t<=e[1];},a.normalize=function(t){var e=this._extent;return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0]);},a.scale=function(t){var e=this._extent;return t*(e[1]-e[0])+e[0];},a.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1]);},a.unionExtentFromData=function(t,e){this.unionExtent(t.getDataExtent(e,!0));},a.getExtent=function(){return this._extent.slice();},a.setExtent=function(t,e){var i=this._extent;isNaN(t)||(i[0]=t),isNaN(e)||(i[1]=e);},a.getTicksLabels=function(){for(var t=[],e=this.getTicks(),i=0;i<e.length;i++){t.push(this.getLabel(e[i]));}return t;},a.isBlank=function(){return this._isBlank;},a.setBlank=function(t){this._isBlank=t;},o.enableClassExtend(n),o.enableClassManagement(n,{registerWhenExtend:!0}),t.exports=n;},function(t,e){var i=1;"undefined"!=typeof window&&(i=Math.max(window.devicePixelRatio||1,1));var n={debugMode:0,devicePixelRatio:i};t.exports=n;},function(t,e,i){var n=i(1),o=i(65),a=i(11),r=function r(t){t=t||{},o.call(this,t);for(var e in t){t.hasOwnProperty(e)&&(this[e]=t[e]);}this._children=[],this.__storage=null,this.__dirty=!0;};r.prototype={constructor:r,isGroup:!0,type:"group",silent:!1,children:function children(){return this._children.slice();},childAt:function childAt(t){return this._children[t];},childOfName:function childOfName(t){for(var e=this._children,i=0;i<e.length;i++){if(e[i].name===t)return e[i];}},childCount:function childCount(){return this._children.length;},add:function add(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this;},addBefore:function addBefore(t,e){if(t&&t!==this&&t.parent!==this&&e&&e.parent===this){var i=this._children,n=i.indexOf(e);n>=0&&(i.splice(n,0,t),this._doAdd(t));}return this;},_doAdd:function _doAdd(t){t.parent&&t.parent.remove(t),t.parent=this;var e=this.__storage,i=this.__zr;e&&e!==t.__storage&&(e.addToStorage(t),t instanceof r&&t.addChildrenToStorage(e)),i&&i.refresh();},remove:function remove(t){var e=this.__zr,i=this.__storage,o=this._children,a=n.indexOf(o,t);return a<0?this:(o.splice(a,1),t.parent=null,i&&(i.delFromStorage(t),t instanceof r&&t.delChildrenFromStorage(i)),e&&e.refresh(),this);},removeAll:function removeAll(){var t,e,i=this._children,n=this.__storage;for(e=0;e<i.length;e++){t=i[e],n&&(n.delFromStorage(t),t instanceof r&&t.delChildrenFromStorage(n)),t.parent=null;}return i.length=0,this;},eachChild:function eachChild(t,e){for(var i=this._children,n=0;n<i.length;n++){var o=i[n];t.call(e,o,n);}return this;},traverse:function traverse(t,e){for(var i=0;i<this._children.length;i++){var n=this._children[i];t.call(e,n),"group"===n.type&&n.traverse(t,e);}return this;},addChildrenToStorage:function addChildrenToStorage(t){for(var e=0;e<this._children.length;e++){var i=this._children[e];t.addToStorage(i),i instanceof r&&i.addChildrenToStorage(t);}},delChildrenFromStorage:function delChildrenFromStorage(t){for(var e=0;e<this._children.length;e++){var i=this._children[e];t.delFromStorage(i),i instanceof r&&i.delChildrenFromStorage(t);}},dirty:function dirty(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this;},getBoundingRect:function getBoundingRect(t){for(var e=null,i=new a(0,0,0,0),n=t||this._children,o=[],r=0;r<n.length;r++){var s=n[r];if(!s.ignore&&!s.invisible){var l=s.getBoundingRect(),u=s.getLocalTransform(o);u?(i.copy(l),i.applyTransform(u),e=e||i.clone(),e.union(i)):(e=e||l.clone(),e.union(l));}}return e||i;}},n.inherits(r,o),t.exports=r;},function(t,e){var i={},n="\0__throttleOriginMethod",o="\0__throttleRate",a="\0__throttleType";i.throttle=function(t,e,i){function n(){c=new Date().getTime(),h=null,t.apply(r,s||[]);}var o,a,r,s,l,u=0,c=0,h=null;e=e||0;var d=function d(){o=new Date().getTime(),r=this,s=arguments;var t=l||e,d=l||i;l=null,a=o-(d?u:c)-t,clearTimeout(h),d?h=setTimeout(n,t):a>=0?n():h=setTimeout(n,-a),u=o;};return d.clear=function(){h&&(clearTimeout(h),h=null);},d.debounceNextCall=function(t){l=t;},d;},i.createOrUpdate=function(t,e,r,s){var l=t[e];if(l){var u=l[n]||l,c=l[a],h=l[o];if(h!==r||c!==s){if(null==r||!s)return t[e]=u;l=t[e]=i.throttle(u,r,"debounce"===s),l[n]=u,l[a]=s,l[o]=r;}return l;}},i.clear=function(t,e){var i=t[e];i&&i[n]&&(t[e]=i[n]);},t.exports=i;},function(t,e,i){function n(t){t=t||{},r.call(this,t);for(var e in t){t.hasOwnProperty(e)&&"style"!==e&&(this[e]=t[e]);}this.style=new a(t.style),this._rect=null,this.__clipPaths=[];}var o=i(1),a=i(72),r=i(65),s=i(86);n.prototype={constructor:n,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:-1,beforeBrush:function beforeBrush(t){},afterBrush:function afterBrush(t){},brush:function brush(t,e){},getBoundingRect:function getBoundingRect(){},contain:function contain(t,e){return this.rectContain(t,e);},traverse:function traverse(t,e){t.call(e,this);},rectContain:function rectContain(t,e){var i=this.transformCoordToLocal(t,e),n=this.getBoundingRect();return n.contain(i[0],i[1]);},dirty:function dirty(){this.__dirty=!0,this._rect=null,this.__zr&&this.__zr.refresh();},animateStyle:function animateStyle(t){return this.animate("style",t);},attrKV:function attrKV(t,e){"style"!==t?r.prototype.attrKV.call(this,t,e):this.style.set(e);},setStyle:function setStyle(t,e){return this.style.set(t,e),this.dirty(!1),this;},useStyle:function useStyle(t){return this.style=new a(t),this.dirty(!1),this;}},o.inherits(n,r),o.mixin(n,s),t.exports=n;},function(t,e){var i=function i(t){this.colorStops=t||[];};i.prototype={constructor:i,addColorStop:function addColorStop(t,e){this.colorStops.push({offset:t,color:e});}},t.exports=i;},function(t,e,i){function n(t){var e={componentType:t.mainType};return e[t.mainType+"Index"]=t.componentIndex,e;}function o(t,e,i,n){var o,a,r=f(i-t.rotation),s=n[0]>n[1],l="start"===e&&!s||"start"!==e&&s;return p(r-x/2)?(a=l?"bottom":"top",o="center"):p(r-1.5*x)?(a=l?"top":"bottom",o="center"):(a="middle",o=r<1.5*x&&r>x/2?l?"left":"right":l?"right":"left"),{rotation:r,textAlign:o,textVerticalAlign:a};}function a(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show);}function r(t,e){var i=t.get("axisLabel.showMinLabel"),n=t.get("axisLabel.showMaxLabel"),o=e[0],a=e[1],r=e[e.length-1],l=e[e.length-2];i===!1?o.ignore=!0:null!=t.getMin()&&s(o,a)&&(i?a.ignore=!0:o.ignore=!0),n===!1?r.ignore=!0:null!=t.getMax()&&s(l,r)&&(n?l.ignore=!0:r.ignore=!0);}function s(t,e,i){var n=t&&t.getBoundingRect().clone(),o=e&&e.getBoundingRect().clone();if(n&&o){var a=m.identity([]);return m.rotate(a,a,-t.rotation),n.applyTransform(m.mul([],a,t.getLocalTransform())),o.applyTransform(m.mul([],a,e.getLocalTransform())),n.intersect(o);}}var l=i(1),u=i(7),c=i(3),h=i(10),d=i(4),f=d.remRadian,p=d.isRadianAroundZero,g=i(5),m=i(16),v=g.applyTransform,y=l.retrieve,x=Math.PI,_=function _(t,e){this.opt=e,this.axisModel=t,l.defaults(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new c.Group();var i=new c.Group({position:e.position.slice(),rotation:e.rotation});i.updateTransform(),this._transform=i.transform,this._dumbGroup=i;};_.prototype={constructor:_,hasBuilder:function hasBuilder(t){return!!b[t];},add:function add(t){b[t].call(this);},getGroup:function getGroup(){return this.group;}};var b={axisLine:function axisLine(){var t=this.opt,e=this.axisModel;if(e.get("axisLine.show")){var i=this.axisModel.axis.getExtent(),n=this._transform,o=[i[0],0],a=[i[1],0];n&&(v(o,o,n),v(a,a,n)),this.group.add(new c.Line(c.subPixelOptimizeLine({anid:"line",shape:{x1:o[0],y1:o[1],x2:a[0],y2:a[1]},style:l.extend({lineCap:"round"},e.getModel("axisLine.lineStyle").getLineStyle()),strokeContainThreshold:t.strokeContainThreshold||5,silent:!0,z2:1})));}},axisTick:function axisTick(){var t=this.axisModel,e=t.axis;if(t.get("axisTick.show")&&!e.scale.isBlank())for(var i=t.getModel("axisTick"),n=this.opt,o=i.getModel("lineStyle"),a=i.get("length"),r=M(i,n.labelInterval),s=e.getTicksCoords(i.get("alignWithLabel")),u=e.scale.getTicks(),h=[],d=[],f=this._transform,p=0;p<s.length;p++){if(!S(e,p,r)){var g=s[p];h[0]=g,h[1]=0,d[0]=g,d[1]=n.tickDirection*a,f&&(v(h,h,f),v(d,d,f)),this.group.add(new c.Line(c.subPixelOptimizeLine({anid:"tick_"+u[p],shape:{x1:h[0],y1:h[1],x2:d[0],y2:d[1]},style:l.defaults(o.getLineStyle(),{stroke:t.get("axisLine.lineStyle.color")}),z2:2,silent:!0})));}}},axisLabel:function axisLabel(){var t=this.opt,e=this.axisModel,i=e.axis,o=y(t.axisLabelShow,e.get("axisLabel.show"));if(o&&!i.scale.isBlank()){var s=e.getModel("axisLabel"),u=s.getModel("textStyle"),d=s.get("margin"),f=i.scale.getTicks(),p=e.getFormattedLabels(),g=(y(t.labelRotate,s.get("rotate"))||0)*x/180,m=w(t.rotation,g,t.labelDirection),v=e.get("data"),_=[],b=a(e),M=e.get("triggerEvent");l.each(f,function(o,a){if(!S(i,a,t.labelInterval)){var r=u;v&&v[o]&&v[o].textStyle&&(r=new h(v[o].textStyle,u,e.ecModel));var s=r.getTextColor()||e.get("axisLine.lineStyle.color"),l=i.dataToCoord(o),f=[l,t.labelOffset+t.labelDirection*d],g=i.scale.getLabel(o),y=new c.Text({anid:"label_"+o,style:{text:p[a],textAlign:r.get("align",!0)||m.textAlign,textVerticalAlign:r.get("baseline",!0)||m.textVerticalAlign,textFont:r.getFont(),fill:"function"==typeof s?s("category"===i.type?g:"value"===i.type?o+"":o,a):s},position:f,rotation:m.rotation,silent:b,z2:10});M&&(y.eventData=n(e),y.eventData.targetType="axisLabel",y.eventData.value=g),this._dumbGroup.add(y),y.updateTransform(),_.push(y),this.group.add(y),y.decomposeTransform();}},this),r(e,_);}},axisName:function axisName(){var t=this.opt,e=this.axisModel,i=y(t.axisName,e.get("name"));if(i){var r,s=e.get("nameLocation"),h=t.nameDirection,d=e.getModel("nameTextStyle"),f=e.get("nameGap")||0,p=this.axisModel.axis.getExtent(),g=p[0]>p[1]?-1:1,m=["start"===s?p[0]-g*f:"end"===s?p[1]+g*f:(p[0]+p[1])/2,"middle"===s?t.labelOffset+h*f:0],v=e.get("nameRotate");null!=v&&(v=v*x/180);var _;"middle"===s?r=w(t.rotation,null!=v?v:t.rotation,h):(r=o(t,s,v||0,p),_=t.axisNameAvailableWidth,null!=_&&(_=Math.abs(_/Math.sin(r.rotation)),!isFinite(_)&&(_=null)));var b=d.getFont(),S=e.get("nameTruncate",!0)||{},M=S.ellipsis,I=y(t.nameTruncateMaxWidth,S.maxWidth,_),T=null!=M&&null!=I?u.truncateText(i,I,b,M,{minChar:2,placeholder:S.placeholder}):i,A=e.get("tooltip",!0),C=e.mainType,L={componentType:C,name:i,$vars:["name"]};L[C+"Index"]=e.componentIndex;var D=new c.Text({anid:"name",__fullText:i,__truncatedText:T,style:{text:T,textFont:b,fill:d.getTextColor()||e.get("axisLine.lineStyle.color"),textAlign:r.textAlign,textVerticalAlign:r.textVerticalAlign},position:m,rotation:r.rotation,silent:a(e),z2:1,tooltip:A&&A.show?l.extend({content:i,formatter:function formatter(){return i;},formatterParams:L},A):null});e.get("triggerEvent")&&(D.eventData=n(e),D.eventData.targetType="axisName",D.eventData.name=i),this._dumbGroup.add(D),D.updateTransform(),this.group.add(D),D.decomposeTransform();}}},w=_.innerTextLayout=function(t,e,i){var n,o,a=f(e-t);return p(a)?(o=i>0?"top":"bottom",n="center"):p(a-x)?(o=i>0?"bottom":"top",n="center"):(o="middle",n=a>0&&a<x?i>0?"right":"left":i>0?"left":"right"),{rotation:a,textAlign:n,textVerticalAlign:o};},S=_.ifIgnoreOnTick=function(t,e,i){var n,o=t.scale;return"ordinal"===o.type&&("function"==typeof i?(n=o.getTicks()[e],!i(n,o.getLabel(n))):e%(i+1));},M=_.getInterval=function(t,e){var i=t.get("interval");return null!=i&&"auto"!=i||(i=e),i;};t.exports=_;},function(t,e,i){function n(t,e,i,n,s,l){var u=r.getAxisPointerClass(t.axisPointerClass);if(u){var c=a.getAxisPointerModel(e);c?(t._axisPointer||(t._axisPointer=new u())).render(e,c,n,l):o(t,n);}}function o(t,e,i){var n=t._axisPointer;n&&n.dispose(e,i),t._axisPointer=null;}var a=i(45),r=i(2).extendComponentView({type:"axis",_axisPointer:null,axisPointerClass:null,render:function render(t,e,i,o){this.axisPointerClass&&a.fixValue(t),r.superApply(this,"render",arguments),n(this,t,e,i,o,!0);},updateAxisPointer:function updateAxisPointer(t,e,i,o,a){n(this,t,e,i,o,!1);},remove:function remove(t,e){var i=this._axisPointer;i&&i.remove(e),r.superApply(this,"remove",arguments);},dispose:function dispose(t,e){o(this,e),r.superApply(this,"dispose",arguments);}}),s=[];r.registerAxisPointerClass=function(t,e){s[t]=e;},r.getAxisPointerClass=function(t){return t&&s[t];},t.exports=r;},function(t,e,i){function n(t){return o.isObject(t)&&null!=t.value?t.value:t;}var o=i(1),a=i(18);t.exports={getFormattedLabels:function getFormattedLabels(){return a.getFormattedLabels(this.axis,this.get("axisLabel.formatter"));},getCategories:function getCategories(){return"category"===this.get("type")&&o.map(this.get("data"),n);},getMin:function getMin(t){var e=this.option,i=t||null==e.rangeStart?e.min:e.rangeStart;return this.axis&&null!=i&&"dataMin"!==i&&!o.eqNaN(i)&&(i=this.axis.scale.parse(i)),i;},getMax:function getMax(t){var e=this.option,i=t||null==e.rangeEnd?e.max:e.rangeEnd;return this.axis&&null!=i&&"dataMax"!==i&&!o.eqNaN(i)&&(i=this.axis.scale.parse(i)),i;},getNeedCrossZero:function getNeedCrossZero(){var t=this.option;return null==t.rangeStart&&null==t.rangeEnd&&!t.scale;},getCoordSysModel:o.noop,setRange:function setRange(t,e){this.option.rangeStart=t,this.option.rangeEnd=e;},resetRange:function resetRange(){this.option.rangeStart=this.option.rangeEnd=null;}};},function(t,e,i){var n=i(4),o=i(7),a=i(34),r=i(63),s=n.round,l=a.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function setExtent(t,e){var i=this._extent;isNaN(t)||(i[0]=parseFloat(t)),isNaN(e)||(i[1]=parseFloat(e));},unionExtent:function unionExtent(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1]),l.prototype.setExtent.call(this,e[0],e[1]);},getInterval:function getInterval(){return this._interval||this.niceTicks(),this._interval;},setInterval:function setInterval(t){this._interval=t,this._niceExtent=this._extent.slice();},getTicks:function getTicks(){return this._interval||this.niceTicks(),r.intervalScaleGetTicks(this._interval,this._extent,this._niceExtent,this._intervalPrecision);},getTicksLabels:function getTicksLabels(){for(var t=[],e=this.getTicks(),i=0;i<e.length;i++){t.push(this.getLabel(e[i]));}return t;},getLabel:function getLabel(t,e){if(null==t)return"";var i=e&&e.precision;return null==i?i=n.getPrecisionSafe(t)||0:"auto"===i&&(i=this._intervalPrecision),t=s(t,i,!0),o.addCommas(t);},niceTicks:function niceTicks(t){t=t||5;var e=this._extent,i=e[1]-e[0];if(isFinite(i)){i<0&&(i=-i,e.reverse());var n=r.intervalScaleNiceTicks(e,t);this._intervalPrecision=n.intervalPrecision,this._interval=n.interval,this._niceExtent=n.niceTickExtent;}},niceExtent:function niceExtent(t,e,i){var n=this._extent;if(n[0]===n[1])if(0!==n[0]){var o=n[0];i?n[0]-=o/2:(n[1]+=o/2,n[0]-=o/2);}else n[1]=1;var a=n[1]-n[0];isFinite(a)||(n[0]=0,n[1]=1),this.niceTicks(t);var r=this._interval;e||(n[0]=s(Math.floor(n[0]/r)*r)),i||(n[1]=s(Math.ceil(n[1]/r)*r));}});l.create=function(){return new l();},t.exports=l;},function(t,e,i){function n(t){this.group=new a.Group(),this._symbolCtor=t||r;}function o(t,e,i){var n=t.getItemLayout(e);return n&&!isNaN(n[0])&&!isNaN(n[1])&&!(i&&i(e))&&"none"!==t.getItemVisual(e,"symbol");}var a=i(3),r=i(54),s=n.prototype;s.updateData=function(t,e){var i=this.group,n=t.hostModel,r=this._data,s=this._symbolCtor,l={itemStyle:n.getModel("itemStyle.normal").getItemStyle(["color"]),hoverItemStyle:n.getModel("itemStyle.emphasis").getItemStyle(),symbolRotate:n.get("symbolRotate"),symbolOffset:n.get("symbolOffset"),hoverAnimation:n.get("hoverAnimation"),labelModel:n.getModel("label.normal"),hoverLabelModel:n.getModel("label.emphasis")};t.diff(r).add(function(n){var a=t.getItemLayout(n);if(o(t,n,e)){var r=new s(t,n,l);r.attr("position",a),t.setItemGraphicEl(n,r),i.add(r);}}).update(function(u,c){var h=r.getItemGraphicEl(c),d=t.getItemLayout(u);return o(t,u,e)?(h?(h.updateData(t,u,l),a.updateProps(h,{position:d},n)):(h=new s(t,u),h.attr("position",d)),i.add(h),void t.setItemGraphicEl(u,h)):void i.remove(h);}).remove(function(t){var e=r.getItemGraphicEl(t);e&&e.fadeOut(function(){i.remove(e);});}).execute(),this._data=t;},s.updateLayout=function(){var t=this._data;t&&t.eachItemGraphicEl(function(e,i){var n=t.getItemLayout(i);e.attr("position",n);});},s.remove=function(t){var e=this.group,i=this._data;i&&(t?i.eachItemGraphicEl(function(t){t.fadeOut(function(){e.remove(t);});}):e.removeAll());},t.exports=n;},function(t,e,i){function n(t,e,i){var n=e.getComponent("tooltip"),a=e.getComponent("axisPointer"),s=a.get("link",!0)||[],u=[];h(i.getCoordinateSystems(),function(i){function c(n,c,h){var d=h.model.getModel("axisPointer",a),f=d.get("show");if(f&&("auto"!==f||n||l(d))){null==c&&(c=d.get("triggerTooltip")),d=n?o(h,v,a,e,n,c):d;var m=d.get("snap"),y=p(h.model),x=c||m||"category"===h.type,_=t.axesInfo[y]={key:y,axis:h,coordSys:i,axisPointerModel:d,triggerTooltip:c,involveSeries:x,snap:m,useHandle:l(d),seriesModels:[]};g[y]=_,t.seriesInvolved|=x;var b=r(s,h);if(null!=b){var w=u[b]||(u[b]={axesInfo:{}});w.axesInfo[y]=_,w.mapper=s[b].mapper,_.linkGroup=w;}}}if(i.axisPointerEnabled){var f=p(i.model),g=t.coordSysAxesInfo[f]={};t.coordSysMap[f]=i;var m=i.model,v=m.getModel("tooltip",n);if(h(i.getAxes(),d(c,!1,null)),i.getTooltipAxes&&n&&v.get("show")){var y="axis"===v.get("trigger"),x="cross"===v.get("axisPointer.type"),_=i.getTooltipAxes(v.get("axisPointer.axis"));(y||x)&&h(_.baseAxes,d(c,!x||"cross",y)),x&&h(_.otherAxes,d(c,"cross",!1));}}});}function o(t,e,i,n,o,a){var r=e.getModel("axisPointer"),s={};h(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(t){s[t]=u.clone(r.get(t));}),s.snap="category"!==t.type&&!!a,"cross"===r.get("type")&&(s.type="line");var l=s.label||(s.label={});if(null==l.show&&(l.show=!1),"cross"===o&&(l.show=!0,!a)){var d=s.lineStyle=r.get("crossStyle");d&&u.defaults(l.textStyle||(l.textStyle={}),d.textStyle);}return t.model.getModel("axisPointer",new c(s,i,n));}function a(t,e){e.eachSeries(function(e){var i=e.coordinateSystem,n=e.get("tooltip.trigger",!0);i&&"none"!==n&&n!==!1&&"item"!==n&&e.get("axisPointer.show",!0)!==!1&&h(t.coordSysAxesInfo[p(i.model)],function(t){var n=t.axis;i.getAxis(n.dim)===n&&(t.seriesModels.push(e),null==t.seriesDataCount&&(t.seriesDataCount=0),t.seriesDataCount+=e.getData().count());});},this);}function r(t,e){for(var i=e.model,n=e.dim,o=0;o<t.length;o++){var a=t[o]||{};if(s(a[n+"AxisId"],i.id)||s(a[n+"AxisIndex"],i.componentIndex)||s(a[n+"AxisName"],i.name))return o;}}function s(t,e){return"all"===t||u.isArray(t)&&u.indexOf(t,e)>=0||t===e;}function l(t){return!!t.get("handle.show");}var u=i(1),c=i(10),h=u.each,d=u.curry,f={};f.collect=function(t,e){var i={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return n(i,t,e),i.seriesInvolved&&a(i,t),i;},f.fixValue=function(t){var e=f.getAxisInfo(t);if(e){var i=e.axisPointerModel,n=e.axis.scale,o=i.option,a=i.get("status"),r=i.get("value");null!=r&&(r=n.parse(r));var s=l(i);null==a&&(o.status=s?"show":"hide");var u=n.getExtent().slice();u[0]>u[1]&&u.reverse(),(null==r||r>u[1])&&(r=u[1]),r<u[0]&&(r=u[0]),o.value=r,s&&(o.status=e.axis.scale.isBlank()?"hide":"show");}},f.getAxisInfo=function(t){var e=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[p(t)];},f.getAxisPointerModel=function(t){var e=f.getAxisInfo(t);return e&&e.axisPointerModel;};var p=f.makeKey=function(t){return t.type+"||"+t.id;};t.exports=f;},function(t,e,i){function n(t){var e={};return h(["start","end","startValue","endValue","throttle"],function(i){t.hasOwnProperty(i)&&(e[i]=t[i]);}),e;}function o(t,e){h([["start","startValue"],["end","endValue"]],function(i,n){var o=t._rangePropMode;null!=e[i[0]]?o[n]="percent":null!=e[i[1]]&&(o[n]="value");});}var a=i(1),r=i(9),s=i(2),l=i(6),u=i(76),c=i(198),h=a.each,d=u.eachAxisDim,f=s.extendComponentModel({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null},init:function init(t,e,i){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this.textStyleModel,this._autoThrottle=!0,this._rangePropMode=["percent","percent"];var o=n(t);this.mergeDefaultAndTheme(t,i),this.doInit(o);},mergeOption:function mergeOption(t){var e=n(t);a.merge(this.option,t,!0),this.doInit(e);},doInit:function doInit(t){var e=this.option;r.canvasSupported||(e.realtime=!1),this._setDefaultThrottle(t),o(this,t),h([["start","startValue"],["end","endValue"]],function(t,i){"value"===this._rangePropMode[i]&&(e[t[0]]=null);},this),this.textStyleModel=this.getModel("textStyle"),this._resetTarget(),this._giveAxisProxies();},_giveAxisProxies:function _giveAxisProxies(){var t=this._axisProxies;this.eachTargetAxis(function(e,i,n,o){var a=this.dependentModels[e.axis][i],r=a.__dzAxisProxy||(a.__dzAxisProxy=new c(e.name,i,this,o));t[e.name+"_"+i]=r;},this);},_resetTarget:function _resetTarget(){var t=this.option,e=this._judgeAutoMode();d(function(e){var i=e.axisIndex;t[i]=l.normalizeToArray(t[i]);},this),"axisIndex"===e?this._autoSetAxisIndex():"orient"===e&&this._autoSetOrient();},_judgeAutoMode:function _judgeAutoMode(){var t=this.option,e=!1;d(function(i){null!=t[i.axisIndex]&&(e=!0);},this);var i=t.orient;return null==i&&e?"orient":e?void 0:(null==i&&(t.orient="horizontal"),"axisIndex");},_autoSetAxisIndex:function _autoSetAxisIndex(){var t=!0,e=this.get("orient",!0),i=this.option,n=this.dependentModels;if(t){var o="vertical"===e?"y":"x";n[o+"Axis"].length?(i[o+"AxisIndex"]=[0],t=!1):h(n.singleAxis,function(n){t&&n.get("orient",!0)===e&&(i.singleAxisIndex=[n.componentIndex],t=!1);});}t&&d(function(e){if(t){var n=[],o=this.dependentModels[e.axis];if(o.length&&!n.length)for(var a=0,r=o.length;a<r;a++){"category"===o[a].get("type")&&n.push(a);}i[e.axisIndex]=n,n.length&&(t=!1);}},this),t&&this.ecModel.eachSeries(function(t){this._isSeriesHasAllAxesTypeOf(t,"value")&&d(function(e){var n=i[e.axisIndex],o=t.get(e.axisIndex),r=t.get(e.axisId),s=t.ecModel.queryComponents({mainType:e.axis,index:o,id:r})[0];o=s.componentIndex,a.indexOf(n,o)<0&&n.push(o);});},this);},_autoSetOrient:function _autoSetOrient(){var t;this.eachTargetAxis(function(e){!t&&(t=e.name);},this),this.option.orient="y"===t?"vertical":"horizontal";},_isSeriesHasAllAxesTypeOf:function _isSeriesHasAllAxesTypeOf(t,e){var i=!0;return d(function(n){var o=t.get(n.axisIndex),a=this.dependentModels[n.axis][o];a&&a.get("type")===e||(i=!1);},this),i;},_setDefaultThrottle:function _setDefaultThrottle(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var e=this.ecModel.option;this.option.throttle=e.animation&&e.animationDurationUpdate>0?100:20;}},getFirstTargetAxisModel:function getFirstTargetAxisModel(){var t;return d(function(e){if(null==t){var i=this.get(e.axisIndex);i.length&&(t=this.dependentModels[e.axis][i[0]]);}},this),t;},eachTargetAxis:function eachTargetAxis(t,e){var i=this.ecModel;d(function(n){h(this.get(n.axisIndex),function(o){t.call(e,n,o,this,i);},this);},this);},getAxisProxy:function getAxisProxy(t,e){return this._axisProxies[t+"_"+e];},getAxisModel:function getAxisModel(t,e){var i=this.getAxisProxy(t,e);return i&&i.getAxisModel();},setRawRange:function setRawRange(t,e){h(["start","end","startValue","endValue"],function(e){this.option[e]=t[e];},this),!e&&o(this,t);},getPercentRange:function getPercentRange(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow();},getValueRange:function getValueRange(t,e){if(null!=t||null!=e)return this.getAxisProxy(t,e).getDataValueWindow();var i=this.findRepresentativeAxisProxy();return i?i.getDataValueWindow():void 0;},findRepresentativeAxisProxy:function findRepresentativeAxisProxy(){var t=this._axisProxies;for(var e in t){if(t.hasOwnProperty(e)&&t[e].hostedBy(this))return t[e];}for(var e in t){if(t.hasOwnProperty(e)&&!t[e].hostedBy(this))return t[e];}},getRangePropMode:function getRangePropMode(){return this._rangePropMode.slice();}});t.exports=f;},function(t,e,i){var n=i(64);t.exports=n.extend({type:"dataZoom",render:function render(t,e,i,n){this.dataZoomModel=t,this.ecModel=e,this.api=i;},getTargetCoordInfo:function getTargetCoordInfo(){function t(t,e,i,n){for(var o,a=0;a<i.length;a++){if(i[a].model===t){o=i[a];break;}}o||i.push(o={model:t,axisModels:[],coordIndex:n}),o.axisModels.push(e);}var e=this.dataZoomModel,i=this.ecModel,n={};return e.eachTargetAxis(function(e,o){var a=i.getComponent(e.axis,o);if(a){var r=a.getCoordSysModel();r&&t(r,a,n[r.mainType]||(n[r.mainType]=[]),r.componentIndex);}},this),n;}});},function(t,e){"use strict";function i(t){return t;}function n(t,e,n,o){this._old=t,this._new=e,this._oldKeyGetter=n||i,this._newKeyGetter=o||i;}function o(t,e,i,n){for(var o=0;o<t.length;o++){var a=n(t[o],o),r=e[a];null==r?(i.push(a),e[a]=o):(r.length||(e[a]=r=[r]),r.push(o));}}n.prototype={constructor:n,add:function add(t){return this._add=t,this;},update:function update(t){return this._update=t,this;},remove:function remove(t){return this._remove=t,this;},execute:function execute(){var t,e=this._old,i=this._new,n=this._oldKeyGetter,a=this._newKeyGetter,r={},s={},l=[],u=[];for(o(e,r,l,n),o(i,s,u,a),t=0;t<e.length;t++){var c=l[t],h=s[c];if(null!=h){var d=h.length;d?(1===d&&(s[c]=null),h=h.unshift()):s[c]=null,this._update&&this._update(h,t);}else this._remove&&this._remove(t);}for(var t=0;t<u.length;t++){var c=u[t];if(s.hasOwnProperty(c)){var h=s[c];if(null==h)continue;if(h.length)for(var f=0,d=h.length;f<d;f++){this._add&&this._add(h[f]);}else this._add&&this._add(h);}}}},t.exports=n;},function(t,e,i){var n=i(1),o=i(15),a=o.parseClassType,r=0,s={},l="_";s.getUID=function(t){return[t||"",r++,Math.random()].join(l);},s.enableSubTypeDefaulter=function(t){var e={};return t.registerSubTypeDefaulter=function(t,i){t=a(t),e[t.main]=i;},t.determineSubType=function(i,n){var o=n.type;if(!o){var r=a(i).main;t.hasSubTypes(i)&&e[r]&&(o=e[r](n));}return o;},t;},s.enableTopologicalTravel=function(t,e){function i(t){var i={},r=[];return n.each(t,function(s){var l=o(i,s),u=l.originalDeps=e(s),c=a(u,t);l.entryCount=c.length,0===l.entryCount&&r.push(s),n.each(c,function(t){n.indexOf(l.predecessor,t)<0&&l.predecessor.push(t);var e=o(i,t);n.indexOf(e.successor,t)<0&&e.successor.push(s);});}),{graph:i,noEntryList:r};}function o(t,e){return t[e]||(t[e]={predecessor:[],successor:[]}),t[e];}function a(t,e){var i=[];return n.each(t,function(t){n.indexOf(e,t)>=0&&i.push(t);}),i;}t.topologicalTravel=function(t,e,o,a){function r(t){u[t].entryCount--,0===u[t].entryCount&&c.push(t);}function s(t){h[t]=!0,r(t);}if(t.length){var l=i(e),u=l.graph,c=l.noEntryList,h={};for(n.each(t,function(t){h[t]=!0;});c.length;){var d=c.pop(),f=u[d],p=!!h[d];p&&(o.call(a,d,f.originalDeps.slice()),delete h[d]),n.each(f.successor,p?s:r);}n.each(h,function(){throw new Error("Circle dependency may exists");});}};},t.exports=s;},function(t,e){t.exports=function(t,e,i,n,o){n.eachRawSeriesByType(t,function(t){var o=t.getData(),a=t.get("symbol")||e,r=t.get("symbolSize");o.setVisual({legendSymbol:i||a,symbol:a,symbolSize:r}),n.isSeriesFiltered(t)||("function"==typeof r&&o.each(function(e){var i=t.getRawValue(e),n=t.getDataParams(e);o.setItemVisual(e,"symbolSize",r(i,n));}),o.each(function(t){var e=o.getItemModel(t),i=e.getShallow("symbol",!0),n=e.getShallow("symbolSize",!0);null!=i&&o.setItemVisual(t,"symbol",i),null!=n&&o.setItemVisual(t,"symbolSize",n);}));});};},function(t,e){function i(t){for(var e=0;t>=c;){e|=1&t,t>>=1;}return t+e;}function n(t,e,i,n){var a=e+1;if(a===i)return 1;if(n(t[a++],t[e])<0){for(;a<i&&n(t[a],t[a-1])<0;){a++;}o(t,e,a);}else for(;a<i&&n(t[a],t[a-1])>=0;){a++;}return a-e;}function o(t,e,i){for(i--;e<i;){var n=t[e];t[e++]=t[i],t[i--]=n;}}function a(t,e,i,n,o){for(n===e&&n++;n<i;n++){for(var a,r=t[n],s=e,l=n;s<l;){a=s+l>>>1,o(r,t[a])<0?l=a:s=a+1;}var u=n-s;switch(u){case 3:t[s+3]=t[s+2];case 2:t[s+2]=t[s+1];case 1:t[s+1]=t[s];break;default:for(;u>0;){t[s+u]=t[s+u-1],u--;}}t[s]=r;}}function r(t,e,i,n,o,a){var r=0,s=0,l=1;if(a(t,e[i+o])>0){for(s=n-o;l<s&&a(t,e[i+o+l])>0;){r=l,l=(l<<1)+1,l<=0&&(l=s);}l>s&&(l=s),r+=o,l+=o;}else{for(s=o+1;l<s&&a(t,e[i+o-l])<=0;){r=l,l=(l<<1)+1,l<=0&&(l=s);}l>s&&(l=s);var u=r;r=o-l,l=o-u;}for(r++;r<l;){var c=r+(l-r>>>1);a(t,e[i+c])>0?r=c+1:l=c;}return l;}function s(t,e,i,n,o,a){var r=0,s=0,l=1;if(a(t,e[i+o])<0){for(s=o+1;l<s&&a(t,e[i+o-l])<0;){r=l,l=(l<<1)+1,l<=0&&(l=s);}l>s&&(l=s);var u=r;r=o-l,l=o-u;}else{for(s=n-o;l<s&&a(t,e[i+o+l])>=0;){r=l,l=(l<<1)+1,l<=0&&(l=s);}l>s&&(l=s),r+=o,l+=o;}for(r++;r<l;){var c=r+(l-r>>>1);a(t,e[i+c])<0?l=c:r=c+1;}return l;}function l(t,e){function i(t,e){c[y]=t,f[y]=e,y+=1;}function n(){for(;y>1;){var t=y-2;if(t>=1&&f[t-1]<=f[t]+f[t+1]||t>=2&&f[t-2]<=f[t]+f[t-1])f[t-1]<f[t+1]&&t--;else if(f[t]>f[t+1])break;a(t);}}function o(){for(;y>1;){var t=y-2;t>0&&f[t-1]<f[t+1]&&t--,a(t);}}function a(i){var n=c[i],o=f[i],a=c[i+1],h=f[i+1];f[i]=o+h,i===y-3&&(c[i+1]=c[i+2],f[i+1]=f[i+2]),y--;var d=s(t[a],t,n,o,0,e);n+=d,o-=d,0!==o&&(h=r(t[n+o-1],t,a,h,h-1,e),0!==h&&(o<=h?l(n,o,a,h):u(n,o,a,h)));}function l(i,n,o,a){var l=0;for(l=0;l<n;l++){x[l]=t[i+l];}var u=0,c=o,d=i;if(t[d++]=t[c++],0!==--a){if(1===n){for(l=0;l<a;l++){t[d+l]=t[c+l];}return void(t[d+a]=x[u]);}for(var f,g,m,v=p;;){f=0,g=0,m=!1;do{if(e(t[c],x[u])<0){if(t[d++]=t[c++],g++,f=0,0===--a){m=!0;break;}}else if(t[d++]=x[u++],f++,g=0,1===--n){m=!0;break;}}while((f|g)<v);if(m)break;do{if(f=s(t[c],x,u,n,0,e),0!==f){for(l=0;l<f;l++){t[d+l]=x[u+l];}if(d+=f,u+=f,n-=f,n<=1){m=!0;break;}}if(t[d++]=t[c++],0===--a){m=!0;break;}if(g=r(x[u],t,c,a,0,e),0!==g){for(l=0;l<g;l++){t[d+l]=t[c+l];}if(d+=g,c+=g,a-=g,0===a){m=!0;break;}}if(t[d++]=x[u++],1===--n){m=!0;break;}v--;}while(f>=h||g>=h);if(m)break;v<0&&(v=0),v+=2;}if(p=v,p<1&&(p=1),1===n){for(l=0;l<a;l++){t[d+l]=t[c+l];}t[d+a]=x[u];}else{if(0===n)throw new Error();for(l=0;l<n;l++){t[d+l]=x[u+l];}}}else for(l=0;l<n;l++){t[d+l]=x[u+l];}}function u(i,n,o,a){var l=0;for(l=0;l<a;l++){x[l]=t[o+l];}var u=i+n-1,c=a-1,d=o+a-1,f=0,g=0;if(t[d--]=t[u--],0!==--n){if(1===a){for(d-=n,u-=n,g=d+1,f=u+1,l=n-1;l>=0;l--){t[g+l]=t[f+l];}return void(t[d]=x[c]);}for(var m=p;;){var v=0,y=0,_=!1;do{if(e(x[c],t[u])<0){if(t[d--]=t[u--],v++,y=0,0===--n){_=!0;break;}}else if(t[d--]=x[c--],y++,v=0,1===--a){_=!0;break;}}while((v|y)<m);if(_)break;do{if(v=n-s(x[c],t,i,n,n-1,e),0!==v){for(d-=v,u-=v,n-=v,g=d+1,f=u+1,l=v-1;l>=0;l--){t[g+l]=t[f+l];}if(0===n){_=!0;break;}}if(t[d--]=x[c--],1===--a){_=!0;break;}if(y=a-r(t[u],x,0,a,a-1,e),0!==y){for(d-=y,c-=y,a-=y,g=d+1,f=c+1,l=0;l<y;l++){t[g+l]=x[f+l];}if(a<=1){_=!0;break;}}if(t[d--]=t[u--],0===--n){_=!0;break;}m--;}while(v>=h||y>=h);if(_)break;m<0&&(m=0),m+=2;}if(p=m,p<1&&(p=1),1===a){for(d-=n,u-=n,g=d+1,f=u+1,l=n-1;l>=0;l--){t[g+l]=t[f+l];}t[d]=x[c];}else{if(0===a)throw new Error();for(f=d-(a-1),l=0;l<a;l++){t[f+l]=x[l];}}}else for(f=d-(a-1),l=0;l<a;l++){t[f+l]=x[l];}}var c,f,p=h,g=0,m=d,v=0,y=0;g=t.length,g<2*d&&(m=g>>>1);var x=[];v=g<120?5:g<1542?10:g<119151?19:40,c=[],f=[],this.mergeRuns=n,this.forceMergeRuns=o,this.pushRun=i;}function u(t,e,o,r){o||(o=0),r||(r=t.length);var s=r-o;if(!(s<2)){var u=0;if(s<c)return u=n(t,o,r,e),void a(t,o,r,o+u,e);var h=new l(t,e),d=i(s);do{if(u=n(t,o,r,e),u<d){var f=s;f>d&&(f=d),a(t,o,o+f,o+u,e),u=f;}h.pushRun(o,u),h.mergeRuns(),s-=u,o+=u;}while(0!==s);h.forceMergeRuns();}}var c=32,h=7,d=256;t.exports=u;},function(t,e,i){var n=i(35);t.exports=function(){if(0!==n.debugMode)if(1==n.debugMode)for(var t in arguments){throw new Error(arguments[t]);}else if(n.debugMode>1)for(var t in arguments){console.log(arguments[t]);}};},function(t,e,i){function n(t){o.call(this,t);}var o=i(38),a=i(11),r=i(1),s=i(69),l=new s(50);n.prototype={constructor:n,type:"image",brush:function brush(t,e){var i,n=this.style,o=n.image;if(n.bind(t,this,e),i="string"==typeof o?this._image:o,!i&&o){var a=l.get(o);if(!a)return i=new Image(),i.onload=function(){i.onload=null;for(var t=0;t<a.pending.length;t++){a.pending[t].dirty();}},a={image:i,pending:[this]},i.src=o,l.put(o,a),void(this._image=i);if(i=a.image,this._image=i,!i.width||!i.height)return void a.pending.push(this);}if(i){var r=n.x||0,s=n.y||0;if(!i.width||!i.height)return;var u=n.width,c=n.height,h=i.width/i.height;if(null==u&&null!=c?u=c*h:null==c&&null!=u?c=u/h:null==u&&null==c&&(u=i.width,c=i.height),this.setTransform(t),n.sWidth&&n.sHeight){var d=n.sx||0,f=n.sy||0;t.drawImage(i,d,f,n.sWidth,n.sHeight,r,s,u,c);}else if(n.sx&&n.sy){var d=n.sx,f=n.sy,p=u-d,g=c-f;t.drawImage(i,d,f,p,g,r,s,u,c);}else t.drawImage(i,r,s,u,c);this.restoreTransform(t),null!=n.text&&this.drawRectText(t,this.getBoundingRect());}},getBoundingRect:function getBoundingRect(){var t=this.style;return this._rect||(this._rect=new a(t.x||0,t.y||0,t.width||0,t.height||0)),this._rect;}},r.inherits(n,o),t.exports=n;},function(t,e,i){function n(t,e){var i=t.getItemVisual(e,"symbolSize");return i instanceof Array?i.slice():[+i,+i];}function o(t){return[t[0]/2,t[1]/2];}function a(t,e,i){u.Group.call(this),this.updateData(t,e,i);}function r(t,e){this.parent.drift(t,e);}var s=i(1),l=i(24),u=i(3),c=i(4),h=a.prototype;h._createSymbol=function(t,e,i,n){this.removeAll();var a=e.hostModel,s=e.getItemVisual(i,"color"),c=l.createSymbol(t,-1,-1,2,2,s);c.attr({z2:100,culling:!0,scale:[0,0]}),c.drift=r,u.initProps(c,{scale:o(n)},a,i),this._symbolType=t,this.add(c);},h.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(t);},h.getSymbolPath=function(){return this.childAt(0);},h.getScale=function(){return this.childAt(0).scale;},h.highlight=function(){this.childAt(0).trigger("emphasis");},h.downplay=function(){this.childAt(0).trigger("normal");},h.setZ=function(t,e){var i=this.childAt(0);i.zlevel=t,i.z=e;},h.setDraggable=function(t){var e=this.childAt(0);e.draggable=t,e.cursor=t?"move":"pointer";},h.updateData=function(t,e,i){this.silent=!1;var a=t.getItemVisual(e,"symbol")||"circle",r=t.hostModel,s=n(t,e);if(a!==this._symbolType)this._createSymbol(a,t,e,s);else{var l=this.childAt(0);l.silent=!1,u.updateProps(l,{scale:o(s)},r,e);}this._updateCommon(t,e,s,i),this._seriesModel=r;};var d=["itemStyle","normal"],f=["itemStyle","emphasis"],p=["label","normal"],g=["label","emphasis"];h._updateCommon=function(t,e,i,n){var a=this.childAt(0),r=t.hostModel,l=t.getItemVisual(e,"color");"image"!==a.type&&a.useStyle({strokeNoScale:!0}),n=n||null;var h=n&&n.itemStyle,m=n&&n.hoverItemStyle,v=n&&n.symbolRotate,y=n&&n.symbolOffset,x=n&&n.labelModel,_=n&&n.hoverLabelModel,b=n&&n.hoverAnimation;if(!n||t.hasItemOption){var w=t.getItemModel(e);h=w.getModel(d).getItemStyle(["color"]),m=w.getModel(f).getItemStyle(),v=w.getShallow("symbolRotate"),y=w.getShallow("symbolOffset"),x=w.getModel(p),_=w.getModel(g),b=w.getShallow("hoverAnimation");}else m=s.extend({},m);var S=a.style;a.attr("rotation",(v||0)*Math.PI/180||0),y&&a.attr("position",[c.parsePercent(y[0],i[0]),c.parsePercent(y[1],i[1])]),a.setColor(l),a.setStyle(h);var M=t.getItemVisual(e,"opacity");null!=M&&(S.opacity=M);for(var I,T,A=t.dimensions.slice();A.length&&(I=A.pop(),T=t.getDimensionInfo(I).type,"ordinal"===T||"time"===T);){}null!=I&&x.getShallow("show")?(u.setText(S,x,l),S.text=s.retrieve(r.getFormattedLabel(e,"normal"),t.get(I,e))):S.text="",null!=I&&_.getShallow("show")?(u.setText(m,_,l),m.text=s.retrieve(r.getFormattedLabel(e,"emphasis"),t.get(I,e))):m.text="",a.off("mouseover").off("mouseout").off("emphasis").off("normal"),a.hoverStyle=m,u.setHoverStyle(a);var C=o(i);if(b&&r.isAnimationEnabled()){var L=function L(){var t=C[1]/C[0];this.animateTo({scale:[Math.max(1.1*C[0],C[0]+3),Math.max(1.1*C[1],C[1]+3*t)]},400,"elasticOut");},D=function D(){this.animateTo({scale:C},400,"elasticOut");};a.on("mouseover",L).on("mouseout",D).on("emphasis",L).on("normal",D);}},h.fadeOut=function(t){var e=this.childAt(0);this.silent=e.silent=!0,e.style.text="",u.updateProps(e,{scale:[0,0]},this._seriesModel,this.dataIndex,t);},s.inherits(a,u.Group),t.exports=a;},function(t,e,i){var n=i(2),o=i(45),a=i(196),r=i(1);i(194),i(195),i(119),n.registerPreprocessor(function(t){if(t){(!t.axisPointer||0===t.axisPointer.length)&&(t.axisPointer={});var e=t.axisPointer.link;e&&!r.isArray(e)&&(t.axisPointer.link=[e]);}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=o.collect(t,e);}),n.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},function(t,e,i){var n=a(e.getComponent("axisPointer").coordSysAxesInfo,t.currTrigger,[t.x,t.y],t,t.dispatchAction||r.bind(i.dispatchAction,i),e,i,t.tooltipOption,t.highDownKey);return n;});},function(t,e,i){function n(t,e,i){return t.getCoordSysModel()===e;}function o(t){var e,i=t.model,n=i.getFormattedLabels(),o=i.getModel("axisLabel.textStyle"),a=1,r=n.length;r>40&&(a=Math.ceil(r/40));for(var s=0;s<r;s+=a){if(!t.isLabelIgnored(s)){var l=o.getTextRect(n[s]);e?e.union(l):e=l;}}return e;}function a(t,e,i){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(t,e,i),this.model=t;}function r(t,e){var i=t.getExtent(),n=i[0]+i[1];t.toGlobalCoord="x"===t.dim?function(t){return t+e;}:function(t){return n-t+e;},t.toLocalCoord="x"===t.dim?function(t){return t-e;}:function(t){return n-t+e;};}function s(t,e){return h.map(y,function(e){var i=t.getReferringComponents(e)[0];return i;});}function l(t){return"cartesian2d"===t.get("coordinateSystem");}var u=i(12),c=i(18),h=i(1),d=i(132),f=i(130),p=h.each,g=c.ifAxisCrossZero,m=c.niceScaleExtent;i(133);var v=a.prototype;v.type="grid",v.axisPointerEnabled=!0,v.getRect=function(){return this._rect;},v.update=function(t,e){function i(t){var e=n[t];for(var i in e){if(e.hasOwnProperty(i)){var o=e[i];if(o&&("category"===o.type||!g(o)))return!0;}}return!1;}var n=this._axesMap;this._updateScale(t,this.model),p(n.x,function(t){m(t.scale,t.model);}),p(n.y,function(t){m(t.scale,t.model);}),p(n.x,function(t){i("y")&&(t.onZero=!1);}),p(n.y,function(t){i("x")&&(t.onZero=!1);}),this.resize(this.model,e);},v.resize=function(t,e){function i(){p(a,function(t){var e=t.isHorizontal(),i=e?[0,n.width]:[0,n.height],o=t.inverse?1:0;t.setExtent(i[o],i[1-o]),r(t,e?n.x:n.y);});}var n=u.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()});this._rect=n;var a=this._axesList;i(),t.get("containLabel")&&(p(a,function(t){if(!t.model.get("axisLabel.inside")){var e=o(t);if(e){var i=t.isHorizontal()?"height":"width",a=t.model.get("axisLabel.margin");n[i]-=e[i]+a,"top"===t.position?n.y+=e.height+a:"left"===t.position&&(n.x+=e.width+a);}}}),i());},v.getAxis=function(t,e){var i=this._axesMap[t];if(null!=i){if(null==e)for(var n in i){if(i.hasOwnProperty(n))return i[n];}return i[e];}},v.getAxes=function(){return this._axesList.slice();},v.getCartesian=function(t,e){if(null!=t&&null!=e){var i="x"+t+"y"+e;return this._coordsMap[i];}h.isObject(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var n=0,o=this._coordsList;n<o.length;n++){if(o[n].getAxis("x").index===t||o[n].getAxis("y").index===e)return o[n];}},v.getCartesians=function(){return this._coordsList.slice();},v.convertToPixel=function(t,e,i){var n=this._findConvertTarget(t,e);return n.cartesian?n.cartesian.dataToPoint(i):n.axis?n.axis.toGlobalCoord(n.axis.dataToCoord(i)):null;},v.convertFromPixel=function(t,e,i){var n=this._findConvertTarget(t,e);return n.cartesian?n.cartesian.pointToData(i):n.axis?n.axis.coordToData(n.axis.toLocalCoord(i)):null;},v._findConvertTarget=function(t,e){var i,n,o=e.seriesModel,a=e.xAxisModel||o&&o.getReferringComponents("xAxis")[0],r=e.yAxisModel||o&&o.getReferringComponents("yAxis")[0],s=e.gridModel,l=this._coordsList;if(o)i=o.coordinateSystem,h.indexOf(l,i)<0&&(i=null);else if(a&&r)i=this.getCartesian(a.componentIndex,r.componentIndex);else if(a)n=this.getAxis("x",a.componentIndex);else if(r)n=this.getAxis("y",r.componentIndex);else if(s){var u=s.coordinateSystem;u===this&&(i=this._coordsList[0]);}return{cartesian:i,axis:n};},v.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t);},v._initCartesian=function(t,e,i){function o(i){return function(o,l){if(n(o,t,e)){var u=o.get("position");"x"===i?"top"!==u&&"bottom"!==u&&(u="bottom",a[u]&&(u="top"===u?"bottom":"top")):"left"!==u&&"right"!==u&&(u="left",a[u]&&(u="left"===u?"right":"left")),a[u]=!0;var h=new f(i,c.createScaleByModel(o),[0,0],o.get("type"),u),d="category"===h.type;h.onBand=d&&o.get("boundaryGap"),h.inverse=o.get("inverse"),h.onZero=o.get("axisLine.onZero"),o.axis=h,h.model=o,h.grid=this,h.index=l,this._axesList.push(h),r[i][l]=h,s[i]++;}};}var a={left:!1,right:!1,top:!1,bottom:!1},r={x:{},y:{}},s={x:0,y:0};return e.eachComponent("xAxis",o("x"),this),e.eachComponent("yAxis",o("y"),this),s.x&&s.y?(this._axesMap=r,void p(r.x,function(e,i){p(r.y,function(n,o){var a="x"+i+"y"+o,r=new d(a);r.grid=this,r.model=t,this._coordsMap[a]=r,this._coordsList.push(r),r.addAxis(e),r.addAxis(n);},this);},this)):(this._axesMap={},void(this._axesList=[]));},v._updateScale=function(t,e){function i(t,e,i){p(i.coordDimToDataDim(e.dim),function(i){e.scale.unionExtentFromData(t,i);});}h.each(this._axesList,function(t){t.scale.setExtent(1/0,-(1/0));}),t.eachSeries(function(o){if(l(o)){var a=s(o,t),r=a[0],u=a[1];if(!n(r,e,t)||!n(u,e,t))return;var c=this.getCartesian(r.componentIndex,u.componentIndex),h=o.getData(),d=c.getAxis("x"),f=c.getAxis("y");"list"===h.type&&(i(h,d,o),i(h,f,o));}},this);},v.getTooltipAxes=function(t){var e=[],i=[];return p(this.getCartesians(),function(n){var o=null!=t&&"auto"!==t?n.getAxis(t):n.getBaseAxis(),a=n.getOtherAxis(o);h.indexOf(e,o)<0&&e.push(o),h.indexOf(i,a)<0&&i.push(a);}),{baseAxes:e,otherAxes:i};};var y=["xAxis","yAxis"];a.create=function(t,e){var i=[];return t.eachComponent("grid",function(n,o){var r=new a(n,t,e);r.name="grid_"+o,r.resize(n,e),n.coordinateSystem=r,i.push(r);}),t.eachSeries(function(e){if(l(e)){var i=s(e,t),n=i[0],o=i[1],a=n.getCoordSysModel(),r=a.coordinateSystem;e.coordinateSystem=r.getCartesian(n.componentIndex,o.componentIndex);}}),i;},a.dimensions=a.prototype.dimensions=d.prototype.dimensions,i(26).register("cartesian2d",a),t.exports=a;},function(t,e,i){"use strict";function n(t){return t>s||t<-s;}var o=i(16),a=i(5),r=o.identity,s=5e-5,l=function l(t){t=t||{},t.position||(this.position=[0,0]),null==t.rotation&&(this.rotation=0),t.scale||(this.scale=[1,1]),this.origin=this.origin||null;},u=l.prototype;u.transform=null,u.needLocalTransform=function(){return n(this.rotation)||n(this.position[0])||n(this.position[1])||n(this.scale[0]-1)||n(this.scale[1]-1);},u.updateTransform=function(){var t=this.parent,e=t&&t.transform,i=this.needLocalTransform(),n=this.transform;return i||e?(n=n||o.create(),i?this.getLocalTransform(n):r(n),e&&(i?o.mul(n,t.transform,n):o.copy(n,t.transform)),this.transform=n,this.invTransform=this.invTransform||o.create(),void o.invert(this.invTransform,n)):void(n&&r(n));},u.getLocalTransform=function(t){return l.getLocalTransform(this,t);},u.setTransform=function(t){var e=this.transform,i=t.dpr||1;e?t.setTransform(i*e[0],i*e[1],i*e[2],i*e[3],i*e[4],i*e[5]):t.setTransform(i,0,0,i,0,0);},u.restoreTransform=function(t){var e=t.dpr||1;t.setTransform(e,0,0,e,0,0);};var c=[];u.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(o.mul(c,t.invTransform,e),e=c);var i=e[0]*e[0]+e[1]*e[1],a=e[2]*e[2]+e[3]*e[3],r=this.position,s=this.scale;n(i-1)&&(i=Math.sqrt(i)),n(a-1)&&(a=Math.sqrt(a)),e[0]<0&&(i=-i),e[3]<0&&(a=-a),r[0]=e[4],r[1]=e[5],s[0]=i,s[1]=a,this.rotation=Math.atan2(-e[1]/a,e[0]/i);}},u.getGlobalScale=function(){var t=this.transform;if(!t)return[1,1];var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]),i=Math.sqrt(t[2]*t[2]+t[3]*t[3]);return t[0]<0&&(e=-e),t[3]<0&&(i=-i),[e,i];},u.transformCoordToLocal=function(t,e){var i=[t,e],n=this.invTransform;return n&&a.applyTransform(i,i,n),i;},u.transformCoordToGlobal=function(t,e){var i=[t,e],n=this.transform;return n&&a.applyTransform(i,i,n),i;},l.getLocalTransform=function(t,e){e=e||[],r(e);var i=t.origin,n=t.scale||[1,1],a=t.rotation||0,s=t.position||[0,0];return i&&(e[4]-=i[0],e[5]-=i[1]),o.scale(e,e,n),a&&o.rotate(e,e,a),i&&(e[4]+=i[0],e[5]+=i[1]),e[4]+=s[0],e[5]+=s[1],e;},t.exports=l;},function(t,e,i){var n=i(94),o=i(1),a=i(13),r=i(12),s=["value","category","time","log"];t.exports=function(t,e,i,l){o.each(s,function(a){e.extend({type:t+"Axis."+a,mergeDefaultAndTheme:function mergeDefaultAndTheme(e,n){var s=this.layoutMode,l=s?r.getLayoutParams(e):{},u=n.getTheme();o.merge(e,u.get(a+"Axis")),o.merge(e,this.getDefaultOption()),e.type=i(t,e),s&&r.mergeLayoutParam(e,l,s);},defaultOption:o.mergeAll([{},n[a+"Axis"],l],!0)});}),a.registerSubTypeDefaulter(t+"Axis",o.curry(i,t));};},function(t,e,i){"use strict";function n(t,e){return e.type||(e.data?"category":"value");}var o=i(13),a=i(1),r=i(58),s=o.extend({type:"cartesian2dAxis",axis:null,init:function init(){s.superApply(this,"init",arguments),this.resetRange();},mergeOption:function mergeOption(){s.superApply(this,"mergeOption",arguments),this.resetRange();},restoreData:function restoreData(){s.superApply(this,"restoreData",arguments),this.resetRange();},getCoordSysModel:function getCoordSysModel(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0];}});a.merge(s.prototype,i(42));var l={offset:0};r("x",s,n,l),r("y",s,n,l),t.exports=s;},function(t,e){t.exports=function(t,e){e.eachSeriesByType(t,function(t){var e=t.getData(),i=t.coordinateSystem;if(i){var n=i.dimensions;1===n.length?e.each(n[0],function(t,n){e.setItemLayout(n,isNaN(t)?[NaN,NaN]:i.dataToPoint(t));}):2===n.length&&e.each(n,function(t,n,o){e.setItemLayout(o,isNaN(t)||isNaN(n)?[NaN,NaN]:i.dataToPoint([t,n]));},!0);}});};},function(t,e,i){var n=i(15),o=n.set,a=n.get;t.exports={clearColorPalette:function clearColorPalette(){o(this,"colorIdx",0),o(this,"colorNameMap",{});},getColorFromPalette:function getColorFromPalette(t,e){e=e||this;var i=a(e,"colorIdx")||0,n=a(e,"colorNameMap")||o(e,"colorNameMap",{});if(n[t])return n[t];var r=this.get("color",!0)||[];if(r.length){var s=r[i];return t&&(n[t]=s),o(e,"colorIdx",(i+1)%r.length),s;}}};},function(t,e){t.exports=function(t,e){var i=e.findComponents({mainType:"legend"});i&&i.length&&e.eachSeriesByType(t,function(t){var e=t.getData();e.filterSelf(function(t){for(var n=e.getName(t),o=0;o<i.length;o++){if(!i[o].isSelected(n))return!1;}return!0;},this);},this);};},function(t,e,i){function n(t,e,i){t[e]=Math.max(Math.min(t[e],i[1]),i[0]);}var o=i(4),a=o.round,r={};r.intervalScaleNiceTicks=function(t,e){var i={},n=t[1]-t[0],s=i.interval=o.nice(n/e,!0),l=i.intervalPrecision=o.getPrecisionSafe(s)+2,u=i.niceTickExtent=[a(Math.ceil(t[0]/s)*s,l),a(Math.floor(t[1]/s)*s,l)];return r.fixExtent(u,t),i;},r.fixExtent=function(t,e){!isFinite(t[0])&&(t[0]=e[0]),!isFinite(t[1])&&(t[1]=e[1]),n(t,0,e),n(t,1,e),t[0]>t[1]&&(t[0]=t[1]);},r.intervalScaleGetTicks=function(t,e,i,n){var o=[];if(!t)return o;var r=1e4;e[0]<i[0]&&o.push(e[0]);for(var s=i[0];s<=i[1]&&(o.push(s),s=a(s+t,n),s!==o[o.length-1]);){if(o.length>r)return[];}return e[1]>(o.length?o[o.length-1]:i[1])&&o.push(e[1]),o;},t.exports=r;},function(t,e,i){var n=i(36),o=i(49),a=i(15),r=function r(){this.group=new n(),this.uid=o.getUID("viewComponent");};r.prototype={constructor:r,init:function init(t,e){},render:function render(t,e,i,n){},dispose:function dispose(){}};var s=r.prototype;s.updateView=s.updateLayout=s.updateVisual=function(t,e,i,n){},a.enableClassExtend(r),a.enableClassManagement(r,{registerWhenExtend:!0}),t.exports=r;},function(t,e,i){"use strict";var n=i(70),o=i(23),a=i(57),r=i(178),s=i(1),l=function l(t){a.call(this,t),o.call(this,t),r.call(this,t),this.id=t.id||n();};l.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,drift:function drift(t,e){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0;}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=t,i[5]+=e,this.decomposeTransform(),this.dirty(!1);},beforeUpdate:function beforeUpdate(){},afterUpdate:function afterUpdate(){},update:function update(){this.updateTransform();},traverse:function traverse(t,e){},attrKV:function attrKV(t,e){if("position"===t||"scale"===t||"origin"===t){if(e){var i=this[t];i||(i=this[t]=[]),i[0]=e[0],i[1]=e[1];}}else this[t]=e;},hide:function hide(){this.ignore=!0,this.__zr&&this.__zr.refresh();},show:function show(){this.ignore=!1,this.__zr&&this.__zr.refresh();},attr:function attr(t,e){if("string"==typeof t)this.attrKV(t,e);else if(s.isObject(t))for(var i in t){t.hasOwnProperty(i)&&this.attrKV(i,t[i]);}return this.dirty(!1),this;},setClipPath:function setClipPath(t){var e=this.__zr;e&&t.addSelfToZr(e),this.clipPath&&this.clipPath!==t&&this.removeClipPath(),this.clipPath=t,t.__zr=e,t.__clipTarget=this,this.dirty(!1);},removeClipPath:function removeClipPath(){var t=this.clipPath;t&&(t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__clipTarget=null,this.clipPath=null,this.dirty(!1));},addSelfToZr:function addSelfToZr(t){this.__zr=t;var e=this.animators;if(e)for(var i=0;i<e.length;i++){t.animation.addAnimator(e[i]);}this.clipPath&&this.clipPath.addSelfToZr(t);},removeSelfFromZr:function removeSelfFromZr(t){this.__zr=null;var e=this.animators;if(e)for(var i=0;i<e.length;i++){t.animation.removeAnimator(e[i]);}this.clipPath&&this.clipPath.removeSelfFromZr(t);}},s.mixin(l,r),s.mixin(l,a),s.mixin(l,o),t.exports=l;},function(t,e,i){function n(t,e){return t[e];}function o(t,e,i){t[e]=i;}function a(t,e,i){return(e-t)*i+t;}function r(t,e,i){return i>.5?e:t;}function s(t,e,i,n,o){var r=t.length;if(1==o)for(var s=0;s<r;s++){n[s]=a(t[s],e[s],i);}else for(var l=t[0].length,s=0;s<r;s++){for(var u=0;u<l;u++){n[s][u]=a(t[s][u],e[s][u],i);}}}function l(t,e,i){var n=t.length,o=e.length;if(n!==o){var a=n>o;if(a)t.length=o;else for(var r=n;r<o;r++){t.push(1===i?e[r]:x.call(e[r]));}}for(var s=t[0]&&t[0].length,r=0;r<t.length;r++){if(1===i)isNaN(t[r])&&(t[r]=e[r]);else for(var l=0;l<s;l++){isNaN(t[r][l])&&(t[r][l]=e[r][l]);}}}function u(t,e,i){if(t===e)return!0;var n=t.length;if(n!==e.length)return!1;if(1===i){for(var o=0;o<n;o++){if(t[o]!==e[o])return!1;}}else for(var a=t[0].length,o=0;o<n;o++){for(var r=0;r<a;r++){if(t[o][r]!==e[o][r])return!1;}}return!0;}function c(t,e,i,n,o,a,r,s,l){var u=t.length;if(1==l)for(var c=0;c<u;c++){s[c]=h(t[c],e[c],i[c],n[c],o,a,r);}else for(var d=t[0].length,c=0;c<u;c++){for(var f=0;f<d;f++){s[c][f]=h(t[c][f],e[c][f],i[c][f],n[c][f],o,a,r);}}}function h(t,e,i,n,o,a,r){var s=.5*(i-t),l=.5*(n-e);return(2*(e-i)+s+l)*r+(-3*(e-i)-2*s-l)*a+s*o+e;}function d(t){if(y(t)){var e=t.length;if(y(t[0])){for(var i=[],n=0;n<e;n++){i.push(x.call(t[n]));}return i;}return x.call(t);}return t;}function f(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")";}function p(t,e,i,n,o){var d=t._getter,p=t._setter,v="spline"===e,x=n.length;if(x){var _,b=n[0].value,w=y(b),S=!1,M=!1,I=w&&y(b[0])?2:1;n.sort(function(t,e){return t.time-e.time;}),_=n[x-1].time;for(var T=[],A=[],C=n[0].value,L=!0,D=0;D<x;D++){T.push(n[D].time/_);var P=n[D].value;if(w&&u(P,C,I)||!w&&P===C||(L=!1),C=P,"string"==typeof P){var k=m.parse(P);k?(P=k,S=!0):M=!0;}A.push(P);}if(!L){for(var O=A[x-1],D=0;D<x-1;D++){w?l(A[D],O,I):!isNaN(A[D])||isNaN(O)||M||S||(A[D]=O);}w&&l(d(t._target,o),O,I);var E,z,R,N,V,B,G=0,F=0;if(S)var H=[0,0,0,0];var W=function W(t,e){var i;if(e<0)i=0;else if(e<F){for(E=Math.min(G+1,x-1),i=E;i>=0&&!(T[i]<=e);i--){}i=Math.min(i,x-2);}else{for(i=G;i<x&&!(T[i]>e);i++){}i=Math.min(i-1,x-2);}G=i,F=e;var n=T[i+1]-T[i];if(0!==n)if(z=(e-T[i])/n,v){if(N=A[i],R=A[0===i?i:i-1],V=A[i>x-2?x-1:i+1],B=A[i>x-3?x-1:i+2],w)c(R,N,V,B,z,z*z,z*z*z,d(t,o),I);else{var l;if(S)l=c(R,N,V,B,z,z*z,z*z*z,H,1),l=f(H);else{if(M)return r(N,V,z);l=h(R,N,V,B,z,z*z,z*z*z);}p(t,o,l);}}else if(w)s(A[i],A[i+1],z,d(t,o),I);else{var l;if(S)s(A[i],A[i+1],z,H,1),l=f(H);else{if(M)return r(A[i],A[i+1],z);l=a(A[i],A[i+1],z);}p(t,o,l);}},Z=new g({target:t._target,life:_,loop:t._loop,delay:t._delay,onframe:W,ondestroy:i});return e&&"spline"!==e&&(Z.easing=e),Z;}}}var g=i(157),m=i(22),v=i(1),y=v.isArrayLike,x=Array.prototype.slice,_=function _(t,e,i,a){this._tracks={},this._target=t,this._loop=e||!1,this._getter=i||n,this._setter=a||o,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[];};_.prototype={when:function when(t,e){var i=this._tracks;for(var n in e){if(e.hasOwnProperty(n)){if(!i[n]){i[n]=[];var o=this._getter(this._target,n);if(null==o)continue;0!==t&&i[n].push({time:0,value:d(o)});}i[n].push({time:t,value:e[n]});}}return this;},during:function during(t){return this._onframeList.push(t),this;},pause:function pause(){for(var t=0;t<this._clipList.length;t++){this._clipList[t].pause();}this._paused=!0;},resume:function resume(){for(var t=0;t<this._clipList.length;t++){this._clipList[t].resume();}this._paused=!1;},isPaused:function isPaused(){return!!this._paused;},_doneCallback:function _doneCallback(){this._tracks={},this._clipList.length=0;for(var t=this._doneList,e=t.length,i=0;i<e;i++){t[i].call(this);}},start:function start(t){var e,i=this,n=0,o=function o(){n--,n||i._doneCallback();};for(var a in this._tracks){if(this._tracks.hasOwnProperty(a)){var r=p(this,t,o,this._tracks[a],a);r&&(this._clipList.push(r),n++,this.animation&&this.animation.addClip(r),e=r);}}if(e){var s=e.onframe;e.onframe=function(t,e){s(t,e);for(var n=0;n<i._onframeList.length;n++){i._onframeList[n](t,e);}};}return n||this._doneCallback(),this;},stop:function stop(t){for(var e=this._clipList,i=this.animation,n=0;n<e.length;n++){var o=e[n];t&&o.onframe(this._target,1),i&&i.removeClip(o);}e.length=0;},delay:function delay(t){return this._delay=t,this;},done:function done(t){return t&&this._doneList.push(t),this;},getClips:function getClips(){return this._clipList;}},t.exports=_;},function(t,e){t.exports="undefined"!=typeof window&&(window.requestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){setTimeout(t,16);};},function(t,e){var i=2*Math.PI;t.exports={normalizeRadian:function normalizeRadian(t){return t%=i,t<0&&(t+=i),t;}};},function(t,e){var i=function i(){this.head=null,this.tail=null,this._len=0;},n=i.prototype;n.insert=function(t){var e=new o(t);return this.insertEntry(e),e;},n.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++;},n.remove=function(t){var e=t.prev,i=t.next;e?e.next=i:this.head=i,i?i.prev=e:this.tail=e,t.next=t.prev=null,this._len--;},n.len=function(){return this._len;},n.clear=function(){this.head=this.tail=null,this._len=0;};var o=function o(t){this.value=t,this.next,this.prev;},a=function a(t){this._list=new i(),this._map={},this._maxSize=t||10,this._lastRemovedEntry=null;},r=a.prototype;r.put=function(t,e){var i=this._list,n=this._map,a=null;if(null==n[t]){var r=i.len(),s=this._lastRemovedEntry;if(r>=this._maxSize&&r>0){var l=i.head;i.remove(l),delete n[l.key],a=l.value,this._lastRemovedEntry=l;}s?s.value=e:s=new o(e),s.key=t,i.insertEntry(s),n[t]=s;}return a;},r.get=function(t){var e=this._map[t],i=this._list;if(null!=e)return e!==i.tail&&(i.remove(e),i.insertEntry(e)),e.value;},r.clear=function(){this._list.clear(),this._map={};},t.exports=a;},function(t,e){var i=2311;t.exports=function(){return i++;};},function(t,e){var i=function i(t,e){this.image=t,this.repeat=e,this.type="pattern";};i.prototype.getCanvasPattern=function(t){return t.createPattern(this.image,this.repeat||"repeat");},t.exports=i;},function(t,e){function i(t,e,i){var n=null==e.x?0:e.x,o=null==e.x2?1:e.x2,a=null==e.y?0:e.y,r=null==e.y2?0:e.y2;e.global||(n=n*i.width+i.x,o=o*i.width+i.x,a=a*i.height+i.y,r=r*i.height+i.y);var s=t.createLinearGradient(n,a,o,r);return s;}function n(t,e,i){var n=i.width,o=i.height,a=Math.min(n,o),r=null==e.x?.5:e.x,s=null==e.y?.5:e.y,l=null==e.r?.5:e.r;e.global||(r=r*n+i.x,s=s*o+i.y,l*=a);var u=t.createRadialGradient(r,s,0,r,s,l);return u;}var o=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],a=function a(t){this.extendFrom(t);};a.prototype={constructor:a,fill:"#000000",stroke:null,opacity:1,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,textFill:"#000",textStroke:null,textPosition:"inside",textOffset:null,textBaseline:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textTransform:!1,textRotation:0,blend:null,bind:function bind(t,e,i){for(var n=this,a=i&&i.style,r=!a,s=0;s<o.length;s++){var l=o[s],u=l[0];(r||n[u]!==a[u])&&(t[u]=n[u]||l[1]);}if((r||n.fill!==a.fill)&&(t.fillStyle=n.fill),(r||n.stroke!==a.stroke)&&(t.strokeStyle=n.stroke),(r||n.opacity!==a.opacity)&&(t.globalAlpha=null==n.opacity?1:n.opacity),(r||n.blend!==a.blend)&&(t.globalCompositeOperation=n.blend||"source-over"),this.hasStroke()){var c=n.lineWidth;t.lineWidth=c/(this.strokeNoScale&&e&&e.getLineScale?e.getLineScale():1);}},hasFill:function hasFill(){var t=this.fill;return null!=t&&"none"!==t;},hasStroke:function hasStroke(){var t=this.stroke;return null!=t&&"none"!==t&&this.lineWidth>0;},extendFrom:function extendFrom(t,e){if(t){var i=this;for(var n in t){!t.hasOwnProperty(n)||!e&&i.hasOwnProperty(n)||(i[n]=t[n]);}}},set:function set(t,e){"string"==typeof t?this[t]=e:this.extendFrom(t,!0);},clone:function clone(){var t=new this.constructor();return t.extendFrom(this,!0),t;},getGradient:function getGradient(t,e,o){for(var a="radial"===e.type?n:i,r=a(t,e,o),s=e.colorStops,l=0;l<s.length;l++){r.addColorStop(s[l].offset,s[l].color);}return r;}};for(var r=a.prototype,s=0;s<o.length;s++){var l=o[s];l[0]in r||(r[l[0]]=l[1]);}a.getGradient=r.getGradient,t.exports=a;},function(t,e,i){var n=i(168),o=i(167);t.exports={buildPath:function buildPath(t,e,i){var a=e.points,r=e.smooth;if(a&&a.length>=2){if(r&&"spline"!==r){var s=o(a,r,i,e.smoothConstraint);t.moveTo(a[0][0],a[0][1]);for(var l=a.length,u=0;u<(i?l:l-1);u++){var c=s[2*u],h=s[2*u+1],d=a[(u+1)%l];t.bezierCurveTo(c[0],c[1],h[0],h[1],d[0],d[1]);}}else{"spline"===r&&(a=n(a,i)),t.moveTo(a[0][0],a[0][1]);for(var u=1,f=a.length;u<f;u++){t.lineTo(a[u][0],a[u][1]);}}i&&t.closePath();}}};},function(t,e,i){var n=i(1),o={};o.layout=function(t,e,i){function o(t,e){var i=a.getAxis(t);return i.toGlobalCoord(i.dataToCoord(0));}i=i||{};var a=t.coordinateSystem,r=e.axis,s={},l=r.position,u=r.onZero?"onZero":l,c=r.dim,h=a.getRect(),d=[h.x,h.x+h.width,h.y,h.y+h.height],f=e.get("offset")||0,p={x:{top:d[2]-f,bottom:d[3]+f},y:{left:d[0]-f,right:d[1]+f}};p.x.onZero=Math.max(Math.min(o("y"),p.x.bottom),p.x.top),p.y.onZero=Math.max(Math.min(o("x"),p.y.right),p.y.left),s.position=["y"===c?p.y[u]:d[0],"x"===c?p.x[u]:d[3]],s.rotation=Math.PI/2*("x"===c?0:1);var g={top:-1,bottom:1,left:-1,right:1};s.labelDirection=s.tickDirection=s.nameDirection=g[l],s.labelOffset=r.onZero?p[c][l]-p[c].onZero:0,e.get("axisTick.inside")&&(s.tickDirection=-s.tickDirection),n.retrieve(i.labelInside,e.get("axisLabel.inside"))&&(s.labelDirection=-s.labelDirection);var m=e.get("axisLabel.rotate");return s.labelRotate="top"===u?-m:m,s.labelInterval=r.getLabelInterval(),s.z2=1,s;},t.exports=o;},function(t,e,i){"use strict";function n(t,e,i,n){var o=n.getWidth(),a=n.getHeight();t[0]=Math.min(t[0]+e,o)-e,t[1]=Math.min(t[1]+i,a)-i,t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0);}var o=i(1),a=i(3),r=i(17),s=i(7),l=i(16),u=i(18),c=i(40),h={};h.buildElStyle=function(t){var e,i=t.get("type"),n=t.getModel(i+"Style");return"line"===i?(e=n.getLineStyle(),e.fill=null):"shadow"===i&&(e=n.getAreaStyle(),e.stroke=null),e;},h.buildLabelElOption=function(t,e,i,o,a){var l=i.get("value"),u=h.getValueLabel(l,e.axis,e.ecModel,i.get("seriesDataIndices"),{precision:i.get("label.precision"),formatter:i.get("label.formatter")}),c=i.getModel("label"),d=c.getModel("textStyle"),f=s.normalizeCssArray(c.get("padding")||0),p=d.getFont(),g=r.getBoundingRect(u,p,a.textAlign,a.textBaseline),m=a.position,v=g.width+f[1]+f[3],y=g.height+f[0]+f[2],x=a.align;"right"===x&&(m[0]-=v),"center"===x&&(m[0]-=v/2);var _=a.verticalAlign;"bottom"===_&&(m[1]-=y),"middle"===_&&(m[1]-=y/2),n(m,v,y,o);var b=c.get("backgroundColor");b&&"auto"!==b||(b=e.get("axisLine.lineStyle.color")),t.label={shape:{x:0,y:0,width:v,height:y,r:c.get("borderRadius")},position:m.slice(),style:{text:u,textFont:p,textFill:d.getTextColor(),textPosition:"inside",fill:b,stroke:c.get("borderColor")||"transparent",lineWidth:c.get("borderWidth")||0,shadowBlur:c.get("shadowBlur"),shadowColor:c.get("shadowColor"),shadowOffsetX:c.get("shadowOffsetX"),shadowOffsetY:c.get("shadowOffsetY")}};},h.getValueLabel=function(t,e,i,n,a){var r=e.scale.getLabel(t,{precision:a.precision}),s=a.formatter;if(s){var l={value:u.getAxisRawValue(e,t),seriesData:[]};o.each(n,function(t){var e=i.getSeriesByIndex(t.seriesIndex),n=t.dataIndexInside,o=e&&e.getDataParams(n);o&&l.seriesData.push(o);}),o.isString(s)?r=s.replace("{value}",r):o.isFunction(s)&&(r=s(l));}return r;},h.getTransformedPosition=function(t,e,i){var n=l.create();return l.rotate(n,n,i.rotation),l.translate(n,n,i.position),a.applyTransform([t.dataToCoord(e),(i.labelOffset||0)+(i.labelDirection||1)*(i.labelMargin||0)],n);},h.buildCartesianSingleLabelElOption=function(t,e,i,n,o,a){var r=c.innerTextLayout(i.rotation,0,i.labelDirection);i.labelMargin=o.get("label.margin"),h.buildLabelElOption(e,n,o,a,{position:h.getTransformedPosition(n.axis,t,i),align:r.textAlign,verticalAlign:r.textVerticalAlign});},h.makeLineShape=function(t,e,i){return i=i||0,{x1:t[i],y1:t[1-i],x2:e[i],y2:e[1-i]};},h.makeRectShape=function(t,e,i){return i=i||0,{x:t[i],y:t[1-i],width:e[i],height:e[1-i]};},h.makeSectorShape=function(t,e,i,n,o,a){return{cx:t,cy:e,r0:i,r:n,startAngle:o,endAngle:a,clockwise:!0};},t.exports=h;},function(t,e,i){var n=i(7),o=i(1),a={},r=["x","y","z","radius","angle","single"],s=["cartesian2d","polar","singleAxis"];a.isCoordSupported=function(t){return o.indexOf(s,t)>=0;},a.createNameEach=function(t,e){t=t.slice();var i=o.map(t,n.capitalFirst);e=(e||[]).slice();var a=o.map(e,n.capitalFirst);return function(n,r){o.each(t,function(t,o){for(var s={name:t,capital:i[o]},l=0;l<e.length;l++){s[e[l]]=t+a[l];}n.call(r,s);});};},a.eachAxisDim=a.createNameEach(r,["axisIndex","axis","index","id"]),a.createLinkedNodesFinder=function(t,e,i){function n(t,e){return o.indexOf(e.nodes,t)>=0;}function a(t,n){var a=!1;return e(function(e){o.each(i(t,e)||[],function(t){n.records[e.name][t]&&(a=!0);});}),a;}function r(t,n){n.nodes.push(t),e(function(e){o.each(i(t,e)||[],function(t){n.records[e.name][t]=!0;});});}return function(i){function o(t){!n(t,s)&&a(t,s)&&(r(t,s),l=!0);}var s={nodes:[],records:{}};if(e(function(t){s.records[t.name]={};}),!i)return s;r(i,s);var l;do{l=!1,t(o);}while(l);return s;};},t.exports=a;},function(t,e,i){var n=i(1);t.exports={updateSelectedMap:function updateSelectedMap(t){this._selectTargetMap=n.reduce(t||[],function(t,e){return t[e.name]=e,t;},{});},select:function select(t){var e=this._selectTargetMap,i=e[t],o=this.get("selectedMode");"single"===o&&n.each(e,function(t){t.selected=!1;}),i&&(i.selected=!0);},unSelect:function unSelect(t){var e=this._selectTargetMap[t];e&&(e.selected=!1);},toggleSelected:function toggleSelected(t){var e=this._selectTargetMap[t];if(null!=e)return this[e.selected?"unSelect":"select"](t),e.selected;},isSelected:function isSelected(t){var e=this._selectTargetMap[t];return e&&e.selected;}};},function(t,e){t.exports=function(t,e,i,n,o){function a(t,e,i){var n=e.length?e.slice():[e,e];return e[0]>e[1]&&n.reverse(),t<0&&n[0]+t<i[0]&&(t=i[0]-n[0]),t>0&&n[1]+t>i[1]&&(t=i[1]-n[1]),t;}return t?("rigid"===n?(t=a(t,e,i),e[0]+=t,e[1]+=t):(t=a(t,e[o],i),e[o]+=t,"push"===n&&e[0]>e[1]&&(e[1-o]=e[o])),e):e;};},function(t,e,i){function n(t){o.defaultEmphasis(t.label,o.LABEL_OPTIONS);}var o=i(6),a=i(1),r=i(9),s=i(7),l=s.addCommas,u=s.encodeHTML,c=i(2).extendComponentModel({type:"marker",dependencies:["series","grid","polar","geo"],init:function init(t,e,i,n){this.mergeDefaultAndTheme(t,i),this.mergeOption(t,i,n.createdBySelf,!0);},isAnimationEnabled:function isAnimationEnabled(){if(r.node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled();},mergeOption:function mergeOption(t,e,i,o){var r=this.constructor,s=this.mainType+"Model";i||e.eachSeries(function(t){var i=t.get(this.mainType),l=t[s];return i&&i.data?(l?l.mergeOption(i,e,!0):(o&&n(i),a.each(i.data,function(t){t instanceof Array?(n(t[0]),n(t[1])):n(t);}),l=new r(i,this,e),a.extend(l,{mainType:this.mainType,seriesIndex:t.seriesIndex,name:t.name,createdBySelf:!0}),l.__hostSeries=t),void(t[s]=l)):void(t[s]=null);},this);},formatTooltip:function formatTooltip(t){var e=this.getData(),i=this.getRawValue(t),n=a.isArray(i)?a.map(i,l).join(", "):l(i),o=e.getName(t),r=u(this.name);return(null!=i||o)&&(r+="<br />"),o&&(r+=u(o),null!=i&&(r+=" : ")),null!=i&&(r+=u(n)),r;},getData:function getData(){return this._data;},setData:function setData(t){this._data=t;}});a.mixin(c,o.dataFormatMixin),t.exports=c;},function(t,e,i){t.exports=i(2).extendComponentView({type:"marker",init:function init(){this.markerGroupMap={};},render:function render(t,e,i){var n=this.markerGroupMap;for(var o in n){n.hasOwnProperty(o)&&(n[o].__keep=!1);}var a=this.type+"Model";e.eachSeries(function(t){var n=t[a];n&&this.renderSeries(t,n,e,i);},this);for(var o in n){n.hasOwnProperty(o)&&!n[o].__keep&&this.group.remove(n[o].group);}},renderSeries:function renderSeries(){}});},function(t,e,i){function n(t){return!(isNaN(parseFloat(t.x))&&isNaN(parseFloat(t.y)));}function o(t){return!isNaN(parseFloat(t.x))&&!isNaN(parseFloat(t.y));}function a(t,e,i){var n=-1;do{n=Math.max(l.getPrecision(t.get(e,i)),n),t=t.stackedOn;}while(t);return n;}function r(t,e,i,n,o,r){var s=[],l=m(e,n,t),u=e.indicesOfNearest(n,l,!0)[0];s[o]=e.get(i,u,!0),s[r]=e.get(n,u,!0);var c=a(e,n,u);return c>=0&&(s[r]=+s[r].toFixed(c)),s;}var s=i(1),l=i(4),u=s.indexOf,c=s.curry,h={min:c(r,"min"),max:c(r,"max"),average:c(r,"average")},d=function d(t,e){var i=t.getData(),n=t.coordinateSystem;if(e&&!o(e)&&!s.isArray(e.coord)&&n){var a=n.dimensions,r=f(e,i,n,t);if(e=s.clone(e),e.type&&h[e.type]&&r.baseAxis&&r.valueAxis){var l=u(a,r.baseAxis.dim),c=u(a,r.valueAxis.dim);e.coord=h[e.type](i,r.baseDataDim,r.valueDataDim,l,c),e.value=e.coord[c];}else{for(var d=[null!=e.xAxis?e.xAxis:e.radiusAxis,null!=e.yAxis?e.yAxis:e.angleAxis],p=0;p<2;p++){if(h[d[p]]){var g=t.coordDimToDataDim(a[p])[0];d[p]=m(i,g,d[p]);}}e.coord=d;}}return e;},f=function f(t,e,i,n){var o={};return null!=t.valueIndex||null!=t.valueDim?(o.valueDataDim=null!=t.valueIndex?e.getDimension(t.valueIndex):t.valueDim,o.valueAxis=i.getAxis(n.dataDimToCoordDim(o.valueDataDim)),o.baseAxis=i.getOtherAxis(o.valueAxis),o.baseDataDim=n.coordDimToDataDim(o.baseAxis.dim)[0]):(o.baseAxis=n.getBaseAxis(),o.valueAxis=i.getOtherAxis(o.baseAxis),o.baseDataDim=n.coordDimToDataDim(o.baseAxis.dim)[0],o.valueDataDim=n.coordDimToDataDim(o.valueAxis.dim)[0]),o;},p=function p(t,e){return!(t&&t.containData&&e.coord&&!n(e))||t.containData(e.coord);},g=function g(t,e,i,n){return n<2?t.coord&&t.coord[n]:t.value;},m=function m(t,e,i){if("average"===i){var n=0,o=0;return t.each(e,function(t,e){isNaN(t)||(n+=t,o++);},!0),n/o;}return t.getDataExtent(e,!0)["max"===i?1:0];};t.exports={dataTransform:d,dataFilter:p,dimValueGetter:g,getAxisInfo:f,numCalculate:m};},function(t,e,i){function n(t){var e=t.pieceList;t.hasSpecialVisual=!1,g.each(e,function(e,i){e.originIndex=i,null!=e.visual&&(t.hasSpecialVisual=!0);});}function o(t){var e=t.categories,i=t.visual,n=t.categoryMap={};if(y(e,function(t,e){n[t]=e;}),!g.isArray(i)){var o=[];g.isObject(i)?y(i,function(t,e){var i=n[e];o[null!=i?i:_]=t;}):o[_]=i,i=f(t,o);}for(var a=e.length-1;a>=0;a--){null==i[a]&&(delete n[e[a]],e.pop());}}function a(t,e){var i=t.visual,n=[];g.isObject(i)?y(i,function(t){n.push(t);}):null!=i&&n.push(i);var o={color:1,symbol:1};e||1!==n.length||o.hasOwnProperty(t.type)||(n[1]=n[0]),f(t,n);}function r(t){return{applyVisual:function applyVisual(e,i,n){e=this.mapValueToVisual(e),n("color",t(i("color"),e));},_doMap:h([0,1])};}function s(t){var e=this.option.visual;return e[Math.round(v(t,[0,1],[0,e.length-1],!0))]||{};}function l(t){return function(e,i,n){n(t,this.mapValueToVisual(e));};}function u(t){var e=this.option.visual;return e[this.option.loop&&t!==_?t%e.length:t];}function c(){return this.option.visual[0];}function h(t){return{linear:function linear(e){return v(e,t,this.option.visual,!0);},category:u,piecewise:function piecewise(e,i){var n=d.call(this,i);return null==n&&(n=v(e,t,this.option.visual,!0)),n;},fixed:c};}function d(t){var e=this.option,i=e.pieceList;if(e.hasSpecialVisual){var n=b.findPieceIndex(t,i),o=i[n];if(o&&o.visual)return o.visual[this.type];}}function f(t,e){return t.visual=e,"color"===t.type&&(t.parsedVisual=g.map(e,function(t){return m.parse(t);})),e;}function p(t,e,i){return t?e<=i:e<i;}var g=i(1),m=i(22),v=i(4).linearMap,y=g.each,x=g.isObject,_=-1,b=function b(t){var e=t.mappingMethod,i=t.type,r=this.option=g.clone(t);this.type=i,this.mappingMethod=e,this._normalizeData=S[e];var s=w[i];this.applyVisual=s.applyVisual,this.getColorMapper=s.getColorMapper,this._doMap=s._doMap[e],"piecewise"===e?(a(r),n(r)):"category"===e?r.categories?o(r):a(r,!0):(g.assert("linear"!==e||r.dataExtent),a(r));};b.prototype={constructor:b,mapValueToVisual:function mapValueToVisual(t){var e=this._normalizeData(t);return this._doMap(e,t);},getNormalizer:function getNormalizer(){return g.bind(this._normalizeData,this);}};var w=b.visualHandlers={color:{applyVisual:l("color"),getColorMapper:function getColorMapper(){var t=this.option;return g.bind("category"===t.mappingMethod?function(t,e){return!e&&(t=this._normalizeData(t)),u.call(this,t);}:function(e,i,n){var o=!!n;return!i&&(e=this._normalizeData(e)),n=m.fastMapToColor(e,t.parsedVisual,n),o?n:m.stringify(n,"rgba");},this);},_doMap:{linear:function linear(t){return m.stringify(m.fastMapToColor(t,this.option.parsedVisual),"rgba");},category:u,piecewise:function piecewise(t,e){var i=d.call(this,e);return null==i&&(i=m.stringify(m.fastMapToColor(t,this.option.parsedVisual),"rgba")),i;},fixed:c}},colorHue:r(function(t,e){return m.modifyHSL(t,e);}),colorSaturation:r(function(t,e){return m.modifyHSL(t,null,e);}),colorLightness:r(function(t,e){return m.modifyHSL(t,null,null,e);}),colorAlpha:r(function(t,e){return m.modifyAlpha(t,e);}),opacity:{applyVisual:l("opacity"),_doMap:h([0,1])},symbol:{applyVisual:function applyVisual(t,e,i){var n=this.mapValueToVisual(t);if(g.isString(n))i("symbol",n);else if(x(n))for(var o in n){n.hasOwnProperty(o)&&i(o,n[o]);}},_doMap:{linear:s,category:u,piecewise:function piecewise(t,e){var i=d.call(this,e);return null==i&&(i=s.call(this,t)),i;},fixed:c}},symbolSize:{applyVisual:l("symbolSize"),_doMap:h([0,1])}},S={linear:function linear(t){return v(t,this.option.dataExtent,[0,1],!0);},piecewise:function piecewise(t){var e=this.option.pieceList,i=b.findPieceIndex(t,e,!0);if(null!=i)return v(i,[0,e.length-1],[0,1],!0);},category:function category(t){var e=this.option.categories?this.option.categoryMap[t]:t;return null==e?_:e;},fixed:g.noop};b.listVisualTypes=function(){var t=[];return g.each(w,function(e,i){t.push(i);}),t;},b.addVisualHandler=function(t,e){w[t]=e;},b.isValidType=function(t){return w.hasOwnProperty(t);},b.eachVisual=function(t,e,i){g.isObject(t)?g.each(t,e,i):e.call(i,t);},b.mapVisual=function(t,e,i){var n,o=g.isArray(t)?[]:g.isObject(t)?{}:(n=!0,null);return b.eachVisual(t,function(t,a){var r=e.call(i,t,a);n?o=r:o[a]=r;}),o;},b.retrieveVisuals=function(t){var e,i={};return t&&y(w,function(n,o){t.hasOwnProperty(o)&&(i[o]=t[o],e=!0);}),e?i:null;},b.prepareVisualTypes=function(t){if(x(t)){var e=[];y(t,function(t,i){e.push(i);}),t=e;}else{if(!g.isArray(t))return[];t=t.slice();}return t.sort(function(t,e){return"color"===e&&"color"!==t&&0===t.indexOf("color")?1:-1;}),t;},b.dependsOn=function(t,e){return"color"===e?!(!t||0!==t.indexOf(e)):t===e;},b.findPieceIndex=function(t,e,i){function n(e,i){var n=Math.abs(e-t);n<a&&(a=n,o=i);}for(var o,a=1/0,r=0,s=e.length;r<s;r++){var l=e[r].value;if(null!=l){if(l===t||"string"==typeof l&&l===t+"")return r;i&&n(l,r);}}for(var r=0,s=e.length;r<s;r++){var u=e[r],c=u.interval,h=u.close;if(c){if(c[0]===-(1/0)){if(p(h[1],t,c[1]))return r;}else if(c[1]===1/0){if(p(h[0],c[0],t))return r;}else if(p(h[0],c[0],t)&&p(h[1],t,c[1]))return r;i&&n(c[0],r),i&&n(c[1],r);}}if(i)return t===1/0?e.length-1:t===-(1/0)?0:o;},t.exports=b;},function(t,e){t.exports=function(t,e){var i={};e.eachRawSeriesByType(t,function(t){var n=t.getRawData(),o={};if(!e.isSeriesFiltered(t)){var a=t.getData();a.each(function(t){var e=a.getRawIndex(t);o[e]=t;}),n.each(function(e){var r=o[e],s=null!=r&&a.getItemVisual(r,"color",!0);if(s)n.setItemVisual(e,"color",s);else{var l=n.getItemModel(e),u=l.get("itemStyle.normal.color")||t.getColorFromPalette(n.getName(e),i);n.setItemVisual(e,"color",u),null!=r&&a.setItemVisual(r,"color",u);}});}});};},function(t,e,i){var n=i(5),o=i(20),a={},r=Math.min,s=Math.max,l=Math.sin,u=Math.cos,c=n.create(),h=n.create(),d=n.create(),f=2*Math.PI;a.fromPoints=function(t,e,i){if(0!==t.length){var n,o=t[0],a=o[0],l=o[0],u=o[1],c=o[1];for(n=1;n<t.length;n++){o=t[n],a=r(a,o[0]),l=s(l,o[0]),u=r(u,o[1]),c=s(c,o[1]);}e[0]=a,e[1]=u,i[0]=l,i[1]=c;}},a.fromLine=function(t,e,i,n,o,a){o[0]=r(t,i),o[1]=r(e,n),a[0]=s(t,i),a[1]=s(e,n);};var p=[],g=[];a.fromCubic=function(t,e,i,n,a,l,u,c,h,d){var f,m=o.cubicExtrema,v=o.cubicAt,y=m(t,i,a,u,p);for(h[0]=1/0,h[1]=1/0,d[0]=-(1/0),d[1]=-(1/0),f=0;f<y;f++){var x=v(t,i,a,u,p[f]);h[0]=r(x,h[0]),d[0]=s(x,d[0]);}for(y=m(e,n,l,c,g),f=0;f<y;f++){var _=v(e,n,l,c,g[f]);h[1]=r(_,h[1]),d[1]=s(_,d[1]);}h[0]=r(t,h[0]),d[0]=s(t,d[0]),h[0]=r(u,h[0]),d[0]=s(u,d[0]),h[1]=r(e,h[1]),d[1]=s(e,d[1]),h[1]=r(c,h[1]),d[1]=s(c,d[1]);},a.fromQuadratic=function(t,e,i,n,a,l,u,c){var h=o.quadraticExtremum,d=o.quadraticAt,f=s(r(h(t,i,a),1),0),p=s(r(h(e,n,l),1),0),g=d(t,i,a,f),m=d(e,n,l,p);u[0]=r(t,a,g),u[1]=r(e,l,m),c[0]=s(t,a,g),c[1]=s(e,l,m);},a.fromArc=function(t,e,i,o,a,r,s,p,g){var m=n.min,v=n.max,y=Math.abs(a-r);if(y%f<1e-4&&y>1e-4)return p[0]=t-i,p[1]=e-o,g[0]=t+i,void(g[1]=e+o);if(c[0]=u(a)*i+t,c[1]=l(a)*o+e,h[0]=u(r)*i+t,h[1]=l(r)*o+e,m(p,c,h),v(g,c,h),a%=f,a<0&&(a+=f),r%=f,r<0&&(r+=f),a>r&&!s?r+=f:a<r&&s&&(a+=f),s){var x=r;r=a,a=x;}for(var _=0;_<r;_+=Math.PI/2){_>a&&(d[0]=u(_)*i+t,d[1]=l(_)*o+e,m(p,d,p),v(g,d,g));}},t.exports=a;},function(t,e,i){var n=i(38),o=i(1),a=i(17),r=function r(t){n.call(this,t);};r.prototype={constructor:r,type:"text",brush:function brush(t,e){var i=this.style,n=i.x||0,o=i.y||0,r=i.text;if(null!=r&&(r+=""),i.bind(t,this,e),r){this.setTransform(t);var s,l=i.textAlign,u=i.textFont||i.font;if(i.textVerticalAlign){var c=a.getBoundingRect(r,u,i.textAlign,"top");switch(s="middle",i.textVerticalAlign){case"middle":o-=c.height/2-c.lineHeight/2;break;case"bottom":o-=c.height-c.lineHeight/2;break;default:o+=c.lineHeight/2;}}else s=i.textBaseline;t.font=u||"12px sans-serif",t.textAlign=l||"left",t.textAlign!==l&&(t.textAlign="left"),t.textBaseline=s||"alphabetic",t.textBaseline!==s&&(t.textBaseline="alphabetic");for(var h=a.measureText("",t.font).width,d=r.split("\n"),f=0;f<d.length;f++){i.hasStroke()&&t.strokeText(d[f],n,o),i.hasFill()&&t.fillText(d[f],n,o),o+=h;}this.restoreTransform(t);}},getBoundingRect:function getBoundingRect(){var t=this.style;if(!this._rect){var e=t.textVerticalAlign,i=a.getBoundingRect(t.text+"",t.textFont||t.font,t.textAlign,e?"top":t.textBaseline);switch(e){case"middle":i.y-=i.height/2;break;case"bottom":i.y-=i.height;}if(i.x+=t.x||0,i.y+=t.y||0,t.hasStroke()){var n=t.lineWidth;i.x-=n/2,i.y-=n/2,i.width+=n,i.height+=n;}this._rect=i;}return this._rect;}},o.inherits(r,n),t.exports=r;},function(t,e,i){function n(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t;}var o=i(17),a=i(11),r=new a(),s=function s(){};s.prototype={constructor:s,drawRectText:function drawRectText(t,e,i){var a=this.style,s=a.text;if(null!=s&&(s+=""),s){t.save();var l,u,c=a.textPosition,h=a.textOffset,d=a.textDistance,f=a.textAlign,p=a.textFont||a.font,g=a.textBaseline,m=a.textVerticalAlign;i=i||o.getBoundingRect(s,p,f,g);var v=this.transform;if(a.textTransform?this.setTransform(t):v&&(r.copy(e),r.applyTransform(v),e=r),c instanceof Array){if(l=e.x+n(c[0],e.width),u=e.y+n(c[1],e.height),f=f||"left",g=g||"top",m){switch(m){case"middle":u-=i.height/2-i.lineHeight/2;break;case"bottom":u-=i.height-i.lineHeight/2;break;default:u+=i.lineHeight/2;}g="middle";}}else{var y=o.adjustTextPositionOnRect(c,e,i,d);l=y.x,u=y.y,f=f||y.textAlign,g=g||y.textBaseline;}h&&(l+=h[0],u+=h[1]),t.textAlign=f||"left",t.textBaseline=g||"alphabetic";var x=a.textFill,_=a.textStroke;x&&(t.fillStyle=x),_&&(t.strokeStyle=_),t.font=p||"12px sans-serif",t.shadowBlur=a.textShadowBlur,t.shadowColor=a.textShadowColor||"transparent",t.shadowOffsetX=a.textShadowOffsetX,t.shadowOffsetY=a.textShadowOffsetY;var b=s.split("\n");a.textRotation&&(v&&t.translate(v[4],v[5]),t.rotate(a.textRotation),v&&t.translate(-v[4],-v[5]));for(var w=0;w<b.length;w++){_&&t.strokeText(b[w],l,u),x&&t.fillText(b[w],l,u),u+=i.lineHeight;}t.restore();}}},t.exports=s;},function(t,e,i){function n(t){delete f[t];}/*!
	 * ZRender, a high performance 2d drawing library.
	 *
	 * Copyright (c) 2013, Baidu Inc.
	 * All rights reserved.
	 *
	 * LICENSE
	 * https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
	 */var o=i(70),a=i(9),r=i(1),s=i(152),l=i(155),u=i(156),c=i(163),h=!a.canvasSupported,d={canvas:i(154)},f={},p={};p.version="3.4.3",p.init=function(t,e){var i=new g(o(),t,e);return f[i.id]=i,i;},p.dispose=function(t){if(t)t.dispose();else{for(var e in f){f.hasOwnProperty(e)&&f[e].dispose();}f={};}return p;},p.getInstance=function(t){return f[t];},p.registerPainter=function(t,e){d[t]=e;};var g=function g(t,e,i){i=i||{},this.dom=e,this.id=t;var n=this,o=new l(),f=i.renderer;if(h){if(!d.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");f="vml";}else f&&d[f]||(f="canvas");var p=new d[f](e,o,i);this.storage=o,this.painter=p;var g=a.node?null:new c(p.getViewportRoot());this.handler=new s(o,p,g,p.root),this.animation=new u({stage:{update:r.bind(this.flush,this)}}),this.animation.start(),this._needsRefresh;var m=o.delFromStorage,v=o.addToStorage;o.delFromStorage=function(t){m.call(o,t),t&&t.removeSelfFromZr(n);},o.addToStorage=function(t){v.call(o,t),t.addSelfToZr(n);};};g.prototype={constructor:g,getId:function getId(){return this.id;},add:function add(t){this.storage.addRoot(t),this._needsRefresh=!0;},remove:function remove(t){this.storage.delRoot(t),this._needsRefresh=!0;},configLayer:function configLayer(t,e){this.painter.configLayer(t,e),this._needsRefresh=!0;},refreshImmediately:function refreshImmediately(){this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1;},refresh:function refresh(){this._needsRefresh=!0;},flush:function flush(){this._needsRefresh&&this.refreshImmediately(),this._needsRefreshHover&&this.refreshHoverImmediately();},addHover:function addHover(t,e){this.painter.addHover&&(this.painter.addHover(t,e),this.refreshHover());},removeHover:function removeHover(t){this.painter.removeHover&&(this.painter.removeHover(t),this.refreshHover());},clearHover:function clearHover(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover());},refreshHover:function refreshHover(){this._needsRefreshHover=!0;},refreshHoverImmediately:function refreshHoverImmediately(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover();},resize:function resize(t){t=t||{},this.painter.resize(t.width,t.height),this.handler.resize();},clearAnimation:function clearAnimation(){this.animation.clear();},getWidth:function getWidth(){return this.painter.getWidth();},getHeight:function getHeight(){return this.painter.getHeight();},pathToImage:function pathToImage(t,e){return this.painter.pathToImage(t,e);},setCursorStyle:function setCursorStyle(t){this.handler.setCursorStyle(t);},findHover:function findHover(t,e){return this.handler.findHover(t,e);},on:function on(t,e,i){this.handler.on(t,e,i);},off:function off(t,e){this.handler.off(t,e);},trigger:function trigger(t,e){this.handler.trigger(t,e);},clear:function clear(){this.storage.delRoot(),this.painter.clear();},dispose:function dispose(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,n(this.id);}},t.exports=p;},function(t,e,i){var n=i(2),o=i(1);t.exports=function(t,e){o.each(e,function(e){e.update="updateView",n.registerAction(e,function(i,n){var o={};return n.eachComponent({mainType:"series",subType:t,query:i},function(t){t[e.method]&&t[e.method](i.name);var n=t.getData();n.each(function(e){var i=n.getName(e);o[i]=t.isSelected(i)||!1;});}),{name:i.name,selected:o};});});};},function(t,e,i){"use strict";var n=i(19),o=i(28);t.exports=n.extend({type:"series.__base_bar__",getInitialData:function getInitialData(t,e){return o(t.data,this,e);},getMarkerPosition:function getMarkerPosition(t){var e=this.coordinateSystem;if(e){var i=e.dataToPoint(t,!0),n=this.getData(),o=n.getLayout("offset"),a=n.getLayout("size"),r=e.getBaseAxis().isHorizontal()?0:1;return i[r]+=o+a/2,i;}return[NaN,NaN];},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,itemStyle:{normal:{},emphasis:{}}}});},function(t,e,i){function n(t,e,i,n,o){a.setText(t,e,i),t.text=n,"outside"===t.textPosition&&(t.textPosition=o);}var o=i(1),a=i(3),r={};r.setLabel=function(t,e,i,a,r,s,l){var u=i.getModel("label.normal"),c=i.getModel("label.emphasis");u.get("show")?n(t,u,a,o.retrieve(r.getFormattedLabel(s,"normal"),r.getRawValue(s)),l):t.text="",c.get("show")?n(e,c,a,o.retrieve(r.getFormattedLabel(s,"emphasis"),r.getRawValue(s)),l):e.text="";},t.exports=r;},function(t,e,i){function n(t){return isNaN(t[0])||isNaN(t[1]);}function o(t,e,i,o,a,r,g,m,v,y,x){for(var _=0,b=i,w=0;w<o;w++){var S=e[b];if(b>=a||b<0)break;if(n(S)){if(x){b+=r;continue;}break;}if(b===i)t[r>0?"moveTo":"lineTo"](S[0],S[1]),h(f,S);else if(v>0){var M=b+r,I=e[M];if(x)for(;I&&n(e[M]);){M+=r,I=e[M];}var T=.5,A=e[_],I=e[M];if(!I||n(I))h(p,S);else{n(I)&&!x&&(I=S),s.sub(d,I,A);var C,L;if("x"===y||"y"===y){var D="x"===y?0:1;C=Math.abs(S[D]-A[D]),L=Math.abs(S[D]-I[D]);}else C=s.dist(S,A),L=s.dist(S,I);T=L/(L+C),c(p,S,d,-v*(1-T));}l(f,f,m),u(f,f,g),l(p,p,m),u(p,p,g),t.bezierCurveTo(f[0],f[1],p[0],p[1],S[0],S[1]),c(f,S,d,v*T);}else t.lineTo(S[0],S[1]);_=b,b+=r;}return w;}function a(t,e){var i=[1/0,1/0],n=[-(1/0),-(1/0)];if(e)for(var o=0;o<t.length;o++){var a=t[o];a[0]<i[0]&&(i[0]=a[0]),a[1]<i[1]&&(i[1]=a[1]),a[0]>n[0]&&(n[0]=a[0]),a[1]>n[1]&&(n[1]=a[1]);}return{min:e?i:n,max:e?n:i};}var r=i(8),s=i(5),l=s.min,u=s.max,c=s.scaleAndAdd,h=s.copy,d=[],f=[],p=[];t.exports={Polyline:r.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},buildPath:function buildPath(t,e){var i=e.points,r=0,s=i.length,l=a(i,e.smoothConstraint);if(e.connectNulls){for(;s>0&&n(i[s-1]);s--){}for(;r<s&&n(i[r]);r++){}}for(;r<s;){r+=o(t,i,r,s,s,1,l.min,l.max,e.smooth,e.smoothMonotone,e.connectNulls)+1;}}}),Polygon:r.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},buildPath:function buildPath(t,e){var i=e.points,r=e.stackedOnPoints,s=0,l=i.length,u=e.smoothMonotone,c=a(i,e.smoothConstraint),h=a(r,e.smoothConstraint);if(e.connectNulls){for(;l>0&&n(i[l-1]);l--){}for(;s<l&&n(i[s]);s++){}}for(;s<l;){var d=o(t,i,s,l,l,1,c.min,c.max,e.smooth,u,e.connectNulls);o(t,r,s+d-1,d,l,-1,h.min,h.max,e.stackedOnSmooth,u,e.connectNulls),s+=d+1,t.closePath();}}})};},function(t,e,i){var n=i(1),o={retrieveTargetInfo:function retrieveTargetInfo(t,e){if(t&&("treemapZoomToNode"===t.type||"treemapRootToNode"===t.type)){var i=e.getData().tree.root,n=t.targetNode;if(n&&i.contains(n))return{node:n};var o=t.targetNodeId;if(null!=o&&(n=i.getNodeById(o)))return{node:n};}},getPathToRoot:function getPathToRoot(t){for(var e=[];t;){t=t.parentNode,t&&e.push(t);}return e.reverse();},aboveViewRoot:function aboveViewRoot(t,e){var i=o.getPathToRoot(t);return n.indexOf(i,e)>=0;},wrapTreePathInfo:function wrapTreePathInfo(t,e){for(var i=[];t;){var n=t.dataIndex;i.push({name:t.name,dataIndex:n,value:e.getRawValue(n)}),t=t.parentNode;}return i.reverse(),i;}};t.exports=o;},function(t,e,i){function n(t){this.pointerChecker,this._zr=t;var e=h.bind,i=e(o,this),n=e(a,this),u=e(r,this),d=e(s,this),f=e(l,this);c.call(this),this.setPointerChecker=function(t){this.pointerChecker=t;},this.enable=function(e){this.disable(),null==e&&(e=!0),e!==!0&&"move"!==e&&"pan"!==e||(t.on("mousedown",i),t.on("mousemove",n),t.on("mouseup",u)),e!==!0&&"scale"!==e&&"zoom"!==e||(t.on("mousewheel",d),t.on("pinch",f));},this.disable=function(){t.off("mousedown",i),t.off("mousemove",n),t.off("mouseup",u),t.off("mousewheel",d),t.off("pinch",f);},this.dispose=this.disable,this.isDragging=function(){return this._dragging;},this.isPinching=function(){return this._pinching;};}function o(t){if(!t.target||!t.target.draggable){var e=t.offsetX,i=t.offsetY;this.pointerChecker&&this.pointerChecker(t,e,i)&&(this._x=e,this._y=i,this._dragging=!0);}}function a(t){if(this._dragging&&(d.stop(t.event),"pinch"!==t.gestureEvent)){if(f.isTaken(this._zr,"globalPan"))return;var e=t.offsetX,i=t.offsetY,n=this._x,o=this._y,a=e-n,r=i-o;this._x=e,this._y=i,d.stop(t.event),this.trigger("pan",a,r,n,o,e,i);}}function r(t){this._dragging=!1;}function s(t){if(0!==t.wheelDelta){var e=t.wheelDelta>0?1.1:1/1.1;u.call(this,t,e,t.offsetX,t.offsetY);}}function l(t){if(!f.isTaken(this._zr,"globalPan")){var e=t.pinchScale>1?1.1:1/1.1;u.call(this,t,e,t.pinchX,t.pinchY);}}function u(t,e,i,n){this.pointerChecker&&this.pointerChecker(t,i,n)&&(d.stop(t.event),this.trigger("zoom",e,i,n));}var c=i(23),h=i(1),d=i(21),f=i(128);h.mixin(n,c),t.exports=n;},function(t,e,i){var n=i(1),o={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,lineStyle:{color:"#333",width:1,type:"solid"}},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,textStyle:{fontSize:12}},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},a=n.merge({boundaryGap:!0,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},o),r=n.merge({boundaryGap:[0,0],splitNumber:5},o),s=n.defaults({scale:!0,min:"dataMin",max:"dataMax"},r),l=n.defaults({logBase:10},r);l.scale=!0,t.exports={categoryAxis:a,valueAxis:r,timeAxis:s,logAxis:l};},function(t,e,i){"use strict";function n(t){return t.get("stack")||"__ec_stack_"+t.seriesIndex;}function o(t){return t.dim+t.index;}function a(t,e){var i={};s.each(t,function(t,e){var a=t.getData(),r=t.coordinateSystem,s=r.getBaseAxis(),l=s.getExtent(),c="category"===s.type?s.getBandWidth():Math.abs(l[1]-l[0])/a.count(),h=i[o(s)]||{bandWidth:c,remainedWidth:c,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},d=h.stacks;i[o(s)]=h;var f=n(t);d[f]||h.autoWidthCount++,d[f]=d[f]||{width:0,maxWidth:0};var p=u(t.get("barWidth"),c),g=u(t.get("barMaxWidth"),c),m=t.get("barGap"),v=t.get("barCategoryGap");p&&!d[f].width&&(p=Math.min(h.remainedWidth,p),d[f].width=p,h.remainedWidth-=p),g&&(d[f].maxWidth=g),null!=m&&(h.gap=m),null!=v&&(h.categoryGap=v);});var a={};return s.each(i,function(t,e){a[e]={};var i=t.stacks,n=t.bandWidth,o=u(t.categoryGap,n),r=u(t.gap,1),l=t.remainedWidth,c=t.autoWidthCount,h=(l-o)/(c+(c-1)*r);h=Math.max(h,0),s.each(i,function(t,e){var i=t.maxWidth;i&&i<h&&(i=Math.min(i,l),t.width&&(i=Math.min(i,t.width)),l-=i,t.width=i,c--);}),h=(l-o)/(c+(c-1)*r),h=Math.max(h,0);var d,f=0;s.each(i,function(t,e){t.width||(t.width=h),d=t,f+=t.width*(1+r);}),d&&(f-=d.width*r);var p=-f/2;s.each(i,function(t,i){a[e][i]=a[e][i]||{offset:p,width:t.width},p+=t.width*(1+r);});}),a;}function r(t,e,i){var r=a(s.filter(e.getSeriesByType(t),function(t){return!e.isSeriesFiltered(t)&&t.coordinateSystem&&"cartesian2d"===t.coordinateSystem.type;})),l={},u={};e.eachSeriesByType(t,function(t){var e=t.getData(),i=t.coordinateSystem,a=i.getBaseAxis(),s=n(t),c=r[o(a)][s],h=c.offset,d=c.width,f=i.getOtherAxis(a),p=t.get("barMinHeight")||0,g=a.onZero?f.toGlobalCoord(f.dataToCoord(0)):f.getGlobalExtent()[0],m=i.dataToPoints(e,!0);l[s]=l[s]||[],u[s]=u[s]||[],e.setLayout({offset:h,size:d}),e.each(f.dim,function(t,i){if(!isNaN(t)){l[s][i]||(l[s][i]={p:g,n:g},u[s][i]={p:g,n:g});var n,o,a,r,c=t>=0?"p":"n",v=m[i],y=l[s][i][c],x=u[s][i][c];f.isHorizontal()?(n=y,o=v[1]+h,a=v[0]-x,r=d,u[s][i][c]+=a,Math.abs(a)<p&&(a=(a<0?-1:1)*p),l[s][i][c]+=a):(n=v[0]+h,o=y,a=d,r=v[1]-x,u[s][i][c]+=r,Math.abs(r)<p&&(r=(r<=0?-1:1)*p),l[s][i][c]+=r),e.setItemLayout(i,{x:n,y:o,width:a,height:r});}},!0);},this);}var s=i(1),l=i(4),u=l.parsePercent;t.exports=r;},function(t,e){t.exports={containStroke:function containStroke(t,e,i,n,o,a,r){if(0===o)return!1;var s=o,l=0,u=t;if(r>e+s&&r>n+s||r<e-s&&r<n-s||a>t+s&&a>i+s||a<t-s&&a<i-s)return!1;if(t===i)return Math.abs(a-t)<=s/2;l=(e-n)/(t-i),u=(t*n-i*e)/(t-i);var c=l*a-r+u,h=c*c/(l*l+1);return h<=s/2*s/2;}};},function(t,e,i){var n=i(20);t.exports={containStroke:function containStroke(t,e,i,o,a,r,s,l,u){if(0===s)return!1;var c=s;if(u>e+c&&u>o+c&&u>r+c||u<e-c&&u<o-c&&u<r-c||l>t+c&&l>i+c&&l>a+c||l<t-c&&l<i-c&&l<a-c)return!1;var h=n.quadraticProjectPoint(t,e,i,o,a,r,l,u,null);return h<=c/2;}};},function(t,e){t.exports=function(t,e,i,n,o,a){if(a>e&&a>n||a<e&&a<n)return 0;if(n===e)return 0;var r=n<e?1:-1,s=(a-e)/(n-e);1!==s&&0!==s||(r=n<e?.5:-.5);var l=s*(i-t)+t;return l>o?r:0;};},function(t,e,i){"use strict";var n=i(1),o=i(39),a=function a(t,e,i,n,_a,r){this.x=null==t?0:t,this.y=null==e?0:e,this.x2=null==i?1:i,this.y2=null==n?0:n,this.type="linear",this.global=r||!1,o.call(this,_a);};a.prototype={constructor:a},n.inherits(a,o),t.exports=a;},function(t,e,i){"use strict";function n(t){o.each(a,function(e){this[e]=o.bind(t[e],t);},this);}var o=i(1),a=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"];t.exports=n;},function(t,e,i){var n=i(1);i(56),i(102),i(103);var o=i(95),a=i(2);a.registerLayout(n.curry(o,"bar")),a.registerVisual(function(t){t.eachSeriesByType("bar",function(t){var e=t.getData();e.setVisual("legendSymbol","roundRect");});}),i(32);},function(t,e,i){t.exports=i(89).extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect"});},function(t,e,i){"use strict";function n(t,e,i,n,o,a,r){var s=new u.Rect({shape:l.extend({},n)});if(a){var c=s.shape,h=o?"height":"width",d={};c[h]=0,d[h]=n[h],u[r?"updateProps":"initProps"](s,{shape:d},a,e);}return s;}function o(t,e,i){i.style.text="",u.updateProps(i,{shape:{width:0}},e,t,function(){i.parent&&i.parent.remove(i);});}function a(t,e,i){var n=t.getItemLayout(e),o=s(i,n),a=n.width>0?1:-1,r=n.height>0?1:-1;return{x:n.x+a*o/2,y:n.y+r*o/2,width:n.width-a*o,height:n.height-r*o};}function r(t,e,i,n,o,a,r){var s=e.getItemVisual(i,"color"),h=e.getItemVisual(i,"opacity"),d=n.getModel("itemStyle.normal"),f=n.getModel("itemStyle.emphasis").getBarItemStyle();t.setShape("r",d.get("barBorderRadius")||0),t.useStyle(l.defaults({fill:s,opacity:h},d.getBarItemStyle()));var p=r?o.height>0?"bottom":"top":o.width>0?"left":"right";c.setLabel(t.style,f,n,s,a,i,p),u.setHoverStyle(t,f);}function s(t,e){var i=t.get(h)||0;return Math.min(i,Math.abs(e.width),Math.abs(e.height));}var l=i(1),u=i(3),c=i(90),h=["itemStyle","normal","barBorderWidth"];l.extend(i(10).prototype,i(104));var d=i(2).extendChartView({type:"bar",render:function render(t,e,i){var n=t.get("coordinateSystem");return"cartesian2d"===n&&this._renderOnCartesian(t,e,i),this.group;},dispose:l.noop,_renderOnCartesian:function _renderOnCartesian(t,e,i){var s=this.group,l=t.getData(),c=this._data,h=t.coordinateSystem,d=h.getBaseAxis(),f=d.isHorizontal(),p=t.isAnimationEnabled()?t:null;l.diff(c).add(function(e){if(l.hasValue(e)){var i=l.getItemModel(e),o=a(l,e,i),u=n(l,e,i,o,f,p);l.setItemGraphicEl(e,u),s.add(u),r(u,l,e,i,o,t,f);}}).update(function(e,i){var o=c.getItemGraphicEl(i);if(!l.hasValue(e))return void s.remove(o);var h=l.getItemModel(e),d=a(l,e,h);o?u.updateProps(o,{shape:d},p,e):o=n(l,e,h,d,f,p,!0),l.setItemGraphicEl(e,o),s.add(o),r(o,l,e,h,d,t,f);}).remove(function(t){var e=c.getItemGraphicEl(t);e&&o(t,p,e);}).execute(),this._data=l;},remove:function remove(t,e){var i=this.group,n=this._data;t.get("animation")?n&&n.eachItemGraphicEl(function(e){o(e.dataIndex,t,e);}):i.removeAll();}});t.exports=d;},function(t,e,i){var n=i(31)([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);t.exports={getBarItemStyle:function getBarItemStyle(t){var e=n.call(this,t);if(this.getBorderLineDash){var i=this.getBorderLineDash();i&&(e.lineDash=i);}return e;}};},function(t,e,i){function n(t){return"_"+t+"Type";}function o(t,e,i){var n=e.getItemVisual(i,"color"),o=e.getItemVisual(i,t),a=e.getItemVisual(i,t+"Size");if(o&&"none"!==o){f.isArray(a)||(a=[a,a]);var r=u.createSymbol(o,-a[0]/2,-a[1]/2,a[0],a[1],n);return r.name=t,r;}}function a(t){var e=new h({name:"line"});return r(e.shape,t),e;}function r(t,e){var i=e[0],n=e[1],o=e[2];t.x1=i[0],t.y1=i[1],t.x2=n[0],t.y2=n[1],t.percent=1,o?(t.cpx1=o[0],t.cpy1=o[1]):(t.cpx1=NaN,t.cpy1=NaN);}function s(){var t=this,e=t.childOfName("fromSymbol"),i=t.childOfName("toSymbol"),n=t.childOfName("label");if(e||i||!n.ignore){for(var o=1,a=this.parent;a;){a.scale&&(o/=a.scale[0]),a=a.parent;}var r=t.childOfName("line");if(this.__dirty||r.__dirty){var s=r.shape.percent,l=r.pointAt(0),u=r.pointAt(s),h=c.sub([],u,l);if(c.normalize(h,h),e){e.attr("position",l);var d=r.tangentAt(0);e.attr("rotation",Math.PI/2-Math.atan2(d[1],d[0])),e.attr("scale",[o*s,o*s]);}if(i){i.attr("position",u);var d=r.tangentAt(1);i.attr("rotation",-Math.PI/2-Math.atan2(d[1],d[0])),i.attr("scale",[o*s,o*s]);}if(!n.ignore){n.attr("position",u);var f,p,g,m=5*o;if("end"===n.__position)f=[h[0]*m+u[0],h[1]*m+u[1]],p=h[0]>.8?"left":h[0]<-.8?"right":"center",g=h[1]>.8?"top":h[1]<-.8?"bottom":"middle";else if("middle"===n.__position){var v=s/2,d=r.tangentAt(v),y=[d[1],-d[0]],x=r.pointAt(v);y[1]>0&&(y[0]=-y[0],y[1]=-y[1]),f=[x[0]+y[0]*m,x[1]+y[1]*m],p="center",g="bottom";var _=-Math.atan2(d[1],d[0]);u[0]<l[0]&&(_=Math.PI+_),n.attr("rotation",_);}else f=[-h[0]*m+l[0],-h[1]*m+l[1]],p=h[0]>.8?"right":h[0]<-.8?"left":"center",g=h[1]>.8?"bottom":h[1]<-.8?"top":"middle";n.attr({style:{textVerticalAlign:n.__verticalAlign||g,textAlign:n.__textAlign||p},position:f,scale:[o,o]});}}}}function l(t,e,i){d.Group.call(this),this._createLine(t,e,i);}var u=i(24),c=i(5),h=i(190),d=i(3),f=i(1),p=i(4),g=["fromSymbol","toSymbol"],m=l.prototype;m.beforeUpdate=s,m._createLine=function(t,e,i){var r=t.hostModel,s=t.getItemLayout(e),l=a(s);l.shape.percent=0,d.initProps(l,{shape:{percent:1}},r,e),this.add(l);var u=new d.Text({name:"label"});this.add(u),f.each(g,function(i){var a=o(i,t,e);this.add(a),this[n(i)]=t.getItemVisual(e,i);},this),this._updateCommonStl(t,e,i);},m.updateData=function(t,e,i){var a=t.hostModel,s=this.childOfName("line"),l=t.getItemLayout(e),u={shape:{}};r(u.shape,l),d.updateProps(s,u,a,e),f.each(g,function(i){var a=t.getItemVisual(e,i),r=n(i);if(this[r]!==a){this.remove(this.childOfName(i));var s=o(i,t,e);this.add(s);}this[r]=a;},this),this._updateCommonStl(t,e,i);},m._updateCommonStl=function(t,e,i){var n=t.hostModel,o=this.childOfName("line"),a=i&&i.lineStyle,r=i&&i.hoverLineStyle,s=i&&i.labelModel,l=i&&i.hoverLabelModel;if(!i||t.hasItemOption){var u=t.getItemModel(e);a=u.getModel("lineStyle.normal").getLineStyle(),r=u.getModel("lineStyle.emphasis").getLineStyle(),s=u.getModel("label.normal"),l=u.getModel("label.emphasis");}var c=t.getItemVisual(e,"color"),h=f.retrieve(t.getItemVisual(e,"opacity"),a.opacity,1);o.useStyle(f.defaults({strokeNoScale:!0,fill:"none",stroke:c,opacity:h},a)),o.hoverStyle=r,f.each(g,function(t){var e=this.childOfName(t);e&&(e.setColor(c),e.setStyle({opacity:h}));},this);var m,v,y=s.getShallow("show"),x=l.getShallow("show"),_=this.childOfName("label");if(y||x){var b=n.getRawValue(e);v=null==b?v=t.getName(e):isFinite(b)?p.round(b):b,m=c||"#000";}if(y){var w=s.getModel("textStyle");_.setStyle({text:f.retrieve(n.getFormattedLabel(e,"normal",t.dataType),v),textFont:w.getFont(),fill:w.getTextColor()||m}),_.__textAlign=w.get("align"),_.__verticalAlign=w.get("baseline"),_.__position=s.get("position");}else _.setStyle("text","");if(x){var S=l.getModel("textStyle");_.hoverStyle={text:f.retrieve(n.getFormattedLabel(e,"emphasis",t.dataType),v),textFont:S.getFont(),fill:S.getTextColor()||m};}else _.hoverStyle={text:""};_.ignore=!y&&!x,d.setHoverStyle(this);},m.updateLayout=function(t,e){this.setLinePoints(t.getItemLayout(e));},m.setLinePoints=function(t){var e=this.childOfName("line");r(e.shape,t),e.dirty();},f.inherits(l,d.Group),t.exports=l;},function(t,e,i){function n(t){return isNaN(t[0])||isNaN(t[1]);}function o(t){return!n(t[0])&&!n(t[1]);}function a(t){this._ctor=t||s,this.group=new r.Group();}var r=i(3),s=i(105),l=a.prototype;l.updateData=function(t){var e=this._lineData,i=this.group,n=this._ctor,a=t.hostModel,r={lineStyle:a.getModel("lineStyle.normal").getLineStyle(),hoverLineStyle:a.getModel("lineStyle.emphasis").getLineStyle(),labelModel:a.getModel("label.normal"),hoverLabelModel:a.getModel("label.emphasis")};t.diff(e).add(function(e){if(o(t.getItemLayout(e))){var a=new n(t,e,r);t.setItemGraphicEl(e,a),i.add(a);}}).update(function(a,s){var l=e.getItemGraphicEl(s);return o(t.getItemLayout(a))?(l?l.updateData(t,a,r):l=new n(t,a,r),t.setItemGraphicEl(a,l),void i.add(l)):void i.remove(l);}).remove(function(t){i.remove(e.getItemGraphicEl(t));}).execute(),this._lineData=t;},l.updateLayout=function(){var t=this._lineData;t.eachItemGraphicEl(function(e,i){e.updateLayout(t,i);},this);},l.remove=function(){this.group.removeAll();},t.exports=a;},function(t,e,i){var n=i(1),o=i(2),a=o.PRIORITY;i(108),i(109),o.registerVisual(n.curry(i(50),"line","circle","line")),o.registerLayout(n.curry(i(60),"line")),o.registerProcessor(a.PROCESSOR.STATISTIC,n.curry(i(147),"line")),i(32);},function(t,e,i){"use strict";var n=i(28),o=i(19);t.exports=o.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function getInitialData(t,e){return n(t.data,this,e);},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clipOverflow:!0,label:{normal:{position:"top"}},lineStyle:{normal:{width:2,type:"solid"}},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:!1,connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}});},function(t,e,i){"use strict";function n(t,e){if(t.length===e.length){for(var i=0;i<t.length;i++){var n=t[i],o=e[i];if(n[0]!==o[0]||n[1]!==o[1])return;}return!0;}}function o(t){return"number"==typeof t?t:t?.3:0;}function a(t){var e=t.getGlobalExtent();if(t.onBand){var i=t.getBandWidth()/2-1,n=e[1]>e[0]?1:-1;e[0]+=n*i,e[1]-=n*i;}return e;}function r(t){return t>=0?1:-1;}function s(t,e){var i=t.getBaseAxis(),n=t.getOtherAxis(i),o=i.onZero?0:n.scale.getExtent()[0],a=n.dim,s="x"===a||"radius"===a?1:0;return e.mapArray([a],function(n,l){for(var u,c=e.stackedOn;c&&r(c.get(a,l))===r(n);){u=c;break;}var h=[];return h[s]=e.get(i.dim,l),h[1-s]=u?u.get(a,l,!0):o,t.dataToPoint(h);},!0);}function l(t,e,i){var n=a(t.getAxis("x")),o=a(t.getAxis("y")),r=t.getBaseAxis().isHorizontal(),s=Math.min(n[0],n[1]),l=Math.min(o[0],o[1]),u=Math.max(n[0],n[1])-s,c=Math.max(o[0],o[1])-l,h=i.get("lineStyle.normal.width")||2,d=i.get("clipOverflow")?h/2:Math.max(u,c);r?(l-=d,c+=2*d):(s-=d,u+=2*d);var f=new v.Rect({shape:{x:s,y:l,width:u,height:c}});return e&&(f.shape[r?"width":"height"]=0,v.initProps(f,{shape:{width:u,height:c}},i)),f;}function u(t,e,i){var n=t.getAngleAxis(),o=t.getRadiusAxis(),a=o.getExtent(),r=n.getExtent(),s=Math.PI/180,l=new v.Sector({shape:{cx:t.cx,cy:t.cy,r0:a[0],r:a[1],startAngle:-r[0]*s,endAngle:-r[1]*s,clockwise:n.inverse}});return e&&(l.shape.endAngle=-r[0]*s,v.initProps(l,{shape:{endAngle:-r[1]*s}},i)),l;}function c(t,e,i){return"polar"===t.type?u(t,e,i):l(t,e,i);}function h(t,e,i){for(var n=e.getBaseAxis(),o="x"===n.dim||"radius"===n.dim?0:1,a=[],r=0;r<t.length-1;r++){var s=t[r+1],l=t[r];a.push(l);var u=[];switch(i){case"end":u[o]=s[o],u[1-o]=l[1-o],a.push(u);break;case"middle":var c=(l[o]+s[o])/2,h=[];u[o]=h[o]=c,u[1-o]=l[1-o],h[1-o]=s[1-o],a.push(u),a.push(h);break;default:u[o]=l[o],u[1-o]=s[1-o],a.push(u);}}return t[r]&&a.push(t[r]),a;}function d(t,e){var i=t.getVisual("visualMeta");if(i&&i.length&&t.count()){for(var n,o=i.length-1;o>=0;o--){if(i[o].dimension<2){n=i[o];break;}}if(n&&"cartesian2d"===e.type){var a=n.dimension,r=t.dimensions[a],s=e.getAxis(r),l=f.map(n.stops,function(t){return{coord:s.toGlobalCoord(s.dataToCoord(t.value)),color:t.color};}),u=l.length,c=n.outerColors.slice();u&&l[0].coord>l[u-1].coord&&(l.reverse(),c.reverse());var h=10,d=l[0].coord-h,p=l[u-1].coord+h,g=p-d;if(g<.001)return"transparent";f.each(l,function(t){t.offset=(t.coord-d)/g;}),l.push({offset:u?l[u-1].offset:.5,color:c[1]||"transparent"}),l.unshift({offset:u?l[0].offset:.5,color:c[0]||"transparent"});var m=new v.LinearGradient(0,0,0,0,l,!0);return m[r]=d,m[r+"2"]=p,m;}}}var f=i(1),p=i(44),g=i(54),m=i(110),v=i(3),y=i(6),x=i(91),_=i(30);t.exports=_.extend({type:"line",init:function init(){var t=new v.Group(),e=new p();this.group.add(e.group),this._symbolDraw=e,this._lineGroup=t;},render:function render(t,e,i){var a=t.coordinateSystem,r=this.group,l=t.getData(),u=t.getModel("lineStyle.normal"),p=t.getModel("areaStyle.normal"),g=l.mapArray(l.getItemLayout,!0),m="polar"===a.type,v=this._coordSys,y=this._symbolDraw,x=this._polyline,_=this._polygon,b=this._lineGroup,w=t.get("animation"),S=!p.isEmpty(),M=s(a,l),I=t.get("showSymbol"),T=I&&!m&&!t.get("showAllSymbol")&&this._getSymbolIgnoreFunc(l,a),A=this._data;A&&A.eachItemGraphicEl(function(t,e){t.__temp&&(r.remove(t),A.setItemGraphicEl(e,null));}),I||y.remove(),r.add(b);var C=!m&&t.get("step");x&&v.type===a.type&&C===this._step?(S&&!_?_=this._newPolygon(g,M,a,w):_&&!S&&(b.remove(_),_=this._polygon=null),b.setClipPath(c(a,!1,t)),I&&y.updateData(l,T),l.eachItemGraphicEl(function(t){t.stopAnimation(!0);}),n(this._stackedOnPoints,M)&&n(this._points,g)||(w?this._updateAnimation(l,M,a,i,C):(C&&(g=h(g,a,C),M=h(M,a,C)),x.setShape({points:g}),_&&_.setShape({points:g,stackedOnPoints:M})))):(I&&y.updateData(l,T),C&&(g=h(g,a,C),M=h(M,a,C)),x=this._newPolyline(g,a,w),S&&(_=this._newPolygon(g,M,a,w)),b.setClipPath(c(a,!0,t)));var L=d(l,a)||l.getVisual("color");x.useStyle(f.defaults(u.getLineStyle(),{fill:"none",stroke:L,lineJoin:"bevel"}));var D=t.get("smooth");if(D=o(t.get("smooth")),x.setShape({smooth:D,smoothMonotone:t.get("smoothMonotone"),connectNulls:t.get("connectNulls")}),_){var P=l.stackedOn,k=0;if(_.useStyle(f.defaults(p.getAreaStyle(),{fill:L,opacity:.7,lineJoin:"bevel"})),P){var O=P.hostModel;k=o(O.get("smooth"));}_.setShape({smooth:D,stackedOnSmooth:k,smoothMonotone:t.get("smoothMonotone"),connectNulls:t.get("connectNulls")});}this._data=l,this._coordSys=a,this._stackedOnPoints=M,this._points=g,this._step=C;},dispose:function dispose(){},highlight:function highlight(t,e,i,n){var o=t.getData(),a=y.queryDataIndex(o,n);if(!(a instanceof Array)&&null!=a&&a>=0){var r=o.getItemGraphicEl(a);if(!r){var s=o.getItemLayout(a);if(!s)return;r=new g(o,a),r.position=s,r.setZ(t.get("zlevel"),t.get("z")),r.ignore=isNaN(s[0])||isNaN(s[1]),r.__temp=!0,o.setItemGraphicEl(a,r),r.stopSymbolAnimation(!0),this.group.add(r);}r.highlight();}else _.prototype.highlight.call(this,t,e,i,n);},downplay:function downplay(t,e,i,n){var o=t.getData(),a=y.queryDataIndex(o,n);if(null!=a&&a>=0){var r=o.getItemGraphicEl(a);r&&(r.__temp?(o.setItemGraphicEl(a,null),this.group.remove(r)):r.downplay());}else _.prototype.downplay.call(this,t,e,i,n);},_newPolyline:function _newPolyline(t){var e=this._polyline;return e&&this._lineGroup.remove(e),e=new x.Polyline({shape:{points:t},silent:!0,z2:10}),this._lineGroup.add(e),this._polyline=e,e;},_newPolygon:function _newPolygon(t,e){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new x.Polygon({shape:{points:t,stackedOnPoints:e},silent:!0}),this._lineGroup.add(i),this._polygon=i,i;},_getSymbolIgnoreFunc:function _getSymbolIgnoreFunc(t,e){var i=e.getAxesByScale("ordinal")[0];if(i&&i.isLabelIgnored)return f.bind(i.isLabelIgnored,i);},_updateAnimation:function _updateAnimation(t,e,i,n,o){var a=this._polyline,r=this._polygon,s=t.hostModel,l=m(this._data,t,this._stackedOnPoints,e,this._coordSys,i),u=l.current,c=l.stackedOnCurrent,d=l.next,f=l.stackedOnNext;o&&(u=h(l.current,i,o),c=h(l.stackedOnCurrent,i,o),d=h(l.next,i,o),f=h(l.stackedOnNext,i,o)),a.shape.__points=l.current,a.shape.points=u,v.updateProps(a,{shape:{points:d}},s),r&&(r.setShape({points:u,stackedOnPoints:c}),v.updateProps(r,{shape:{points:d,stackedOnPoints:f}},s));for(var p=[],g=l.status,y=0;y<g.length;y++){var x=g[y].cmd;if("="===x){var _=t.getItemGraphicEl(g[y].idx1);_&&p.push({el:_,ptIdx:y});}}a.animators&&a.animators.length&&a.animators[0].during(function(){for(var t=0;t<p.length;t++){var e=p[t].el;e.attr("position",a.shape.__points[p[t].ptIdx]);}});},remove:function remove(t){var e=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl(function(t,n){t.__temp&&(e.remove(t),i.setItemGraphicEl(n,null));}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null;}});},function(t,e){function i(t){return t>=0?1:-1;}function n(t,e,n){for(var o,a=t.getBaseAxis(),r=t.getOtherAxis(a),s=a.onZero?0:r.scale.getExtent()[0],l=r.dim,u="x"===l||"radius"===l?1:0,c=e.stackedOn,h=e.get(l,n);c&&i(c.get(l,n))===i(h);){o=c;break;}var d=[];return d[u]=e.get(a.dim,n),d[1-u]=o?o.get(l,n,!0):s,t.dataToPoint(d);}function o(t,e){var i=[];return e.diff(t).add(function(t){i.push({cmd:"+",idx:t});}).update(function(t,e){i.push({cmd:"=",idx:e,idx1:t});}).remove(function(t){i.push({cmd:"-",idx:t});}).execute(),i;}t.exports=function(t,e,i,a,r,s){for(var l=o(t,e),u=[],c=[],h=[],d=[],f=[],p=[],g=[],m=s.dimensions,v=0;v<l.length;v++){var y=l[v],x=!0;switch(y.cmd){case"=":var _=t.getItemLayout(y.idx),b=e.getItemLayout(y.idx1);(isNaN(_[0])||isNaN(_[1]))&&(_=b.slice()),u.push(_),c.push(b),h.push(i[y.idx]),d.push(a[y.idx1]),g.push(e.getRawIndex(y.idx1));break;case"+":var w=y.idx;u.push(r.dataToPoint([e.get(m[0],w,!0),e.get(m[1],w,!0)])),c.push(e.getItemLayout(w).slice()),h.push(n(r,e,w)),d.push(a[w]),g.push(e.getRawIndex(w));break;case"-":var w=y.idx,S=t.getRawIndex(w);S!==w?(u.push(t.getItemLayout(w)),c.push(s.dataToPoint([t.get(m[0],w,!0),t.get(m[1],w,!0)])),h.push(i[w]),d.push(n(s,t,w)),g.push(S)):x=!1;}x&&(f.push(y),p.push(p.length));}p.sort(function(t,e){return g[t]-g[e];});for(var M=[],I=[],T=[],A=[],C=[],v=0;v<p.length;v++){var w=p[v];M[v]=u[w],I[v]=c[w],T[v]=h[w],A[v]=d[w],C[v]=f[w];}return{current:M,next:I,stackedOnCurrent:T,stackedOnNext:A,status:C};};},function(t,e,i){var n=i(1),o=i(2);i(112),i(113),i(88)("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),o.registerVisual(n.curry(i(83),"pie")),o.registerLayout(n.curry(i(115),"pie")),o.registerProcessor(n.curry(i(62),"pie"));},function(t,e,i){"use strict";var n=i(14),o=i(1),a=i(6),r=i(25),s=i(77),l=i(2).extendSeriesModel({type:"series.pie",init:function init(t){l.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData();},this.updateSelectedMap(t.data),this._defaultLabelLine(t);},mergeOption:function mergeOption(t){l.superCall(this,"mergeOption",t),this.updateSelectedMap(this.option.data);},getInitialData:function getInitialData(t,e){var i=r(["value"],t.data),o=new n(i,this);return o.initData(t.data),o;},getDataParams:function getDataParams(t){var e=this.getData(),i=l.superCall(this,"getDataParams",t),n=e.getSum("value");return i.percent=n?+(e.get("value",t)/n*100).toFixed(2):0,i.$vars.push("percent"),i;},_defaultLabelLine:function _defaultLabelLine(t){a.defaultEmphasis(t.labelLine,["show"]);var e=t.labelLine.normal,i=t.labelLine.emphasis;e.show=e.show&&t.label.normal.show,i.show=i.show&&t.label.emphasis.show;},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,avoidLabelOverlap:!0,stillShowZeroSum:!0,label:{normal:{rotate:!1,show:!0,position:"outer"},emphasis:{}},labelLine:{normal:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}}},itemStyle:{normal:{borderWidth:1},emphasis:{}},animationType:"expansion",animationEasing:"cubicOut",data:[]}});o.mixin(l,s),t.exports=l;},function(t,e,i){function n(t,e,i,n){var a=e.getData(),r=this.dataIndex,s=a.getName(r),l=e.get("selectedOffset");n.dispatchAction({type:"pieToggleSelect",from:t,name:s,seriesId:e.id}),a.each(function(t){o(a.getItemGraphicEl(t),a.getItemLayout(t),e.isSelected(a.getName(t)),l,i);});}function o(t,e,i,n,o){var a=(e.startAngle+e.endAngle)/2,r=Math.cos(a),s=Math.sin(a),l=i?n:0,u=[r*l,s*l];o?t.animate().when(200,{position:u}).start("bounceOut"):t.attr("position",u);}function a(t,e){function i(){a.ignore=a.hoverIgnore,r.ignore=r.hoverIgnore;}function n(){a.ignore=a.normalIgnore,r.ignore=r.normalIgnore;}s.Group.call(this);var o=new s.Sector({z2:2}),a=new s.Polyline(),r=new s.Text();this.add(o),this.add(a),this.add(r),this.updateData(t,e,!0),this.on("emphasis",i).on("normal",n).on("mouseover",i).on("mouseout",n);}function r(t,e,i,n,o){var a=n.getModel("textStyle"),r="inside"===o||"inner"===o;return{fill:a.getTextColor()||(r?"#fff":t.getItemVisual(e,"color")),opacity:t.getItemVisual(e,"opacity"),textFont:a.getFont(),text:l.retrieve(t.hostModel.getFormattedLabel(e,i),t.getName(e))};}var s=i(3),l=i(1),u=a.prototype;u.updateData=function(t,e,i){function n(){r.stopAnimation(!0),r.animateTo({shape:{r:h.r+10}},300,"elasticOut");}function a(){r.stopAnimation(!0),r.animateTo({shape:{r:h.r}},300,"elasticOut");}var r=this.childAt(0),u=t.hostModel,c=t.getItemModel(e),h=t.getItemLayout(e),d=l.extend({},h);if(d.label=null,i){r.setShape(d);var f=u.getShallow("animationType");"scale"===f?(r.shape.r=h.r0,s.initProps(r,{shape:{r:h.r}},u,e)):(r.shape.endAngle=h.startAngle,s.updateProps(r,{shape:{endAngle:h.endAngle}},u,e));}else s.updateProps(r,{shape:d},u,e);var p=c.getModel("itemStyle"),g=t.getItemVisual(e,"color");r.useStyle(l.defaults({lineJoin:"bevel",fill:g},p.getModel("normal").getItemStyle())),r.hoverStyle=p.getModel("emphasis").getItemStyle(),o(this,t.getItemLayout(e),c.get("selected"),u.get("selectedOffset"),u.get("animation")),r.off("mouseover").off("mouseout").off("emphasis").off("normal"),c.get("hoverAnimation")&&u.isAnimationEnabled()&&r.on("mouseover",n).on("mouseout",a).on("emphasis",n).on("normal",a),this._updateLabel(t,e),s.setHoverStyle(this);},u._updateLabel=function(t,e){var i=this.childAt(1),n=this.childAt(2),o=t.hostModel,a=t.getItemModel(e),l=t.getItemLayout(e),u=l.label,c=t.getItemVisual(e,"color");s.updateProps(i,{shape:{points:u.linePoints||[[u.x,u.y],[u.x,u.y],[u.x,u.y]]}},o,e),s.updateProps(n,{style:{x:u.x,y:u.y}},o,e),n.attr({style:{textVerticalAlign:u.verticalAlign,textAlign:u.textAlign,textFont:u.font},rotation:u.rotation,origin:[u.x,u.y],z2:10});var h=a.getModel("label.normal"),d=a.getModel("label.emphasis"),f=a.getModel("labelLine.normal"),p=a.getModel("labelLine.emphasis"),g=h.get("position")||d.get("position");n.setStyle(r(t,e,"normal",h,g)),n.ignore=n.normalIgnore=!h.get("show"),n.hoverIgnore=!d.get("show"),i.ignore=i.normalIgnore=!f.get("show"),i.hoverIgnore=!p.get("show"),i.setStyle({stroke:c,opacity:t.getItemVisual(e,"opacity")}),i.setStyle(f.getModel("lineStyle").getLineStyle()),n.hoverStyle=r(t,e,"emphasis",d,g),i.hoverStyle=p.getModel("lineStyle").getLineStyle();var m=f.get("smooth");m&&m===!0&&(m=.4),i.setShape({smooth:m});},l.inherits(a,s.Group);var c=i(30).extend({type:"pie",init:function init(){var t=new s.Group();this._sectorGroup=t;},render:function render(t,e,i,o){if(!o||o.from!==this.uid){var r=t.getData(),s=this._data,u=this.group,c=e.get("animation"),h=!s,d=t.get("animationType"),f=l.curry(n,this.uid,t,c,i),p=t.get("selectedMode");if(r.diff(s).add(function(t){var e=new a(r,t);h&&"scale"!==d&&e.eachChild(function(t){t.stopAnimation(!0);}),p&&e.on("click",f),r.setItemGraphicEl(t,e),u.add(e);}).update(function(t,e){var i=s.getItemGraphicEl(e);i.updateData(r,t),i.off("click"),p&&i.on("click",f),u.add(i),r.setItemGraphicEl(t,i);}).remove(function(t){var e=s.getItemGraphicEl(t);u.remove(e);}).execute(),c&&h&&r.count()>0&&"scale"!==d){var g=r.getItemLayout(0),m=Math.max(i.getWidth(),i.getHeight())/2,v=l.bind(u.removeClipPath,u);u.setClipPath(this._createClipPath(g.cx,g.cy,m,g.startAngle,g.clockwise,v,t));}this._data=r;}},dispose:function dispose(){},_createClipPath:function _createClipPath(t,e,i,n,o,a,r){var l=new s.Sector({shape:{cx:t,cy:e,r0:0,r:i,startAngle:n,endAngle:n,clockwise:o}});return s.initProps(l,{shape:{endAngle:n+(o?1:-1)*Math.PI*2}},r,a),l;},containPoint:function containPoint(t,e){var i=e.getData(),n=i.getItemLayout(0);if(n){var o=t[0]-n.cx,a=t[1]-n.cy,r=Math.sqrt(o*o+a*a);return r<=n.r&&r>=n.r0;}}});t.exports=c;},function(t,e,i){"use strict";function n(t,e,i,n,o,a,r){function s(e,i,n,o){for(var a=e;a<i;a++){if(t[a].y+=n,a>e&&a+1<i&&t[a+1].y>t[a].y+t[a].height)return void l(a,n/2);}l(i-1,n/2);}function l(e,i){for(var n=e;n>=0&&(t[n].y-=i,!(n>0&&t[n].y>t[n-1].y+t[n-1].height));n--){}}function u(t,e,i,n,o,a){for(var r=a>0?e?Number.MAX_VALUE:0:e?Number.MAX_VALUE:0,s=0,l=t.length;s<l;s++){if("center"!==t[s].position){var u=Math.abs(t[s].y-n),c=t[s].len,h=t[s].len2,d=u<o+c?Math.sqrt((o+c+h)*(o+c+h)-u*u):Math.abs(t[s].x-i);e&&d>=r&&(d=r-10),!e&&d<=r&&(d=r+10),t[s].x=i+d*a,r=d;}}}t.sort(function(t,e){return t.y-e.y;});for(var c,h=0,d=t.length,f=[],p=[],g=0;g<d;g++){c=t[g].y-h,c<0&&s(g,d,-c,o),h=t[g].y+t[g].height;}r-h<0&&l(d-1,h-r);for(var g=0;g<d;g++){t[g].y>=i?p.push(t[g]):f.push(t[g]);}u(f,!1,e,i,n,o),u(p,!0,e,i,n,o);}function o(t,e,i,o,a,r){for(var s=[],l=[],u=0;u<t.length;u++){t[u].x<e?s.push(t[u]):l.push(t[u]);}n(l,e,i,o,1,a,r),n(s,e,i,o,-1,a,r);for(var u=0;u<t.length;u++){var c=t[u].linePoints;if(c){var h=c[1][0]-c[2][0];t[u].x<e?c[2][0]=t[u].x+3:c[2][0]=t[u].x-3,c[1][1]=c[2][1]=t[u].y,c[1][0]=c[2][0]+h;}}}var a=i(17);t.exports=function(t,e,i,n){var r,s,l=t.getData(),u=[],c=!1;l.each(function(i){var n,o,h,d,f=l.getItemLayout(i),p=l.getItemModel(i),g=p.getModel("label.normal"),m=g.get("position")||p.get("label.emphasis.position"),v=p.getModel("labelLine.normal"),y=v.get("length"),x=v.get("length2"),_=(f.startAngle+f.endAngle)/2,b=Math.cos(_),w=Math.sin(_);r=f.cx,s=f.cy;var S="inside"===m||"inner"===m;if("center"===m)n=f.cx,o=f.cy,d="center";else{var M=(S?(f.r+f.r0)/2*b:f.r*b)+r,I=(S?(f.r+f.r0)/2*w:f.r*w)+s;if(n=M+3*b,o=I+3*w,!S){var T=M+b*(y+e-f.r),A=I+w*(y+e-f.r),C=T+(b<0?-1:1)*x,L=A;n=C+(b<0?-5:5),o=L,h=[[M,I],[T,A],[C,L]];}d=S?"center":b>0?"left":"right";}var D=g.getModel("textStyle").getFont(),P=g.get("rotate")?b<0?-_+Math.PI:-_:0,k=t.getFormattedLabel(i,"normal")||l.getName(i),O=a.getBoundingRect(k,D,d,"top");c=!!P,f.label={x:n,y:o,position:m,height:O.height,len:y,len2:x,linePoints:h,textAlign:d,verticalAlign:"middle",font:D,rotation:P},S||u.push(f.label);}),!c&&t.get("avoidLabelOverlap")&&o(u,r,s,e,i,n);};},function(t,e,i){var n=i(4),o=n.parsePercent,a=i(114),r=i(1),s=2*Math.PI,l=Math.PI/180;t.exports=function(t,e,i,u){e.eachSeriesByType(t,function(t){var e=t.get("center"),u=t.get("radius");r.isArray(u)||(u=[0,u]),r.isArray(e)||(e=[e,e]);var c=i.getWidth(),h=i.getHeight(),d=Math.min(c,h),f=o(e[0],c),p=o(e[1],h),g=o(u[0],d/2),m=o(u[1],d/2),v=t.getData(),y=-t.get("startAngle")*l,x=t.get("minAngle")*l,_=v.getSum("value"),b=Math.PI/(_||v.count())*2,w=t.get("clockwise"),S=t.get("roseType"),M=t.get("stillShowZeroSum"),I=v.getDataExtent("value");I[0]=0;var T=s,A=0,C=y,L=w?1:-1;if(v.each("value",function(t,e){var i;if(isNaN(t))return void v.setItemLayout(e,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:w,cx:f,cy:p,r0:g,r:S?NaN:m});i="area"!==S?0===_&&M?b:t*b:s/(v.count()||1),i<x?(i=x,T-=x):A+=t;var o=C+L*i;v.setItemLayout(e,{angle:i,startAngle:C,endAngle:o,clockwise:w,cx:f,cy:p,r0:g,r:S?n.linearMap(t,I,[g,m]):m}),C=o;},!0),T<s)if(T<=.001){var D=s/v.count();v.each(function(t){var e=v.getItemLayout(t);e.startAngle=y+L*t*D,e.endAngle=y+L*(t+1)*D;});}else b=T/A,C=y,v.each("value",function(t,e){var i=v.getItemLayout(e),n=i.angle===x?x:t*b;i.startAngle=C,i.endAngle=C+L*n,C+=L*n;});a(t,m,c,h);});};},function(t,e,i){"use strict";i(59),i(117);},function(t,e,i){var n=i(1),o=i(3),a=i(40),r=i(41),s=i(74),l=a.ifIgnoreOnTick,u=a.getInterval,c=["axisLine","axisLabel","axisTick","axisName"],h=["splitArea","splitLine"],d=r.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function render(t,e,i,r){this.group.removeAll();var l=this._axisGroup;if(this._axisGroup=new o.Group(),this.group.add(this._axisGroup),t.get("show")){var u=t.getCoordSysModel(),f=s.layout(u,t),p=new a(t,f);n.each(c,p.add,p),this._axisGroup.add(p.getGroup()),n.each(h,function(e){t.get(e+".show")&&this["_"+e](t,u,f.labelInterval);},this),o.groupTransition(l,this._axisGroup,t),d.superCall(this,"render",t,e,i,r);}},_splitLine:function _splitLine(t,e,i){var a=t.axis;if(!a.scale.isBlank()){var r=t.getModel("splitLine"),s=r.getModel("lineStyle"),c=s.get("color"),h=u(r,i);c=n.isArray(c)?c:[c];for(var d=e.coordinateSystem.getRect(),f=a.isHorizontal(),p=0,g=a.getTicksCoords(),m=a.scale.getTicks(),v=[],y=[],x=s.getLineStyle(),_=0;_<g.length;_++){if(!l(a,_,h)){var b=a.toGlobalCoord(g[_]);f?(v[0]=b,v[1]=d.y,y[0]=b,y[1]=d.y+d.height):(v[0]=d.x,v[1]=b,y[0]=d.x+d.width,y[1]=b);var w=p++%c.length;this._axisGroup.add(new o.Line(o.subPixelOptimizeLine({anid:"line_"+m[_],shape:{x1:v[0],y1:v[1],x2:y[0],y2:y[1]},style:n.defaults({stroke:c[w]},x),silent:!0})));}}}},_splitArea:function _splitArea(t,e,i){var a=t.axis;if(!a.scale.isBlank()){var r=t.getModel("splitArea"),s=r.getModel("areaStyle"),c=s.get("color"),h=e.coordinateSystem.getRect(),d=a.getTicksCoords(),f=a.scale.getTicks(),p=a.toGlobalCoord(d[0]),g=a.toGlobalCoord(d[0]),m=0,v=u(r,i),y=s.getAreaStyle();c=n.isArray(c)?c:[c];for(var x=1;x<d.length;x++){if(!l(a,x,v)){var _,b,w,S,M=a.toGlobalCoord(d[x]);a.isHorizontal()?(_=p,b=h.y,w=M-_,S=h.height):(_=h.x,b=g,w=h.width,S=M-b);var I=m++%c.length;this._axisGroup.add(new o.Rect({anid:"area_"+f[x],shape:{x:_,y:b,width:w,height:S},style:n.defaults({fill:c[I]},y),silent:!0})),p=_+w,g=b+S;}}}}});d.extend({type:"xAxis"}),d.extend({type:"yAxis"});},function(t,e,i){"use strict";function n(){}function o(t,e,i,n){a(f(i).lastProp,n)||(f(i).lastProp=n,e?d.updateProps(i,n,t):(i.stopAnimation(),i.attr(n)));}function a(t,e){if(c.isObject(t)&&c.isObject(e)){var i=!0;return c.each(e,function(e,n){i&=a(t[n],e);}),!!i;}return t===e;}function r(t,e){t[e.get("label.show")?"show":"hide"]();}function s(t){return{position:t.position.slice(),rotation:t.rotation||0};}function l(t,e){var i=t.get("icon"),n={x:-1,y:-1,width:2,height:2},o=c.extend({style:{strokeNoScale:!0},rectHover:!0,cursor:"move",draggable:!0},e);return 0===i.indexOf("image://")?(n.image=i.slice(8),o.style=n,new d.Image(o)):d.makePath(i.replace("path://",""),o,n,"center");}function u(t,e,i){var n=e.get("z"),o=e.get("zlevel");t&&t.traverse(function(t){"group"!==t.type&&(null!=n&&(t.z=n),null!=o&&(t.zlevel=o),t.silent=i);});}var c=i(1),h=i(15),d=i(3),f=i(6).makeGetter(),p=i(45),g=i(21),m=i(37),v=c.clone,y=c.bind;n.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function render(t,e,i,n){var a=e.get("value"),r=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=i,n||this._lastValue!==a||this._lastStatus!==r){this._lastValue=a,this._lastStatus=r;var s=this._group,l=this._handle;if(!r||"hide"===r)return s&&s.hide(),void(l&&l.hide());s&&s.show(),l&&l.show();var h={};this.makeElOption(h,a,t,e,i);var f=h.graphicKey;f!==this._lastGraphicKey&&this.clear(i),this._lastGraphicKey=f;var p=this._moveAnimation=this.determineAnimation(t,e);if(s){var g=c.curry(o,e,p);this.updatePointerEl(s,h,g,e),this.updateLabelEl(s,h,g,e);}else s=this._group=new d.Group(),this.createPointerEl(s,h,t,e),this.createLabelEl(s,h,t,e),i.getZr().add(s);u(s,e,!0),this._renderHandle(a);}},remove:function remove(t){this.clear(t);},dispose:function dispose(t){this.clear(t);},determineAnimation:function determineAnimation(t,e){var i=e.get("animation"),n=t.axis,o="category"===n.type,a=e.get("snap");if(!a&&!o)return!1;if("auto"===i||null==i){var r=this.animationThreshold;if(o&&n.getBandWidth()>r)return!0;if(a){var s=p.getAxisInfo(t).seriesDataCount,l=n.getExtent();return Math.abs(l[0]-l[1])/s>r;}return!1;}return i===!0;},makeElOption:function makeElOption(t,e,i,n,o){},createPointerEl:function createPointerEl(t,e,i,n){var o=e.pointer;if(o){var a=f(t).pointerEl=new d[o.type](v(e.pointer));t.add(a);}},createLabelEl:function createLabelEl(t,e,i,n){if(e.label){var o=f(t).labelEl=new d.Rect(v(e.label));t.add(o),r(o,n);}},updatePointerEl:function updatePointerEl(t,e,i){var n=f(t).pointerEl;n&&(n.setStyle(e.pointer.style),i(n,{shape:e.pointer.shape}));},updateLabelEl:function updateLabelEl(t,e,i,n){var o=f(t).labelEl;o&&(o.setStyle(e.label.style),i(o,{shape:e.label.shape,position:e.label.position}),r(o,n));},_renderHandle:function _renderHandle(t){if(!this._dragging&&this.updateHandleTransform){var e=this._axisPointerModel,i=this._api.getZr(),n=this._handle,o=e.getModel("handle"),a=e.get("status");if(!o.get("show")||!a||"hide"===a)return n&&i.remove(n),void(this._handle=null);var r;this._handle||(r=!0,n=this._handle=l(o,{onmousemove:function onmousemove(t){g.stop(t.event);},onmousedown:y(this._onHandleDragMove,this,0,0),drift:y(this._onHandleDragMove,this),ondragend:y(this._onHandleDragEnd,this)}),i.add(n)),u(n,e,!1);var s=["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];n.setStyle(o.getItemStyle(null,s));var h=o.get("size");c.isArray(h)||(h=[h,h]),n.attr("scale",[h[0]/2,h[1]/2]),m.createOrUpdate(this,"_doDispatchAxisPointer",o.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,r);}},_moveHandleToValue:function _moveHandleToValue(t,e){o(this._axisPointerModel,!e&&this._moveAnimation,this._handle,s(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)));},_onHandleDragMove:function _onHandleDragMove(t,e){var i=this._handle;if(i){this._dragging=!0;var n=this.updateHandleTransform(s(i),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=n,i.stopAnimation(),i.attr(s(n)),f(i).lastProp=null,this._doDispatchAxisPointer();}},_doDispatchAxisPointer:function _doDispatchAxisPointer(){var t=this._handle;if(t){var e=this._payloadInfo,i={type:"updateAxisPointer",x:e.cursorPoint[0],y:e.cursorPoint[1],tooltipOption:e.tooltipOption,highDownKey:"axisPointerHandle"},n=this._axisModel.axis;i[n.dim+"AxisId"]=this._axisModel.id,this._api.dispatchAction(i);}},_onHandleDragEnd:function _onHandleDragEnd(t){this._dragging=!1;var e=this._handle;if(e){var i=this._axisPointerModel.get("value");this._moveHandleToValue(i),this._api.dispatchAction({type:"hideTip"});}},getHandleTransform:null,updateHandleTransform:null,clear:function clear(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),i=this._group,n=this._handle;e&&i&&(this._lastGraphicKey=null,i&&e.remove(i),n&&e.remove(n),this._group=null,this._handle=null,this._payloadInfo=null);},doClear:function doClear(){},buildLabel:function buildLabel(t,e,i){return i=i||0,{x:t[i],y:t[1-i],width:e[i],height:e[1-i]};}},n.prototype.constructor=n,h.enableClassExtend(n),t.exports=n;},function(t,e,i){"use strict";function n(t,e){var i={};return i[e.dim+"AxisIndex"]=e.index,t.getCartesian(i);}function o(t){return"x"===t.dim?0:1;}var a=i(3),r=i(118),s=i(75),l=i(74),u=i(41),c=r.extend({makeElOption:function makeElOption(t,e,i,o,a){var r=i.axis,u=r.grid,c=o.get("type"),d=n(u,r).getOtherAxis(r).getGlobalExtent(),f=r.toGlobalCoord(r.dataToCoord(e,!0));if(c&&"none"!==c){var p=s.buildElStyle(o),g=h[c](r,f,d,p);g.style=p,t.graphicKey=g.type,t.pointer=g;}var m=l.layout(u.model,i);s.buildCartesianSingleLabelElOption(e,t,m,i,o,a);},getHandleTransform:function getHandleTransform(t,e,i){var n=l.layout(e.axis.grid.model,e,{labelInside:!1});return n.labelMargin=i.get("handle.margin"),{position:s.getTransformedPosition(e.axis,t,n),rotation:n.rotation+(n.labelDirection<0?Math.PI:0)};},updateHandleTransform:function updateHandleTransform(t,e,i,o){var a=i.axis,r=a.grid,s=a.getGlobalExtent(!0),l=n(r,a).getOtherAxis(a).getGlobalExtent(),u="x"===a.dim?0:1,c=t.position;c[u]+=e[u],c[u]=Math.min(s[1],c[u]),c[u]=Math.max(s[0],c[u]);var h=(l[1]+l[0])/2,d=[h,h];d[u]=c[u];var f=[{verticalAlign:"middle"},{align:"center"}];return{position:c,rotation:t.rotation,cursorPoint:d,tooltipOption:f[u]};}}),h={line:function line(t,e,i,n){var r=s.makeLineShape([e,i[0]],[e,i[1]],o(t));return a.subPixelOptimizeLine({shape:r,style:n}),{type:"Line",shape:r};},shadow:function shadow(t,e,i,n){var a=t.getBandWidth(),r=i[1]-i[0];return{type:"Rect",shape:s.makeRectShape([e-a/2,i[0]],[a,r],o(t))};}};u.registerAxisPointerClass("CartesianAxisPointer",c),t.exports=c;},function(t,e,i){var n=i(1),o=i(6);t.exports=function(t,e){var i,a=[],r=t.seriesIndex;if(null==r||!(i=e.getSeriesByIndex(r)))return{point:[]};var s=i.getData(),l=o.queryDataIndex(s,t);if(null==l||n.isArray(l))return{point:[]};var u=s.getItemGraphicEl(l),c=i.coordinateSystem;if(i.getTooltipPosition)a=i.getTooltipPosition(l)||[];else if(c&&c.dataToPoint)a=c.dataToPoint(s.getValues(n.map(c.dimensions,function(t){return i.coordDimToDataDim(t)[0];}),l,!0))||[];else if(u){var h=u.getBoundingRect().clone();h.applyTransform(u.transform),a=[h.x+h.width/2,h.y+h.height/2];}return{point:a,el:u};};},function(t,e,i){function n(t,e){function i(i,n){t.on(i,function(i){var a=s(e);h(c(t).records,function(t){t&&n(t,i,a.dispatchAction);}),o(a.pendings,e);});}c(t).initialized||(c(t).initialized=!0,i("click",u.curry(r,"click")),i("mousemove",u.curry(r,"mousemove")),i("globalout",a));}function o(t,e){var i,n=t.showTip.length,o=t.hideTip.length;n?i=t.showTip[n-1]:o&&(i=t.hideTip[o-1]),i&&(i.dispatchAction=null,e.dispatchAction(i));}function a(t,e,i){t.handler("leave",null,i);}function r(t,e,i,n){e.handler(t,i,n);}function s(t){var e={showTip:[],hideTip:[]},i=function i(n){var o=e[n.type];o?o.push(n):(n.dispatchAction=i,t.dispatchAction(n));};return{dispatchAction:i,pendings:e};}var l=i(9),u=i(1),c=i(6).makeGetter(),h=u.each,d={};d.register=function(t,e,i){if(!l.node){var o=e.getZr();c(o).records||(c(o).records={}),n(o,e);var a=c(o).records[t]||(c(o).records[t]={});a.handler=i;}},d.unregister=function(t,e){if(!l.node){var i=e.getZr(),n=(c(i).records||{})[t];n&&(c(i).records[t]=null);}},t.exports=d;},function(t,e,i){var n=i(1),o=i(76),a=i(2);a.registerAction("dataZoom",function(t,e){var i=o.createLinkedNodesFinder(n.bind(e.eachComponent,e,"dataZoom"),o.eachAxisDim,function(t,e){return t.get(e.axisIndex);}),a=[];e.eachComponent({mainType:"dataZoom",query:t},function(t,e){a.push.apply(a,i(t).nodes);}),n.each(a,function(e,i){e.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue});});});},function(t,e,i){function n(t,e,i){i.getAxisProxy(t.name,e).reset(i);}function o(t,e,i){i.getAxisProxy(t.name,e).filterData(i);}var a=i(2);a.registerProcessor(function(t,e){t.eachComponent("dataZoom",function(t){t.eachTargetAxis(n),t.eachTargetAxis(o);}),t.eachComponent("dataZoom",function(t){var e=t.findRepresentativeAxisProxy(),i=e.getDataPercentWindow(),n=e.getDataValueWindow();t.setRawRange({start:i[0],end:i[1],startValue:n[0],endValue:n[1]},!0);});});},function(t,e,i){function n(t){var e=t[r];return e||(e=t[r]=[{}]),e;}var o=i(1),a=o.each,r="\0_ec_hist_store",s={push:function push(t,e){var i=n(t);a(e,function(e,n){for(var o=i.length-1;o>=0;o--){var a=i[o];if(a[n])break;}if(o<0){var r=t.queryComponents({mainType:"dataZoom",subType:"select",id:n})[0];if(r){var s=r.getPercentRange();i[0][n]={dataZoomId:n,start:s[0],end:s[1]};}}}),i.push(e);},pop:function pop(t){var e=n(t),i=e[e.length-1];e.length>1&&e.pop();var o={};return a(i,function(t,i){for(var n=e.length-1;n>=0;n--){var t=e[n][i];if(t){o[i]=t;break;}}}),o;},clear:function clear(t){t[r]=null;},count:function count(t){return n(t).length;}};t.exports=s;},function(t,e,i){i(13).registerSubTypeDefaulter("dataZoom",function(t){return"slider";});},function(t,e,i){function n(t){V.call(this),this._zr=t,this.group=new G.Group(),this._brushType,this._brushOption,this._panels,this._track=[],this._dragging,this._covers=[],this._creatingCover,this._creatingPanel,this._enableGlobalPan,this._uid="brushController_"+it++,this._handlers={},Z(nt,function(t,e){this._handlers[e]=B.bind(t,this);},this);}function o(t,e){var i=t._zr;t._enableGlobalPan||F.take(i,J,t._uid),Z(t._handlers,function(t,e){i.on(e,t);}),t._brushType=e.brushType,t._brushOption=B.merge(B.clone(et),e,!0);}function a(t){var e=t._zr;F.release(e,J,t._uid),Z(t._handlers,function(t,i){e.off(i,t);}),t._brushType=t._brushOption=null;}function r(t,e){var i=ot[e.brushType].createCover(t,e);return i.__brushOption=e,u(i,e),t.group.add(i),i;}function s(t,e){var i=h(e);return i.endCreating&&(i.endCreating(t,e),u(e,e.__brushOption)),e;}function l(t,e){var i=e.__brushOption;h(e).updateCoverShape(t,e,i.range,i);}function u(t,e){var i=e.z;null==i&&(i=Y),t.traverse(function(t){t.z=i,t.z2=i;});}function c(t,e){h(e).updateCommon(t,e),l(t,e);}function h(t){return ot[t.__brushOption.brushType];}function d(t,e,i){var n=t._panels;if(!n)return!0;var o,a=t._transform;return Z(n,function(t){t.isTargetByCursor(e,i,a)&&(o=t);}),o;}function f(t,e){var i=t._panels;if(!i)return!0;var n=e.__brushOption.panelId;return null==n||i[n];}function p(t){var e=t._covers,i=e.length;return Z(e,function(e){t.group.remove(e);},t),e.length=0,!!i;}function g(t,e){var i=q(t._covers,function(t){var e=t.__brushOption,i=B.clone(e.range);return{brushType:e.brushType,panelId:e.panelId,range:i};});t.trigger("brush",i,{isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick});}function m(t){var e=t._track;if(!e.length)return!1;var i=e[e.length-1],n=e[0],o=i[0]-n[0],a=i[1]-n[1],r=X(o*o+a*a,.5);return r>$;}function v(t){var e=t.length-1;return e<0&&(e=0),[t[0],t[e]];}function y(t,e,i,n){var o=new G.Group();return o.add(new G.Rect({name:"main",style:w(i),silent:!0,draggable:!0,cursor:"move",drift:W(t,e,o,"nswe"),ondragend:W(g,e,{isEnd:!0})})),Z(n,function(i){o.add(new G.Rect({name:i,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:W(t,e,o,i),ondragend:W(g,e,{isEnd:!0})}));}),o;}function x(t,e,i,n){var o=n.brushStyle.lineWidth||0,a=U(o,K),r=i[0][0],s=i[1][0],l=r-o/2,u=s-o/2,c=i[0][1],h=i[1][1],d=c-a+o/2,f=h-a+o/2,p=c-r,g=h-s,m=p+o,v=g+o;b(t,e,"main",r,s,p,g),n.transformable&&(b(t,e,"w",l,u,a,v),b(t,e,"e",d,u,a,v),b(t,e,"n",l,u,m,a),b(t,e,"s",l,f,m,a),b(t,e,"nw",l,u,a,a),b(t,e,"ne",d,u,a,a),b(t,e,"sw",l,f,a,a),b(t,e,"se",d,f,a,a));}function _(t,e){var i=e.__brushOption,n=i.transformable,o=e.childAt(0);o.useStyle(w(i)),o.attr({silent:!n,cursor:n?"move":"default"}),Z(["w","e","n","s","se","sw","ne","nw"],function(i){var o=e.childOfName(i),a=I(t,i);o&&o.attr({silent:!n,invisible:!n,cursor:n?tt[a]+"-resize":null});});}function b(t,e,i,n,o,a,r){var s=e.childOfName(i);s&&s.setShape(D(L(t,e,[[n,o],[n+a,o+r]])));}function w(t){return B.defaults({strokeNoScale:!0},t.brushStyle);}function S(t,e,i,n){var o=[j(t,i),j(e,n)],a=[U(t,i),U(e,n)];return[[o[0],a[0]],[o[1],a[1]]];}function M(t){return G.getTransform(t.group);}function I(t,e){if(e.length>1){e=e.split("");var i=[I(t,e[0]),I(t,e[1])];return("e"===i[0]||"w"===i[0])&&i.reverse(),i.join("");}var n={w:"left",e:"right",n:"top",s:"bottom"},o={left:"w",right:"e",top:"n",bottom:"s"},i=G.transformDirection(n[e],M(t));return o[i];}function T(t,e,i,n,o,a,r,s){var l=n.__brushOption,u=t(l.range),h=C(i,a,r);Z(o.split(""),function(t){var e=Q[t];u[e[0]][e[1]]+=h[e[0]];}),l.range=e(S(u[0][0],u[1][0],u[0][1],u[1][1])),c(i,n),g(i,{isEnd:!1});}function A(t,e,i,n,o){var a=e.__brushOption.range,r=C(t,i,n);Z(a,function(t){t[0]+=r[0],t[1]+=r[1];}),c(t,e),g(t,{isEnd:!1});}function C(t,e,i){var n=t.group,o=n.transformCoordToLocal(e,i),a=n.transformCoordToLocal(0,0);return[o[0]-a[0],o[1]-a[1]];}function L(t,e,i){var n=f(t,e);return n&&n!==!0?n.clipPath(i,t._transform):B.clone(i);}function D(t){var e=j(t[0][0],t[1][0]),i=j(t[0][1],t[1][1]),n=U(t[0][0],t[1][0]),o=U(t[0][1],t[1][1]);return{x:e,y:i,width:n-e,height:o-i};}function P(t,e,i){if(t._brushType){var n=t._zr,o=t._covers,a=d(t,e,i);if(!t._dragging)for(var r=0;r<o.length;r++){var s=o[r].__brushOption;if(a&&(a===!0||s.panelId===a.panelId)&&ot[s.brushType].contain(o[r],i[0],i[1]))return;}a&&n.setCursorStyle("crosshair");}}function k(t){var e=t.event;e.preventDefault&&e.preventDefault();}function O(t,e,i){return t.childOfName("main").contain(e,i);}function E(t,e,i,n){var o,a=t._creatingCover,u=t._creatingPanel,c=t._brushOption;if(t._track.push(i.slice()),m(t)||a){if(u&&!a){"single"===c.brushMode&&p(t);var h=B.clone(c);h.brushType=z(h.brushType,u),h.panelId=u===!0?null:u.panelId,a=t._creatingCover=r(t,h),t._covers.push(a);}if(a){var f=ot[z(t._brushType,u)],g=a.__brushOption;g.range=f.getCreatingRange(L(t,a,t._track)),n&&(s(t,a),f.updateCommon(t,a)),l(t,a),o={isEnd:n};}}else n&&"single"===c.brushMode&&c.removeOnClick&&d(t,e,i)&&p(t)&&(o={isEnd:n,removeOnClick:!0});return o;}function z(t,e){return"auto"===t?e.defaultBrushType:t;}function R(t){if(this._dragging){k(t);var e=this.group.transformCoordToLocal(t.offsetX,t.offsetY),i=E(this,t,e,!0);this._dragging=!1,this._track=[],this._creatingCover=null,i&&g(this,i);}}function N(t){return{createCover:function createCover(e,i){return y(W(T,function(e){var i=[e,[0,100]];return t&&i.reverse(),i;},function(e){return e[t];}),e,i,[["w","e"],["n","s"]][t]);},getCreatingRange:function getCreatingRange(e){var i=v(e),n=j(i[0][t],i[1][t]),o=U(i[0][t],i[1][t]);return[n,o];},updateCoverShape:function updateCoverShape(e,i,n,o){var a,r=f(e,i);if(r!==!0&&r.getLinearBrushOtherExtent)a=r.getLinearBrushOtherExtent(t,e._transform);else{var s=e._zr;a=[0,[s.getWidth(),s.getHeight()][1-t]];}var l=[n,a];t&&l.reverse(),x(e,i,l,o);},updateCommon:_,contain:O};}var V=i(23),B=i(1),G=i(3),F=i(128),H=i(48),W=B.curry,Z=B.each,q=B.map,j=Math.min,U=Math.max,X=Math.pow,Y=1e4,$=6,K=6,J="globalPan",Q={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},tt={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},et={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},it=0;n.prototype={constructor:n,enableBrush:function enableBrush(t){return this._brushType&&a(this),t.brushType&&o(this,t),this;},setPanels:function setPanels(t){if(t&&t.length){var e=this._panels={};B.each(t,function(t){e[t.panelId]=B.clone(t);});}else this._panels=null;return this;},mount:function mount(t){t=t||{},this._enableGlobalPan=t.enableGlobalPan;var e=this.group;return this._zr.add(e),e.attr({position:t.position||[0,0],rotation:t.rotation||0,scale:t.scale||[1,1]}),this._transform=e.getLocalTransform(),this;},eachCover:function eachCover(t,e){Z(this._covers,t,e);},updateCovers:function updateCovers(t){function e(t,e){return(null!=t.id?t.id:a+e)+"-"+t.brushType;}function i(t,i){return e(t.__brushOption,i);}function n(e,i){var n=t[e];if(null!=i&&l[i]===d)u[e]=l[i];else{var o=u[e]=null!=i?(l[i].__brushOption=n,l[i]):s(h,r(h,n));c(h,o);}}function o(t){l[t]!==d&&h.group.remove(l[t]);}t=B.map(t,function(t){return B.merge(B.clone(et),t,!0);});var a="\0-brush-index-",l=this._covers,u=this._covers=[],h=this,d=this._creatingCover;return new H(l,t,i,e).add(n).update(n).remove(o).execute(),this;},unmount:function unmount(){return this.enableBrush(!1),p(this),this._zr.remove(this.group),this;},dispose:function dispose(){this.unmount(),this.off();}},B.mixin(n,V);var nt={mousedown:function mousedown(t){if(this._dragging)R.call(this,t);else if(!t.target||!t.target.draggable){k(t);var e=this.group.transformCoordToLocal(t.offsetX,t.offsetY);this._creatingCover=null;var i=this._creatingPanel=d(this,t,e);i&&(this._dragging=!0,this._track=[e.slice()]);}},mousemove:function mousemove(t){var e=this.group.transformCoordToLocal(t.offsetX,t.offsetY);if(P(this,t,e),this._dragging){k(t);var i=E(this,t,e,!1);i&&g(this,i);}},mouseup:R},ot={lineX:N(0),lineY:N(1),rect:{createCover:function createCover(t,e){return y(W(T,function(t){return t;},function(t){return t;}),t,e,["w","e","n","s","se","sw","ne","nw"]);},getCreatingRange:function getCreatingRange(t){var e=v(t);return S(e[1][0],e[1][1],e[0][0],e[0][1]);},updateCoverShape:function updateCoverShape(t,e,i,n){x(t,e,i,n);},updateCommon:_,contain:O},polygon:{createCover:function createCover(t,e){var i=new G.Group();return i.add(new G.Polyline({name:"main",style:w(e),silent:!0})),i;},getCreatingRange:function getCreatingRange(t){return t;},endCreating:function endCreating(t,e){e.remove(e.childAt(0)),e.add(new G.Polygon({name:"main",draggable:!0,drift:W(A,t,e),ondragend:W(g,t,{isEnd:!0})}));},updateCoverShape:function updateCoverShape(t,e,i,n){e.childAt(0).setShape({points:L(t,e,i)});},updateCommon:_,contain:O}};t.exports=n;},function(t,e){var i={},n={axisPointer:1,tooltip:1,brush:1};i.onIrrelevantElement=function(t,e,i){var o=e.getComponentByElement(t.topTarget),a=o&&o.coordinateSystem;return o&&o!==i&&!n[o.mainType]&&a&&a.model!==i;},t.exports=i;},function(t,e,i){function n(t){return t[o]||(t[o]={});}var o="\0_ec_interaction_mutex",a={take:function take(t,e,i){var o=n(t);o[e]=i;},release:function release(t,e,i){var o=n(t),a=o[e];a===i&&(o[e]=null);},isTaken:function isTaken(t,e){return!!n(t)[e];}};i(2).registerAction({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){}),t.exports=a;},function(t,e,i){function n(t,e,i){o.positionElement(t,e.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()},e.get("padding"));}var o=i(12),a=i(7),r=i(3);t.exports={layout:function layout(t,e,i){var a=o.getLayoutRect(e.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()},e.get("padding"));o.box(e.get("orient"),t,e.get("itemGap"),a.width,a.height),n(t,e,i);},addBackground:function addBackground(t,e){var i=a.normalizeCssArray(e.get("padding")),n=t.getBoundingRect(),o=e.getItemStyle(["color","opacity"]);o.fill=e.get("backgroundColor");var s=new r.Rect({shape:{x:n.x-i[3],y:n.y-i[0],width:n.width+i[1]+i[3],height:n.height+i[0]+i[2]},style:o,silent:!0,z2:-1});r.subPixelOptimizeRect(s),t.add(s);}};},function(t,e,i){var n=i(1),o=i(33),a=i(134),r=function r(t,e,i,n,a){o.call(this,t,e,i),this.type=n||"value",this.position=a||"bottom";};r.prototype={constructor:r,index:0,onZero:!1,model:null,isHorizontal:function isHorizontal(){var t=this.position;return"top"===t||"bottom"===t;},getGlobalExtent:function getGlobalExtent(t){var e=this.getExtent();return e[0]=this.toGlobalCoord(e[0]),e[1]=this.toGlobalCoord(e[1]),t&&e[0]>e[1]&&e.reverse(),e;},getOtherAxis:function getOtherAxis(){this.grid.getOtherAxis();},getLabelInterval:function getLabelInterval(){var t=this._labelInterval;return t||(t=this._labelInterval=a(this)),t;},isLabelIgnored:function isLabelIgnored(t){if("category"===this.type){var e=this.getLabelInterval();return"function"==typeof e&&!e(t,this.scale.getLabel(t))||t%(e+1);}},pointToData:function pointToData(t,e){return this.coordToData(this.toLocalCoord(t["x"===this.dim?0:1]),e);},toLocalCoord:null,toGlobalCoord:null},n.inherits(r,o),t.exports=r;},function(t,e,i){"use strict";function n(t){return this._axes[t];}var o=i(1),a=function a(t){this._axes={},this._dimList=[],this.name=t||"";};a.prototype={constructor:a,type:"cartesian",getAxis:function getAxis(t){return this._axes[t];},getAxes:function getAxes(){return o.map(this._dimList,n,this);},getAxesByScale:function getAxesByScale(t){return t=t.toLowerCase(),o.filter(this.getAxes(),function(e){return e.scale.type===t;});},addAxis:function addAxis(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e);},dataToCoord:function dataToCoord(t){return this._dataCoordConvert(t,"dataToCoord");},coordToData:function coordToData(t){return this._dataCoordConvert(t,"coordToData");},_dataCoordConvert:function _dataCoordConvert(t,e){for(var i=this._dimList,n=t instanceof Array?[]:{},o=0;o<i.length;o++){var a=i[o],r=this._axes[a];n[a]=r[e](t[a]);}return n;}},t.exports=a;},function(t,e,i){"use strict";function n(t){a.call(this,t);}var o=i(1),a=i(131);n.prototype={constructor:n,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function getBaseAxis(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x");},containPoint:function containPoint(t){var e=this.getAxis("x"),i=this.getAxis("y");return e.contain(e.toLocalCoord(t[0]))&&i.contain(i.toLocalCoord(t[1]));},containData:function containData(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1]);},dataToPoints:function dataToPoints(t,e){return t.mapArray(["x","y"],function(t,e){return this.dataToPoint([t,e]);},e,this);},dataToPoint:function dataToPoint(t,e){var i=this.getAxis("x"),n=this.getAxis("y");return[i.toGlobalCoord(i.dataToCoord(t[0],e)),n.toGlobalCoord(n.dataToCoord(t[1],e))];},pointToData:function pointToData(t,e){var i=this.getAxis("x"),n=this.getAxis("y");return[i.coordToData(i.toLocalCoord(t[0]),e),n.coordToData(n.toLocalCoord(t[1]),e)];},getOtherAxis:function getOtherAxis(t){return this.getAxis("x"===t.dim?"y":"x");}},o.inherits(n,a),t.exports=n;},function(t,e,i){"use strict";i(59);var n=i(13);t.exports=n.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});},function(t,e,i){"use strict";var n=i(1),o=i(18);t.exports=function(t){var e=t.model,i=e.getModel("axisLabel"),a=i.get("interval");return"category"!==t.type||"auto"!==a?"auto"===a?0:a:o.getAxisLabelInterval(n.map(t.scale.getTicks(),t.dataToCoord,t),e.getFormattedLabels(),i.getModel("textStyle").getFont(),t.isHorizontal());};},function(t,e,i){var n=i(28),o=i(24),a=i(18),r=i(42),s=i(10),l=i(1);t.exports={createList:function createList(t){var e=t.get("data");return n(e,t,t.ecModel);},completeDimensions:i(25),createSymbol:o.createSymbol,createScale:function createScale(t,e){var i=e;e instanceof s||(i=new s(e),l.mixin(i,r));var n=a.createScaleByModel(i);return n.setExtent(t[0],t[1]),a.niceScaleExtent(n,i),n;},mixinAxisModelCommonMethods:function mixinAxisModelCommonMethods(t){l.mixin(t,r);}};},function(t,e,i){var n=i(3),o=i(1),a=Math.PI;t.exports=function(t,e){e=e||{},o.defaults(e,{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var i=new n.Rect({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4}),r=new n.Arc({shape:{startAngle:-a/2,endAngle:-a/2+.1,r:10},style:{stroke:e.color,lineCap:"round",lineWidth:5},zlevel:e.zlevel,z:10001}),s=new n.Rect({style:{fill:"none",text:e.text,textPosition:"right",textDistance:10,textFill:e.textColor},zlevel:e.zlevel,z:10001});r.animateShape(!0).when(1e3,{endAngle:3*a/2}).start("circularInOut"),r.animateShape(!0).when(1e3,{startAngle:3*a/2}).delay(300).start("circularInOut");var l=new n.Group();return l.add(r),l.add(s),l.add(i),l.resize=function(){var e=t.getWidth()/2,n=t.getHeight()/2;r.setShape({cx:e,cy:n});var o=r.shape.r;s.setShape({x:e-o,y:n-o,width:2*o,height:2*o}),i.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()});},l.resize(),l;};},function(t,e,i){function n(t,e){c.each(e,function(e,i){x.hasClass(i)||("object"==(typeof e==="undefined"?"undefined":_typeof(e))?t[i]=t[i]?c.merge(t[i],e,!1):c.clone(e):null==t[i]&&(t[i]=e));});}function o(t){t=t,this.option={},this.option[b]=1,this._componentsMap={series:[]},this._seriesIndices=null,n(t,this._theme.option),c.merge(t,_,!1),this.mergeOption(t);}function a(t,e){c.isArray(e)||(e=e?[e]:[]);var i={};return f(e,function(e){i[e]=(t[e]||[]).slice();}),i;}function r(t,e,i){var n=e.type?e.type:i?i.subType:x.determineSubType(t,e);return n;}function s(t){return g(t,function(t){return t.componentIndex;})||[];}function l(t,e){return e.hasOwnProperty("subType")?p(t,function(t){return t.subType===e.subType;}):t;}function u(t){}var c=i(1),h=i(6),d=i(10),f=c.each,p=c.filter,g=c.map,m=c.isArray,v=c.indexOf,y=c.isObject,x=i(13),_=i(139),b="\0_ec_inner",w=d.extend({constructor:w,init:function init(t,e,i,n){i=i||{},this.option=null,this._theme=new d(i),this._optionManager=n;},setOption:function setOption(t,e,i){c.assert(!(b in t),"please use chart.getOption()"),this._optionManager.setOption(t,e),this.resetOption(null,i);},resetOption:function resetOption(t,e){var i=!1,n=this._optionManager;if(!t||"recreate"===t){var a=n.mountOption("recreate"===t);this.option&&"recreate"!==t?(!e&&this.restoreData(),this.mergeOption(a)):o.call(this,a),i=!0;}if("timeline"!==t&&"media"!==t||this.restoreData(),!t||"recreate"===t||"timeline"===t){var r=n.getTimelineOption(this);r&&(this.mergeOption(r),i=!0);}if(!t||"recreate"===t||"media"===t){var s=n.getMediaOption(this,this._api);s.length&&f(s,function(t){this.mergeOption(t,i=!0);},this);}return i;},mergeOption:function mergeOption(t){function e(e,o){var l=h.normalizeToArray(t[e]),u=h.mappingToExists(n[e],l);h.makeIdAndName(u),f(u,function(t,i){var n=t.option;y(n)&&(t.keyInfo.mainType=e,t.keyInfo.subType=r(e,n,t.exist));});var d=a(n,o);i[e]=[],n[e]=[],f(u,function(t,o){var a=t.exist,r=t.option;if(c.assert(y(r)||a,"Empty component definition"),r){var s=x.getClass(e,t.keyInfo.subType,!0);if(a&&a instanceof s)a.name=t.keyInfo.name,a.mergeOption(r,this),a.optionUpdated(r,!1);else{var l=c.extend({dependentModels:d,componentIndex:o},t.keyInfo);a=new s(r,this,this,l),c.extend(a,l),a.init(r,this,this,l),a.optionUpdated(null,!0);}}else a.mergeOption({},this),a.optionUpdated({},!1);n[e][o]=a,i[e][o]=a.option;},this),"series"===e&&(this._seriesIndices=s(n.series));}var i=this.option,n=this._componentsMap,o=[];f(t,function(t,e){null!=t&&(x.hasClass(e)?o.push(e):i[e]=null==i[e]?c.clone(t):c.merge(i[e],t,!0));}),x.topologicalTravel(o,x.getAllClassMainTypes(),e,this),this._seriesIndices=this._seriesIndices||[];},getOption:function getOption(){var t=c.clone(this.option);return f(t,function(e,i){if(x.hasClass(i)){for(var e=h.normalizeToArray(e),n=e.length-1;n>=0;n--){h.isIdInner(e[n])&&e.splice(n,1);}t[i]=e;}}),delete t[b],t;},getTheme:function getTheme(){return this._theme;},getComponent:function getComponent(t,e){var i=this._componentsMap[t];if(i)return i[e||0];},queryComponents:function queryComponents(t){var e=t.mainType;if(!e)return[];var i=t.index,n=t.id,o=t.name,a=this._componentsMap[e];if(!a||!a.length)return[];var r;if(null!=i)m(i)||(i=[i]),r=p(g(i,function(t){return a[t];}),function(t){return!!t;});else if(null!=n){var s=m(n);r=p(a,function(t){return s&&v(n,t.id)>=0||!s&&t.id===n;});}else if(null!=o){var u=m(o);r=p(a,function(t){return u&&v(o,t.name)>=0||!u&&t.name===o;});}else r=a.slice();return l(r,t);},findComponents:function findComponents(t){function e(t){var e=o+"Index",i=o+"Id",n=o+"Name";return!t||null==t[e]&&null==t[i]&&null==t[n]?null:{mainType:o,index:t[e],id:t[i],name:t[n]};}function i(e){return t.filter?p(e,t.filter):e;}var n=t.query,o=t.mainType,a=e(n),r=a?this.queryComponents(a):this._componentsMap[o];return i(l(r,t));},eachComponent:function eachComponent(t,e,i){var n=this._componentsMap;if("function"==typeof t)i=e,e=t,f(n,function(t,n){f(t,function(t,o){e.call(i,n,t,o);});});else if(c.isString(t))f(n[t],e,i);else if(y(t)){var o=this.findComponents(t);f(o,e,i);}},getSeriesByName:function getSeriesByName(t){var e=this._componentsMap.series;return p(e,function(e){return e.name===t;});},getSeriesByIndex:function getSeriesByIndex(t){return this._componentsMap.series[t];},getSeriesByType:function getSeriesByType(t){var e=this._componentsMap.series;return p(e,function(e){return e.subType===t;});},getSeries:function getSeries(){return this._componentsMap.series.slice();},eachSeries:function eachSeries(t,e){u(this),f(this._seriesIndices,function(i){var n=this._componentsMap.series[i];t.call(e,n,i);},this);},eachRawSeries:function eachRawSeries(t,e){f(this._componentsMap.series,t,e);},eachSeriesByType:function eachSeriesByType(t,e,i){u(this),f(this._seriesIndices,function(n){var o=this._componentsMap.series[n];o.subType===t&&e.call(i,o,n);},this);},eachRawSeriesByType:function eachRawSeriesByType(t,e,i){return f(this.getSeriesByType(t),e,i);},isSeriesFiltered:function isSeriesFiltered(t){return u(this),c.indexOf(this._seriesIndices,t.componentIndex)<0;},filterSeries:function filterSeries(t,e){u(this);var i=p(this._componentsMap.series,t,e);this._seriesIndices=s(i);},restoreData:function restoreData(){var t=this._componentsMap;this._seriesIndices=s(t.series);var e=[];f(t,function(t,i){e.push(i);}),x.topologicalTravel(e,x.getAllClassMainTypes(),function(e,i){f(t[e],function(t){t.restoreData();});});}});c.mixin(w,i(61)),t.exports=w;},function(t,e,i){function n(t){this._api=t,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption;}function o(t,e,i){var n,o,a=[],r=[],s=t.timeline;if(t.baseOption&&(o=t.baseOption),(s||t.options)&&(o=o||{},a=(t.options||[]).slice()),t.media){o=o||{};var l=t.media;d(l,function(t){t&&t.option&&(t.query?r.push(t):n||(n=t));});}return o||(o=t),o.timeline||(o.timeline=s),d([o].concat(a).concat(u.map(r,function(t){return t.option;})),function(t){d(e,function(e){e(t,i);});}),{baseOption:o,timelineOptions:a,mediaDefault:n,mediaList:r};}function a(t,e,i){var n={width:e,height:i,aspectratio:e/i},o=!0;return u.each(t,function(t,e){var i=e.match(m);if(i&&i[1]&&i[2]){var a=i[1],s=i[2].toLowerCase();r(n[s],t,a)||(o=!1);}}),o;}function r(t,e,i){return"min"===i?t>=e:"max"===i?t<=e:t===e;}function s(t,e){return t.join(",")===e.join(",");}function l(t,e){e=e||{},d(e,function(e,i){if(null!=e){var n=t[i];if(h.hasClass(i)){e=c.normalizeToArray(e),n=c.normalizeToArray(n);var o=c.mappingToExists(n,e);t[i]=p(o,function(t){return t.option&&t.exist?g(t.exist,t.option,!0):t.exist||t.option;});}else t[i]=g(n,e,!0);}});}var u=i(1),c=i(6),h=i(13),d=u.each,f=u.clone,p=u.map,g=u.merge,m=/^(min|max)?(.+)$/;n.prototype={constructor:n,setOption:function setOption(t,e){t=f(t,!0);var i=this._optionBackup,n=o.call(this,t,e,!i);this._newBaseOption=n.baseOption,i?(l(i.baseOption,n.baseOption),n.timelineOptions.length&&(i.timelineOptions=n.timelineOptions),n.mediaList.length&&(i.mediaList=n.mediaList),n.mediaDefault&&(i.mediaDefault=n.mediaDefault)):this._optionBackup=n;},mountOption:function mountOption(t){var e=this._optionBackup;return this._timelineOptions=p(e.timelineOptions,f),this._mediaList=p(e.mediaList,f),this._mediaDefault=f(e.mediaDefault),this._currentMediaIndices=[],f(t?e.baseOption:this._newBaseOption);},getTimelineOption:function getTimelineOption(t){var e,i=this._timelineOptions;if(i.length){var n=t.getComponent("timeline");n&&(e=f(i[n.getCurrentIndex()],!0));}return e;},getMediaOption:function getMediaOption(t){var e=this._api.getWidth(),i=this._api.getHeight(),n=this._mediaList,o=this._mediaDefault,r=[],l=[];if(!n.length&&!o)return l;for(var u=0,c=n.length;u<c;u++){a(n[u].query,e,i)&&r.push(u);}return!r.length&&o&&(r=[-1]),r.length&&!s(r,this._currentMediaIndices)&&(l=p(r,function(t){return f(t===-1?o.option:n[t].option);})),this._currentMediaIndices=r,l;}},t.exports=n;},function(t,e){var i="";"undefined"!=typeof navigator&&(i=navigator.platform||""),t.exports={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],textStyle:{fontFamily:i.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};},function(t,e,i){t.exports={getAreaStyle:i(31)([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]])};},function(t,e){t.exports={getBoxLayoutParams:function getBoxLayoutParams(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")};}};},function(t,e,i){var n=i(31)([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]);t.exports={getItemStyle:function getItemStyle(t,e){var i=n.call(this,t,e),o=this.getBorderLineDash();return o&&(i.lineDash=o),i;},getBorderLineDash:function getBorderLineDash(){var t=this.get("borderType");return"solid"===t||null==t?null:"dashed"===t?[5,5]:[1,1];}};},function(t,e,i){var n=i(31)([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);t.exports={getLineStyle:function getLineStyle(t){var e=n.call(this,t),i=this.getLineDash(e.lineWidth);return i&&(e.lineDash=i),e;},getLineDash:function getLineDash(t){null==t&&(t=1);var e=this.get("type"),i=Math.max(t,2),n=4*t;return"solid"===e||null==e?null:"dashed"===e?[n,n]:[i,i];}};},function(t,e,i){function n(t,e){return t&&t.getShallow(e);}var o=i(17);t.exports={getTextColor:function getTextColor(){var t=this.ecModel;return this.getShallow("color")||t&&t.get("textStyle.color");},getFont:function getFont(){var t=this.ecModel,e=t&&t.getModel("textStyle");return[this.getShallow("fontStyle")||n(e,"fontStyle"),this.getShallow("fontWeight")||n(e,"fontWeight"),(this.getShallow("fontSize")||n(e,"fontSize")||12)+"px",this.getShallow("fontFamily")||n(e,"fontFamily")||"sans-serif"].join(" ");},getTextRect:function getTextRect(t){return o.getBoundingRect(t,this.getFont(),this.getShallow("align"),this.getShallow("baseline"));},truncateText:function truncateText(t,e,i,n){return o.truncateText(t,e,this.getFont(),i,n);}};},function(t,e,i){function n(t,e){e=e.split(",");for(var i=t,n=0;n<e.length&&(i=i&&i[e[n]],null!=i);n++){}return i;}function o(t,e,i,n){e=e.split(",");for(var o,a=t,r=0;r<e.length-1;r++){o=e[r],null==a[o]&&(a[o]={}),a=a[o];}(n||null==a[e[r]])&&(a[e[r]]=i);}function a(t){h(l,function(e){e[0]in t&&!(e[1]in t)&&(t[e[1]]=t[e[0]]);});}var r=i(1),s=i(146),l=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],u=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],c=["bar","boxplot","candlestick","chord","effectScatter","funnel","gauge","lines","graph","heatmap","line","map","parallel","pie","radar","sankey","scatter","treemap"],h=r.each;t.exports=function(t){h(t.series,function(t){if(r.isObject(t)){var e=t.type;if(s(t),"pie"!==e&&"gauge"!==e||null!=t.clockWise&&(t.clockwise=t.clockWise),"gauge"===e){var i=n(t,"pointer.color");null!=i&&o(t,"itemStyle.normal.color",i);}for(var l=0;l<c.length;l++){if(c[l]===t.type){a(t);break;}}}}),t.dataRange&&(t.visualMap=t.dataRange),h(u,function(e){var i=t[e];i&&(r.isArray(i)||(i=[i]),h(i,function(t){a(t);}));});};},function(t,e,i){function n(t){var e=t&&t.itemStyle;e&&o.each(a,function(i){var n=e.normal,a=e.emphasis;n&&n[i]&&(t[i]=t[i]||{},t[i].normal?o.merge(t[i].normal,n[i]):t[i].normal=n[i],n[i]=null),a&&a[i]&&(t[i]=t[i]||{},t[i].emphasis?o.merge(t[i].emphasis,a[i]):t[i].emphasis=a[i],a[i]=null);});}var o=i(1),a=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];t.exports=function(t){if(t){n(t),n(t.markPoint),n(t.markLine);var e=t.data;if(e){for(var i=0;i<e.length;i++){n(e[i]);}var a=t.markPoint;if(a&&a.data)for(var r=a.data,i=0;i<r.length;i++){n(r[i]);}var s=t.markLine;if(s&&s.data)for(var l=s.data,i=0;i<l.length;i++){o.isArray(l[i])?(n(l[i][0]),n(l[i][1])):n(l[i]);}}}};},function(t,e){var i={average:function average(t){for(var e=0,i=0,n=0;n<t.length;n++){isNaN(t[n])||(e+=t[n],i++);}return 0===i?NaN:e/i;},sum:function sum(t){for(var e=0,i=0;i<t.length;i++){e+=t[i]||0;}return e;},max:function max(t){for(var e=-(1/0),i=0;i<t.length;i++){t[i]>e&&(e=t[i]);}return e;},min:function min(t){for(var e=1/0,i=0;i<t.length;i++){t[i]<e&&(e=t[i]);}return e;},nearest:function nearest(t){return t[0];}},n=function n(t,e){return Math.round(t.length/2);};t.exports=function(t,e,o){e.eachSeriesByType(t,function(t){var e=t.getData(),o=t.get("sampling"),a=t.coordinateSystem;if("cartesian2d"===a.type&&o){var r=a.getBaseAxis(),s=a.getOtherAxis(r),l=r.getExtent(),u=l[1]-l[0],c=Math.round(e.count()/u);if(c>1){var h;"string"==typeof o?h=i[o]:"function"==typeof o&&(h=o),h&&(e=e.downSample(s.dim,1/c,h,n),t.setData(e));}}},this);};},function(t,e,i){function n(t,e){return h(t,c(e));}var o=i(1),a=i(34),r=i(4),s=i(43),l=a.prototype,u=s.prototype,c=r.getPrecisionSafe,h=r.round,d=Math.floor,f=Math.ceil,p=Math.pow,g=Math.log,m=a.extend({type:"log",base:10,$constructor:function $constructor(){a.apply(this,arguments),this._originalScale=new s();},getTicks:function getTicks(){var t=this._originalScale,e=this._extent,i=t.getExtent();return o.map(u.getTicks.call(this),function(o){var a=r.round(p(this.base,o));return a=o===e[0]&&t.__fixMin?n(a,i[0]):a,a=o===e[1]&&t.__fixMax?n(a,i[1]):a;},this);},getLabel:u.getLabel,scale:function scale(t){return t=l.scale.call(this,t),p(this.base,t);},setExtent:function setExtent(t,e){var i=this.base;t=g(t)/g(i),e=g(e)/g(i),u.setExtent.call(this,t,e);},getExtent:function getExtent(){var t=this.base,e=l.getExtent.call(this);e[0]=p(t,e[0]),e[1]=p(t,e[1]);var i=this._originalScale,o=i.getExtent();return i.__fixMin&&(e[0]=n(e[0],o[0])),i.__fixMax&&(e[1]=n(e[1],o[1])),e;},unionExtent:function unionExtent(t){this._originalScale.unionExtent(t);var e=this.base;t[0]=g(t[0])/g(e),t[1]=g(t[1])/g(e),l.unionExtent.call(this,t);},unionExtentFromData:function unionExtentFromData(t,e){this.unionExtent(t.getDataExtent(e,!0,function(t){return t>0;}));},niceTicks:function niceTicks(t){t=t||10;var e=this._extent,i=e[1]-e[0];if(!(i===1/0||i<=0)){var n=r.quantity(i),o=t/i*n;for(o<=.5&&(n*=10);!isNaN(n)&&Math.abs(n)<1&&Math.abs(n)>0;){n*=10;}var a=[r.round(f(e[0]/n)*n),r.round(d(e[1]/n)*n)];this._interval=n,this._niceExtent=a;}},niceExtent:function niceExtent(t,e,i){u.niceExtent.call(this,t,e,i);var n=this._originalScale;n.__fixMin=e,n.__fixMax=i;}});o.each(["contain","normalize"],function(t){m.prototype[t]=function(e){return e=g(e)/g(this.base),l[t].call(this,e);};}),m.create=function(){return new m();},t.exports=m;},function(t,e,i){var n=i(1),o=i(34),a=o.prototype,r=o.extend({type:"ordinal",init:function init(t,e){this._data=t,this._extent=e||[0,t.length-1];},parse:function parse(t){return"string"==typeof t?n.indexOf(this._data,t):Math.round(t);},contain:function contain(t){return t=this.parse(t),a.contain.call(this,t)&&null!=this._data[t];},normalize:function normalize(t){return a.normalize.call(this,this.parse(t));},scale:function scale(t){return Math.round(a.scale.call(this,t));},getTicks:function getTicks(){for(var t=[],e=this._extent,i=e[0];i<=e[1];){t.push(i),i++;}return t;},getLabel:function getLabel(t){return this._data[t];},count:function count(){return this._extent[1]-this._extent[0]+1;},unionExtentFromData:function unionExtentFromData(t,e){this.unionExtent(t.getDataExtent(e,!1));},niceTicks:n.noop,niceExtent:n.noop});r.create=function(){return new r();},t.exports=r;},function(t,e,i){var n=i(1),o=i(4),a=i(7),r=i(63),s=i(43),l=s.prototype,u=Math.ceil,c=Math.floor,h=1e3,d=60*h,f=60*d,p=24*f,g=function g(t,e,i,n){for(;i<n;){var o=i+n>>>1;t[o][2]<e?i=o+1:n=o;}return i;},m=s.extend({type:"time",getLabel:function getLabel(t){var e=this._stepLvl,i=new Date(t);return a.formatTime(e[0],i,this.getSetting("useUTC"));},niceExtent:function niceExtent(t,e,i){var n=this._extent;if(n[0]===n[1]&&(n[0]-=p,n[1]+=p),n[1]===-(1/0)&&n[0]===1/0){var a=new Date();n[1]=new Date(a.getFullYear(),a.getMonth(),a.getDate()),n[0]=n[1]-p;}this.niceTicks(t);var r=this._interval;e||(n[0]=o.round(c(n[0]/r)*r)),i||(n[1]=o.round(u(n[1]/r)*r));},niceTicks:function niceTicks(t){var e=this.getSetting("useUTC")?0:60*o.getTimezoneOffset()*1e3;t=t||10;var i=this._extent,n=i[1]-i[0],a=n/t,s=v.length,l=g(v,a,0,s),h=v[Math.min(l,s-1)],d=h[2];if("year"===h[0]){var f=n/d,p=o.nice(f/t,!0);d*=p;}var m=[Math.round(u((i[0]-e)/d)*d+e),Math.round(c((i[1]-e)/d)*d+e)];r.fixExtent(m,i),this._stepLvl=h,this._interval=d,this._niceExtent=m;},parse:function parse(t){return+o.parseDate(t);}});n.each(["contain","normalize"],function(t){m.prototype[t]=function(e){return l[t].call(this,this.parse(e));};});var v=[["hh:mm:ss",1,h],["hh:mm:ss",5,5*h],["hh:mm:ss",10,10*h],["hh:mm:ss",15,15*h],["hh:mm:ss",30,30*h],["hh:mm\nMM-dd",1,d],["hh:mm\nMM-dd",5,5*d],["hh:mm\nMM-dd",10,10*d],["hh:mm\nMM-dd",15,15*d],["hh:mm\nMM-dd",30,30*d],["hh:mm\nMM-dd",1,f],["hh:mm\nMM-dd",2,2*f],["hh:mm\nMM-dd",6,6*f],["hh:mm\nMM-dd",12,12*f],["MM-dd\nyyyy",1,p],["week",7,7*p],["month",1,31*p],["quarter",3,380*p/4],["half-year",6,380*p/2],["year",1,380*p]];m.create=function(t){return new m({useUTC:t.ecModel.get("useUTC")});},t.exports=m;},function(t,e,i){var n=i(39);t.exports=function(t){function e(e){var i=(e.visualColorAccessPath||"itemStyle.normal.color").split("."),o=e.getData(),a=e.get(i)||e.getColorFromPalette(e.get("name"));o.setVisual("color",a),t.isSeriesFiltered(e)||("function"!=typeof a||a instanceof n||o.each(function(t){o.setItemVisual(t,"color",a(e.getDataParams(t)));}),o.each(function(t){var e=o.getItemModel(t),n=e.get(i,!0);null!=n&&o.setItemVisual(t,"color",n);}));}t.eachRawSeries(e);};},function(t,e,i){"use strict";function n(t,e,i){return{type:t,event:i,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:i.zrX,offsetY:i.zrY,gestureEvent:i.gestureEvent,pinchX:i.pinchX,pinchY:i.pinchY,pinchScale:i.pinchScale,wheelDelta:i.zrDelta,zrByTouch:i.zrByTouch};}function o(){}function a(t,e,i){if(t[t.rectHover?"rectContain":"contain"](e,i)){for(var n,o=t;o;){if(o.clipPath&&!o.clipPath.contain(e,i))return!1;o.silent&&(n=!0),o=o.parent;}return!n||u;}return!1;}var r=i(1),s=i(179),l=i(23),u="silent";o.prototype.dispose=function(){};var c=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],h=function h(t,e,i,n){l.call(this),this.storage=t,this.painter=e,this.painterRoot=n,i=i||new o(),this.proxy=i,i.handler=this,this._hovered={},this._lastTouchMoment,this._lastX,this._lastY,s.call(this),r.each(c,function(t){i.on&&i.on(t,this[t],this);},this);};h.prototype={constructor:h,mousemove:function mousemove(t){var e=t.zrX,i=t.zrY,n=this._hovered,o=this._hovered=this.findHover(e,i),a=o.target,r=n.target,s=this.proxy;s.setCursor&&s.setCursor(a?a.cursor:"default"),r&&a!==r&&r.__zr&&this.dispatchToElement(n,"mouseout",t),this.dispatchToElement(o,"mousemove",t),a&&a!==r&&this.dispatchToElement(o,"mouseover",t);},mouseout:function mouseout(t){this.dispatchToElement(this._hovered,"mouseout",t);var e,i=t.toElement||t.relatedTarget;do{i=i&&i.parentNode;}while(i&&9!=i.nodeType&&!(e=i===this.painterRoot));!e&&this.trigger("globalout",{event:t});},resize:function resize(t){this._hovered={};},dispatch:function dispatch(t,e){var i=this[t];i&&i.call(this,e);},dispose:function dispose(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null;},setCursorStyle:function setCursorStyle(t){var e=this.proxy;e.setCursor&&e.setCursor(t);},dispatchToElement:function dispatchToElement(t,e,i){t=t||{};for(var o="on"+e,a=n(e,t,i),r=t.target;r&&(r[o]&&(a.cancelBubble=r[o].call(r,a)),r.trigger(e,a),r=r.parent,!a.cancelBubble);){}a.cancelBubble||(this.trigger(e,a),this.painter&&this.painter.eachOtherLayer(function(t){"function"==typeof t[o]&&t[o].call(t,a),t.trigger&&t.trigger(e,a);}));},findHover:function findHover(t,e,i){for(var n=this.storage.getDisplayList(),o={},r=n.length-1;r>=0;r--){var s;if(n[r]!==i&&!n[r].ignore&&(s=a(n[r],t,e))&&(!o.topTarget&&(o.topTarget=n[r]),s!==u)){o.target=n[r];break;}}return o;}},r.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){h.prototype[t]=function(e){var i=this.findHover(e.zrX,e.zrY),n=i.target;if("mousedown"===t)this._downel=n,this._upel=n;else if("mosueup"===t)this._upel=n;else if("click"===t&&this._downel!==this._upel)return;this.dispatchToElement(i,t,e);};}),r.mixin(h,l),r.mixin(h,s),t.exports=h;},function(t,e,i){function n(){return!1;}function o(t,e,i,n){var o=document.createElement(e),a=i.getWidth(),r=i.getHeight(),s=o.style;return s.position="absolute",s.left=0,s.top=0,s.width=a+"px",s.height=r+"px",o.width=a*n,o.height=r*n,o.setAttribute("data-zr-dom-id",t),o;}var a=i(1),r=i(35),s=i(72),l=i(71),u=function u(t,e,i){var s;i=i||r.devicePixelRatio,"string"==typeof t?s=o(t,"canvas",e,i):a.isObject(t)&&(s=t,t=s.id),this.id=t,this.dom=s;var l=s.style;l&&(s.onselectstart=n,l["-webkit-user-select"]="none",l["user-select"]="none",l["-webkit-touch-callout"]="none",l["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",l.padding=0,l.margin=0,l["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=e,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=i;};u.prototype={constructor:u,elCount:0,__dirty:!0,initContext:function initContext(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr;},createBackBuffer:function createBackBuffer(){var t=this.dpr;this.domBack=o("back-"+this.id,"canvas",this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!=t&&this.ctxBack.scale(t,t);},resize:function resize(t,e){var i=this.dpr,n=this.dom,o=n.style,a=this.domBack;o.width=t+"px",o.height=e+"px",n.width=t*i,n.height=e*i,a&&(a.width=t*i,a.height=e*i,1!=i&&this.ctxBack.scale(i,i));},clear:function clear(t){var e=this.dom,i=this.ctx,n=e.width,o=e.height,a=this.clearColor,r=this.motionBlur&&!t,u=this.lastFrameAlpha,c=this.dpr;if(r&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(e,0,0,n/c,o/c)),i.clearRect(0,0,n,o),a){var h;a.colorStops?(h=a.__canvasGradient||s.getGradient(i,a,{x:0,y:0,width:n,height:o}),a.__canvasGradient=h):a.image&&(h=l.prototype.getCanvasPattern.call(a,i)),i.save(),i.fillStyle=h||a,i.fillRect(0,0,n,o),i.restore();}if(r){var d=this.domBack;i.save(),i.globalAlpha=u,i.drawImage(d,0,0,n,o),i.restore();}}},t.exports=u;},function(t,e,i){"use strict";function n(t){return parseInt(t,10);}function o(t){return!!t&&(!!t.__builtin__||"function"==typeof t.resize&&"function"==typeof t.refresh);}function a(t){t.__unusedCount++;}function r(t){1==t.__unusedCount&&t.clear();}function s(t,e,i){return x.copy(t.getBoundingRect()),t.transform&&x.applyTransform(t.transform),_.width=e,_.height=i,!x.intersect(_);}function l(t,e){if(t==e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var i=0;i<t.length;i++){if(t[i]!==e[i])return!0;}}function u(t,e){for(var i=0;i<t.length;i++){var n=t[i];n.setTransform(e),e.beginPath(),n.buildPath(e,n.shape),e.clip(),n.restoreTransform(e);}}function c(t,e){var i=document.createElement("div");return i.style.cssText=["position:relative","overflow:hidden","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",i;}var h=i(35),d=i(1),f=i(52),p=i(11),g=i(51),m=i(153),v=i(67),y=5,x=new p(0,0,0,0),_=new p(0,0,0,0),b=function b(t,e,i){var n=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=i=d.extend({},i||{}),this.dpr=i.devicePixelRatio||h.devicePixelRatio,this._singleCanvas=n,this.root=t;var o=t.style;o&&(o["-webkit-tap-highlight-color"]="transparent",o["-webkit-user-select"]=o["user-select"]=o["-webkit-touch-callout"]="none",t.innerHTML=""),this.storage=e;var a=this._zlevelList=[],r=this._layers={};if(this._layerConfig={},n){null!=i.width&&(t.width=i.width),null!=i.height&&(t.height=i.height);var s=t.width,l=t.height;this._width=s,this._height=l;var u=new m(t,this,1);u.initContext(),r[0]=u,a.push(0),this._domRoot=t;}else{this._width=this._getSize(0),this._height=this._getSize(1);var f=this._domRoot=c(this._width,this._height);t.appendChild(f);}this._progressiveLayers=[],this._hoverlayer,this._hoverElements=[];};b.prototype={constructor:b,isSingleCanvas:function isSingleCanvas(){return this._singleCanvas;},getViewportRoot:function getViewportRoot(){return this._domRoot;},refresh:function refresh(t){var e=this.storage.getDisplayList(!0),i=this._zlevelList;this._paintList(e,t);for(var n=0;n<i.length;n++){var o=i[n],a=this._layers[o];!a.__builtin__&&a.refresh&&a.refresh();}return this.refreshHover(),this._progressiveLayers.length&&this._startProgessive(),this;},addHover:function addHover(t,e){if(!t.__hoverMir){var i=new t.constructor({style:t.style,shape:t.shape});i.__from=t,t.__hoverMir=i,i.setStyle(e),this._hoverElements.push(i);}},removeHover:function removeHover(t){var e=t.__hoverMir,i=this._hoverElements,n=d.indexOf(i,e);n>=0&&i.splice(n,1),t.__hoverMir=null;},clearHover:function clearHover(t){for(var e=this._hoverElements,i=0;i<e.length;i++){var n=e[i].__from;n&&(n.__hoverMir=null);}e.length=0;},refreshHover:function refreshHover(){var t=this._hoverElements,e=t.length,i=this._hoverlayer;if(i&&i.clear(),e){g(t,this.storage.displayableSortFunc),i||(i=this._hoverlayer=this.getLayer(1e5));var n={};i.ctx.save();for(var o=0;o<e;){var a=t[o],r=a.__from;r&&r.__zr?(o++,r.invisible||(a.transform=r.transform,a.invTransform=r.invTransform,a.__clipPaths=r.__clipPaths,this._doPaintEl(a,i,!0,n))):(t.splice(o,1),r.__hoverMir=null,e--);}i.ctx.restore();}},_startProgessive:function _startProgessive(){function t(){i===e._progressiveToken&&e.storage&&(e._doPaintList(e.storage.getDisplayList()),e._furtherProgressive?(e._progress++,v(t)):e._progressiveToken=-1);}var e=this;if(e._furtherProgressive){var i=e._progressiveToken=+new Date();e._progress++,v(t);}},_clearProgressive:function _clearProgressive(){this._progressiveToken=-1,this._progress=0,d.each(this._progressiveLayers,function(t){t.__dirty&&t.clear();});},_paintList:function _paintList(t,e){null==e&&(e=!1),this._updateLayerStatus(t),this._clearProgressive(),this.eachBuiltinLayer(a),this._doPaintList(t,e),this.eachBuiltinLayer(r);},_doPaintList:function _doPaintList(t,e){function i(t){var e=a.dpr||1;a.save(),a.globalAlpha=1,a.shadowBlur=0,n.__dirty=!0,a.setTransform(1,0,0,1,0,0),a.drawImage(t.dom,0,0,c*e,h*e),a.restore();}for(var n,o,a,r,s,l,u=0,c=this._width,h=this._height,p=this._progress,g=0,m=t.length;g<m;g++){var v=t[g],x=this._singleCanvas?0:v.zlevel,_=v.__frame;if(_<0&&s&&(i(s),s=null),o!==x&&(a&&a.restore(),r={},o=x,n=this.getLayer(o),n.__builtin__||f("ZLevel "+o+" has been used by unkown layer "+n.id),a=n.ctx,a.save(),n.__unusedCount=0,(n.__dirty||e)&&n.clear()),n.__dirty||e){if(_>=0){if(!s){if(s=this._progressiveLayers[Math.min(u++,y-1)],s.ctx.save(),s.renderScope={},s&&s.__progress>s.__maxProgress){g=s.__nextIdxNotProg-1;continue;}l=s.__progress,s.__dirty||(p=l),s.__progress=p+1;}_===p&&this._doPaintEl(v,s,!0,s.renderScope);}else this._doPaintEl(v,n,e,r);v.__dirty=!1;}}s&&i(s),a&&a.restore(),this._furtherProgressive=!1,d.each(this._progressiveLayers,function(t){t.__maxProgress>=t.__progress&&(this._furtherProgressive=!0);},this);},_doPaintEl:function _doPaintEl(t,e,i,n){var o=e.ctx,a=t.transform;if((e.__dirty||i)&&!t.invisible&&0!==t.style.opacity&&(!a||a[0]||a[3])&&(!t.culling||!s(t,this._width,this._height))){var r=t.__clipPaths;(n.prevClipLayer!==e||l(r,n.prevElClipPaths))&&(n.prevElClipPaths&&(n.prevClipLayer.ctx.restore(),n.prevClipLayer=n.prevElClipPaths=null,n.prevEl=null),r&&(o.save(),u(r,o),n.prevClipLayer=e,n.prevElClipPaths=r)),t.beforeBrush&&t.beforeBrush(o),t.brush(o,n.prevEl||null),n.prevEl=t,t.afterBrush&&t.afterBrush(o);}},getLayer:function getLayer(t){if(this._singleCanvas)return this._layers[0];var e=this._layers[t];return e||(e=new m("zr_"+t,this,this.dpr),e.__builtin__=!0,this._layerConfig[t]&&d.merge(e,this._layerConfig[t],!0),this.insertLayer(t,e),e.initContext()),e;},insertLayer:function insertLayer(t,e){var i=this._layers,n=this._zlevelList,a=n.length,r=null,s=-1,l=this._domRoot;if(i[t])return void f("ZLevel "+t+" has been used already");if(!o(e))return void f("Layer of zlevel "+t+" is not valid");if(a>0&&t>n[0]){for(s=0;s<a-1&&!(n[s]<t&&n[s+1]>t);s++){}r=i[n[s]];}if(n.splice(s+1,0,t),i[t]=e,!e.virtual)if(r){var u=r.dom;u.nextSibling?l.insertBefore(e.dom,u.nextSibling):l.appendChild(e.dom);}else l.firstChild?l.insertBefore(e.dom,l.firstChild):l.appendChild(e.dom);},eachLayer:function eachLayer(t,e){var i,n,o=this._zlevelList;for(n=0;n<o.length;n++){i=o[n],t.call(e,this._layers[i],i);}},eachBuiltinLayer:function eachBuiltinLayer(t,e){var i,n,o,a=this._zlevelList;for(o=0;o<a.length;o++){n=a[o],i=this._layers[n],i.__builtin__&&t.call(e,i,n);}},eachOtherLayer:function eachOtherLayer(t,e){var i,n,o,a=this._zlevelList;for(o=0;o<a.length;o++){n=a[o],i=this._layers[n],i.__builtin__||t.call(e,i,n);}},getLayers:function getLayers(){return this._layers;},_updateLayerStatus:function _updateLayerStatus(t){var e=this._layers,i=this._progressiveLayers,n={},o={};this.eachBuiltinLayer(function(t,e){n[e]=t.elCount,t.elCount=0,t.__dirty=!1;}),d.each(i,function(t,e){o[e]=t.elCount,t.elCount=0,t.__dirty=!1;});for(var a,r,s=0,l=0,u=0,c=t.length;u<c;u++){var h=t[u],f=this._singleCanvas?0:h.zlevel,p=e[f],g=h.progressive;if(p&&(p.elCount++,p.__dirty=p.__dirty||h.__dirty),g>=0){r!==g&&(r=g,l++);var v=h.__frame=l-1;if(!a){var x=Math.min(s,y-1);a=i[x],a||(a=i[x]=new m("progressive",this,this.dpr),a.initContext()),a.__maxProgress=0;}a.__dirty=a.__dirty||h.__dirty,a.elCount++,a.__maxProgress=Math.max(a.__maxProgress,v),a.__maxProgress>=a.__progress&&(p.__dirty=!0);}else h.__frame=-1,a&&(a.__nextIdxNotProg=u,s++,a=null);}a&&(s++,a.__nextIdxNotProg=u),this.eachBuiltinLayer(function(t,e){n[e]!==t.elCount&&(t.__dirty=!0);}),i.length=Math.min(s,y),d.each(i,function(t,e){o[e]!==t.elCount&&(h.__dirty=!0),t.__dirty&&(t.__progress=0);});},clear:function clear(){return this.eachBuiltinLayer(this._clearLayer),this;},_clearLayer:function _clearLayer(t){t.clear();},configLayer:function configLayer(t,e){if(e){var i=this._layerConfig;i[t]?d.merge(i[t],e,!0):i[t]=e;var n=this._layers[t];n&&d.merge(n,i[t],!0);}},delLayer:function delLayer(t){var e=this._layers,i=this._zlevelList,n=e[t];n&&(n.dom.parentNode.removeChild(n.dom),delete e[t],i.splice(d.indexOf(i,t),1));},resize:function resize(t,e){var i=this._domRoot;i.style.display="none";var n=this._opts;if(null!=t&&(n.width=t),null!=e&&(n.height=e),t=this._getSize(0),e=this._getSize(1),i.style.display="",this._width!=t||e!=this._height){i.style.width=t+"px",i.style.height=e+"px";for(var o in this._layers){this._layers.hasOwnProperty(o)&&this._layers[o].resize(t,e);}d.each(this._progressiveLayers,function(i){i.resize(t,e);}),this.refresh(!0);}return this._width=t,this._height=e,this;},clearLayer:function clearLayer(t){var e=this._layers[t];e&&e.clear();},dispose:function dispose(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null;},getRenderedCanvas:function getRenderedCanvas(t){if(t=t||{},this._singleCanvas)return this._layers[0].dom;var e=new m("image",this,t.pixelRatio||this.dpr);e.initContext(),e.clearColor=t.backgroundColor,e.clear();for(var i=this.storage.getDisplayList(!0),n={},o=0;o<i.length;o++){var a=i[o];this._doPaintEl(a,e,!0,n);}return e.dom;},getWidth:function getWidth(){return this._width;},getHeight:function getHeight(){return this._height;},_getSize:function _getSize(t){var e=this._opts,i=["width","height"][t],o=["clientWidth","clientHeight"][t],a=["paddingLeft","paddingTop"][t],r=["paddingRight","paddingBottom"][t];if(null!=e[i]&&"auto"!==e[i])return parseFloat(e[i]);var s=this.root,l=document.defaultView.getComputedStyle(s);return(s[o]||n(l[i])||n(s.style[i]))-(n(l[a])||0)-(n(l[r])||0)|0;},pathToImage:function pathToImage(t,e){e=e||this.dpr;var n=document.createElement("canvas"),o=n.getContext("2d"),a=t.getBoundingRect(),r=t.style,s=r.shadowBlur,l=r.shadowOffsetX,u=r.shadowOffsetY,c=r.hasStroke()?r.lineWidth:0,h=Math.max(c/2,-l+s),d=Math.max(c/2,l+s),f=Math.max(c/2,-u+s),p=Math.max(c/2,u+s),g=a.width+h+d,m=a.height+f+p;n.width=g*e,n.height=m*e,o.scale(e,e),o.clearRect(0,0,g,m),o.dpr=e;var v={position:t.position,rotation:t.rotation,scale:t.scale};t.position=[h-a.x,f-a.y],t.rotation=0,t.scale=[1,1],t.updateTransform(),t&&t.brush(o);var y=i(53),x=new y({style:{x:0,y:0,image:n}});return null!=v.position&&(x.position=t.position=v.position),null!=v.rotation&&(x.rotation=t.rotation=v.rotation),null!=v.scale&&(x.scale=t.scale=v.scale),x;}},t.exports=b;},function(t,e,i){"use strict";function n(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel;}var o=i(1),a=i(9),r=i(36),s=i(51),l=function l(){this._roots=[],this._displayList=[],this._displayListLen=0;};l.prototype={constructor:l,traverse:function traverse(t,e){for(var i=0;i<this._roots.length;i++){this._roots[i].traverse(t,e);}},getDisplayList:function getDisplayList(t,e){return e=e||!1,t&&this.updateDisplayList(e),this._displayList;},updateDisplayList:function updateDisplayList(t){this._displayListLen=0;for(var e=this._roots,i=this._displayList,o=0,r=e.length;o<r;o++){this._updateAndAddDisplayable(e[o],null,t);}i.length=this._displayListLen,a.canvasSupported&&s(i,n);},_updateAndAddDisplayable:function _updateAndAddDisplayable(t,e,i){if(!t.ignore||i){t.beforeUpdate(),t.__dirty&&t.update(),t.afterUpdate();var n=t.clipPath;if(n){e=e?e.slice():[];for(var o=n,a=t;o;){o.parent=a,o.updateTransform(),e.push(o),a=o,o=o.clipPath;}}if(t.isGroup){for(var r=t._children,s=0;s<r.length;s++){var l=r[s];t.__dirty&&(l.__dirty=!0),this._updateAndAddDisplayable(l,e,i);}t.__dirty=!1;}else t.__clipPaths=e,this._displayList[this._displayListLen++]=t;}},addRoot:function addRoot(t){t.__storage!==this&&(t instanceof r&&t.addChildrenToStorage(this),this.addToStorage(t),this._roots.push(t));},delRoot:function delRoot(t){if(null==t){for(var e=0;e<this._roots.length;e++){var i=this._roots[e];i instanceof r&&i.delChildrenFromStorage(this);}return this._roots=[],this._displayList=[],void(this._displayListLen=0);}if(t instanceof Array)for(var e=0,n=t.length;e<n;e++){this.delRoot(t[e]);}else{var a=o.indexOf(this._roots,t);a>=0&&(this.delFromStorage(t),this._roots.splice(a,1),t instanceof r&&t.delChildrenFromStorage(this));}},addToStorage:function addToStorage(t){return t.__storage=this,t.dirty(!1),this;},delFromStorage:function delFromStorage(t){return t&&(t.__storage=null),this;},dispose:function dispose(){this._renderList=this._roots=null;},displayableSortFunc:n},t.exports=l;},function(t,e,i){"use strict";var n=i(1),o=i(21).Dispatcher,a=i(67),r=i(66),s=function s(t){t=t||{},this.stage=t.stage||{},this.onframe=t.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,o.call(this);};s.prototype={constructor:s,addClip:function addClip(t){this._clips.push(t);},addAnimator:function addAnimator(t){t.animation=this;for(var e=t.getClips(),i=0;i<e.length;i++){this.addClip(e[i]);}},removeClip:function removeClip(t){var e=n.indexOf(this._clips,t);e>=0&&this._clips.splice(e,1);},removeAnimator:function removeAnimator(t){for(var e=t.getClips(),i=0;i<e.length;i++){this.removeClip(e[i]);}t.animation=null;},_update:function _update(){for(var t=new Date().getTime()-this._pausedTime,e=t-this._time,i=this._clips,n=i.length,o=[],a=[],r=0;r<n;r++){var s=i[r],l=s.step(t,e);l&&(o.push(l),a.push(s));}for(var r=0;r<n;){i[r]._needsRemove?(i[r]=i[n-1],i.pop(),n--):r++;}n=o.length;for(var r=0;r<n;r++){a[r].fire(o[r]);}this._time=t,this.onframe(e),this.trigger("frame",e),this.stage.update&&this.stage.update();},_startLoop:function _startLoop(){function t(){e._running&&(a(t),!e._paused&&e._update());}var e=this;this._running=!0,a(t);},start:function start(){this._time=new Date().getTime(),this._pausedTime=0,this._startLoop();},stop:function stop(){this._running=!1;},pause:function pause(){this._paused||(this._pauseStart=new Date().getTime(),this._paused=!0);},resume:function resume(){this._paused&&(this._pausedTime+=new Date().getTime()-this._pauseStart,this._paused=!1);},clear:function clear(){this._clips=[];},animate:function animate(t,e){e=e||{};var i=new r(t,e.loop,e.getter,e.setter);return this.addAnimator(i),i;}},n.mixin(s,o),t.exports=s;},function(t,e,i){function n(t){this._target=t.target,this._life=t.life||1e3,this._delay=t.delay||0,this._initialized=!1,this.loop=null!=t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||"Linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart,this._pausedTime=0,this._paused=!1;}var o=i(158);n.prototype={constructor:n,step:function step(t,e){if(this._initialized||(this._startTime=t+this._delay,this._initialized=!0),this._paused)return void(this._pausedTime+=e);var i=(t-this._startTime-this._pausedTime)/this._life;if(!(i<0)){i=Math.min(i,1);var n=this.easing,a="string"==typeof n?o[n]:n,r="function"==typeof a?a(i):i;return this.fire("frame",r),1==i?this.loop?(this.restart(t),"restart"):(this._needsRemove=!0,"destroy"):null;}},restart:function restart(t){var e=(t-this._startTime-this._pausedTime)%this._life;this._startTime=t-e+this.gap,this._pausedTime=0,this._needsRemove=!1;},fire:function fire(t,e){t="on"+t,this[t]&&this[t](this._target,e);},pause:function pause(){this._paused=!0;},resume:function resume(){this._paused=!1;}},t.exports=n;},function(t,e){var i={linear:function linear(t){return t;},quadraticIn:function quadraticIn(t){return t*t;},quadraticOut:function quadraticOut(t){return t*(2-t);},quadraticInOut:function quadraticInOut(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1);},cubicIn:function cubicIn(t){return t*t*t;},cubicOut:function cubicOut(t){return--t*t*t+1;},cubicInOut:function cubicInOut(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2);},quarticIn:function quarticIn(t){return t*t*t*t;},quarticOut:function quarticOut(t){return 1- --t*t*t*t;},quarticInOut:function quarticInOut(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2);},quinticIn:function quinticIn(t){return t*t*t*t*t;},quinticOut:function quinticOut(t){return--t*t*t*t*t+1;},quinticInOut:function quinticInOut(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2);},sinusoidalIn:function sinusoidalIn(t){return 1-Math.cos(t*Math.PI/2);},sinusoidalOut:function sinusoidalOut(t){return Math.sin(t*Math.PI/2);},sinusoidalInOut:function sinusoidalInOut(t){return .5*(1-Math.cos(Math.PI*t));},exponentialIn:function exponentialIn(t){return 0===t?0:Math.pow(1024,t-1);},exponentialOut:function exponentialOut(t){return 1===t?1:1-Math.pow(2,-10*t);},exponentialInOut:function exponentialInOut(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2);},circularIn:function circularIn(t){return 1-Math.sqrt(1-t*t);},circularOut:function circularOut(t){return Math.sqrt(1- --t*t);},circularInOut:function circularInOut(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1);},elasticIn:function elasticIn(t){var e,i=.1,n=.4;return 0===t?0:1===t?1:(!i||i<1?(i=1,e=n/4):e=n*Math.asin(1/i)/(2*Math.PI),-(i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)));},elasticOut:function elasticOut(t){var e,i=.1,n=.4;return 0===t?0:1===t?1:(!i||i<1?(i=1,e=n/4):e=n*Math.asin(1/i)/(2*Math.PI),i*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/n)+1);},elasticInOut:function elasticInOut(t){var e,i=.1,n=.4;return 0===t?0:1===t?1:(!i||i<1?(i=1,e=n/4):e=n*Math.asin(1/i)/(2*Math.PI),(t*=2)<1?-.5*(i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)):i*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)*.5+1);},backIn:function backIn(t){var e=1.70158;return t*t*((e+1)*t-e);},backOut:function backOut(t){var e=1.70158;return--t*t*((e+1)*t+e)+1;},backInOut:function backInOut(t){var e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2);},bounceIn:function bounceIn(t){return 1-i.bounceOut(1-t);},bounceOut:function bounceOut(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375;},bounceInOut:function bounceInOut(t){return t<.5?.5*i.bounceIn(2*t):.5*i.bounceOut(2*t-1)+.5;}};t.exports=i;},function(t,e,i){var n=i(68).normalizeRadian,o=2*Math.PI;t.exports={containStroke:function containStroke(t,e,i,a,r,s,l,u,c){if(0===l)return!1;var h=l;u-=t,c-=e;var d=Math.sqrt(u*u+c*c);if(d-h>i||d+h<i)return!1;if(Math.abs(a-r)%o<1e-4)return!0;if(s){var f=a;a=n(r),r=n(f);}else a=n(a),r=n(r);a>r&&(r+=o);var p=Math.atan2(c,u);return p<0&&(p+=o),p>=a&&p<=r||p+o>=a&&p+o<=r;}};},function(t,e,i){var n=i(20);t.exports={containStroke:function containStroke(t,e,i,o,a,r,s,l,u,c,h){if(0===u)return!1;var d=u;if(h>e+d&&h>o+d&&h>r+d&&h>l+d||h<e-d&&h<o-d&&h<r-d&&h<l-d||c>t+d&&c>i+d&&c>a+d&&c>s+d||c<t-d&&c<i-d&&c<a-d&&c<s-d)return!1;var f=n.cubicProjectPoint(t,e,i,o,a,r,s,l,c,h,null);return f<=d/2;}};},function(t,e,i){"use strict";function n(t,e){return Math.abs(t-e)<x;}function o(){var t=b[0];b[0]=b[1],b[1]=t;}function a(t,e,i,n,a,r,s,l,u,c){if(c>e&&c>n&&c>r&&c>l||c<e&&c<n&&c<r&&c<l)return 0;var h=g.cubicRootAt(e,n,r,l,c,_);if(0===h)return 0;for(var d,f,p=0,m=-1,v=0;v<h;v++){var y=_[v],x=0===y||1===y?.5:1,w=g.cubicAt(t,i,a,s,y);w<u||(m<0&&(m=g.cubicExtrema(e,n,r,l,b),b[1]<b[0]&&m>1&&o(),d=g.cubicAt(e,n,r,l,b[0]),m>1&&(f=g.cubicAt(e,n,r,l,b[1]))),p+=2==m?y<b[0]?d<e?x:-x:y<b[1]?f<d?x:-x:l<f?x:-x:y<b[0]?d<e?x:-x:l<d?x:-x);}return p;}function r(t,e,i,n,o,a,r,s){if(s>e&&s>n&&s>a||s<e&&s<n&&s<a)return 0;var l=g.quadraticRootAt(e,n,a,s,_);if(0===l)return 0;var u=g.quadraticExtremum(e,n,a);if(u>=0&&u<=1){for(var c=0,h=g.quadraticAt(e,n,a,u),d=0;d<l;d++){var f=0===_[d]||1===_[d]?.5:1,p=g.quadraticAt(t,i,o,_[d]);p<r||(c+=_[d]<u?h<e?f:-f:a<h?f:-f);}return c;}var f=0===_[0]||1===_[0]?.5:1,p=g.quadraticAt(t,i,o,_[0]);return p<r?0:a<e?f:-f;}function s(t,e,i,n,o,a,r,s){if(s-=e,s>i||s<-i)return 0;var l=Math.sqrt(i*i-s*s);_[0]=-l,_[1]=l;var u=Math.abs(n-o);if(u<1e-4)return 0;if(u%y<1e-4){n=0,o=y;var c=a?1:-1;return r>=_[0]+t&&r<=_[1]+t?c:0;}if(a){var l=n;n=p(o),o=p(l);}else n=p(n),o=p(o);n>o&&(o+=y);for(var h=0,d=0;d<2;d++){var f=_[d];if(f+t>r){var g=Math.atan2(s,f),c=a?1:-1;g<0&&(g=y+g),(g>=n&&g<=o||g+y>=n&&g+y<=o)&&(g>Math.PI/2&&g<1.5*Math.PI&&(c=-c),h+=c);}}return h;}function l(t,e,i,o,l){for(var c=0,p=0,g=0,y=0,x=0,_=0;_<t.length;){var b=t[_++];switch(b===u.M&&_>1&&(i||(c+=m(p,g,y,x,o,l))),1==_&&(p=t[_],g=t[_+1],y=p,x=g),b){case u.M:y=t[_++],x=t[_++],p=y,g=x;break;case u.L:if(i){if(v(p,g,t[_],t[_+1],e,o,l))return!0;}else c+=m(p,g,t[_],t[_+1],o,l)||0;p=t[_++],g=t[_++];break;case u.C:if(i){if(h.containStroke(p,g,t[_++],t[_++],t[_++],t[_++],t[_],t[_+1],e,o,l))return!0;}else c+=a(p,g,t[_++],t[_++],t[_++],t[_++],t[_],t[_+1],o,l)||0;p=t[_++],g=t[_++];break;case u.Q:if(i){if(d.containStroke(p,g,t[_++],t[_++],t[_],t[_+1],e,o,l))return!0;}else c+=r(p,g,t[_++],t[_++],t[_],t[_+1],o,l)||0;p=t[_++],g=t[_++];break;case u.A:var w=t[_++],S=t[_++],M=t[_++],I=t[_++],T=t[_++],A=t[_++],C=(t[_++],1-t[_++]),L=Math.cos(T)*M+w,D=Math.sin(T)*I+S;_>1?c+=m(p,g,L,D,o,l):(y=L,x=D);var P=(o-w)*I/M+w;if(i){if(f.containStroke(w,S,I,T,T+A,C,e,P,l))return!0;}else c+=s(w,S,I,T,T+A,C,P,l);p=Math.cos(T+A)*M+w,g=Math.sin(T+A)*I+S;break;case u.R:y=p=t[_++],x=g=t[_++];var k=t[_++],O=t[_++],L=y+k,D=x+O;if(i){if(v(y,x,L,x,e,o,l)||v(L,x,L,D,e,o,l)||v(L,D,y,D,e,o,l)||v(y,D,y,x,e,o,l))return!0;}else c+=m(L,x,L,D,o,l),c+=m(y,D,y,x,o,l);break;case u.Z:if(i){if(v(p,g,y,x,e,o,l))return!0;}else c+=m(p,g,y,x,o,l);p=y,g=x;}}return i||n(g,x)||(c+=m(p,g,y,x,o,l)||0),0!==c;}var u=i(27).CMD,c=i(96),h=i(160),d=i(97),f=i(159),p=i(68).normalizeRadian,g=i(20),m=i(98),v=c.containStroke,y=2*Math.PI,x=1e-4,_=[-1,-1,-1],b=[-1,-1];t.exports={contain:function contain(t,e,i){return l(t,0,!1,e,i);},containStroke:function containStroke(t,e,i,n){return l(t,e,!0,i,n);}};},function(t,e,i){"use strict";function n(t){var e=t[1][0]-t[0][0],i=t[1][1]-t[0][1];return Math.sqrt(e*e+i*i);}function o(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2];}var a=i(21),r=function r(){this._track=[];};r.prototype={constructor:r,recognize:function recognize(t,e,i){return this._doTrack(t,e,i),this._recognize(t);},clear:function clear(){return this._track.length=0,this;},_doTrack:function _doTrack(t,e,i){var n=t.touches;if(n){for(var o={points:[],touches:[],target:e,event:t},r=0,s=n.length;r<s;r++){var l=n[r],u=a.clientToLocal(i,l,{});o.points.push([u.zrX,u.zrY]),o.touches.push(l);}this._track.push(o);}},_recognize:function _recognize(t){for(var e in s){if(s.hasOwnProperty(e)){var i=s[e](this._track,t);if(i)return i;}}}};var s={pinch:function pinch(t,e){var i=t.length;if(i){var a=(t[i-1]||{}).points,r=(t[i-2]||{}).points||a;if(r&&r.length>1&&a&&a.length>1){var s=n(a)/n(r);!isFinite(s)&&(s=1),e.pinchScale=s;var l=o(a);return e.pinchX=l[0],e.pinchY=l[1],{type:"pinch",target:t[0].target,event:e};}}}};t.exports=r;},function(t,e,i){function n(t){return"mousewheel"===t&&d.browser.firefox?"DOMMouseScroll":t;}function o(t,e,i){var n=t._gestureMgr;"start"===i&&n.clear();var o=n.recognize(e,t.handler.findHover(e.zrX,e.zrY,null).target,t.dom);if("end"===i&&n.clear(),o){var a=o.type;e.gestureEvent=a,t.handler.dispatchToElement({target:o.target},a,o.event);}}function a(t){t._touching=!0,clearTimeout(t._touchTimer),t._touchTimer=setTimeout(function(){t._touching=!1;},700);}function r(t){var e=t.pointerType;return"pen"===e||"touch"===e;}function s(t){function e(t,e){return function(){if(!e._touching)return t.apply(e,arguments);};}c.each(x,function(e){t._handlers[e]=c.bind(w[e],t);}),c.each(b,function(e){t._handlers[e]=c.bind(w[e],t);}),c.each(y,function(i){t._handlers[i]=e(w[i],t);});}function l(t){function e(e,i){c.each(e,function(e){p(t,n(e),i._handlers[e]);},i);}h.call(this),this.dom=t,this._touching=!1,this._touchTimer,this._gestureMgr=new f(),this._handlers={},s(this),d.pointerEventsSupported?e(b,this):(d.touchEventsSupported&&e(x,this),e(y,this));}var u=i(21),c=i(1),h=i(23),d=i(9),f=i(162),p=u.addEventListener,g=u.removeEventListener,m=u.normalizeEvent,v=300,y=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],x=["touchstart","touchend","touchmove"],_={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},b=c.map(y,function(t){var e=t.replace("mouse","pointer");return _[e]?e:t;}),w={mousemove:function mousemove(t){t=m(this.dom,t),this.trigger("mousemove",t);},mouseout:function mouseout(t){t=m(this.dom,t);var e=t.toElement||t.relatedTarget;if(e!=this.dom)for(;e&&9!=e.nodeType;){if(e===this.dom)return;e=e.parentNode;}this.trigger("mouseout",t);},touchstart:function touchstart(t){t=m(this.dom,t),t.zrByTouch=!0,this._lastTouchMoment=new Date(),o(this,t,"start"),w.mousemove.call(this,t),w.mousedown.call(this,t),a(this);},touchmove:function touchmove(t){t=m(this.dom,t),t.zrByTouch=!0,o(this,t,"change"),w.mousemove.call(this,t),a(this);},touchend:function touchend(t){t=m(this.dom,t),t.zrByTouch=!0,o(this,t,"end"),w.mouseup.call(this,t),+new Date()-this._lastTouchMoment<v&&w.click.call(this,t),a(this);},pointerdown:function pointerdown(t){w.mousedown.call(this,t);},pointermove:function pointermove(t){r(t)||w.mousemove.call(this,t);},pointerup:function pointerup(t){w.mouseup.call(this,t);},pointerout:function pointerout(t){r(t)||w.mouseout.call(this,t);}};c.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){w[t]=function(e){e=m(this.dom,e),this.trigger(t,e);};});var S=l.prototype;S.dispose=function(){for(var t=y.concat(x),e=0;e<t.length;e++){var i=t[e];g(this.dom,n(i),this._handlers[i]);}},S.setCursor=function(t){this.dom.style.cursor=t||"default";},c.mixin(l,h),t.exports=l;},function(t,e,i){var n=i(8);t.exports=n.extend({type:"compound",shape:{paths:null},_updatePathDirty:function _updatePathDirty(){for(var t=this.__dirtyPath,e=this.shape.paths,i=0;i<e.length;i++){t=t||e[i].__dirtyPath;}this.__dirtyPath=t,this.__dirty=this.__dirty||t;},beforeBrush:function beforeBrush(){this._updatePathDirty();for(var t=this.shape.paths||[],e=this.getGlobalScale(),i=0;i<t.length;i++){t[i].path||t[i].createPathProxy(),t[i].path.setScale(e[0],e[1]);}},buildPath:function buildPath(t,e){for(var i=e.paths||[],n=0;n<i.length;n++){i[n].buildPath(t,i[n].shape,!0);}},afterBrush:function afterBrush(){for(var t=this.shape.paths,e=0;e<t.length;e++){t[e].__dirtyPath=!1;}},getBoundingRect:function getBoundingRect(){return this._updatePathDirty(),n.prototype.getBoundingRect.call(this);}});},function(t,e,i){"use strict";var n=i(1),o=i(39),a=function a(t,e,i,n,_a2){this.x=null==t?.5:t,this.y=null==e?.5:e,this.r=null==i?.5:i,this.type="radial",this.global=_a2||!1,o.call(this,n);};a.prototype={constructor:a},n.inherits(a,o),t.exports=a;},function(t,e){t.exports={buildPath:function buildPath(t,e){var i,n,o,a,r=e.x,s=e.y,l=e.width,u=e.height,c=e.r;l<0&&(r+=l,l=-l),u<0&&(s+=u,u=-u),"number"==typeof c?i=n=o=a=c:c instanceof Array?1===c.length?i=n=o=a=c[0]:2===c.length?(i=o=c[0],n=a=c[1]):3===c.length?(i=c[0],n=a=c[1],o=c[2]):(i=c[0],n=c[1],o=c[2],a=c[3]):i=n=o=a=0;var h;i+n>l&&(h=i+n,i*=l/h,n*=l/h),o+a>l&&(h=o+a,o*=l/h,a*=l/h),n+o>u&&(h=n+o,n*=u/h,o*=u/h),i+a>u&&(h=i+a,i*=u/h,a*=u/h),t.moveTo(r+i,s),t.lineTo(r+l-n,s),0!==n&&t.quadraticCurveTo(r+l,s,r+l,s+n),t.lineTo(r+l,s+u-o),0!==o&&t.quadraticCurveTo(r+l,s+u,r+l-o,s+u),t.lineTo(r+a,s+u),0!==a&&t.quadraticCurveTo(r,s+u,r,s+u-a),t.lineTo(r,s+i),0!==i&&t.quadraticCurveTo(r,s,r+i,s);}};},function(t,e,i){var n=i(5),o=n.min,a=n.max,r=n.scale,s=n.distance,l=n.add;t.exports=function(t,e,i,u){var c,h,d,f,p=[],g=[],m=[],v=[];if(u){d=[1/0,1/0],f=[-(1/0),-(1/0)];for(var y=0,x=t.length;y<x;y++){o(d,d,t[y]),a(f,f,t[y]);}o(d,d,u[0]),a(f,f,u[1]);}for(var y=0,x=t.length;y<x;y++){var _=t[y];if(i)c=t[y?y-1:x-1],h=t[(y+1)%x];else{if(0===y||y===x-1){p.push(n.clone(t[y]));continue;}c=t[y-1],h=t[y+1];}n.sub(g,h,c),r(g,g,e);var b=s(_,c),w=s(_,h),S=b+w;0!==S&&(b/=S,w/=S),r(m,g,-b),r(v,g,w);var M=l([],_,m),I=l([],_,v);u&&(a(M,M,d),o(M,M,f),a(I,I,d),o(I,I,f)),p.push(M),p.push(I);}return i&&p.push(p.shift()),p;};},function(t,e,i){function n(t,e,i,n,o,a,r){var s=.5*(i-t),l=.5*(n-e);return(2*(e-i)+s+l)*r+(-3*(e-i)-2*s-l)*a+s*o+e;}var o=i(5);t.exports=function(t,e){for(var i=t.length,a=[],r=0,s=1;s<i;s++){r+=o.distance(t[s-1],t[s]);}var l=r/2;l=l<i?i:l;for(var s=0;s<l;s++){var u,c,h,d=s/(l-1)*(e?i:i-1),f=Math.floor(d),p=d-f,g=t[f%i];e?(u=t[(f-1+i)%i],c=t[(f+1)%i],h=t[(f+2)%i]):(u=t[0===f?f:f-1],c=t[f>i-2?i-1:f+1],h=t[f>i-3?i-1:f+2]);var m=p*p,v=p*m;a.push([n(u[0],g[0],c[0],h[0],p,m,v),n(u[1],g[1],c[1],h[1],p,m,v)]);}return a;};},function(t,e,i){t.exports=i(8).extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function buildPath(t,e){var i=e.cx,n=e.cy,o=Math.max(e.r,0),a=e.startAngle,r=e.endAngle,s=e.clockwise,l=Math.cos(a),u=Math.sin(a);t.moveTo(l*o+i,u*o+n),t.arc(i,n,o,a,r,!s);}});},function(t,e,i){"use strict";function n(t,e,i){var n=t.cpx2,o=t.cpy2;return null===n||null===o?[(i?h:u)(t.x1,t.cpx1,t.cpx2,t.x2,e),(i?h:u)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(i?c:l)(t.x1,t.cpx1,t.x2,e),(i?c:l)(t.y1,t.cpy1,t.y2,e)];}var o=i(20),a=i(5),r=o.quadraticSubdivide,s=o.cubicSubdivide,l=o.quadraticAt,u=o.cubicAt,c=o.quadraticDerivativeAt,h=o.cubicDerivativeAt,d=[];t.exports=i(8).extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function buildPath(t,e){var i=e.x1,n=e.y1,o=e.x2,a=e.y2,l=e.cpx1,u=e.cpy1,c=e.cpx2,h=e.cpy2,f=e.percent;0!==f&&(t.moveTo(i,n),null==c||null==h?(f<1&&(r(i,l,o,f,d),l=d[1],o=d[2],r(n,u,a,f,d),u=d[1],a=d[2]),t.quadraticCurveTo(l,u,o,a)):(f<1&&(s(i,l,c,o,f,d),l=d[1],c=d[2],o=d[3],s(n,u,h,a,f,d),u=d[1],h=d[2],a=d[3]),t.bezierCurveTo(l,u,c,h,o,a)));},pointAt:function pointAt(t){return n(this.shape,t,!1);},tangentAt:function tangentAt(t){var e=n(this.shape,t,!0);return a.normalize(e,e);}});},function(t,e,i){"use strict";t.exports=i(8).extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function buildPath(t,e,i){i&&t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI,!0);}});},function(t,e,i){t.exports=i(8).extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function buildPath(t,e){var i=e.x1,n=e.y1,o=e.x2,a=e.y2,r=e.percent;0!==r&&(t.moveTo(i,n),r<1&&(o=i*(1-r)+o*r,a=n*(1-r)+a*r),t.lineTo(o,a));},pointAt:function pointAt(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t];}});},function(t,e,i){var n=i(73);t.exports=i(8).extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function buildPath(t,e){n.buildPath(t,e,!0);}});},function(t,e,i){var n=i(73);t.exports=i(8).extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function buildPath(t,e){n.buildPath(t,e,!1);}});},function(t,e,i){var n=i(166);t.exports=i(8).extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function buildPath(t,e){var i=e.x,o=e.y,a=e.width,r=e.height;e.r?n.buildPath(t,e):t.rect(i,o,a,r),t.closePath();}});},function(t,e,i){t.exports=i(8).extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function buildPath(t,e){var i=e.cx,n=e.cy,o=2*Math.PI;t.moveTo(i+e.r,n),t.arc(i,n,e.r,0,o,!1),t.moveTo(i+e.r0,n),t.arc(i,n,e.r0,0,o,!0);}});},function(t,e,i){var n=i(9),o=i(8),a=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]];t.exports=o.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:n.browser.ie&&n.browser.version>=11?function(){var t,e=this.__clipPaths,i=this.style;if(e)for(var n=0;n<e.length;n++){var r=e[n]&&e[n].shape;if(r&&r.startAngle===r.endAngle){for(var s=0;s<a.length;s++){a[s][2]=i[a[s][0]],i[a[s][0]]=a[s][1];}t=!0;break;}}if(o.prototype.brush.apply(this,arguments),t)for(var s=0;s<a.length;s++){i[a[s][0]]=a[s][2];}}:o.prototype.brush,buildPath:function buildPath(t,e){var i=e.cx,n=e.cy,o=Math.max(e.r0||0,0),a=Math.max(e.r,0),r=e.startAngle,s=e.endAngle,l=e.clockwise,u=Math.cos(r),c=Math.sin(r);t.moveTo(u*o+i,c*o+n),t.lineTo(u*a+i,c*a+n),t.arc(i,n,a,r,s,!l),t.lineTo(Math.cos(s)*o+i,Math.sin(s)*o+n),0!==o&&t.arc(i,n,o,s,r,l),t.closePath();}});},function(t,e,i){"use strict";var n=i(66),o=i(1),a=o.isString,r=o.isFunction,s=o.isObject,l=i(52),u=function u(){this.animators=[];};u.prototype={constructor:u,animate:function animate(t,e){var i,a=!1,r=this,s=this.__zr;if(t){var u=t.split("."),c=r;a="shape"===u[0];for(var h=0,d=u.length;h<d;h++){c&&(c=c[u[h]]);}c&&(i=c);}else i=r;if(!i)return void l('Property "'+t+'" is not existed in element '+r.id);var f=r.animators,p=new n(i,e);return p.during(function(t){r.dirty(a);}).done(function(){f.splice(o.indexOf(f,p),1);}),f.push(p),s&&s.animation.addAnimator(p),p;},stopAnimation:function stopAnimation(t){for(var e=this.animators,i=e.length,n=0;n<i;n++){e[n].stop(t);}return e.length=0,this;},animateTo:function animateTo(t,e,i,n,o){function s(){u--,u||o&&o();}a(i)?(o=n,n=i,i=0):r(n)?(o=n,n="linear",i=0):r(i)?(o=i,i=0):r(e)?(o=e,e=500):e||(e=500),this.stopAnimation(),this._animateToShallow("",this,t,e,i,n,o);var l=this.animators.slice(),u=l.length;u||o&&o();for(var c=0;c<l.length;c++){l[c].done(s).start(n);}},_animateToShallow:function _animateToShallow(t,e,i,n,a){var r={},l=0;for(var u in i){if(i.hasOwnProperty(u))if(null!=e[u])s(i[u])&&!o.isArrayLike(i[u])?this._animateToShallow(t?t+"."+u:u,e[u],i[u],n,a):(r[u]=i[u],l++);else if(null!=i[u])if(t){var c={};c[t]={},c[t][u]=i[u],this.attr(c);}else this.attr(u,i[u]);}return l>0&&this.animate(t,!1).when(null==n?500:n,r).delay(a||0),this;}},t.exports=u;},function(t,e){function i(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this),this.on("globalout",this._dragEnd,this);}function n(t,e){return{target:t,topTarget:e&&e.topTarget};}i.prototype={constructor:i,_dragStart:function _dragStart(t){var e=t.target;e&&e.draggable&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.dispatchToElement(n(e,t),"dragstart",t.event));},_drag:function _drag(t){var e=this._draggingTarget;if(e){var i=t.offsetX,o=t.offsetY,a=i-this._x,r=o-this._y;this._x=i,this._y=o,e.drift(a,r,t),this.dispatchToElement(n(e,t),"drag",t.event);var s=this.findHover(i,o,e).target,l=this._dropTarget;this._dropTarget=s,e!==s&&(l&&s!==l&&this.dispatchToElement(n(l,t),"dragleave",t.event),s&&s!==l&&this.dispatchToElement(n(s,t),"dragenter",t.event));}},_dragEnd:function _dragEnd(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.dispatchToElement(n(e,t),"dragend",t.event),this._dropTarget&&this.dispatchToElement(n(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null;}},t.exports=i;},function(t,e,i){function n(t,e,i,n,o,a,r,s,l,u,c){var g=l*(p/180),y=f(g)*(t-i)/2+d(g)*(e-n)/2,x=-1*d(g)*(t-i)/2+f(g)*(e-n)/2,_=y*y/(r*r)+x*x/(s*s);_>1&&(r*=h(_),s*=h(_));var b=(o===a?-1:1)*h((r*r*(s*s)-r*r*(x*x)-s*s*(y*y))/(r*r*(x*x)+s*s*(y*y)))||0,w=b*r*x/s,S=b*-s*y/r,M=(t+i)/2+f(g)*w-d(g)*S,I=(e+n)/2+d(g)*w+f(g)*S,T=v([1,0],[(y-w)/r,(x-S)/s]),A=[(y-w)/r,(x-S)/s],C=[(-1*y-w)/r,(-1*x-S)/s],L=v(A,C);m(A,C)<=-1&&(L=p),m(A,C)>=1&&(L=0),0===a&&L>0&&(L-=2*p),1===a&&L<0&&(L+=2*p),c.addData(u,M,I,r,s,T,L,g,a);}function o(t){if(!t)return[];var e,i=t.replace(/-/g," -").replace(/  /g," ").replace(/ /g,",").replace(/,,/g,",");for(e=0;e<c.length;e++){i=i.replace(new RegExp(c[e],"g"),"|"+c[e]);}var o,a=i.split("|"),r=0,l=0,u=new s(),h=s.CMD;for(e=1;e<a.length;e++){var d,f=a[e],p=f.charAt(0),g=0,m=f.slice(1).replace(/e,-/g,"e-").split(",");m.length>0&&""===m[0]&&m.shift();for(var v=0;v<m.length;v++){m[v]=parseFloat(m[v]);}for(;g<m.length&&!isNaN(m[g])&&!isNaN(m[0]);){var y,x,_,b,w,S,M,I=r,T=l;switch(p){case"l":r+=m[g++],l+=m[g++],d=h.L,u.addData(d,r,l);break;case"L":r=m[g++],l=m[g++],d=h.L,u.addData(d,r,l);break;case"m":r+=m[g++],l+=m[g++],d=h.M,u.addData(d,r,l),p="l";break;case"M":r=m[g++],l=m[g++],d=h.M,u.addData(d,r,l),p="L";break;case"h":r+=m[g++],d=h.L,u.addData(d,r,l);break;case"H":r=m[g++],d=h.L,u.addData(d,r,l);break;case"v":l+=m[g++],d=h.L,u.addData(d,r,l);break;case"V":l=m[g++],d=h.L,u.addData(d,r,l);break;case"C":d=h.C,u.addData(d,m[g++],m[g++],m[g++],m[g++],m[g++],m[g++]),r=m[g-2],l=m[g-1];break;case"c":d=h.C,u.addData(d,m[g++]+r,m[g++]+l,m[g++]+r,m[g++]+l,m[g++]+r,m[g++]+l),r+=m[g-2],l+=m[g-1];break;case"S":y=r,x=l;var A=u.len(),C=u.data;o===h.C&&(y+=r-C[A-4],x+=l-C[A-3]),d=h.C,I=m[g++],T=m[g++],r=m[g++],l=m[g++],u.addData(d,y,x,I,T,r,l);break;case"s":y=r,x=l;var A=u.len(),C=u.data;o===h.C&&(y+=r-C[A-4],x+=l-C[A-3]),d=h.C,I=r+m[g++],T=l+m[g++],r+=m[g++],l+=m[g++],u.addData(d,y,x,I,T,r,l);break;case"Q":I=m[g++],T=m[g++],r=m[g++],l=m[g++],d=h.Q,u.addData(d,I,T,r,l);break;case"q":I=m[g++]+r,T=m[g++]+l,r+=m[g++],l+=m[g++],d=h.Q,u.addData(d,I,T,r,l);break;case"T":y=r,x=l;var A=u.len(),C=u.data;o===h.Q&&(y+=r-C[A-4],x+=l-C[A-3]),r=m[g++],l=m[g++],d=h.Q,u.addData(d,y,x,r,l);break;case"t":y=r,x=l;var A=u.len(),C=u.data;o===h.Q&&(y+=r-C[A-4],x+=l-C[A-3]),r+=m[g++],l+=m[g++],d=h.Q,u.addData(d,y,x,r,l);break;case"A":_=m[g++],b=m[g++],w=m[g++],S=m[g++],M=m[g++],I=r,T=l,r=m[g++],l=m[g++],d=h.A,n(I,T,r,l,S,M,_,b,w,d,u);break;case"a":_=m[g++],b=m[g++],w=m[g++],S=m[g++],M=m[g++],I=r,T=l,r+=m[g++],l+=m[g++],d=h.A,n(I,T,r,l,S,M,_,b,w,d,u);}}"z"!==p&&"Z"!==p||(d=h.Z,u.addData(d)),o=d;}return u.toStatic(),u;}function a(t,e){var i,n=o(t);return e=e||{},e.buildPath=function(t){t.setData(n.data),i&&l(t,i);var e=t.getContext();e&&t.rebuildPath(e);},e.applyTransform=function(t){i||(i=u.create()),u.mul(i,t,i),this.dirty(!0);},e;}var r=i(8),s=i(27),l=i(181),u=i(16),c=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"],h=Math.sqrt,d=Math.sin,f=Math.cos,p=Math.PI,g=function g(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1]);},m=function m(t,e){return(t[0]*e[0]+t[1]*e[1])/(g(t)*g(e));},v=function v(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(m(t,e));};t.exports={createFromString:function createFromString(t,e){return new r(a(t,e));},extendFromString:function extendFromString(t,e){return r.extend(a(t,e));},mergePath:function mergePath(t,e){for(var i=[],n=t.length,o=0;o<n;o++){var a=t[o];a.path||a.createPathProxy(),a.__dirtyPath&&a.buildPath(a.path,a.shape,!0),i.push(a.path);}var s=new r(e);return s.createPathProxy(),s.buildPath=function(t){t.appendPath(i);var e=t.getContext();e&&t.rebuildPath(e);},s;}};},function(t,e,i){function n(t,e){var i,n,a,c,h,d,f=t.data,p=o.M,g=o.C,m=o.L,v=o.R,y=o.A,x=o.Q;for(a=0,c=0;a<f.length;){switch(i=f[a++],c=a,n=0,i){case p:n=1;break;case m:n=1;break;case g:n=3;break;case x:n=2;break;case y:var _=e[4],b=e[5],w=l(e[0]*e[0]+e[1]*e[1]),S=l(e[2]*e[2]+e[3]*e[3]),M=u(-e[1]/S,e[0]/w);f[a++]+=_,f[a++]+=b,f[a++]*=w,f[a++]*=S,f[a++]+=M,f[a++]+=M,a+=2,c=a;break;case v:d[0]=f[a++],d[1]=f[a++],r(d,d,e),f[c++]=d[0],f[c++]=d[1],d[0]+=f[a++],d[1]+=f[a++],r(d,d,e),f[c++]=d[0],f[c++]=d[1];}for(h=0;h<n;h++){var d=s[h];d[0]=f[a++],d[1]=f[a++],r(d,d,e),f[c++]=d[0],f[c++]=d[1];}}}var o=i(27).CMD,a=i(5),r=a.applyTransform,s=[[],[],[]],l=Math.sqrt,u=Math.atan2;t.exports=n;},function(t,e,i){if(!i(9).canvasSupported){var n,o="urn:schemas-microsoft-com:vml",a=window,r=a.document,s=!1;try{!r.namespaces.zrvml&&r.namespaces.add("zrvml",o),n=function n(t){return r.createElement("<zrvml:"+t+' class="zrvml">');};}catch(l){n=function n(t){return r.createElement("<"+t+' xmlns="'+o+'" class="zrvml">');};}var u=function u(){if(!s){s=!0;var t=r.styleSheets;t.length<31?r.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):t[0].addRule(".zrvml","behavior:url(#default#VML)");}};t.exports={doc:r,initVML:u,createNode:n};}},function(t,e,i){"use strict";function n(t){return null==t.value?t:t.value;}var o=i(14),a=i(25),r=i(312),s=i(1),l={_baseAxisDim:null,getInitialData:function getInitialData(t,e){var i,r,s=e.getComponent("xAxis",this.get("xAxisIndex")),l=e.getComponent("yAxis",this.get("yAxisIndex")),u=s.get("type"),c=l.get("type");"category"===u?(t.layout="horizontal",i=s.getCategories(),r=!0):"category"===c?(t.layout="vertical",i=l.getCategories(),r=!0):t.layout=t.layout||"horizontal",this._baseAxisDim="horizontal"===t.layout?"x":"y";var h=t.data,d=this.dimensions=["base"].concat(this.valueDimensions);a(d,h);var f=new o(d,this);return f.initData(h,i?i.slice():null,function(t,e,i,o){var a=n(t);return r?"base"===e?i:a[o-1]:a[o];}),f;},coordDimToDataDim:function coordDimToDataDim(t){var e=this.valueDimensions.slice(),i=["base"],n={horizontal:{x:i,y:e},vertical:{x:e,y:i}};return n[this.get("layout")][t];},dataDimToCoordDim:function dataDimToCoordDim(t){var e;return s.each(["x","y"],function(i,n){var o=this.coordDimToDataDim(i);s.indexOf(o,t)>=0&&(e=i);},this),e;},getBaseAxis:function getBaseAxis(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis;}},u={init:function init(){var t=this._whiskerBoxDraw=new r(this.getStyleUpdater());this.group.add(t.group);},render:function render(t,e,i){this._whiskerBoxDraw.updateData(t.getData());},remove:function remove(t){this._whiskerBoxDraw.remove();}};t.exports={seriesModelMixin:l,viewMixin:u};},function(t,e,i){function n(t,e,i){var n=this._targetInfoList=[],o={},r=a(e,t);p(_,function(t,e){(!i||!i.include||g(i.include,e)>=0)&&t(r,n,o);});}function o(t){return t[0]>t[1]&&t.reverse(),t;}function a(t,e){return d.parseFinder(t,e,{includeMainTypes:y});}function r(t,e,i,n){var a=i.getAxis(["x","y"][t]),r=o(c.map([0,1],function(t){return e?a.coordToData(a.toLocalCoord(n[t])):a.toGlobalCoord(a.dataToCoord(n[t]));})),s=[];return s[t]=r,s[1-t]=[NaN,NaN],{values:r,xyMinMax:s};}function s(t,e,i,n){return[e[0]-n[t]*i[0],e[1]-n[t]*i[1]];}function l(t,e){var i=u(t),n=u(e),o=[i[0]/n[0],i[1]/n[1]];return isNaN(o[0])&&(o[0]=1),isNaN(o[1])&&(o[1]=1),o;}function u(t){return t?[t[0][1]-t[0][0],t[1][1]-t[1][0]]:[NaN,NaN];}var c=i(1),h=i(3),d=i(6),f=i(185),p=c.each,g=c.indexOf,m=c.curry,v=["dataToPoint","pointToData"],y=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],x=n.prototype;x.setOutputRanges=function(t,e){this.matchOutputRanges(t,e,function(t,e,i){if((t.coordRanges||(t.coordRanges=[])).push(e),!t.coordRange){t.coordRange=e;var n=S[t.brushType](0,i,e);t.__rangeOffset={offset:M[t.brushType](n.values,t.range,[1,1]),xyMinMax:n.xyMinMax};}});},x.matchOutputRanges=function(t,e,i){p(t,function(t){var n=this.findTargetInfo(t,e);n&&n!==!0&&c.each(n.coordSyses,function(n){var o=S[t.brushType](1,n,t.range);i(t,o.values,n,e);});},this);},x.setInputRanges=function(t,e){p(t,function(t){var i=this.findTargetInfo(t,e);if(t.range=t.range||[],i&&i!==!0){t.panelId=i.panelId;var n=S[t.brushType](0,i.coordSys,t.coordRange),o=t.__rangeOffset;t.range=o?M[t.brushType](n.values,o.offset,l(n.xyMinMax,o.xyMinMax)):n.values;}},this);},x.makePanelOpts=function(t,e){return c.map(this._targetInfoList,function(i){var n=i.getPanelRect();return{panelId:i.panelId,defaultBrushType:e&&e(i),clipPath:f.makeRectPanelClipPath(n),isTargetByCursor:f.makeRectIsTargetByCursor(n,t,i.coordSysModel),getLinearBrushOtherExtent:f.makeLinearBrushOtherExtent(n)};});},x.controlSeries=function(t,e,i){var n=this.findTargetInfo(t,i);return n===!0||n&&g(n.coordSyses,e.coordinateSystem)>=0;},x.findTargetInfo=function(t,e){for(var i=this._targetInfoList,n=a(e,t),o=0;o<i.length;o++){var r=i[o],s=t.panelId;if(s){if(r.panelId===s)return r;}else for(var o=0;o<b.length;o++){if(b[o](n,r))return r;}}return!0;};var _={grid:function grid(t,e){var i=t.xAxisModels,n=t.yAxisModels,o=t.gridModels,a={},r={},s={};(i||n||o)&&(p(i,function(t){var e=t.axis.grid.model;a[e.id]=e,r[e.id]=!0;}),p(n,function(t){var e=t.axis.grid.model;a[e.id]=e,s[e.id]=!0;}),p(o,function(t){a[t.id]=t,r[t.id]=!0,s[t.id]=!0;}),p(a,function(t){var o=t.coordinateSystem,a=[];p(o.getCartesians(),function(t,e){(g(i,t.getAxis("x").model)>=0||g(n,t.getAxis("y").model)>=0)&&a.push(t);}),e.push({panelId:"grid--"+t.id,gridModel:t,coordSysModel:t,coordSys:a[0],coordSyses:a,getPanelRect:w.grid,xAxisDeclared:r[t.id],yAxisDeclared:s[t.id]});}));},geo:function geo(t,e){p(t.geoModels,function(t){var i=t.coordinateSystem;e.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:i,coordSyses:[i],getPanelRect:w.geo});});}},b=[function(t,e){var i=t.xAxisModel,n=t.yAxisModel,o=t.gridModel;return!o&&i&&(o=i.axis.grid.model),!o&&n&&(o=n.axis.grid.model),o&&o===e.gridModel;},function(t,e){var i=t.geoModel;return i&&i===e.geoModel;}],w={grid:function grid(){return this.coordSys.grid.getRect().clone();},geo:function geo(){var t=this.coordSys,e=t.getBoundingRect().clone();return e.applyTransform(h.getTransform(t)),e;}},S={lineX:m(r,0),lineY:m(r,1),rect:function rect(t,e,i){var n=e[v[t]]([i[0][0],i[1][0]]),a=e[v[t]]([i[0][1],i[1][1]]),r=[o([n[0],a[0]]),o([n[1],a[1]])];return{values:r,xyMinMax:r};},polygon:function polygon(t,e,i){var n=[[1/0,-(1/0)],[1/0,-(1/0)]],o=c.map(i,function(i){var o=e[v[t]](i);return n[0][0]=Math.min(n[0][0],o[0]),n[1][0]=Math.min(n[1][0],o[1]),n[0][1]=Math.max(n[0][1],o[0]),n[1][1]=Math.max(n[1][1],o[1]),o;});return{values:o,xyMinMax:n};}},M={lineX:m(s,0),lineY:m(s,1),rect:function rect(t,e,i){return[[t[0][0]-i[0]*e[0][0],t[0][1]-i[0]*e[0][1]],[t[1][0]-i[1]*e[1][0],t[1][1]-i[1]*e[1][1]]];},polygon:function polygon(t,e,i){return c.map(t,function(t,n){return[t[0]-i[0]*e[n][0],t[1]-i[1]*e[n][1]];});}};t.exports=n;},function(t,e,i){function n(t){return r.create(t);}var o=i(1),a=i(127),r=i(11),s=Math.max,l=Math.min,u={};u.makeRectPanelClipPath=function(t){return t=n(t),function(e,i){return o.map(e,function(e){var i=e[0];i=s(i,t.x),i=l(i,t.x+t.width);var n=e[1];return n=s(n,t.y),n=l(n,t.y+t.height),[i,n];});};},u.makeLinearBrushOtherExtent=function(t,e){return t=n(t),function(i){var n=null!=e?e:i,o=n?t.width:t.height,a=n?t.x:t.y;return[a,a+(o||0)];};},u.makeRectIsTargetByCursor=function(t,e,i){return t=n(t),function(n,o,r){return t.contain(o[0],o[1])&&!a.onIrrelevantElement(n,e,i);};},t.exports=u;},function(t,e,i){function n(t,e){var i=t.get("boundingCoords");if(null!=i){var n=i[0],o=i[1];isNaN(n[0])||isNaN(n[1])||isNaN(o[0])||isNaN(o[1])||this.setBoundingRect(n[0],n[1],o[0]-n[0],o[1]-n[1]);}var a,s=this.getBoundingRect(),u=t.get("layoutCenter"),c=t.get("layoutSize"),h=e.getWidth(),d=e.getHeight(),f=t.get("aspectScale")||.75,p=s.width/s.height*f,g=!1;u&&c&&(u=[l.parsePercent(u[0],h),l.parsePercent(u[1],d)],c=l.parsePercent(c,Math.min(h,d)),isNaN(u[0])||isNaN(u[1])||isNaN(c)||(g=!0));var m;if(g){var m={};p>1?(m.width=c,m.height=c/p):(m.height=c,m.width=c*p),m.y=u[1]-m.height/2,m.x=u[0]-m.width/2;}else a=t.getBoxLayoutParams(),a.aspect=p,m=r.getLayoutRect(a,{width:h,height:d});this.setViewRect(m.x,m.y,m.width,m.height),this.setCenter(t.get("center")),this.setZoom(t.get("zoom"));}function o(t,e){s.each(e.get("geoCoord"),function(e,i){t.addGeoCoord(i,e);});}var a=i(395),r=i(12),s=i(1),l=i(4),u={},c={dimensions:a.prototype.dimensions,create:function create(t,e){var i=[];t.eachComponent("geo",function(t,r){var s=t.get("map"),l=u[s],c=new a(s+r,s,l&&l.geoJson,l&&l.specialAreas,t.get("nameMap"));c.zoomLimit=t.get("scaleLimit"),i.push(c),o(c,t),t.coordinateSystem=c,c.model=t,c.resize=n,c.resize(t,e);}),t.eachSeries(function(t){var e=t.get("coordinateSystem");if("geo"===e){var n=t.get("geoIndex")||0;t.coordinateSystem=i[n];}});var r={};return t.eachSeriesByType("map",function(t){if(!t.getHostGeoModel()){var e=t.getMapType();r[e]=r[e]||[],r[e].push(t);}}),s.each(r,function(t,r){var l=u[r],c=s.map(t,function(t){return t.get("nameMap");}),h=new a(r,r,l&&l.geoJson,l&&l.specialAreas,s.mergeAll(c));h.zoomLimit=s.retrieve.apply(null,s.map(t,function(t){return t.get("scaleLimit");})),i.push(h),h.resize=n,h.resize(t[0],e),s.each(t,function(t){t.coordinateSystem=h,o(h,t);});}),i;},registerMap:function registerMap(t,e,i){e.geoJson&&!e.features&&(i=e.specialAreas,e=e.geoJson),"string"==typeof e&&(e="undefined"!=typeof JSON&&JSON.parse?JSON.parse(e):new Function("return ("+e+");")()),u[t]={geoJson:e,specialAreas:i};},getMap:function getMap(t){return u[t];},getFilledRegions:function getFilledRegions(t,e){var i=(t||[]).slice(),n=c.getMap(e),o=n&&n.geoJson;if(!o)return t;for(var a={},r=o.features,s=0;s<i.length;s++){a[i[s].name]=i[s];}for(var s=0;s<r.length;s++){var l=r[s].properties.name;a[l]||i.push({name:l});}return i;}},h=i(2);h.registerMap=c.registerMap,h.getMap=c.getMap,h.parseGeoJSON=i(262),h.loadMap=function(){},h.registerCoordinateSystem("geo",c),t.exports=c;},function(t,e,i){function n(t){if(t)for(var e in t){if(t.hasOwnProperty(e))return!0;}}var o=i(1),a=i(82),r=o.each,s={createVisualMappings:function createVisualMappings(t,e,i){function n(){var t=function t(){};t.prototype.__hidden=t.prototype;var e=new t();return e;}var s={};return r(e,function(e){var l=s[e]=n();r(t[e],function(t,n){if(a.isValidType(n)){var r={type:n,visual:t};i&&i(r,e),l[n]=new a(r),"opacity"===n&&(r=o.clone(r),r.type="colorAlpha",l.__hidden.__alphaForOpacity=new a(r));}});}),s;},replaceVisualOption:function replaceVisualOption(t,e,i){var a;o.each(i,function(t){e.hasOwnProperty(t)&&n(e[t])&&(a=!0);}),a&&o.each(i,function(i){e.hasOwnProperty(i)&&n(e[i])?t[i]=o.clone(e[i]):delete t[i];});},applyVisual:function applyVisual(t,e,i,n,r,s){function l(t){return i.getItemVisual(d,t);}function u(t,e){i.setItemVisual(d,t,e);}function c(t,o){d=null==s?t:o;var a=i.getRawDataItem(d);if(!a||a.visualMap!==!1)for(var c=n.call(r,t),f=e[c],p=h[c],g=0,m=p.length;g<m;g++){var v=p[g];f[v]&&f[v].applyVisual(t,l,u);}}var h={};o.each(t,function(t){var i=a.prepareVisualTypes(e[t]);h[t]=i;});var d;null==s?i.each(c,!0):i.each([s],c,!0);}};t.exports=s;},function(t,e){function i(){throw new Error("setTimeout has not been defined");}function n(){throw new Error("clearTimeout has not been defined");}function o(t){if(c===setTimeout)return setTimeout(t,0);if((c===i||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0);}catch(e){try{return c.call(null,t,0);}catch(e){return c.call(this,t,0);}}}function a(t){if(h===clearTimeout)return clearTimeout(t);if((h===n||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t);}catch(e){try{return h.call(null,t);}catch(e){return h.call(this,t);}}}function r(){g&&f&&(g=!1,f.length?p=f.concat(p):m=-1,p.length&&s());}function s(){if(!g){var t=o(r);g=!0;for(var e=p.length;e;){for(f=p,p=[];++m<e;){f&&f[m].run();}m=-1,e=p.length;}f=null,g=!1,a(t);}}function l(t,e){this.fun=t,this.array=e;}function u(){}var c,h,d=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:i;}catch(t){c=i;}try{h="function"==typeof clearTimeout?clearTimeout:n;}catch(t){h=n;}}();var f,p=[],g=!1,m=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++){e[i-1]=arguments[i];}p.push(new l(t,e)),1!==p.length||g||o(s);},l.prototype.run=function(){this.fun.apply(null,this.array);},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=u,d.addListener=u,d.once=u,d.off=u,d.removeListener=u,d.removeAllListeners=u,d.emit=u,d.binding=function(t){throw new Error("process.binding is not supported");},d.cwd=function(){return"/";},d.chdir=function(t){throw new Error("process.chdir is not supported");},d.umask=function(){return 0;};},function(t,e,i){function n(){this.group=new o.Group(),this._symbolEl=new r({});}var o=i(3),a=i(24),r=o.extendShape({shape:{points:null,sizes:null},symbolProxy:null,buildPath:function buildPath(t,e){for(var i=e.points,n=e.sizes,o=this.symbolProxy,a=o.shape,r=0;r<i.length;r++){var s=i[r],l=n[r];l[0]<4?t.rect(s[0]-l[0]/2,s[1]-l[1]/2,l[0],l[1]):(a.x=s[0]-l[0]/2,a.y=s[1]-l[1]/2,a.width=l[0],a.height=l[1],o.buildPath(t,a,!0));}},findDataIndex:function findDataIndex(t,e){for(var i=this.shape,n=i.points,o=i.sizes,a=n.length-1;a>=0;a--){var r=n[a],s=o[a],l=r[0]-s[0]/2,u=r[1]-s[1]/2;if(t>=l&&e>=u&&t<=l+s[0]&&e<=u+s[1])return a;}return-1;}}),s=n.prototype;s.updateData=function(t){this.group.removeAll();var e=this._symbolEl,i=t.hostModel;e.setShape({points:t.mapArray(t.getItemLayout),sizes:t.mapArray(function(e){var i=t.getItemVisual(e,"symbolSize");return i instanceof Array||(i=[i,i]),i;})}),e.symbolProxy=a.createSymbol(t.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor,e.useStyle(i.getModel("itemStyle.normal").getItemStyle(["color"]));var n=t.getVisual("color");n&&e.setColor(n),e.seriesIndex=i.seriesIndex,e.on("mousemove",function(t){e.dataIndex=null;var i=e.findDataIndex(t.offsetX,t.offsetY);i>0&&(e.dataIndex=i);}),this.group.add(e);},s.updateLayout=function(t){var e=t.getData();this._symbolEl.setShape({points:e.mapArray(e.getItemLayout)});},s.remove=function(){this.group.removeAll();},t.exports=n;},function(t,e,i){function n(t){return isNaN(+t.cpx1)||isNaN(+t.cpy1);}var o=i(3),a=i(5),r=o.Line.prototype,s=o.BezierCurve.prototype;t.exports=o.extendShape({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function buildPath(t,e){(n(e)?r:s).buildPath(t,e);},pointAt:function pointAt(t){return n(this.shape)?r.pointAt.call(this,t):s.pointAt.call(this,t);},tangentAt:function tangentAt(t){var e=this.shape,i=n(e)?[e.x2-e.x1,e.y2-e.y1]:s.tangentAt.call(this,t);return a.normalize(i,i);}});},function(t,e,i){var n=i(1),o=i(2);i(192),i(193),o.registerVisual(n.curry(i(50),"scatter","circle",null)),o.registerLayout(n.curry(i(60),"scatter")),i(32);},function(t,e,i){"use strict";var n=i(28),o=i(19);t.exports=o.extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis"],getInitialData:function getInitialData(t,e){var i=n(t.data,this,e);return i;},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{normal:{opacity:.8}}}});},function(t,e,i){var n=i(44),o=i(189);i(2).extendChartView({type:"scatter",init:function init(){this._normalSymbolDraw=new n(),this._largeSymbolDraw=new o();},render:function render(t,e,i){var n=t.getData(),o=this._largeSymbolDraw,a=this._normalSymbolDraw,r=this.group,s=t.get("large")&&n.count()>t.get("largeThreshold")?o:a;this._symbolDraw=s,s.updateData(n),r.add(s.group),r.remove(s===o?a.group:o.group);},updateLayout:function updateLayout(t){this._symbolDraw.updateLayout(t);},remove:function remove(t,e){this._symbolDraw&&this._symbolDraw.remove(e,!0);},dispose:function dispose(){}});},function(t,e,i){var n=i(2),o=n.extendComponentModel({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,textStyle:{color:"#fff"},padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}});t.exports=o;},function(t,e,i){var n=i(121),o=i(2).extendComponentView({type:"axisPointer",render:function render(t,e,i){var o=e.getComponent("tooltip"),a=t.get("triggerOn")||o&&o.get("triggerOn")||"mousemove|click";n.register("axisPointer",i,function(t,e,i){"none"!==a&&("leave"===t||a.indexOf(t)>=0)&&i({type:"updateAxisPointer",currTrigger:t,x:e&&e.offsetX,y:e&&e.offsetY});});},remove:function remove(t,e){n.disopse(e.getZr(),"axisPointer"),o.superApply(this._model,"remove",arguments);},dispose:function dispose(t,e){n.unregister("axisPointer",e),o.superApply(this._model,"dispose",arguments);}});},function(t,e,i){function n(t,e,i,n,a,g,m,v,b){n=n||{},i&&null!=i[0]&&null!=i[1]||(i=y({seriesIndex:n.seriesIndex,dataIndex:n.dataIndex},g).point);var w=t.axesInfo,S="leave"===e||p(i),M={},I={},T={list:[],map:{}},A=[],C={showPointer:_(r,I),showTooltip:_(s,T),highlight:_(l,A)};x(t.coordSysMap,function(e,a){var r=e.containPoint(i);x(t.coordSysAxesInfo[a],function(t,e){var a=t.axis;S||!r||d(n,a)||o(t,a.pointToData(i),C,!1,M);});});var L={};return x(w,function(t,e){var i=t.linkGroup;i&&!I[e]&&x(i.axesInfo,function(e,n){var o=I[n];if(e!==t&&o){var a=o.value;i.mapper&&(a=t.axis.scale.parse(i.mapper(a,f(e),f(t)))),L[t.key]=a;}});}),x(L,function(t,e){o(w[e],t,C,!0,M);}),u(I,w),c(T,i,v,a),h(A,a,m,b),M;}function o(t,e,i,n,o){var r=t.axis;if(!r.scale.isBlank()&&r.containData(e)){if(!t.involveSeries)return void i.showPointer(t,e);var s=a(e,t),l=s.payloadBatch,u=s.snapToValue;l[0]&&null==o.seriesIndex&&g.extend(o,l[0]),!n&&t.snap&&r.containData(u)&&null!=u&&(e=u),i.highlight("highlight",l),i.showPointer(t,e,l),i.showTooltip(t,s,u);}}function a(t,e){var i=e.axis,n=i.dim,o=t,a=[],r=Number.MAX_VALUE,s=-1;return x(e.seriesModels,function(e,l){var u,c,h=e.coordDimToDataDim(n);if(e.getAxisTooltipData){var d=e.getAxisTooltipData(h,t,i);c=d.dataIndices,u=d.nestestValue;}else{if(c=e.getData().indicesOfNearest(h[0],t,!1,"category"===i.type?.5:null),!c.length)return;u=e.getData().get(h[0],c[0]);}if(null!=u&&isFinite(u)){var f=t-u,p=Math.abs(f);p<=r&&((p<r||f>=0&&s<0)&&(r=p,s=f,o=u,a.length=0),x(c,function(t){a.push({seriesIndex:e.seriesIndex,dataIndexInside:t,dataIndex:e.getData().getRawIndex(t)});}));}}),{payloadBatch:a,snapToValue:o};}function r(t,e,i,n){t[e.key]={value:i,payloadBatch:n};}function s(t,e,i,n){var o=i.payloadBatch,a=e.axis,r=a.model,s=e.axisPointerModel;if(e.triggerTooltip&&o.length){var l=e.coordSys.model,u=v.makeKey(l),c=t.map[u];c||(c=t.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},t.list.push(c)),c.dataByAxis.push({axisDim:a.dim,axisIndex:r.componentIndex,axisType:r.type,axisId:r.id,value:n,valueLabelOpt:{precision:s.get("label.precision"),formatter:s.get("label.formatter")},seriesDataIndices:o.slice()});}}function l(t,e,i){t.push.apply(t,i);}function u(t,e){x(e,function(e,i){var n=e.axisPointerModel.option,o=t[i];o?(!e.useHandle&&(n.status="show"),n.value=o.value,n.seriesDataIndices=(o.payloadBatch||[]).slice()):!e.useHandle&&(n.status="hide");});}function c(t,e,i,n){if(p(e)||!t.list.length)return void n({type:"hideTip"});var o=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};n({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:i,dataIndexInside:o.dataIndexInside,dataIndex:o.dataIndex,seriesIndex:o.seriesIndex,dataByCoordSys:t.list});}function h(t,e,i,n){var o=i.getZr();n="lastHighlights"+(n||"");var a=b(o)[n]||{},r=b(o)[n]={};g.each(t,function(t){var e=t.seriesIndex+" | "+t.dataIndex;r[e]=t;});var s=[],l=[];g.each(a,function(t,e){!r[e]&&l.push(t);}),g.each(r,function(t,e){!a[e]&&s.push(t);}),l.length&&i.dispatchAction({type:"downplay",escapeConnect:!0,batch:l}),s.length&&i.dispatchAction({type:"highlight",escapeConnect:!0,batch:s});}function d(t,e){var i=1;return x(t,function(t,e){i&=!/^.+(AxisId|AxisName|AxisIndex)$/.test(e);}),!i&&x([["AxisId","id"],["AxisIndex","componentIndex"],["AxisName","name"]],function(n){var o=m.normalizeToArray(t[e.dim+n[0]]);i|=g.indexOf(o,e.model[n[1]])>=0;}),!i;}function f(t){var e=t.axis.model,i={},n=i.axisDim=t.axis.dim;return i.axisIndex=i[n+"AxisIndex"]=e.componentIndex,i.axisName=i[n+"AxisName"]=e.name,i.axisId=i[n+"AxisId"]=e.id,i;}function p(t){return null==t[0]||isNaN(t[0])||null==t[1]||isNaN(t[1]);}var g=i(1),m=i(6),v=i(45),y=i(120),x=g.each,_=g.curry,b=m.makeGetter();t.exports=n;},function(t,e,i){i(125),i(46),i(47),i(203),i(204),i(199),i(200),i(123),i(122);},function(t,e,i){function n(t,e,i){var n=[1/0,-(1/0)];return u(i,function(t){var i=t.getData();i&&u(t.coordDimToDataDim(e),function(t){var e=i.getDataExtent(t);e[0]<n[0]&&(n[0]=e[0]),e[1]>n[1]&&(n[1]=e[1]);});}),n[1]<n[0]&&(n=[NaN,NaN]),o(t,n),n;}function o(t,e){var i=t.getAxisModel(),n=i.getMin(!0),o="category"===i.get("type"),a=o&&(i.get("data")||[]).length;null!=n&&"dataMin"!==n?e[0]=n:o&&(e[0]=a>0?0:NaN);var r=i.getMax(!0);return null!=r&&"dataMax"!==r?e[1]=r:o&&(e[1]=a>0?a-1:NaN),i.get("scale",!0)||(e[0]>0&&(e[0]=0),e[1]<0&&(e[1]=0)),e;}function a(t,e){var i=t.getAxisModel(),n=t._percentWindow,o=t._valueWindow;if(n){var a=s.getPixelPrecision(o,[0,500]),r=e||0===n[0]&&100===n[1];i.setRange(r?null:+o[0].toFixed(a),r?null:+o[1].toFixed(a));}}var r=i(1),s=i(4),l=i(76),u=r.each,c=s.asc,h=function h(t,e,i,n){this._dimName=t,this._axisIndex=e,this._valueWindow,this._percentWindow,this._dataExtent,this.ecModel=n,this._dataZoomModel=i;};h.prototype={constructor:h,hostedBy:function hostedBy(t){return this._dataZoomModel===t;},getDataValueWindow:function getDataValueWindow(){return this._valueWindow.slice();},getDataPercentWindow:function getDataPercentWindow(){return this._percentWindow.slice();},getTargetSeriesModels:function getTargetSeriesModels(){var t=[],e=this.ecModel;return e.eachSeries(function(i){if(l.isCoordSupported(i.get("coordinateSystem"))){var n=this._dimName,o=e.queryComponents({mainType:n+"Axis",index:i.get(n+"AxisIndex"),id:i.get(n+"AxisId")})[0];this._axisIndex===(o&&o.componentIndex)&&t.push(i);}},this),t;},getAxisModel:function getAxisModel(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex);},getOtherAxisModel:function getOtherAxisModel(){var t,e,i=this._dimName,n=this.ecModel,o=this.getAxisModel(),a="x"===i||"y"===i;a?(e="gridIndex",t="x"===i?"y":"x"):(e="polarIndex",t="angle"===i?"radius":"angle");var r;return n.eachComponent(t+"Axis",function(t){(t.get(e)||0)===(o.get(e)||0)&&(r=t);}),r;},calculateDataWindow:function calculateDataWindow(t){var e=this._dataExtent,i=this.getAxisModel(),n=i.axis.scale,o=this._dataZoomModel.getRangePropMode(),a=[0,100],r=[t.start,t.end],l=[];return u(["startValue","endValue"],function(e){l.push(null!=t[e]?n.parse(t[e]):null);}),u([0,1],function(t){var i=l[t],u=r[t];"percent"===o[t]?(null==u&&(u=a[t]),i=n.parse(s.linearMap(u,a,e,!0))):u=s.linearMap(i,e,a,!0),l[t]=i,r[t]=u;}),{valueWindow:c(l),percentWindow:c(r)};},reset:function reset(t){if(t===this._dataZoomModel){this._dataExtent=n(this,this._dimName,this.getTargetSeriesModels());var e=this.calculateDataWindow(t.option);this._valueWindow=e.valueWindow,this._percentWindow=e.percentWindow,a(this);}},restore:function restore(t){t===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,a(this,!0));},filterData:function filterData(t){function e(t){return t>=a[0]&&t<=a[1];}if(t===this._dataZoomModel){var i=this._dimName,n=this.getTargetSeriesModels(),o=t.get("filterMode"),a=this._valueWindow,r=this.getOtherAxisModel();t.get("$fromToolbox")&&r&&"category"===r.get("type")&&(o="empty"),u(n,function(t){var n=t.getData();n&&u(t.coordDimToDataDim(i),function(i){"empty"===o?t.setData(n.map(i,function(t){return e(t)?t:NaN;})):n.filterSelf(i,e);});});}}},t.exports=h;},function(t,e,i){t.exports=i(46).extend({type:"dataZoom.inside",defaultOption:{disabled:!1,zoomLock:!1}});},function(t,e,i){function n(t){var e=[0,100];return!(t[0]<=e[1])&&(t[0]=e[1]),!(t[1]<=e[1])&&(t[1]=e[1]),!(t[0]>=e[0])&&(t[0]=e[0]),!(t[1]>=e[0])&&(t[1]=e[0]),t;}var o=i(47),a=i(1),r=i(78),s=i(205),l=a.bind,u=o.extend({type:"dataZoom.inside",init:function init(t,e){this._range;},render:function render(t,e,i,n){u.superApply(this,"render",arguments),s.shouldRecordRange(n,t.id)&&(this._range=t.getPercentRange()),a.each(this.getTargetCoordInfo(),function(e,n){var o=a.map(e,function(t){return s.generateCoordId(t.model);});a.each(e,function(e){var a=e.model;s.register(i,{coordId:s.generateCoordId(a),allCoordIds:o,containsPoint:function containsPoint(t,e,i){return a.coordinateSystem.containPoint([e,i]);},dataZoomId:t.id,throttleRate:t.get("throttle",!0),panGetRange:l(this._onPan,this,e,n),zoomGetRange:l(this._onZoom,this,e,n)});},this);},this);},dispose:function dispose(){s.unregister(this.api,this.dataZoomModel.id),u.superApply(this,"dispose",arguments),this._range=null;},_onPan:function _onPan(t,e,i,n,o,a,s,l,u){if(this.dataZoomModel.option.disabled)return this._range;var h=this._range.slice(),d=t.axisModels[0];if(d){var f=c[e]([a,s],[l,u],d,i,t),p=f.signal*(h[1]-h[0])*f.pixel/f.pixelLength;return r(p,h,[0,100],"rigid"),this._range=h;}},_onZoom:function _onZoom(t,e,i,o,a,r){var s=this.dataZoomModel.option;if(s.disabled||s.zoomLock)return this._range;var l=this._range.slice(),u=t.axisModels[0];if(u){var h=c[e](null,[a,r],u,i,t),d=(h.pixel-h.pixelStart)/h.pixelLength*(l[1]-l[0])+l[0];return o=Math.max(1/o,0),l[0]=(l[0]-d)*o+d,l[1]=(l[1]-d)*o+d,this._range=n(l);}}}),c={grid:function grid(t,e,i,n,o){var a=i.axis,r={},s=o.model.coordinateSystem.getRect();return t=t||[0,0],"x"===a.dim?(r.pixel=e[0]-t[0],r.pixelLength=s.width,r.pixelStart=s.x,r.signal=a.inverse?1:-1):(r.pixel=e[1]-t[1],r.pixelLength=s.height,r.pixelStart=s.y,r.signal=a.inverse?-1:1),r;},polar:function polar(t,e,i,n,o){var a=i.axis,r={},s=o.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),u=s.getAngleAxis().getExtent();return t=t?s.pointToCoord(t):[0,0],e=s.pointToCoord(e),"radiusAxis"===i.mainType?(r.pixel=e[0]-t[0],r.pixelLength=l[1]-l[0],r.pixelStart=l[0],r.signal=a.inverse?1:-1):(r.pixel=e[1]-t[1],r.pixelLength=u[1]-u[0],r.pixelStart=u[0],r.signal=a.inverse?-1:1),r;},singleAxis:function singleAxis(t,e,i,n,o){var a=i.axis,r=o.model.coordinateSystem.getRect(),s={};return t=t||[0,0],"horizontal"===a.orient?(s.pixel=e[0]-t[0],s.pixelLength=r.width,s.pixelStart=r.x,s.signal=a.inverse?1:-1):(s.pixel=e[1]-t[1],s.pixelLength=r.height,s.pixelStart=r.y,s.signal=a.inverse?-1:1),s;}};t.exports=u;},function(t,e,i){var n=i(46);t.exports=n.extend({type:"dataZoom.select"});},function(t,e,i){t.exports=i(47).extend({type:"dataZoom.select"});},function(t,e,i){var n=i(46),o=n.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}});t.exports=o;},function(t,e,i){function n(t){var e={x:"y",y:"x",radius:"angle",angle:"radius"};return e[t];}var o=i(1),a=i(3),r=i(37),s=i(47),l=a.Rect,u=i(4),c=u.linearMap,h=i(12),d=i(78),f=i(21),p=u.asc,g=o.bind,m=o.each,v=7,y=1,x=30,_="horizontal",b="vertical",w=5,S=["line","bar","candlestick","scatter"],M=s.extend({type:"dataZoom.slider",init:function init(t,e){this._displayables={},this._orient,this._range,this._handleEnds,this._size,this._handleWidth,this._handleHeight,this._location,this._dragging,this._dataShadowInfo,this.api=e;},render:function render(t,e,i,n){return M.superApply(this,"render",arguments),r.createOrUpdate(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=t.get("orient"),this.dataZoomModel.get("show")===!1?void this.group.removeAll():(n&&"dataZoom"===n.type&&n.from===this.uid||this._buildView(),void this._updateView());},remove:function remove(){M.superApply(this,"remove",arguments),r.clear(this,"_dispatchZoomAction");},dispose:function dispose(){M.superApply(this,"dispose",arguments),r.clear(this,"_dispatchZoomAction");},_buildView:function _buildView(){var t=this.group;t.removeAll(),this._resetLocation(),this._resetInterval();var e=this._displayables.barGroup=new a.Group();this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(e),this._positionGroup();},_resetLocation:function _resetLocation(){var t=this.dataZoomModel,e=this.api,i=this._findCoordRect(),n={width:e.getWidth(),height:e.getHeight()},a=this._orient===_?{right:n.width-i.x-i.width,top:n.height-x-v,width:i.width,height:x}:{right:v,top:i.y,width:x,height:i.height},r=h.getLayoutParams(t.option);o.each(["right","top","width","height"],function(t){"ph"===r[t]&&(r[t]=a[t]);});var s=h.getLayoutRect(r,n,t.padding);this._location={x:s.x,y:s.y},this._size=[s.width,s.height],this._orient===b&&this._size.reverse();},_positionGroup:function _positionGroup(){var t=this.group,e=this._location,i=this._orient,n=this.dataZoomModel.getFirstTargetAxisModel(),o=n&&n.get("inverse"),a=this._displayables.barGroup,r=(this._dataShadowInfo||{}).otherAxisInverse;a.attr(i!==_||o?i===_&&o?{scale:r?[-1,1]:[-1,-1]}:i!==b||o?{scale:r?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:r?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:r?[1,1]:[1,-1]});var s=t.getBoundingRect([a]);t.attr("position",[e.x-s.x,e.y-s.y]);},_getViewExtent:function _getViewExtent(){return[0,this._size[0]];},_renderBackground:function _renderBackground(){var t=this.dataZoomModel,e=this._size;this._displayables.barGroup.add(new l({silent:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:t.get("backgroundColor")},z2:-40}));},_renderDataShadow:function _renderDataShadow(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(t){var e=this._size,i=t.series,n=i.getRawData(),r=i.getShadowDim?i.getShadowDim():t.otherDim;if(null!=r){var s=n.getDataExtent(r),l=.3*(s[1]-s[0]);s=[s[0]-l,s[1]+l];var u,h=[0,e[1]],d=[0,e[0]],f=[[e[0],0],[0,0]],p=[],g=d[1]/(n.count()-1),m=0,v=Math.round(n.count()/e[0]);n.each([r],function(t,e){if(v>0&&e%v)return void(m+=g);var i=null==t||isNaN(t)||""===t,n=i?0:c(t,s,h,!0);i&&!u&&e?(f.push([f[f.length-1][0],0]),p.push([p[p.length-1][0],0])):!i&&u&&(f.push([m,0]),p.push([m,0])),f.push([m,n]),p.push([m,n]),m+=g,u=i;});var y=this.dataZoomModel;this._displayables.barGroup.add(new a.Polygon({shape:{points:f},style:o.defaults({fill:y.get("dataBackgroundColor")},y.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20})),this._displayables.barGroup.add(new a.Polyline({shape:{points:p},style:y.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}));}}},_prepareDataShadowInfo:function _prepareDataShadowInfo(){var t=this.dataZoomModel,e=t.get("showDataShadow");if(e!==!1){var i,a=this.ecModel;return t.eachTargetAxis(function(r,s){var l=t.getAxisProxy(r.name,s).getTargetSeriesModels();o.each(l,function(t){if(!(i||e!==!0&&o.indexOf(S,t.get("type"))<0)){var l,u=a.getComponent(r.axis,s).axis,c=n(r.name),h=t.coordinateSystem;null!=c&&h.getOtherAxis&&(l=h.getOtherAxis(u).inverse),i={thisAxis:u,series:t,thisDim:r.name,otherDim:c,otherAxisInverse:l};}},this);},this),i;}},_renderHandle:function _renderHandle(){var t=this._displayables,e=t.handles=[],i=t.handleLabels=[],n=this._displayables.barGroup,o=this._size,r=this.dataZoomModel;n.add(t.filler=new l({draggable:!0,cursor:"move",drift:g(this._onDragMove,this,"all"),onmousemove:function onmousemove(t){f.stop(t.event);},ondragstart:g(this._showDataInfo,this,!0),ondragend:g(this._onDragEnd,this),onmouseover:g(this._showDataInfo,this,!0),onmouseout:g(this._showDataInfo,this,!1),style:{fill:r.get("fillerColor"),textPosition:"inside"}})),n.add(new l(a.subPixelOptimizeRect({silent:!0,shape:{x:0,y:0,width:o[0],height:o[1]},style:{stroke:r.get("dataBackgroundColor")||r.get("borderColor"),lineWidth:y,fill:"rgba(0,0,0,0)"}})));var s=r.get("handleIcon");m([0,1],function(t){var o=a.makePath(s,{style:{strokeNoScale:!0},rectHover:!0,cursor:"vertical"===this._orient?"ns-resize":"ew-resize",draggable:!0,drift:g(this._onDragMove,this,t),onmousemove:function onmousemove(t){f.stop(t.event);},ondragend:g(this._onDragEnd,this),onmouseover:g(this._showDataInfo,this,!0),onmouseout:g(this._showDataInfo,this,!1)},{x:-.5,y:0,width:1,height:1},"center"),l=o.getBoundingRect();this._handleHeight=u.parsePercent(r.get("handleSize"),this._size[1]),this._handleWidth=l.width/l.height*this._handleHeight,o.setStyle(r.getModel("handleStyle").getItemStyle());var c=r.get("handleColor");null!=c&&(o.style.fill=c),n.add(e[t]=o);var h=r.textStyleModel;this.group.add(i[t]=new a.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",fill:h.getTextColor(),textFont:h.getFont()},z2:10}));},this);},_resetInterval:function _resetInterval(){var t=this._range=this.dataZoomModel.getPercentRange(),e=this._getViewExtent();this._handleEnds=[c(t[0],[0,100],e,!0),c(t[1],[0,100],e,!0)];},_updateInterval:function _updateInterval(t,e){var i=this._handleEnds,n=this._getViewExtent();d(e,i,n,"all"===t||this.dataZoomModel.get("zoomLock")?"rigid":"cross",t),this._range=p([c(i[0],n,[0,100],!0),c(i[1],n,[0,100],!0)]);},_updateView:function _updateView(t){var e=this._displayables,i=this._handleEnds,n=p(i.slice()),o=this._size;m([0,1],function(t){var n=e.handles[t],a=this._handleHeight;n.attr({scale:[a,a],position:[i[t],o[1]/2-a/2]});},this),e.filler.setShape({x:n[0],y:0,width:n[1]-n[0],height:o[1]}),this._updateDataInfo(t);},_updateDataInfo:function _updateDataInfo(t){function e(t){var e=a.getTransform(n.handles[t].parent,this.group),i=a.transformDirection(0===t?"right":"left",e),l=this._handleWidth/2+w,u=a.applyTransform([d[t]+(0===t?-l:l),this._size[1]/2],e);o[t].setStyle({x:u[0],y:u[1],textVerticalAlign:r===_?"middle":i,textAlign:r===_?i:"center",text:s[t]});}var i=this.dataZoomModel,n=this._displayables,o=n.handleLabels,r=this._orient,s=["",""];if(i.get("showDetail")){var l=i.findRepresentativeAxisProxy();if(l){var u=l.getAxisModel().axis,c=this._range,h=t?l.calculateDataWindow({start:c[0],end:c[1]}).valueWindow:l.getDataValueWindow();s=[this._formatLabel(h[0],u),this._formatLabel(h[1],u)];}}var d=p(this._handleEnds.slice());e.call(this,0),e.call(this,1);},_formatLabel:function _formatLabel(t,e){var i=this.dataZoomModel,n=i.get("labelFormatter"),a=i.get("labelPrecision");null!=a&&"auto"!==a||(a=e.getPixelPrecision());var r=null==t||isNaN(t)?"":"category"===e.type||"time"===e.type?e.scale.getLabel(Math.round(t)):t.toFixed(Math.min(a,20));return o.isFunction(n)?n(t,r):o.isString(n)?n.replace("{value}",r):r;},_showDataInfo:function _showDataInfo(t){t=this._dragging||t;var e=this._displayables.handleLabels;e[0].attr("invisible",!t),e[1].attr("invisible",!t);},_onDragMove:function _onDragMove(t,e,i){this._dragging=!0;var n=this._applyBarTransform([e,i],!0);this._updateInterval(t,n[0]);var o=this.dataZoomModel.get("realtime");this._updateView(!o),o&&o&&this._dispatchZoomAction();},_onDragEnd:function _onDragEnd(){this._dragging=!1,this._showDataInfo(!1),this._dispatchZoomAction();},_dispatchZoomAction:function _dispatchZoomAction(){var t=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:t[0],end:t[1]});},_applyBarTransform:function _applyBarTransform(t,e){var i=this._displayables.barGroup.getLocalTransform();return a.applyTransform(t,i,e);},_findCoordRect:function _findCoordRect(){var t;if(m(this.getTargetCoordInfo(),function(e){if(!t&&e.length){var i=e[0].model.coordinateSystem;t=i.getRect&&i.getRect();}}),!t){var e=this.api.getWidth(),i=this.api.getHeight();t={x:.2*e,y:.2*i,width:.6*e,height:.6*i};}return t;}});t.exports=M;},function(t,e,i){function n(t){var e=t.getZr();return e[p]||(e[p]={});}function o(t,e,i){var n=new h(t.getZr());return n.enable(),n.on("pan",f(r,i)),n.on("zoom",f(s,i)),n;}function a(t){c.each(t,function(e,i){e.count||(e.controller.dispose(),delete t[i]);});}function r(t,e,i,n,o,a,r){l(t,function(s){return s.panGetRange(t.controller,e,i,n,o,a,r);});}function s(t,e,i,n){l(t,function(o){return o.zoomGetRange(t.controller,e,i,n);});}function l(t,e){var i=[];c.each(t.dataZoomInfos,function(t){var n=e(t);n&&i.push({dataZoomId:t.dataZoomId,start:n[0],end:n[1]});}),t.dispatchAction(i);}function u(t,e){t.dispatchAction({type:"dataZoom",batch:e});}var c=i(1),h=i(93),d=i(37),f=c.curry,p="\0_ec_dataZoom_roams",g={register:function register(t,e){var i=n(t),r=e.dataZoomId,s=e.coordId;c.each(i,function(t,i){var n=t.dataZoomInfos;n[r]&&c.indexOf(e.allCoordIds,s)<0&&(delete n[r],t.count--);}),a(i);var l=i[s];l||(l=i[s]={coordId:s,dataZoomInfos:{},count:0},l.controller=o(t,e,l),l.dispatchAction=c.curry(u,t)),l.controller.setPointerChecker(e.containsPoint),d.createOrUpdate(l,"dispatchAction",e.throttleRate,"fixRate"),!l.dataZoomInfos[r]&&l.count++,l.dataZoomInfos[r]=e;},unregister:function unregister(t,e){var i=n(t);c.each(i,function(t){t.controller.dispose();var i=t.dataZoomInfos;i[e]&&(delete i[e],t.count--);}),a(i);},shouldRecordRange:function shouldRecordRange(t,e){if(t&&"dataZoom"===t.type&&t.batch)for(var i=0,n=t.batch.length;i<n;i++){if(t.batch[i].dataZoomId===e)return!1;}return!0;},generateCoordId:function generateCoordId(t){return t.type+"\0_"+t.id;}};t.exports=g;},function(t,e,i){i(125),i(46),i(47),i(201),i(202),i(123),i(122);},function(t,e,i){function n(t,e,i,n){var o=i.type,a=f[o.charAt(0).toUpperCase()+o.slice(1)],r=new a(i);e.add(r),n[t]=r,r.__ecGraphicId=t;}function o(t,e){var i=t&&t.parent;i&&("group"===t.type&&t.traverse(function(t){o(t,e);}),delete e[t.__ecGraphicId],i.remove(t));}function a(t){return t=h.extend({},t),h.each(["id","parentId","$action","hv","bounding"].concat(p.LOCATION_PARAMS),function(e){delete t[e];}),t;}function r(t,e){var i;return h.each(e,function(e){null!=t[e]&&"auto"!==t[e]&&(i=!0);}),i;}function s(t,e){var i=t.exist;if(e.id=t.keyInfo.id,!e.type&&i&&(e.type=i.type),null==e.parentId){var n=e.parentOption;n?e.parentId=n.id:i&&(e.parentId=i.parentId);}e.parentOption=null;}function l(t,e,i){var n=h.extend({},i),o=t[e],a=i.$action||"merge";if("merge"===a){if(o){h.merge(o,n,!0),p.mergeLayoutParam(o,n,{ignoreSize:!0}),p.copyLayoutParams(i,o);}else t[e]=n;}else"replace"===a?t[e]=n:"remove"===a&&o&&(t[e]=null);}function u(t,e){t&&(t.hv=e.hv=[r(e,["left","right"]),r(e,["top","bottom"])],"group"===t.type&&(null==t.width&&(t.width=e.width=0),null==t.height&&(t.height=e.height=0)));}var c=i(2),h=i(1),d=i(6),f=i(3),p=i(12);c.registerPreprocessor(function(t){var e=t.graphic;h.isArray(e)?e[0]&&e[0].elements?t.graphic=[t.graphic[0]]:t.graphic=[{elements:e}]:e&&!e.elements&&(t.graphic=[{elements:[e]}]);});var g=c.extendComponentModel({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function mergeOption(t){var e=this.option.elements;this.option.elements=null,g.superApply(this,"mergeOption",arguments),this.option.elements=e;},optionUpdated:function optionUpdated(t,e){var i=this.option,n=(e?i:t).elements,o=i.elements=e?[]:i.elements,a=[];this._flatten(n,a);var r=d.mappingToExists(o,a);d.makeIdAndName(r);var c=this._elOptionsToUpdate=[];h.each(r,function(t,e){var i=t.option;i&&(c.push(i),s(t,i),l(o,e,i),u(o[e],i));},this);for(var f=o.length-1;f>=0;f--){null==o[f]?o.splice(f,1):delete o[f].$action;}},_flatten:function _flatten(t,e,i){h.each(t,function(t){if(t){i&&(t.parentOption=i),e.push(t);var n=t.children;"group"===t.type&&n&&this._flatten(n,e,t),delete t.children;}},this);},useElOptionsToUpdate:function useElOptionsToUpdate(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t;}});c.extendComponentView({type:"graphic",init:function init(t,e){this._elMap={},this._lastGraphicModel;},render:function render(t,e,i){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t,i),this._relocate(t,i);},_updateElements:function _updateElements(t,e){var i=t.useElOptionsToUpdate();if(i){var r=this._elMap,s=this.group;h.each(i,function(t){var e=t.$action,i=t.id,l=r[i],u=t.parentId,c=null!=u?r[u]:s;t.hv&&t.hv[1]&&"text"===t.type&&(t.style=h.defaults({textBaseline:"middle"},t.style),t.style.textVerticalAlign=null);var d=a(t);e&&"merge"!==e?"replace"===e?(o(l,r),n(i,c,d,r)):"remove"===e&&o(l,r):l?l.attr(d):n(i,c,d,r),r[i]&&(r[i].__ecGraphicWidth=t.width,r[i].__ecGraphicHeight=t.height);});}},_relocate:function _relocate(t,e){for(var i=t.option.elements,n=this.group,o=this._elMap,a=i.length-1;a>=0;a--){var r=i[a],s=o[r.id];if(s){var l=s.parent,u=l===n?{width:e.getWidth(),height:e.getHeight()}:{width:l.__ecGraphicWidth||0,height:l.__ecGraphicHeight||0};p.positionElement(s,r,u,null,{hv:r.hv,boundingMode:r.bounding});}}},_clear:function _clear(){var t=this._elMap;h.each(t,function(e){o(e,t);}),this._elMap={};},dispose:function dispose(){this._clear();}});},function(t,e,i){i(32),i(119),i(55);},function(t,e,i){i(210),i(212),i(211);var n=i(2);n.registerProcessor(i(213));},function(t,e,i){"use strict";var n=i(1),o=i(10),a=i(2).extendComponentModel({type:"legend",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function init(t,e,i){this.mergeDefaultAndTheme(t,i),t.selected=t.selected||{};},mergeOption:function mergeOption(t){a.superCall(this,"mergeOption",t);},optionUpdated:function optionUpdated(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&"single"===this.get("selectedMode")){for(var e=!1,i=0;i<t.length;i++){var n=t[i].get("name");if(this.isSelected(n)){this.select(n),e=!0;break;}}!e&&this.select(t[0].get("name"));}},_updateData:function _updateData(t){var e=n.map(this.get("data")||[],function(t){return"string"!=typeof t&&"number"!=typeof t||(t={name:t}),new o(t,this,this.ecModel);},this);this._data=e;var i=n.map(t.getSeries(),function(t){return t.name;});t.eachSeries(function(t){if(t.legendDataProvider){var e=t.legendDataProvider();i=i.concat(e.mapArray(e.getName));}}),this._availableNames=i;},getData:function getData(){return this._data;},select:function select(t){var e=this.option.selected,i=this.get("selectedMode");if("single"===i){var o=this._data;n.each(o,function(t){e[t.get("name")]=!1;});}e[t]=!0;},unSelect:function unSelect(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1);},toggleSelected:function toggleSelected(t){var e=this.option.selected;e.hasOwnProperty(t)||(e[t]=!0),this[e[t]?"unSelect":"select"](t);},isSelected:function isSelected(t){var e=this.option.selected;return!(e.hasOwnProperty(t)&&!e[t])&&n.indexOf(this._availableNames,t)>=0;},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:"top",align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",textStyle:{color:"#333"},selectedMode:!0,tooltip:{show:!1}}});t.exports=a;},function(t,e,i){function n(t,e){e.dispatchAction({type:"legendToggleSelect",name:t});}function o(t,e,i){var n=i.getZr().storage.getDisplayList()[0];n&&n.useHoverLayer||t.get("legendHoverLink")&&i.dispatchAction({type:"highlight",seriesName:t.name,name:e});}function a(t,e,i){var n=i.getZr().storage.getDisplayList()[0];n&&n.useHoverLayer||t.get("legendHoverLink")&&i.dispatchAction({type:"downplay",seriesName:t.name,name:e});}var r=i(1),s=i(24),l=i(3),u=i(129),c=r.curry;t.exports=i(2).extendComponentView({type:"legend",init:function init(){this._symbolTypeStore={};},render:function render(t,e,i){var s=this.group;if(s.removeAll(),t.get("show")){var h=t.get("selectedMode"),d=t.get("align");"auto"===d&&(d="right"===t.get("left")&&"vertical"===t.get("orient")?"right":"left");var f={};r.each(t.getData(),function(r){var u=r.get("name");if(""===u||"\n"===u)return void s.add(new l.Group({newline:!0}));var p=e.getSeriesByName(u)[0];if(!f[u])if(p){var g=p.getData(),m=g.getVisual("color");"function"==typeof m&&(m=m(p.getDataParams(0)));var v=g.getVisual("legendSymbol")||"roundRect",y=g.getVisual("symbol"),x=this._createItem(u,r,t,v,y,d,m,h);x.on("click",c(n,u,i)).on("mouseover",c(o,p,null,i)).on("mouseout",c(a,p,null,i)),f[u]=!0;}else e.eachRawSeries(function(e){if(!f[u]&&e.legendDataProvider){var s=e.legendDataProvider(),l=s.indexOfName(u);if(l<0)return;var p=s.getItemVisual(l,"color"),g="roundRect",m=this._createItem(u,r,t,g,null,d,p,h);m.on("click",c(n,u,i)).on("mouseover",c(o,e,u,i)).on("mouseout",c(a,e,u,i)),f[u]=!0;}},this);},this),u.layout(s,t,i),u.addBackground(s,t);}},_createItem:function _createItem(t,e,i,n,o,a,u,c){var h=i.get("itemWidth"),d=i.get("itemHeight"),f=i.get("inactiveColor"),p=i.isSelected(t),g=new l.Group(),m=e.getModel("textStyle"),v=e.get("icon"),y=e.getModel("tooltip"),x=y.parentModel;if(n=v||n,g.add(s.createSymbol(n,0,0,h,d,p?u:f)),!v&&o&&(o!==n||"none"==o)){var _=.8*d;"none"===o&&(o="circle"),g.add(s.createSymbol(o,(h-_)/2,(d-_)/2,_,_,p?u:f));}var b="left"===a?h+5:-5,w=a,S=i.get("formatter"),M=t;"string"==typeof S&&S?M=S.replace("{name}",null!=t?t:""):"function"==typeof S&&(M=S(t));var I=new l.Text({style:{text:M,x:b,y:d/2,fill:p?m.getTextColor():f,textFont:m.getFont(),textAlign:w,textVerticalAlign:"middle"}});g.add(I);var T=new l.Rect({shape:g.getBoundingRect(),invisible:!0,tooltip:y.get("show")?r.extend({content:t,formatter:x.get("formatter",!0)||function(){return t;},formatterParams:{componentType:"legend",legendIndex:i.componentIndex,name:t,$vars:["name"]}},y.option):null});return g.add(T),g.eachChild(function(t){t.silent=!0;}),T.silent=!c,this.group.add(g),l.setHoverStyle(g),g;}});},function(t,e,i){function n(t,e,i){var n,o={},r="toggleSelected"===t;return i.eachComponent("legend",function(i){r&&null!=n?i[n?"select":"unSelect"](e.name):(i[t](e.name),n=i.isSelected(e.name));var s=i.getData();a.each(s,function(t){var e=t.get("name");if("\n"!==e&&""!==e){var n=i.isSelected(e);e in o?o[e]=o[e]&&n:o[e]=n;}});}),{name:e.name,selected:o};}var o=i(2),a=i(1);o.registerAction("legendToggleSelect","legendselectchanged",a.curry(n,"toggleSelected")),o.registerAction("legendSelect","legendselected",a.curry(n,"select")),o.registerAction("legendUnSelect","legendunselected",a.curry(n,"unSelect"));},function(t,e){t.exports=function(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.filterSeries(function(t){for(var i=0;i<e.length;i++){if(!e[i].isSelected(t.name))return!1;}return!0;});};},function(t,e,i){i(217),i(218),i(2).registerPreprocessor(function(t){t.markArea=t.markArea||{};});},function(t,e,i){i(219),i(220),i(2).registerPreprocessor(function(t){t.markLine=t.markLine||{};});},function(t,e,i){i(221),i(222),i(2).registerPreprocessor(function(t){t.markPoint=t.markPoint||{};});},function(t,e,i){t.exports=i(79).extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{normal:{show:!0,position:"top"},emphasis:{show:!0,position:"top"}},itemStyle:{normal:{borderWidth:0}}}});},function(t,e,i){function n(t){return!isNaN(t)&&!isFinite(t);}function o(t,e,i,o){var a=1-t;return n(e[a])&&n(i[a]);}function a(t,e){var i=e.coord[0],n=e.coord[1];return!("cartesian2d"!==t.type||!i||!n||!o(1,i,n,t)&&!o(0,i,n,t))||f.dataFilter(t,{coord:i,x:e.x0,y:e.y0})||f.dataFilter(t,{coord:n,x:e.x1,y:e.y1});}function r(t,e,i,o,a){var r,s=o.coordinateSystem,l=t.getItemModel(e),u=c.parsePercent(l.get(i[0]),a.getWidth()),h=c.parsePercent(l.get(i[1]),a.getHeight());if(isNaN(u)||isNaN(h)){if(o.getMarkerPosition)r=o.getMarkerPosition(t.getValues(i,e));else{var d=t.get(i[0],e),f=t.get(i[1],e);r=s.dataToPoint([d,f],!0);}if("cartesian2d"===s.type){var p=s.getAxis("x"),g=s.getAxis("y"),d=t.get(i[0],e),f=t.get(i[1],e);n(d)?r[0]=p.toGlobalCoord(p.getExtent()["x0"===i[0]?0:1]):n(f)&&(r[1]=g.toGlobalCoord(g.getExtent()["y0"===i[1]?0:1]));}isNaN(u)||(r[0]=u),isNaN(h)||(r[1]=h);}else r=[u,h];return r;}function s(t,e,i){var n,o,r=["x0","y0","x1","y1"];t?(n=l.map(t&&t.dimensions,function(t){var i=e.getData().getDimensionInfo(e.coordDimToDataDim(t)[0])||{};return i.name=t,i;}),o=new u(l.map(r,function(t,e){return{name:t,type:n[e%2].type};}),i)):(n=[{name:"value",type:"float"}],o=new u(n,i));var s=l.map(i.get("data"),l.curry(p,e,t,i));t&&(s=l.filter(s,l.curry(a,t)));var c=t?function(t,e,i,n){return t.coord[Math.floor(n/2)][n%2];}:function(t){return t.value;};return o.initData(s,null,c),o.hasItemOption=!0,o;}var l=i(1),u=i(14),c=i(4),h=i(3),d=i(22),f=i(81),p=function p(t,e,i,n){var o=f.dataTransform(t,n[0]),a=f.dataTransform(t,n[1]),r=l.retrieve,s=o.coord,u=a.coord;s[0]=r(s[0],-(1/0)),s[1]=r(s[1],-(1/0)),u[0]=r(u[0],1/0),u[1]=r(u[1],1/0);var c=l.mergeAll([{},o,a]);return c.coord=[o.coord,a.coord],c.x0=o.x,c.y0=o.y,c.x1=a.x,c.y1=a.y,c;},g=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];i(80).extend({type:"markArea",updateLayout:function updateLayout(t,e,i){e.eachSeries(function(t){var e=t.markAreaModel;if(e){var n=e.getData();n.each(function(e){var o=l.map(g,function(o){return r(n,e,o,t,i);});n.setItemLayout(e,o);var a=n.getItemGraphicEl(e);a.setShape("points",o);});}},this);},renderSeries:function renderSeries(t,e,i,n){var o=t.coordinateSystem,a=t.name,u=t.getData(),c=this.markerGroupMap,f=c[a];f||(f=c[a]={group:new h.Group()}),this.group.add(f.group),f.__keep=!0;var p=s(o,t,e);e.setData(p),p.each(function(e){p.setItemLayout(e,l.map(g,function(i){return r(p,e,i,t,n);})),p.setItemVisual(e,{color:u.getVisual("color")});}),p.diff(f.__data).add(function(t){var e=new h.Polygon({shape:{points:p.getItemLayout(t)}});p.setItemGraphicEl(t,e),f.group.add(e);}).update(function(t,i){var n=f.__data.getItemGraphicEl(i);h.updateProps(n,{shape:{points:p.getItemLayout(t)}},e,t),f.group.add(n),p.setItemGraphicEl(t,n);}).remove(function(t){var e=f.__data.getItemGraphicEl(t);f.group.remove(e);}).execute(),p.eachItemGraphicEl(function(t,i){var n=p.getItemModel(i),o=n.getModel("label.normal"),a=n.getModel("label.emphasis"),r=p.getItemVisual(i,"color");t.useStyle(l.defaults(n.getModel("itemStyle.normal").getItemStyle(),{fill:d.modifyAlpha(r,.4),stroke:r})),t.hoverStyle=n.getModel("itemStyle.normal").getItemStyle();var s=p.getName(i)||"",u=r||t.style.fill;o.getShallow("show")?(h.setText(t.style,o,u),t.style.text=l.retrieve(e.getFormattedLabel(i,"normal"),s)):t.style.text="",a.getShallow("show")?(h.setText(t.hoverStyle,a,u),t.hoverStyle.text=l.retrieve(e.getFormattedLabel(i,"emphasis"),s)):t.hoverStyle.text="",h.setHoverStyle(t,{}),t.dataModel=e;}),f.__data=p,f.group.silent=e.get("silent")||t.get("silent");}});},function(t,e,i){t.exports=i(79).extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{normal:{show:!0,position:"end"},emphasis:{show:!0}},lineStyle:{normal:{type:"dashed"},emphasis:{width:3}},animationEasing:"linear"}});},function(t,e,i){function n(t){return!isNaN(t)&&!isFinite(t);}function o(t,e,i,o){var a=1-t,r=o.dimensions[t];return n(e[a])&&n(i[a])&&e[t]===i[t]&&o.getAxis(r).containData(e[t]);}function a(t,e){if("cartesian2d"===t.type){var i=e[0].coord,n=e[1].coord;if(i&&n&&(o(1,i,n,t)||o(0,i,n,t)))return!0;}return h.dataFilter(t,e[0])&&h.dataFilter(t,e[1]);}function r(t,e,i,o,a){var r,s=o.coordinateSystem,l=t.getItemModel(e),u=c.parsePercent(l.get("x"),a.getWidth()),h=c.parsePercent(l.get("y"),a.getHeight());if(isNaN(u)||isNaN(h)){if(o.getMarkerPosition)r=o.getMarkerPosition(t.getValues(t.dimensions,e));else{var d=s.dimensions,f=t.get(d[0],e),p=t.get(d[1],e);r=s.dataToPoint([f,p]);}if("cartesian2d"===s.type){var g=s.getAxis("x"),m=s.getAxis("y"),d=s.dimensions;n(t.get(d[0],e))?r[0]=g.toGlobalCoord(g.getExtent()[i?0:1]):n(t.get(d[1],e))&&(r[1]=m.toGlobalCoord(m.getExtent()[i?0:1]));}isNaN(u)||(r[0]=u),isNaN(h)||(r[1]=h);}else r=[u,h];t.setItemLayout(e,r);}function s(t,e,i){var n;n=t?l.map(t&&t.dimensions,function(t){var i=e.getData().getDimensionInfo(e.coordDimToDataDim(t)[0])||{};return i.name=t,i;}):[{name:"value",type:"float"}];var o=new u(n,i),r=new u(n,i),s=new u([],i),c=l.map(i.get("data"),l.curry(f,e,t,i));t&&(c=l.filter(c,l.curry(a,t)));var d=t?h.dimValueGetter:function(t){return t.value;};return o.initData(l.map(c,function(t){return t[0];}),null,d),r.initData(l.map(c,function(t){return t[1];}),null,d),s.initData(l.map(c,function(t){return t[2];})),s.hasItemOption=!0,{from:o,to:r,line:s};}var l=i(1),u=i(14),c=i(4),h=i(81),d=i(106),f=function f(t,e,i,n){var o=t.getData(),a=n.type;if(!l.isArray(n)&&("min"===a||"max"===a||"average"===a||null!=n.xAxis||null!=n.yAxis)){var r,s,u;if(null!=n.yAxis||null!=n.xAxis)s=null!=n.yAxis?"y":"x",r=e.getAxis(s),u=l.retrieve(n.yAxis,n.xAxis);else{var c=h.getAxisInfo(n,o,e,t);s=c.valueDataDim,r=c.valueAxis,u=h.numCalculate(o,s,a);}var d="x"===s?0:1,f=1-d,p=l.clone(n),g={};p.type=null,p.coord=[],g.coord=[],p.coord[f]=-(1/0),g.coord[f]=1/0;var m=i.get("precision");m>=0&&"number"==typeof u&&(u=+u.toFixed(m)),p.coord[d]=g.coord[d]=u,n=[p,g,{type:a,valueIndex:n.valueIndex,value:u}];}return n=[h.dataTransform(t,n[0]),h.dataTransform(t,n[1]),l.extend({},n[2])],n[2].type=n[2].type||"",l.merge(n[2],n[0]),l.merge(n[2],n[1]),n;};i(80).extend({type:"markLine",updateLayout:function updateLayout(t,e,i){e.eachSeries(function(t){var e=t.markLineModel;if(e){var n=e.getData(),o=e.__from,a=e.__to;o.each(function(e){r(o,e,!0,t,i),r(a,e,!1,t,i);}),n.each(function(t){n.setItemLayout(t,[o.getItemLayout(t),a.getItemLayout(t)]);}),this.markerGroupMap[t.name].updateLayout();}},this);},renderSeries:function renderSeries(t,e,i,n){function o(e,i,o){var a=e.getItemModel(i);r(e,i,o,t,n),e.setItemVisual(i,{symbolSize:a.get("symbolSize")||x[o?0:1],symbol:a.get("symbol",!0)||y[o?0:1],color:a.get("itemStyle.normal.color")||c.getVisual("color")});}var a=t.coordinateSystem,u=t.name,c=t.getData(),h=this.markerGroupMap,f=h[u];f||(f=h[u]=new d()),this.group.add(f.group);var p=s(a,t,e),g=p.from,m=p.to,v=p.line;e.__from=g,e.__to=m,e.setData(v);var y=e.get("symbol"),x=e.get("symbolSize");l.isArray(y)||(y=[y,y]),"number"==typeof x&&(x=[x,x]),p.from.each(function(t){o(g,t,!0),o(m,t,!1);}),v.each(function(t){var e=v.getItemModel(t).get("lineStyle.normal.color");v.setItemVisual(t,{color:e||g.getItemVisual(t,"color")}),v.setItemLayout(t,[g.getItemLayout(t),m.getItemLayout(t)]),v.setItemVisual(t,{fromSymbolSize:g.getItemVisual(t,"symbolSize"),fromSymbol:g.getItemVisual(t,"symbol"),toSymbolSize:m.getItemVisual(t,"symbolSize"),toSymbol:m.getItemVisual(t,"symbol")});}),f.updateData(v),p.line.eachItemGraphicEl(function(t,i){t.traverse(function(t){t.dataModel=e;});}),f.__keep=!0,f.group.silent=e.get("silent")||t.get("silent");}});},function(t,e,i){t.exports=i(79).extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{normal:{show:!0,position:"inside"},emphasis:{show:!0}},itemStyle:{normal:{borderWidth:2}}}});},function(t,e,i){function n(t,e,i){var n=e.coordinateSystem;t.each(function(o){var a,r=t.getItemModel(o),l=s.parsePercent(r.get("x"),i.getWidth()),u=s.parsePercent(r.get("y"),i.getHeight());if(isNaN(l)||isNaN(u)){if(e.getMarkerPosition)a=e.getMarkerPosition(t.getValues(t.dimensions,o));else if(n){var c=t.get(n.dimensions[0],o),h=t.get(n.dimensions[1],o);a=n.dataToPoint([c,h]);}}else a=[l,u];isNaN(l)||(a[0]=l),isNaN(u)||(a[1]=u),t.setItemLayout(o,a);});}function o(t,e,i){var n;n=t?r.map(t&&t.dimensions,function(t){var i=e.getData().getDimensionInfo(e.coordDimToDataDim(t)[0])||{};return i.name=t,i;}):[{name:"value",type:"float"}];var o=new l(n,i),a=r.map(i.get("data"),r.curry(u.dataTransform,e));return t&&(a=r.filter(a,r.curry(u.dataFilter,t))),o.initData(a,null,t?u.dimValueGetter:function(t){return t.value;}),o;}var a=i(44),r=i(1),s=i(4),l=i(14),u=i(81);i(80).extend({type:"markPoint",updateLayout:function updateLayout(t,e,i){e.eachSeries(function(t){var e=t.markPointModel;e&&(n(e.getData(),t,i),this.markerGroupMap[t.name].updateLayout(e));},this);},renderSeries:function renderSeries(t,e,i,r){var s=t.coordinateSystem,l=t.name,u=t.getData(),c=this.markerGroupMap,h=c[l];h||(h=c[l]=new a());var d=o(s,t,e);e.setData(d),n(e.getData(),t,r),d.each(function(t){var i=d.getItemModel(t),n=i.getShallow("symbolSize");"function"==typeof n&&(n=n(e.getRawValue(t),e.getDataParams(t))),d.setItemVisual(t,{symbolSize:n,color:i.get("itemStyle.normal.color")||u.getVisual("color"),symbol:i.getShallow("symbol")});}),h.updateData(d),this.group.add(h.group),d.eachItemGraphicEl(function(t){t.traverse(function(t){t.dataModel=e;});}),h.__keep=!0,h.group.silent=e.get("silent")||t.get("silent");}});},function(t,e,i){"use strict";var n=i(2),o=i(3),a=i(12);n.extendComponentModel({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),n.extendComponentView({type:"title",render:function render(t,e,i){if(this.group.removeAll(),t.get("show")){var n=this.group,r=t.getModel("textStyle"),s=t.getModel("subtextStyle"),l=t.get("textAlign"),u=t.get("textBaseline"),c=new o.Text({style:{text:t.get("text"),textFont:r.getFont(),fill:r.getTextColor()},z2:10}),h=c.getBoundingRect(),d=t.get("subtext"),f=new o.Text({style:{text:d,textFont:s.getFont(),fill:s.getTextColor(),y:h.height+t.get("itemGap"),textBaseline:"top"},z2:10}),p=t.get("link"),g=t.get("sublink");c.silent=!p,f.silent=!g,p&&c.on("click",function(){window.open(p,"_"+t.get("target"));}),g&&f.on("click",function(){window.open(g,"_"+t.get("subtarget"));}),n.add(c),d&&n.add(f);var m=n.getBoundingRect(),v=t.getBoxLayoutParams();v.width=m.width,v.height=m.height;var y=a.getLayoutRect(v,{width:i.getWidth(),height:i.getHeight()},t.get("padding"));l||(l=t.get("left")||t.get("right"),"middle"===l&&(l="center"),"right"===l?y.x+=y.width:"center"===l&&(y.x+=y.width/2)),u||(u=t.get("top")||t.get("bottom"),"center"===u&&(u="middle"),"bottom"===u?y.y+=y.height:"middle"===u&&(y.y+=y.height/2),u=u||"top"),n.attr("position",[y.x,y.y]);var x={textAlign:l,textVerticalAlign:u};c.setStyle(x),f.setStyle(x),m=n.getBoundingRect();var _=y.margin,b=t.getItemStyle(["color","opacity"]);b.fill=t.get("backgroundColor");var w=new o.Rect({shape:{x:m.x-_[3],y:m.y-_[0],width:m.width+_[1]+_[3],height:m.height+_[0]+_[2]},style:b,silent:!0});o.subPixelOptimizeRect(w),n.add(w);}}});},function(t,e,i){i(225),i(226),i(231),i(229),i(227),i(228),i(230);},function(t,e,i){var n=i(29),o=i(1),a=i(2).extendComponentModel({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},mergeDefaultAndTheme:function mergeDefaultAndTheme(t){a.superApply(this,"mergeDefaultAndTheme",arguments),o.each(this.option.feature,function(t,e){var i=n.get(e);i&&o.merge(t,i.defaultOption);});},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{normal:{borderColor:"#666",color:"none"},emphasis:{borderColor:"#3E98C5"}}}});t.exports=a;},function(t,e,i){(function(e){function n(t){return 0===t.indexOf("my");}var o=i(29),a=i(1),r=i(3),s=i(10),l=i(48),u=i(129),c=i(17);t.exports=i(2).extendComponentView({type:"toolbox",render:function render(t,e,i,h){function d(a,r){var l,u=y[a],c=y[r],d=m[u],p=new s(d,t,t.ecModel);if(u&&!c){if(n(u))l={model:p,onclick:p.option.onclick,featureName:u};else{var g=o.get(u);if(!g)return;l=new g(p,e,i);}v[u]=l;}else{if(l=v[c],!l)return;l.model=p,l.ecModel=e,l.api=i;}return!u&&c?void(l.dispose&&l.dispose(e,i)):!p.get("show")||l.unusable?void(l.remove&&l.remove(e,i)):(f(p,l,u),p.setIconStatus=function(t,e){var i=this.option,n=this.iconPaths;i.iconStatus=i.iconStatus||{},i.iconStatus[t]=e,n[t]&&n[t].trigger(e);},void(l.render&&l.render(p,e,i,h)));}function f(n,o,s){var l=n.getModel("iconStyle"),u=o.getIcons?o.getIcons():n.get("icon"),c=n.get("title")||{};if("string"==typeof u){var h=u,d=c;u={},c={},u[s]=h,c[s]=d;}var f=n.iconPaths={};a.each(u,function(s,u){var h=l.getModel("normal").getItemStyle(),d=l.getModel("emphasis").getItemStyle(),m={x:-g/2,y:-g/2,width:g,height:g},v=0===s.indexOf("image://")?(m.image=s.slice(8),new r.Image({style:m})):r.makePath(s.replace("path://",""),{style:h,hoverStyle:d,rectHover:!0},m,"center");r.setHoverStyle(v),t.get("showTitle")&&(v.__title=c[u],v.on("mouseover",function(){var t=l.getModel("emphasis").getItemStyle();v.setStyle({text:c[u],textPosition:t.textPosition||"bottom",textFill:t.fill||t.stroke||"#000",textAlign:t.textAlign||"center"});}).on("mouseout",function(){v.setStyle({textFill:null});})),v.trigger(n.get("iconStatus."+u)||"normal"),p.add(v),v.on("click",a.bind(o.onclick,o,e,i,u)),f[u]=v;});}var p=this.group;if(p.removeAll(),t.get("show")){var g=+t.get("itemSize"),m=t.get("feature")||{},v=this._features||(this._features={}),y=[];a.each(m,function(t,e){y.push(e);}),new l(this._featureNames||[],y).add(d).update(d).remove(a.curry(d,null)).execute(),this._featureNames=y,u.layout(p,t,i),u.addBackground(p,t),p.eachChild(function(t){var e=t.__title,n=t.hoverStyle;if(n&&e){var o=c.getBoundingRect(e,n.font),a=t.position[0]+p.position[0],r=t.position[1]+p.position[1]+g,s=!1;r+o.height>i.getHeight()&&(n.textPosition="top",s=!0);var l=s?-5-o.height:g+8;a+o.width/2>i.getWidth()?(n.textPosition=["100%",l],n.textAlign="right"):a-o.width/2<0&&(n.textPosition=[0,l],n.textAlign="left");}});}},updateView:function updateView(t,e,i,n){a.each(this._features,function(t){t.updateView&&t.updateView(t.model,e,i,n);});},updateLayout:function updateLayout(t,e,i,n){a.each(this._features,function(t){t.updateLayout&&t.updateLayout(t.model,e,i,n);});},remove:function remove(t,e){a.each(this._features,function(i){i.remove&&i.remove(t,e);}),this.group.removeAll();},dispose:function dispose(t,e){a.each(this._features,function(i){i.dispose&&i.dispose(t,e);});}});}).call(e,i(188));},function(t,e,i){function n(t){var e={},i=[],n=[];return t.eachRawSeries(function(t){var o=t.coordinateSystem;if(!o||"cartesian2d"!==o.type&&"polar"!==o.type)i.push(t);else{var a=o.getBaseAxis();if("category"===a.type){var r=a.dim+"_"+a.index;e[r]||(e[r]={categoryAxis:a,valueAxis:o.getOtherAxis(a),series:[]},n.push({axisDim:a.dim,axisIndex:a.index})),e[r].series.push(t);}else i.push(t);}}),{seriesGroupByCategoryAxis:e,other:i,meta:n};}function o(t){var e=[];return p.each(t,function(t,i){var n=t.categoryAxis,o=t.valueAxis,a=o.dim,r=[" "].concat(p.map(t.series,function(t){return t.name;})),s=[n.model.getCategories()];p.each(t.series,function(t){s.push(t.getRawData().mapArray(a,function(t){return t;}));});for(var l=[r.join(v)],u=0;u<s[0].length;u++){for(var c=[],h=0;h<s.length;h++){c.push(s[h][u]);}l.push(c.join(v));}e.push(l.join("\n"));}),e.join("\n\n"+m+"\n\n");}function a(t){return p.map(t,function(t){var e=t.getRawData(),i=[t.name],n=[];return e.each(e.dimensions,function(){for(var t=arguments.length,o=arguments[t-1],a=e.getName(o),r=0;r<t-1;r++){n[r]=arguments[r];}i.push((a?a+v:"")+n.join(v));}),i.join("\n");}).join("\n\n"+m+"\n\n");}function r(t){var e=n(t);return{value:p.filter([o(e.seriesGroupByCategoryAxis),a(e.other)],function(t){return t.replace(/[\n\t\s]/g,"");}).join("\n\n"+m+"\n\n"),meta:e.meta};}function s(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"");}function l(t){var e=t.slice(0,t.indexOf("\n"));if(e.indexOf(v)>=0)return!0;}function u(t){for(var e=t.split(/\n+/g),i=s(e.shift()).split(y),n=[],o=p.map(i,function(t){return{name:t,data:[]};}),a=0;a<e.length;a++){var r=s(e[a]).split(y);n.push(r.shift());for(var l=0;l<r.length;l++){o[l]&&(o[l].data[a]=r[l]);}}return{series:o,categories:n};}function c(t){for(var e=t.split(/\n+/g),i=s(e.shift()),n=[],o=0;o<e.length;o++){var a,r=s(e[o]).split(y),l="",u=!1;isNaN(r[0])?(u=!0,l=r[0],r=r.slice(1),n[o]={name:l,value:[]},a=n[o].value):a=n[o]=[];for(var c=0;c<r.length;c++){a.push(+r[c]);}1===a.length&&(u?n[o].value=a[0]:n[o]=a[0]);}return{name:i,data:n};}function h(t,e){var i=t.split(new RegExp("\n*"+m+"\n*","g")),n={series:[]};return p.each(i,function(t,i){if(l(t)){var o=u(t),a=e[i],r=a.axisDim+"Axis";a&&(n[r]=n[r]||[],n[r][a.axisIndex]={data:o.categories},n.series=n.series.concat(o.series));}else{var o=c(t);n.series.push(o);}}),n;}function d(t){this._dom=null,this.model=t;}function f(t,e){return p.map(t,function(t,i){var n=e&&e[i];return p.isObject(n)&&!p.isArray(n)?(p.isObject(t)&&!p.isArray(t)&&(t=t.value),p.defaults({value:t},n)):t;});}var p=i(1),g=i(21),m=new Array(60).join("-"),v="\t",y=new RegExp("["+v+"]+","g");d.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:"",lang:["","",""],backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"},d.prototype.onclick=function(t,e){function i(){n.removeChild(a),M._dom=null;}var n=e.getDom(),o=this.model;this._dom&&n.removeChild(this._dom);var a=document.createElement("div");a.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",a.style.backgroundColor=o.get("backgroundColor")||"#fff";var s=document.createElement("h4"),l=o.get("lang")||[];s.innerHTML=l[0]||o.get("title"),s.style.cssText="margin: 10px 20px;",s.style.color=o.get("textColor");var u=document.createElement("div"),c=document.createElement("textarea");u.style.cssText="display:block;width:100%;overflow:auto;";var d=o.get("optionToContent"),f=o.get("contentToOption"),m=r(t);if("function"==typeof d){var y=d(e.getOption());"string"==typeof y?u.innerHTML=y:p.isDom(y)&&u.appendChild(y);}else u.appendChild(c),c.readOnly=o.get("readOnly"),c.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",c.style.color=o.get("textColor"),c.style.borderColor=o.get("textareaBorderColor"),c.style.backgroundColor=o.get("textareaColor"),c.value=m.value;var x=m.meta,_=document.createElement("div");_.style.cssText="position:absolute;bottom:0;left:0;right:0;";var b="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",w=document.createElement("div"),S=document.createElement("div");b+=";background-color:"+o.get("buttonColor"),b+=";color:"+o.get("buttonTextColor");var M=this;g.addEventListener(w,"click",i),g.addEventListener(S,"click",function(){var t;try{t="function"==typeof f?f(u,e.getOption()):h(c.value,x);}catch(n){throw i(),new Error("Data view format error "+n);}t&&e.dispatchAction({type:"changeDataView",newOption:t}),i();}),w.innerHTML=l[1],S.innerHTML=l[2],S.style.cssText=b,w.style.cssText=b,!o.get("readOnly")&&_.appendChild(S),_.appendChild(w),g.addEventListener(c,"keydown",function(t){if(9===(t.keyCode||t.which)){var e=this.value,i=this.selectionStart,n=this.selectionEnd;this.value=e.substring(0,i)+v+e.substring(n),this.selectionStart=this.selectionEnd=i+1,g.stop(t);}}),a.appendChild(s),a.appendChild(u),a.appendChild(_),u.style.height=n.clientHeight-80+"px",n.appendChild(a),this._dom=a;},d.prototype.remove=function(t,e){this._dom&&e.getDom().removeChild(this._dom);},d.prototype.dispose=function(t,e){this.remove(t,e);},i(29).register("dataView",d),i(2).registerAction({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(t,e){var i=[];p.each(t.newOption.series,function(t){var n=e.getSeriesByName(t.name)[0];if(n){var o=n.get("data");i.push({name:t.name,data:f(t.data,o)});}else i.push(p.extend({type:"scatter"},t));}),e.mergeOption(p.defaults({series:i},t.newOption));}),t.exports=d;},function(t,e,i){"use strict";function n(t,e,i){(this._brushController=new l(i.getZr())).on("brush",s.bind(this._onBrush,this)).mount(),this._isZoomActive;}function o(t){var e={};return s.each(["xAxisIndex","yAxisIndex"],function(i){e[i]=t[i],null==e[i]&&(e[i]="all"),(e[i]===!1||"none"===e[i])&&(e[i]=[]);}),e;}function a(t,e){t.setIconStatus("back",c.count(e)>1?"emphasis":"normal");}function r(t,e,i,n,a){var r=i._isZoomActive;n&&"takeGlobalCursor"===n.type&&(r="dataZoomSelect"===n.key&&n.dataZoomSelectActive),i._isZoomActive=r,t.setIconStatus("zoom",r?"emphasis":"normal");var s=new u(o(t.option),e,{include:["grid"]});i._brushController.setPanels(s.makePanelOpts(a,function(t){return t.xAxisDeclared&&!t.yAxisDeclared?"lineX":!t.xAxisDeclared&&t.yAxisDeclared?"lineY":"rect";})).enableBrush(!!r&&{brushType:"auto",brushStyle:{lineWidth:0,fill:"rgba(0,0,0,0.2)"}});}var s=i(1),l=i(126),u=i(184),c=i(124),h=s.each;i(206);var d="\0_ec_\0toolbox-dataZoom_";n.defaultOption={show:!0,icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:{zoom:"",back:""}};var f=n.prototype;f.render=function(t,e,i,n){this.model=t,this.ecModel=e,this.api=i,r(t,e,this,n,i),a(t,e);},f.onclick=function(t,e,i){p[i].call(this);},f.remove=function(t,e){this._brushController.unmount();},f.dispose=function(t,e){this._brushController.dispose();};var p={zoom:function zoom(){var t=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:t});},back:function back(){this._dispatchZoomAction(c.pop(this.ecModel));}};f._onBrush=function(t,e){function i(t,e,i){var o=n(t,e.getAxis(t).model,r);o&&(a[o.id]={dataZoomId:o.id,startValue:i[0],endValue:i[1]});}function n(t,e,i){var n;return i.eachComponent({mainType:"dataZoom",subType:"select"},function(i){var o=i.getAxisModel(t,e.componentIndex);o&&(n=i);}),n;}if(e.isEnd&&t.length){var a={},r=this.ecModel;this._brushController.updateCovers([]);var s=new u(o(this.model.option),r,{include:["grid"]});s.matchOutputRanges(t,r,function(t,e,n){if("cartesian2d"===n.type){var o=t.brushType;"rect"===o?(i("x",n,e[0]),i("y",n,e[1])):i({lineX:"x",lineY:"y"}[o],n,e);}}),c.push(r,a),this._dispatchZoomAction(a);}},f._dispatchZoomAction=function(t){var e=[];h(t,function(t,i){e.push(s.clone(t));}),e.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:e});},i(29).register("dataZoom",n),i(2).registerPreprocessor(function(t){function e(t,e){if(e){var o=t+"Index",a=e[o];null==a||"all"==a||s.isArray(a)||(a=a===!1||"none"===a?[]:[a]),i(t,function(e,i){if(null==a||"all"==a||s.indexOf(a,i)!==-1){var r={type:"select",$fromToolbox:!0,id:d+t+i};r[o]=i,n.push(r);}});}}function i(e,i){var n=t[e];s.isArray(n)||(n=n?[n]:[]),h(n,i);}if(t){var n=t.dataZoom||(t.dataZoom=[]);s.isArray(n)||(t.dataZoom=n=[n]);var o=t.toolbox;if(o&&(s.isArray(o)&&(o=o[0]),o&&o.feature)){var a=o.feature.dataZoom;e("xAxis",a),e("yAxis",a);}}}),t.exports=n;},function(t,e,i){"use strict";function n(t){this.model=t;}var o=i(1);n.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z",tiled:"M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z"},title:{line:"",bar:"",stack:"",tiled:""},option:{},seriesIndex:{}};var a=n.prototype;a.getIcons=function(){var t=this.model,e=t.get("icon"),i={};return o.each(t.get("type"),function(t){e[t]&&(i[t]=e[t]);}),i;};var r={line:function line(t,e,i,n){if("bar"===t)return o.merge({id:e,type:"line",data:i.get("data"),stack:i.get("stack"),markPoint:i.get("markPoint"),markLine:i.get("markLine")},n.get("option.line")||{},!0);},bar:function bar(t,e,i,n){if("line"===t)return o.merge({id:e,type:"bar",data:i.get("data"),stack:i.get("stack"),markPoint:i.get("markPoint"),markLine:i.get("markLine")},n.get("option.bar")||{},!0);},stack:function stack(t,e,i,n){if("line"===t||"bar"===t)return o.merge({id:e,stack:"__ec_magicType_stack__"},n.get("option.stack")||{},!0);},tiled:function tiled(t,e,i,n){if("line"===t||"bar"===t)return o.merge({id:e,stack:""},n.get("option.tiled")||{},!0);}},s=[["line","bar"],["stack","tiled"]];a.onclick=function(t,e,i){var n=this.model,a=n.get("seriesIndex."+i);if(r[i]){var l={series:[]},u=function u(e){var a=e.subType,s=e.id,u=r[i](a,s,e,n);u&&(o.defaults(u,e.option),l.series.push(u));var c=e.coordinateSystem;if(c&&"cartesian2d"===c.type&&("line"===i||"bar"===i)){var h=c.getAxesByScale("ordinal")[0];if(h){var d=h.dim,f=d+"Axis",p=t.queryComponents({mainType:f,index:e.get(name+"Index"),id:e.get(name+"Id")})[0],g=p.componentIndex;l[f]=l[f]||[];for(var m=0;m<=g;m++){l[f][g]=l[f][g]||{};}l[f][g].boundaryGap="bar"===i;}}};o.each(s,function(t){o.indexOf(t,i)>=0&&o.each(t,function(t){n.setIconStatus(t,"normal");});}),n.setIconStatus(i,"emphasis"),t.eachComponent({mainType:"series",query:null==a?null:{seriesIndex:a}},u),e.dispatchAction({type:"changeMagicType",currentType:i,newOption:l});}};var l=i(2);l.registerAction({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(t,e){e.mergeOption(t.newOption);}),i(29).register("magicType",n),t.exports=n;},function(t,e,i){"use strict";function n(t){this.model=t;}var o=i(124);n.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:""};var a=n.prototype;a.onclick=function(t,e,i){o.clear(t),e.dispatchAction({type:"restore",from:this.uid});},i(29).register("restore",n),i(2).registerAction({type:"restore",event:"restore",update:"prepareAndUpdate"},function(t,e){e.resetOption("recreate");}),t.exports=n;},function(t,e,i){function n(t){this.model=t;}var o=i(9);n.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:"",type:"png",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:[""]},n.prototype.unusable=!o.canvasSupported;var a=n.prototype;a.onclick=function(t,e){var i=this.model,n=i.get("name")||t.get("title.0.text")||"echarts",a=document.createElement("a"),r=i.get("type",!0)||"png";a.download=n+"."+r,a.target="_blank";var s=e.getConnectedDataURL({type:r,backgroundColor:i.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",excludeComponents:i.get("excludeComponents"),pixelRatio:i.get("pixelRatio")});if(a.href=s,"function"!=typeof MouseEvent||o.browser.ie||o.browser.edge){var l=i.get("lang"),u='<body style="margin:0;"><img src="'+s+'" style="max-width:100%;" title="'+(l&&l[0]||"")+'" /></body>',c=window.open();c.document.write(u);}else{var h=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});a.dispatchEvent(h);}},i(29).register("saveAsImage",n),t.exports=n;},function(t,e,i){i(55),i(234),i(235),i(2).registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){}),i(2).registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){});},function(t,e,i){function n(t){var e="cubic-bezier(0.23, 1, 0.32, 1)",i="left "+t+"s "+e+",top "+t+"s "+e;return s.map(p,function(t){return t+"transition:"+i;}).join(";");}function o(t){var e=[],i=t.get("fontSize"),n=t.getTextColor();return n&&e.push("color:"+n),e.push("font:"+t.getFont()),i&&e.push("line-height:"+Math.round(3*i/2)+"px"),h(["decoration","align"],function(i){var n=t.get(i);n&&e.push("text-"+i+":"+n);}),e.join(";");}function a(t){var e=[],i=t.get("transitionDuration"),a=t.get("backgroundColor"),r=t.getModel("textStyle"),s=t.get("padding");return i&&e.push(n(i)),a&&(f.canvasSupported?e.push("background-Color:"+a):(e.push("background-Color:#"+l.toHex(a)),e.push("filter:alpha(opacity=70)"))),h(["width","color","radius"],function(i){var n="border-"+i,o=d(n),a=t.get(o);null!=a&&e.push(n+":"+a+("color"===i?"":"px"));}),e.push(o(r)),null!=s&&e.push("padding:"+c.normalizeCssArray(s).join("px ")+"px"),e.join(";")+";";}function r(t,e){var i=document.createElement("div"),n=this._zr=e.getZr();this.el=i,this._x=e.getWidth()/2,this._y=e.getHeight()/2,t.appendChild(i),this._container=t,this._show=!1,this._hideTimeout;var o=this;i.onmouseenter=function(){o._enterable&&(clearTimeout(o._hideTimeout),o._show=!0),o._inContent=!0;},i.onmousemove=function(e){if(e=e||window.event,!o._enterable){var i=n.handler;u.normalizeEvent(t,e,!0),i.dispatch("mousemove",e);}},i.onmouseleave=function(){o._enterable&&o._show&&o.hideLater(o._hideDelay),o._inContent=!1;};}var s=i(1),l=i(22),u=i(21),c=i(7),h=s.each,d=c.toCamelCase,f=i(9),p=["","-webkit-","-moz-","-o-"],g="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;";r.prototype={constructor:r,_enterable:!0,update:function update(){var t=this._container,e=t.currentStyle||document.defaultView.getComputedStyle(t),i=t.style;"absolute"!==i.position&&"absolute"!==e.position&&(i.position="relative");},show:function show(t){clearTimeout(this._hideTimeout);var e=this.el;e.style.cssText=g+a(t)+";left:"+this._x+"px;top:"+this._y+"px;"+(t.get("extraCssText")||""),e.style.display=e.innerHTML?"block":"none",this._show=!0;},setContent:function setContent(t){this.el.innerHTML=null==t?"":t;},setEnterable:function setEnterable(t){this._enterable=t;},getSize:function getSize(){var t=this.el;return[t.clientWidth,t.clientHeight];},moveTo:function moveTo(t,e){var i,n=this._zr;n&&n.painter&&(i=n.painter.getViewportRoot())&&(t+=i.offsetLeft||0,e+=i.offsetTop||0);var o=this.el.style;o.left=t+"px",o.top=e+"px",this._x=t,this._y=e;},hide:function hide(){this.el.style.display="none",this._show=!1;},hideLater:function hideLater(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(s.bind(this.hide,this),t)):this.hide());},isShow:function isShow(){return this._show;}},t.exports=r;},function(t,e,i){i(2).extendComponentModel({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:8,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});},function(t,e,i){function n(t){for(var e=t.pop();t.length;){var i=t.pop();i&&(i instanceof v&&(i=i.get("tooltip",!0)),"string"==typeof i&&(i={formatter:i}),e=new v(i,e,e.ecModel));}return e;}function o(t,e){return t.dispatchAction||c.bind(e.dispatchAction,e);}function a(t,e,i,n,o,a,r){var s=i.clientWidth,l=i.clientHeight;return null!=a&&(t+s+a>n?t-=s+a:t+=a),null!=r&&(e+l+r>o?e-=l+r:e+=r),[t,e];}function r(t,e,i,n,o){var a=i.clientWidth,r=i.clientHeight;return t=Math.min(t+a,n)-a,e=Math.min(e+r,o)-r,t=Math.max(t,0),e=Math.max(e,0),[t,e];}function s(t,e,i){var n=i[0],o=i[1],a=5,r=0,s=0,l=e.width,u=e.height;switch(t){case"inside":r=e.x+l/2-n/2,s=e.y+u/2-o/2;break;case"top":r=e.x+l/2-n/2,s=e.y-o-a;break;case"bottom":r=e.x+l/2-n/2,s=e.y+u+a;break;case"left":r=e.x-n-a,s=e.y+u/2-o/2;break;case"right":r=e.x+l+a,s=e.y+u/2-o/2;}return[r,s];}function l(t){return"center"===t||"middle"===t;}var u=i(233),c=i(1),h=i(7),d=i(4),f=i(3),p=i(120),g=i(12),m=i(9),v=i(10),y=i(121),x=i(18),_=i(75),b=c.bind,w=c.each,S=d.parsePercent,M=new f.Rect({shape:{x:-1,y:-1,width:2,height:2}});i(2).extendComponentView({type:"tooltip",init:function init(t,e){if(!m.node){var i=new u(e.getDom(),e);this._tooltipContent=i;}},render:function render(t,e,i){if(!m.node){this.group.removeAll(),this._tooltipModel=t,this._ecModel=e,this._api=i,this._lastDataByCoordSys=null,this._alwaysShowContent=t.get("alwaysShowContent");var n=this._tooltipContent;n.update(),n.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow();}},_initGlobalListener:function _initGlobalListener(){var t=this._tooltipModel,e=t.get("triggerOn");y.register("itemTooltip",this._api,b(function(t,i,n){"none"!==e&&(e.indexOf(t)>=0?this._tryShow(i,n):"leave"===t&&this._hide(n));},this));},_keepShow:function _keepShow(){var t=this._tooltipModel,e=this._ecModel,i=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==t.get("triggerOn")){var n=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){n.manuallyShowTip(t,e,i,{x:n._lastX,y:n._lastY});});}},manuallyShowTip:function manuallyShowTip(t,e,i,n){if(n.from!==this.uid&&!m.node){var a=o(n,i);this._ticket="";var r=n.dataByCoordSys;if(n.tooltip&&null!=n.x&&null!=n.y){var s=M;s.position=[n.x,n.y],s.update(),s.tooltip=n.tooltip,this._tryShow({offsetX:n.x,offsetY:n.y,target:s},a);}else if(r)this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,event:{},dataByCoordSys:n.dataByCoordSys,tooltipOption:n.tooltipOption},a);else if(null!=n.seriesIndex){if(this._manuallyAxisShowTip(t,e,i,n))return;var l=p(n,e),u=l.point[0],c=l.point[1];null!=u&&null!=c&&this._tryShow({offsetX:u,offsetY:c,position:n.position,target:l.el,event:{}},a);}else null!=n.x&&null!=n.y&&(i.dispatchAction({type:"updateAxisPointer",x:n.x,y:n.y}),this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,target:i.getZr().findHover(n.x,n.y).target,event:{}},a));}},manuallyHideTip:function manuallyHideTip(t,e,i,n){var a=this._tooltipContent;this._alwaysShowContent||a.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=null,n.from!==this.uid&&this._hide(o(n,i));},_manuallyAxisShowTip:function _manuallyAxisShowTip(t,e,i,o){var a=o.seriesIndex,r=o.dataIndex,s=e.getComponent("axisPointer").coordSysAxesInfo;if(null!=a&&null!=r&&null!=s){var l=e.getSeriesByIndex(a);if(l){var u=l.getData(),t=n([u.getItemModel(r),l,(l.coordinateSystem||{}).model,t]);if("axis"===t.get("trigger"))return i.dispatchAction({type:"updateAxisPointer",seriesIndex:a,dataIndex:r}),!0;}}},_tryShow:function _tryShow(t,e){var i=t.target,n=this._tooltipModel;if(n){this._lastX=t.offsetX,this._lastY=t.offsetY;var o=t.dataByCoordSys;o&&o.length?this._showAxisTooltip(o,t):i&&null!=i.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(t,i,e)):i&&i.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(t,i,e)):(this._lastDataByCoordSys=null,this._hide(e));}},_showOrMove:function _showOrMove(t,e){var i=t.get("showDelay");e=c.bind(e,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(e,i):e();},_showAxisTooltip:function _showAxisTooltip(t,e){var i=this._ecModel,o=this._tooltipModel,a=[e.offsetX,e.offsetY],r=[],s=[],l=n([e.tooltipOption,o]);w(t,function(t){w(t.dataByAxis,function(t){var e=i.getComponent(t.axisDim+"Axis",t.axisIndex),n=t.value,o=[];if(e&&null!=n){var a=_.getValueLabel(n,e.axis,i,t.seriesDataIndices,t.valueLabelOpt);c.each(t.seriesDataIndices,function(r){var l=i.getSeriesByIndex(r.seriesIndex),u=r.dataIndexInside,c=l&&l.getDataParams(u);c.axisDim=t.axisDim,c.axisIndex=t.axisIndex,c.axisType=t.axisType,c.axisId=t.axisId,c.axisValue=x.getAxisRawValue(e.axis,n),c.axisValueLabel=a,c&&(s.push(c),o.push(l.formatTooltip(u,!0)));});var l=a;r.push((l?h.encodeHTML(l)+"<br />":"")+o.join("<br />"));}});},this),r.reverse(),r=r.join("<br /><br />");var u=e.position;this._showOrMove(l,function(){this._updateContentNotChangedOnAxis(t)?this._updatePosition(l,u,a[0],a[1],this._tooltipContent,s):this._showTooltipContent(l,r,s,Math.random(),a[0],a[1],u);});},_showSeriesItemTooltip:function _showSeriesItemTooltip(t,e,i){var o=this._ecModel,a=e.seriesIndex,r=o.getSeriesByIndex(a),s=e.dataModel||r,l=e.dataIndex,u=e.dataType,c=s.getData(),h=n([c.getItemModel(l),s,r&&(r.coordinateSystem||{}).model,this._tooltipModel]),d=h.get("trigger");if(null==d||"item"===d){var f=s.getDataParams(l,u),p=s.formatTooltip(l,!1,u),g="item_"+s.name+"_"+l;this._showOrMove(h,function(){this._showTooltipContent(h,p,f,g,t.offsetX,t.offsetY,t.position,t.target);}),i({type:"showTip",dataIndexInside:l,dataIndex:c.getRawIndex(l),seriesIndex:a,from:this.uid});}},_showComponentItemTooltip:function _showComponentItemTooltip(t,e,i){var n=e.tooltip;if("string"==typeof n){var o=n;n={content:o,formatter:o};}var a=new v(n,this._tooltipModel,this._ecModel),r=a.get("content"),s=Math.random();this._showOrMove(a,function(){this._showTooltipContent(a,r,a.get("formatterParams")||{},s,t.offsetX,t.offsetY,t.position,e);}),i({type:"showTip",from:this.uid});},_showTooltipContent:function _showTooltipContent(t,e,i,n,o,a,r,s){if(this._ticket="",t.get("showContent")&&t.get("show")){var l=this._tooltipContent,u=t.get("formatter");r=r||t.get("position");var c=e;if(u&&"string"==typeof u)c=h.formatTpl(u,i,!0);else if("function"==typeof u){var d=b(function(e,n){e===this._ticket&&(l.setContent(n),this._updatePosition(t,r,o,a,l,i,s));},this);this._ticket=n,c=u(i,n,d);}l.setContent(c),l.show(t),this._updatePosition(t,r,o,a,l,i,s);}},_updatePosition:function _updatePosition(t,e,i,n,o,u,h){var d=this._api.getWidth(),f=this._api.getHeight();e=e||t.get("position");var p=o.getSize(),m=t.get("align"),v=t.get("verticalAlign"),y=h&&h.getBoundingRect().clone();if(h&&y.applyTransform(h.transform),"function"==typeof e&&(e=e([i,n],u,o.el,y,{viewSize:[d,f],contentSize:p.slice()})),c.isArray(e))i=S(e[0],d),n=S(e[1],f);else if(c.isObject(e)){e.width=p[0],e.height=p[1];var x=g.getLayoutRect(e,{width:d,height:f});i=x.x,n=x.y,m=null,v=null;}else if("string"==typeof e&&h){var _=s(e,y,p);i=_[0],n=_[1];}else{var _=a(i,n,o.el,d,f,m?null:20,v?null:20);i=_[0],n=_[1];}if(m&&(i-=l(m)?p[0]/2:"right"===m?p[0]:0),v&&(n-=l(v)?p[1]/2:"bottom"===v?p[1]:0),t.get("confine")){var _=r(i,n,o.el,d,f);i=_[0],n=_[1];}o.moveTo(i,n);},_updateContentNotChangedOnAxis:function _updateContentNotChangedOnAxis(t){var e=this._lastDataByCoordSys,i=!!e&&e.length===t.length;return w(e,function(e,n){var o=e.dataByAxis||{},a=t[n]||{},r=a.dataByAxis||[];i&=o.length===r.length,w(o,function(t,e){var n=r[e]||{},o=t.seriesDataIndices||[],a=n.seriesDataIndices||[];i&=t.value===n.value&&t.axisType===n.axisType&&t.axisId===n.axisId&&o.length===a.length,w(o,function(t,e){var n=a[e];i&=t.seriesIndex===n.seriesIndex&&t.dataIndex===n.dataIndex;});});}),this._lastDataByCoordSys=t,!!i;},_hide:function _hide(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid});},dispose:function dispose(t,e){m.node||(this._tooltipContent.hide(),y.unregister("itemTooltip",e));}});},function(t,e,i){function n(t,e){var i=t.get("center"),n=t.get("radius"),o=e.getWidth(),a=e.getHeight(),r=s.parsePercent;this.cx=r(i[0],o),this.cy=r(i[1],a);var l=this.getRadiusAxis(),u=Math.min(o,a)/2;l.setExtent(0,r(n,u));}function o(t,e){var i=this,n=i.getAngleAxis(),o=i.getRadiusAxis();if(n.scale.setExtent(1/0,-(1/0)),o.scale.setExtent(1/0,-(1/0)),t.eachSeries(function(t){if(t.coordinateSystem===i){var e=t.getData();o.scale.unionExtentFromData(e,"radius"),n.scale.unionExtentFromData(e,"angle");}}),u(n.scale,n.model),u(o.scale,o.model),"category"===n.type&&!n.onBand){var a=n.getExtent(),r=360/n.scale.count();n.inverse?a[1]+=r:a[1]-=r,n.setExtent(a[0],a[1]);}}function a(t,e){if(t.type=e.get("type"),t.scale=l.createScaleByModel(e),t.onBand=e.get("boundaryGap")&&"category"===t.type,"angleAxis"===e.mainType){var i=e.get("startAngle");t.inverse=e.get("inverse")^e.get("clockwise"),t.setExtent(i,i+(t.inverse?-360:360));}e.axis=t,t.model=e;}var r=i(407),s=i(4),l=(i(1),i(18)),u=l.niceScaleExtent;i(408);var c={dimensions:r.prototype.dimensions,create:function create(t,e){var i=[];return t.eachComponent("polar",function(t,s){var l=new r(s);l.resize=n,l.update=o;var u=l.getRadiusAxis(),c=l.getAngleAxis(),h=t.findAxisModel("radiusAxis"),d=t.findAxisModel("angleAxis");a(u,h),a(c,d),l.resize(t,e),i.push(l),t.coordinateSystem=l,l.model=t;}),t.eachSeries(function(e){if("polar"===e.get("coordinateSystem")){var i=t.queryComponents({mainType:"polar",index:e.get("polarIndex"),id:e.get("polarId")})[0];e.coordinateSystem=i.coordinateSystem;}}),i;}};i(26).register("polar",c);},function(t,e,i){function n(t){return parseInt(t,10);}function o(t,e){s.initVML(),this.root=t,this.storage=e;var i=document.createElement("div"),n=document.createElement("div");i.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;",n.style.cssText="position:absolute;left:0;top:0;",t.appendChild(i),this._vmlRoot=n,this._vmlViewport=i,this.resize();var o=e.delFromStorage,a=e.addToStorage;e.delFromStorage=function(t){o.call(e,t),t&&t.onRemove&&t.onRemove(n);},e.addToStorage=function(t){t.onAdd&&t.onAdd(n),a.call(e,t);},this._firstPaint=!0;}function a(t){return function(){r('In IE8.0 VML mode painter not support method "'+t+'"');};}var r=i(52),s=i(182);o.prototype={constructor:o,getViewportRoot:function getViewportRoot(){return this._vmlViewport;},refresh:function refresh(){var t=this.storage.getDisplayList(!0,!0);this._paintList(t);},_paintList:function _paintList(t){for(var e=this._vmlRoot,i=0;i<t.length;i++){var n=t[i];n.invisible||n.ignore?(n.__alreadyNotVisible||n.onRemove(e),n.__alreadyNotVisible=!0):(n.__alreadyNotVisible&&n.onAdd(e),n.__alreadyNotVisible=!1,n.__dirty&&(n.beforeBrush&&n.beforeBrush(),(n.brushVML||n.brush).call(n,e),n.afterBrush&&n.afterBrush())),n.__dirty=!1;}this._firstPaint&&(this._vmlViewport.appendChild(e),this._firstPaint=!1);},resize:function resize(t,e){var t=null==t?this._getWidth():t,e=null==e?this._getHeight():e;if(this._width!=t||this._height!=e){this._width=t,this._height=e;var i=this._vmlViewport.style;i.width=t+"px",i.height=e+"px";}},dispose:function dispose(){this.root.innerHTML="",this._vmlRoot=this._vmlViewport=this.storage=null;},getWidth:function getWidth(){return this._width;},getHeight:function getHeight(){return this._height;},clear:function clear(){this._vmlViewport&&this.root.removeChild(this._vmlViewport);},_getWidth:function _getWidth(){var t=this.root,e=t.currentStyle;return(t.clientWidth||n(e.width))-n(e.paddingLeft)-n(e.paddingRight)|0;},_getHeight:function _getHeight(){var t=this.root,e=t.currentStyle;return(t.clientHeight||n(e.height))-n(e.paddingTop)-n(e.paddingBottom)|0;}};for(var l=["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],u=0;u<l.length;u++){var c=l[u];o.prototype[c]=a(c);}t.exports=o;},function(t,e,i){if(!i(9).canvasSupported){var n=i(5),o=i(11),a=i(27).CMD,r=i(22),s=i(17),l=i(86),u=i(38),c=i(53),h=i(85),d=i(8),f=i(27),p=i(39),g=i(182),m=Math.round,v=Math.sqrt,y=Math.abs,x=Math.cos,_=Math.sin,b=Math.max,w=n.applyTransform,S=",",M="progid:DXImageTransform.Microsoft",I=21600,T=I/2,A=1e5,C=1e3,L=function L(t){t.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;",t.coordsize=I+","+I,t.coordorigin="0,0";},D=function D(t){return String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;");},P=function P(t,e,i){return"rgb("+[t,e,i].join(",")+")";},k=function k(t,e){e&&t&&e.parentNode!==t&&t.appendChild(e);},O=function O(t,e){e&&t&&e.parentNode===t&&t.removeChild(e);},E=function E(t,e,i){return(parseFloat(t)||0)*A+(parseFloat(e)||0)*C+i;},z=function z(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t;},R=function R(t,e,i){var n=r.parse(e);i=+i,isNaN(i)&&(i=1),n&&(t.color=P(n[0],n[1],n[2]),t.opacity=i*n[3]);},N=function N(t){var e=r.parse(t);return[P(e[0],e[1],e[2]),e[3]];},V=function V(t,e,i){var n=e.fill;if(null!=n)if(n instanceof p){var o,a=0,r=[0,0],s=0,l=1,u=i.getBoundingRect(),c=u.width,h=u.height;if("linear"===n.type){o="gradient";var d=i.transform,f=[n.x*c,n.y*h],g=[n.x2*c,n.y2*h];d&&(w(f,f,d),w(g,g,d));var m=g[0]-f[0],v=g[1]-f[1];a=180*Math.atan2(m,v)/Math.PI,a<0&&(a+=360),a<1e-6&&(a=0);}else{o="gradientradial";var f=[n.x*c,n.y*h],d=i.transform,y=i.scale,x=c,_=h;r=[(f[0]-u.x)/x,(f[1]-u.y)/_],d&&w(f,f,d),x/=y[0]*I,_/=y[1]*I;var S=b(x,_);s=0/S,l=2*n.r/S-s;}var M=n.colorStops.slice();M.sort(function(t,e){return t.offset-e.offset;});for(var T=M.length,A=[],C=[],L=0;L<T;L++){var D=M[L],P=N(D.color);C.push(D.offset*l+s+" "+P[0]),0!==L&&L!==T-1||A.push(P);}if(T>=2){var k=A[0][0],O=A[1][0],E=A[0][1]*e.opacity,z=A[1][1]*e.opacity;t.type=o,t.method="none",t.focus="100%",t.angle=a,t.color=k,t.color2=O,t.colors=C.join(","),t.opacity=z,t.opacity2=E;}"radial"===o&&(t.focusposition=r.join(","));}else R(t,n,e.opacity);},B=function B(t,e){null!=e.lineDash&&(t.dashstyle=e.lineDash.join(" ")),null==e.stroke||e.stroke instanceof p||R(t,e.stroke,e.opacity);},G=function G(t,e,i,n){var o="fill"==e,a=t.getElementsByTagName(e)[0];null!=i[e]&&"none"!==i[e]&&(o||!o&&i.lineWidth)?(t[o?"filled":"stroked"]="true",i[e]instanceof p&&O(t,a),a||(a=g.createNode(e)),o?V(a,i,n):B(a,i),k(t,a)):(t[o?"filled":"stroked"]="false",O(t,a));},F=[[],[],[]],H=function H(t,e){var i,n,o,r,s,l,u=a.M,c=a.C,h=a.L,d=a.A,f=a.Q,p=[];for(r=0;r<t.length;){switch(o=t[r++],n="",i=0,o){case u:n=" m ",i=1,s=t[r++],l=t[r++],F[0][0]=s,F[0][1]=l;break;case h:n=" l ",i=1,s=t[r++],l=t[r++],F[0][0]=s,F[0][1]=l;break;case f:case c:n=" c ",i=3;var g,y,b=t[r++],M=t[r++],A=t[r++],C=t[r++];o===f?(g=A,y=C,A=(A+2*b)/3,C=(C+2*M)/3,b=(s+2*b)/3,M=(l+2*M)/3):(g=t[r++],y=t[r++]),F[0][0]=b,F[0][1]=M,F[1][0]=A,F[1][1]=C,F[2][0]=g,F[2][1]=y,s=g,l=y;break;case d:var L=0,D=0,P=1,k=1,O=0;e&&(L=e[4],D=e[5],P=v(e[0]*e[0]+e[1]*e[1]),k=v(e[2]*e[2]+e[3]*e[3]),O=Math.atan2(-e[1]/k,e[0]/P));var E=t[r++],z=t[r++],R=t[r++],N=t[r++],V=t[r++]+O,B=t[r++]+V+O;r++;var G=t[r++],H=E+x(V)*R,W=z+_(V)*N,b=E+x(B)*R,M=z+_(B)*N,Z=G?" wa ":" at ";Math.abs(H-b)<1e-4&&(Math.abs(B-V)>.01?G&&(H+=270/I):Math.abs(W-z)<1e-4?G&&H<E||!G&&H>E?M-=270/I:M+=270/I:G&&W<z||!G&&W>z?b+=270/I:b-=270/I),p.push(Z,m(((E-R)*P+L)*I-T),S,m(((z-N)*k+D)*I-T),S,m(((E+R)*P+L)*I-T),S,m(((z+N)*k+D)*I-T),S,m((H*P+L)*I-T),S,m((W*k+D)*I-T),S,m((b*P+L)*I-T),S,m((M*k+D)*I-T)),s=b,l=M;break;case a.R:var q=F[0],j=F[1];q[0]=t[r++],q[1]=t[r++],j[0]=q[0]+t[r++],j[1]=q[1]+t[r++],e&&(w(q,q,e),w(j,j,e)),q[0]=m(q[0]*I-T),j[0]=m(j[0]*I-T),q[1]=m(q[1]*I-T),j[1]=m(j[1]*I-T),p.push(" m ",q[0],S,q[1]," l ",j[0],S,q[1]," l ",j[0],S,j[1]," l ",q[0],S,j[1]);break;case a.Z:p.push(" x ");}if(i>0){p.push(n);for(var U=0;U<i;U++){var X=F[U];e&&w(X,X,e),p.push(m(X[0]*I-T),S,m(X[1]*I-T),U<i-1?S:"");}}}return p.join("");};d.prototype.brushVML=function(t){var e=this.style,i=this._vmlEl;i||(i=g.createNode("shape"),L(i),this._vmlEl=i),G(i,"fill",e,this),G(i,"stroke",e,this);var n=this.transform,o=null!=n,a=i.getElementsByTagName("stroke")[0];if(a){var r=e.lineWidth;if(o&&!e.strokeNoScale){var s=n[0]*n[3]-n[1]*n[2];r*=v(y(s));}a.weight=r+"px";}var l=this.path||(this.path=new f());this.__dirtyPath&&(l.beginPath(),this.buildPath(l,this.shape),l.toStatic(),this.__dirtyPath=!1),i.path=H(l.data,this.transform),i.style.zIndex=E(this.zlevel,this.z,this.z2),k(t,i),null!=e.text?this.drawRectText(t,this.getBoundingRect()):this.removeRectText(t);},d.prototype.onRemove=function(t){O(t,this._vmlEl),this.removeRectText(t);},d.prototype.onAdd=function(t){k(t,this._vmlEl),this.appendRectText(t);};var W=function W(t){return"object"==(typeof t==="undefined"?"undefined":_typeof(t))&&t.tagName&&"IMG"===t.tagName.toUpperCase();};c.prototype.brushVML=function(t){var e,i,n=this.style,o=n.image;if(W(o)){var a=o.src;if(a===this._imageSrc)e=this._imageWidth,i=this._imageHeight;else{var r=o.runtimeStyle,s=r.width,l=r.height;r.width="auto",r.height="auto",e=o.width,i=o.height,r.width=s,r.height=l,this._imageSrc=a,this._imageWidth=e,this._imageHeight=i;}o=a;}else o===this._imageSrc&&(e=this._imageWidth,i=this._imageHeight);if(o){var u=n.x||0,c=n.y||0,h=n.width,d=n.height,f=n.sWidth,p=n.sHeight,y=n.sx||0,x=n.sy||0,_=f&&p,I=this._vmlEl;I||(I=g.doc.createElement("div"),L(I),this._vmlEl=I);var T,A=I.style,C=!1,D=1,P=1;if(this.transform&&(T=this.transform,D=v(T[0]*T[0]+T[1]*T[1]),P=v(T[2]*T[2]+T[3]*T[3]),C=T[1]||T[2]),C){var O=[u,c],z=[u+h,c],R=[u,c+d],N=[u+h,c+d];w(O,O,T),w(z,z,T),w(R,R,T),w(N,N,T);var V=b(O[0],z[0],R[0],N[0]),B=b(O[1],z[1],R[1],N[1]),G=[];G.push("M11=",T[0]/D,S,"M12=",T[2]/P,S,"M21=",T[1]/D,S,"M22=",T[3]/P,S,"Dx=",m(u*D+T[4]),S,"Dy=",m(c*P+T[5])),A.padding="0 "+m(V)+"px "+m(B)+"px 0",A.filter=M+".Matrix("+G.join("")+", SizingMethod=clip)";}else T&&(u=u*D+T[4],c=c*P+T[5]),A.filter="",A.left=m(u)+"px",A.top=m(c)+"px";var F=this._imageEl,H=this._cropEl;F||(F=g.doc.createElement("div"),this._imageEl=F);var Z=F.style;if(_){if(e&&i)Z.width=m(D*e*h/f)+"px",Z.height=m(P*i*d/p)+"px";else{var q=new Image(),j=this;q.onload=function(){q.onload=null,e=q.width,i=q.height,Z.width=m(D*e*h/f)+"px",Z.height=m(P*i*d/p)+"px",j._imageWidth=e,j._imageHeight=i,j._imageSrc=o;},q.src=o;}H||(H=g.doc.createElement("div"),H.style.overflow="hidden",this._cropEl=H);var U=H.style;U.width=m((h+y*h/f)*D),U.height=m((d+x*d/p)*P),U.filter=M+".Matrix(Dx="+-y*h/f*D+",Dy="+-x*d/p*P+")",H.parentNode||I.appendChild(H),F.parentNode!=H&&H.appendChild(F);}else Z.width=m(D*h)+"px",Z.height=m(P*d)+"px",I.appendChild(F),H&&H.parentNode&&(I.removeChild(H),this._cropEl=null);var X="",Y=n.opacity;Y<1&&(X+=".Alpha(opacity="+m(100*Y)+") "),X+=M+".AlphaImageLoader(src="+o+", SizingMethod=scale)",Z.filter=X,I.style.zIndex=E(this.zlevel,this.z,this.z2),k(t,I),null!=n.text&&this.drawRectText(t,this.getBoundingRect());}},c.prototype.onRemove=function(t){O(t,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(t);},c.prototype.onAdd=function(t){k(t,this._vmlEl),this.appendRectText(t);};var Z,q="normal",j={},U=0,X=100,Y=document.createElement("div"),$=function $(t){var e=j[t];if(!e){U>X&&(U=0,j={});var i,n=Y.style;try{n.font=t,i=n.fontFamily.split(",")[0];}catch(o){}e={style:n.fontStyle||q,variant:n.fontVariant||q,weight:n.fontWeight||q,size:0|parseFloat(n.fontSize||12),family:i||"Microsoft YaHei"},j[t]=e,U++;}return e;};s.measureText=function(t,e){var i=g.doc;Z||(Z=i.createElement("div"),Z.style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",g.doc.body.appendChild(Z));try{Z.style.font=e;}catch(n){}return Z.innerHTML="",Z.appendChild(i.createTextNode(t)),{width:Z.offsetWidth};};for(var K=new o(),J=function J(t,e,i,n){var o=this.style,a=o.text;if(null!=a&&(a+=""),a){var r,l,u=o.textAlign,c=$(o.textFont),h=c.style+" "+c.variant+" "+c.weight+" "+c.size+'px "'+c.family+'"',d=o.textBaseline,f=o.textVerticalAlign;i=i||s.getBoundingRect(a,h,u,d);var p=this.transform;if(p&&!n&&(K.copy(e),K.applyTransform(p),e=K),n)r=e.x,l=e.y;else{var v=o.textPosition,y=o.textDistance;if(v instanceof Array)r=e.x+z(v[0],e.width),l=e.y+z(v[1],e.height),u=u||"left",d=d||"top";else{var x=s.adjustTextPositionOnRect(v,e,i,y);r=x.x,l=x.y,u=u||x.textAlign,d=d||x.textBaseline;}}if(f){switch(f){case"middle":l-=i.height/2;break;case"bottom":l-=i.height;}d="top";}var _=c.size;switch(d){case"hanging":case"top":l+=_/1.75;break;case"middle":break;default:l-=_/2.25;}switch(u){case"left":break;case"center":r-=i.width/2;break;case"right":r-=i.width;}var b,M,I,T=g.createNode,A=this._textVmlEl;A?(I=A.firstChild,b=I.nextSibling,M=b.nextSibling):(A=T("line"),b=T("path"),M=T("textpath"),I=T("skew"),M.style["v-text-align"]="left",L(A),b.textpathok=!0,M.on=!0,A.from="0 0",A.to="1000 0.05",k(A,I),k(A,b),k(A,M),this._textVmlEl=A);var C=[r,l],P=A.style;p&&n?(w(C,C,p),I.on=!0,I.matrix=p[0].toFixed(3)+S+p[2].toFixed(3)+S+p[1].toFixed(3)+S+p[3].toFixed(3)+",0,0",I.offset=(m(C[0])||0)+","+(m(C[1])||0),I.origin="0 0",P.left="0px",P.top="0px"):(I.on=!1,P.left=m(r)+"px",P.top=m(l)+"px"),M.string=D(a);try{M.style.font=h;}catch(O){}G(A,"fill",{fill:n?o.fill:o.textFill,opacity:o.opacity},this),G(A,"stroke",{stroke:n?o.stroke:o.textStroke,opacity:o.opacity,lineDash:o.lineDash},this),A.style.zIndex=E(this.zlevel,this.z,this.z2),k(t,A);}},Q=function Q(t){O(t,this._textVmlEl),this._textVmlEl=null;},tt=function tt(t){k(t,this._textVmlEl);},et=[l,u,c,d,h],it=0;it<et.length;it++){var nt=et[it].prototype;nt.drawRectText=J,nt.removeRectText=Q,nt.appendRectText=tt;}h.prototype.brushVML=function(t){var e=this.style;null!=e.text?this.drawRectText(t,{x:e.x||0,y:e.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(t);},h.prototype.onRemove=function(t){this.removeRectText(t);},h.prototype.onAdd=function(t){this.appendRectText(t);};}},function(t,e,i){i(238),i(87).registerPainter("vml",i(237));},function(t,e,i){var n=i(1),o=i(241),a=i(2);a.registerAction({type:"geoRoam",event:"geoRoam",update:"updateLayout"},function(t,e){var i=t.componentType||"series";e.eachComponent({mainType:i,query:t},function(e){var a=e.coordinateSystem;if("geo"===a.type){var r=o.updateCenterAndZoom(a,t,e.get("scaleLimit"));e.setCenter&&e.setCenter(r.center),e.setZoom&&e.setZoom(r.zoom),"series"===i&&n.each(e.seriesGroup,function(t){t.setCenter(r.center),t.setZoom(r.zoom);});}});});},function(t,e){var i={};i.updateCenterAndZoom=function(t,e,i){var n=t.getZoom(),o=t.getCenter(),a=e.zoom,r=t.dataToPoint(o);if(null!=e.dx&&null!=e.dy){r[0]-=e.dx,r[1]-=e.dy;var o=t.pointToData(r);t.setCenter(o);}if(null!=a){if(i){var s=i.min||0,l=i.max||1/0;a=Math.max(Math.min(n*a,l),s)/n;}t.scale[0]*=a,t.scale[1]*=a;var u=t.position,c=(e.originX-u[0])*(a-1),h=(e.originY-u[1])*(a-1);u[0]-=c,u[1]-=h,t.updateTransform();var o=t.pointToData(r);t.setCenter(o),t.setZoom(a*n);}return{center:t.getCenter(),zoom:t.getZoom()};},t.exports=i;},function(t,e,i){var n=i(5);t.exports=function(t){var e=t.coordinateSystem;if(!e||"view"===e.type){var i=e.getBoundingRect(),o=t.getData(),a=o.graph,r=0,s=o.getSum("value"),l=2*Math.PI/(s||o.count()),u=i.width/2+i.x,c=i.height/2+i.y,h=Math.min(i.width,i.height)/2;a.eachNode(function(t){var e=t.getValue("value");r+=l*(s?e:1)/2,t.setLayout([h*Math.cos(r)+u,h*Math.sin(r)+c]),r+=l*(s?e:1)/2;}),o.setLayout({cx:u,cy:c}),a.eachEdge(function(t){var e,i=t.getModel().get("lineStyle.normal.curveness")||0,o=n.clone(t.node1.getLayout()),a=n.clone(t.node2.getLayout()),r=(o[0]+a[0])/2,s=(o[1]+a[1])/2;+i&&(i*=3,e=[u*i+r*(1-i),c*i+s*(1-i)]),t.setLayout([o,a,e]);});}};},function(t,e,i){var n=i(5);t.exports=function(t){t.eachEdge(function(t){var e=t.getModel().get("lineStyle.normal.curveness")||0,i=n.clone(t.node1.getLayout()),o=n.clone(t.node2.getLayout()),a=[i,o];+e&&a.push([(i[0]+o[0])/2-(i[1]-o[1])*e,(i[1]+o[1])/2-(o[0]-i[0])*e]),t.setLayout(a);});};},function(t,e,i){var n=i(243);t.exports=function(t){var e=t.coordinateSystem;if(!e||"view"===e.type){var i=t.getGraph();i.eachNode(function(t){var e=t.getModel();t.setLayout([+e.get("x"),+e.get("y")]);}),n(i);}};},function(t,e,i){function n(t,e,i){o.Group.call(this),this.add(this.createLine(t,e,i)),this._updateEffectSymbol(t,e);}var o=i(3),a=i(105),r=i(1),s=i(24),l=i(5),u=i(20),c=n.prototype;c.createLine=function(t,e,i){return new a(t,e,i);},c._updateEffectSymbol=function(t,e){var i=t.getItemModel(e),n=i.getModel("effect"),o=n.get("symbolSize"),a=n.get("symbol");r.isArray(o)||(o=[o,o]);var l=n.get("color")||t.getItemVisual(e,"color"),u=this.childAt(1);this._symbolType!==a&&(this.remove(u),u=s.createSymbol(a,-.5,-.5,1,1,l),u.z2=100,u.culling=!0,this.add(u)),u&&(u.setStyle("shadowColor",l),u.setStyle(n.getItemStyle(["color"])),u.attr("scale",o),u.setColor(l),u.attr("scale",o),this._symbolType=a,this._updateEffectAnimation(t,n,e));},c._updateEffectAnimation=function(t,e,i){var n=this.childAt(1);if(n){var o=this,a=t.getItemLayout(i),s=1e3*e.get("period"),l=e.get("loop"),u=e.get("constantSpeed"),c=r.retrieve(e.get("delay"),function(e){return e/t.count()*s/3;}),h="function"==typeof c;if(n.ignore=!0,this.updateAnimationPoints(n,a),u>0&&(s=this.getLineLength(n)/u*1e3),s!==this._period||l!==this._loop){n.stopAnimation();var d=c;h&&(d=c(i)),n.__t>0&&(d=-s*n.__t),n.__t=0;var f=n.animate("",l).when(s,{__t:1}).delay(d).during(function(){o.updateSymbolPosition(n);});l||f.done(function(){o.remove(n);}),f.start();}this._period=s,this._loop=l;}},c.getLineLength=function(t){return l.dist(t.__p1,t.__cp1)+l.dist(t.__cp1,t.__p2);},c.updateAnimationPoints=function(t,e){t.__p1=e[0],t.__p2=e[1],t.__cp1=e[2]||[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2];},c.updateData=function(t,e,i){this.childAt(0).updateData(t,e,i),this._updateEffectSymbol(t,e);},c.updateSymbolPosition=function(t){var e=t.__p1,i=t.__p2,n=t.__cp1,o=t.__t,a=t.position,r=u.quadraticAt,s=u.quadraticDerivativeAt;a[0]=r(e[0],n[0],i[0],o),a[1]=r(e[1],n[1],i[1],o);var l=s(e[0],n[0],i[0],o),c=s(e[1],n[1],i[1],o);t.rotation=-Math.atan2(c,l)-Math.PI/2,t.ignore=!1;},c.updateLayout=function(t,e){this.childAt(0).updateLayout(t,e);var i=t.getItemModel(e).getModel("effect");this._updateEffectAnimation(t,i,e);},r.inherits(n,o.Group),t.exports=n;},function(t,e,i){function n(t,e,i){o.Group.call(this),this._createPolyline(t,e,i);}var o=i(3),a=i(1),r=n.prototype;r._createPolyline=function(t,e,i){var n=t.getItemLayout(e),a=new o.Polyline({shape:{points:n}});this.add(a),this._updateCommonStl(t,e,i);},r.updateData=function(t,e,i){var n=t.hostModel,a=this.childAt(0),r={shape:{points:t.getItemLayout(e)}};o.updateProps(a,r,n,e),this._updateCommonStl(t,e,i);},r._updateCommonStl=function(t,e,i){var n=this.childAt(0),r=t.getItemModel(e),s=t.getItemVisual(e,"color"),l=i&&i.lineStyle,u=i&&i.hoverLineStyle;i&&!t.hasItemOption||(l=r.getModel("lineStyle.normal").getLineStyle(),u=r.getModel("lineStyle.emphasis").getLineStyle()),n.useStyle(a.defaults({strokeNoScale:!0,fill:"none",stroke:s},l)),n.hoverStyle=u,o.setHoverStyle(this);},r.updateLayout=function(t,e){var i=this.childAt(0);i.setShape("points",t.getItemLayout(e));},a.inherits(n,o.Group),t.exports=n;},function(t,e,i){var n=i(14),o=i(417),a=i(264),r=i(25),s=i(26),l=i(1),u=i(28);t.exports=function(t,e,i,c,h){for(var d=new o(c),f=0;f<t.length;f++){d.addNode(l.retrieve(t[f].id,t[f].name,f),f);}for(var p=[],g=[],m=0,f=0;f<e.length;f++){var v=e[f],y=v.source,x=v.target;d.addEdge(y,x,m)&&(g.push(v),p.push(l.retrieve(v.id,y+" > "+x)),m++);}var _,b=i.get("coordinateSystem");if("cartesian2d"===b||"polar"===b)_=u(t,i,i.ecModel);else{var w=s.get(b),S=r((w&&"view"!==w.type?w.dimensions||[]:[]).concat(["value"]),t);_=new n(S,i),_.initData(t);}var M=new n(["value"],i);return M.initData(g,p),h&&h(_,M),a({mainData:_,struct:d,structAttr:"graph",datas:{node:_,edge:M},datasAttr:{node:"data",edge:"edgeData"}}),d.update(),d;};},function(t,e,i){var n=i(1),o={};o.layout=function(t,e){e=e||{};var i=t.coordinateSystem,o=t.axis,a={},r=o.position,s=o.orient,l=i.getRect(),u=[l.x,l.x+l.width,l.y,l.y+l.height],c={horizontal:{top:u[2],bottom:u[3]},vertical:{left:u[0],right:u[1]}};a.position=["vertical"===s?c.vertical[r]:u[0],"horizontal"===s?c.horizontal[r]:u[3]];var h={horizontal:0,vertical:1};a.rotation=Math.PI/2*h[s];var d={top:-1,bottom:1,right:1,left:-1};a.labelDirection=a.tickDirection=a.nameDirection=d[r],t.get("axisTick.inside")&&(a.tickDirection=-a.tickDirection),n.retrieve(e.labelInside,t.get("axisLabel.inside"))&&(a.labelDirection=-a.labelDirection);var f=e.rotate;return null==f&&(f=t.get("axisLabel.rotate")),a.labelRotation="top"===r?-f:f,a.labelInterval=o.getLabelInterval(),a.z2=1,a;},t.exports=o;},function(t,e,i){function n(t,e){var i=t.getItemStyle(),n=t.get("areaColor");return null!=n&&(i.fill=n),i;}function o(t,e,i,n,o){i.off("click"),i.off("mousedown"),e.get("selectedMode")&&(i.on("mousedown",function(){t._mouseDownFlag=!0;}),i.on("click",function(r){if(t._mouseDownFlag){t._mouseDownFlag=!1;for(var s=r.target;!s.__regions;){s=s.parent;}if(s){var l={type:("geo"===e.mainType?"geo":"map")+"ToggleSelect",batch:h.map(s.__regions,function(t){return{name:t.name,from:o.uid};})};l[e.mainType+"Id"]=e.id,n.dispatchAction(l),a(e,i);}}}));}function a(t,e){e.eachChild(function(e){h.each(e.__regions,function(i){e.trigger(t.isSelected(i.name)?"emphasis":"normal");});});}function r(t,e){var i=new c.Group();this._controller=new s(t.getZr()),this._controllerHost={target:e?i:null},this.group=i,this._updateGroup=e,this._mouseDownFlag;}var s=i(93),l=i(250),u=i(127),c=i(3),h=i(1);r.prototype={constructor:r,draw:function draw(t,e,i,r,s){var l="geo"===t.mainType,u=t.getData&&t.getData();l&&e.eachComponent({mainType:"series",subType:"map"},function(e){u||e.getHostGeoModel()!==t||(u=e.getData());});var d=t.coordinateSystem,f=this.group,p=d.scale,g={position:d.position,scale:p};!f.childAt(0)||s?f.attr(g):c.updateProps(f,g,t),f.removeAll();var m=["itemStyle","normal"],v=["itemStyle","emphasis"],y=["label","normal"],x=["label","emphasis"],_={};h.each(d.regions,function(e){var i=_[e.name]||(_[e.name]=new c.Group()),o=new c.CompoundPath({shape:{paths:[]}});i.add(o);var a,r=t.getRegionModel(e.name)||t,s=r.getModel(m),d=r.getModel(v),g=n(s,p),b=n(d,p),w=r.getModel(y),S=r.getModel(x);if(u){a=u.indexOfName(e.name);var M=u.getItemVisual(a,"color",!0);M&&(g.fill=M);}var I=w.getModel("textStyle"),T=S.getModel("textStyle");h.each(e.geometries,function(t){if("polygon"===t.type){o.shape.paths.push(new c.Polygon({shape:{points:t.exterior}}));for(var e=0;e<(t.interiors?t.interiors.length:0);e++){o.shape.paths.push(new c.Polygon({shape:{points:t.interiors[e]}}));}}}),o.setStyle(g),o.style.strokeNoScale=!0,o.culling=!0;var A=w.get("show"),C=S.get("show"),L=u&&isNaN(u.get("value",a)),D=u&&u.getItemLayout(a);if(l||L&&(A||C)||D&&D.showLabel){var P=u?a:e.name,k=t.getFormattedLabel(P,"normal"),O=t.getFormattedLabel(P,"emphasis"),E=new c.Text({style:{text:A?k||e.name:"",fill:I.getTextColor(),textFont:I.getFont(),textAlign:"center",textVerticalAlign:"middle"},hoverStyle:{text:C?O||e.name:"",fill:T.getTextColor(),textFont:T.getFont()},position:e.center.slice(),scale:[1/p[0],1/p[1]],z2:10,silent:!0});i.add(E);}if(u)u.setItemGraphicEl(a,i);else{var r=t.getRegionModel(e.name);o.eventData={componentType:"geo",geoIndex:t.componentIndex,name:e.name,region:r&&r.option||{}};}var z=i.__regions||(i.__regions=[]);z.push(e),c.setHoverStyle(i,b,{hoverSilentOnTouch:!!t.get("selectedMode")}),f.add(i);}),this._updateController(t,e,i),o(this,t,f,i,r),a(t,f);},remove:function remove(){this.group.removeAll(),this._controller.dispose(),this._controllerHost={};},_updateController:function _updateController(t,e,i){function n(){var e={type:"geoRoam",componentType:s};return e[s+"Id"]=t.id,e;}var o=t.coordinateSystem,a=this._controller,r=this._controllerHost;r.zoomLimit=t.get("scaleLimit"),r.zoom=o.getZoom(),a.enable(t.get("roam")||!1);var s=t.mainType;a.off("pan").on("pan",function(t,e){this._mouseDownFlag=!1,l.updateViewOnPan(r,t,e),i.dispatchAction(h.extend(n(),{dx:t,dy:e}));},this),a.off("zoom").on("zoom",function(t,e,o){if(this._mouseDownFlag=!1,l.updateViewOnZoom(r,t,e,o),i.dispatchAction(h.extend(n(),{zoom:t,originX:e,originY:o})),this._updateGroup){var a=this.group,s=a.scale;a.traverse(function(t){"text"===t.type&&t.attr("scale",[1/s[0],1/s[1]]);});}},this),a.setPointerChecker(function(e,n,a){return o.getViewRectAfterRoam().contain(n,a)&&!u.onIrrelevantElement(e,i,t);});}},t.exports=r;},function(t,e){var i={};i.updateViewOnPan=function(t,e,i){var n=t.target,o=n.position;o[0]+=e,o[1]+=i,n.dirty();},i.updateViewOnZoom=function(t,e,i,n){var o=t.target,a=t.zoomLimit,r=o.position,s=o.scale,l=t.zoom=t.zoom||1;if(l*=e,a){var u=a.min||0,c=a.max||1/0;l=Math.max(Math.min(c,l),u);}var h=l/t.zoom;t.zoom=l,r[0]-=(i-r[0])*(h-1),r[1]-=(n-r[1])*(h-1),s[0]*=h,s[1]*=h,o.dirty();},t.exports=i;},function(t,e,i){function n(t,e){var i=t._model;return i.get("axisExpandable")&&i.get("axisExpandTriggerOn")===e;}i(263),i(403),i(371);var o=i(2),a=i(1),r=i(37),s=5;o.extendComponentView({type:"parallel",render:function render(t,e,i){this._model=t,this._api=i,this._handlers||(this._handlers={},a.each(l,function(t,e){i.getZr().on(e,this._handlers[e]=a.bind(t,this));},this)),r.createOrUpdate(this,"_throttledDispatchExpand",t.get("axisExpandRate"),"fixRate");},dispose:function dispose(t,e){a.each(this._handlers,function(t,i){e.getZr().off(i,t);}),this._handlers=null;},_throttledDispatchExpand:function _throttledDispatchExpand(t){this._dispatchExpand(t);},_dispatchExpand:function _dispatchExpand(t){t&&this._api.dispatchAction(a.extend({type:"parallelAxisExpand"},t));}});var l={mousedown:function mousedown(t){n(this,"click")&&(this._mouseDownPoint=[t.offsetX,t.offsetY]);},mouseup:function mouseup(t){var e=this._mouseDownPoint;if(n(this,"click")&&e){var i=[t.offsetX,t.offsetY],o=Math.pow(e[0]-i[0],2)+Math.pow(e[1]-i[1],2);if(o>s)return;var a=this._model.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]);"none"!==a.behavior&&this._dispatchExpand({axisExpandWindow:a.axisExpandWindow});}this._mouseDownPoint=null;},mousemove:function mousemove(t){if(!this._mouseDownPoint&&n(this,"mousemove")){var e=this._model,i=e.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]),o=i.behavior;"jump"===o&&this._throttledDispatchExpand.debounceNextCall(e.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===o?null:{axisExpandWindow:i.axisExpandWindow,animation:"jump"===o&&null});}}};o.registerPreprocessor(i(404));},function(t,e,i){i(416),i(356),i(413),i(55),i(359);var n=i(2);n.extendComponentView({type:"single"});},function(t,e,i){var n=i(2),o=i(1),a=i(9),r=i(266),s=i(82),l=i(187),u=s.mapVisual,c=i(6),h=s.eachVisual,d=i(4),f=o.isArray,p=o.each,g=d.asc,m=d.linearMap,v=o.noop,y=["#f6efa6","#d88273","#bf444c"],x=n.extendComponentModel({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-(1/0),1/0],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:null,min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function init(t,e,i){this._dataExtent,this.targetVisuals={},this.controllerVisuals={},this.textStyleModel,this.itemSize,this.mergeDefaultAndTheme(t,i);},optionUpdated:function optionUpdated(t,e){var i=this.option;a.canvasSupported||(i.realtime=!1),!e&&l.replaceVisualOption(i,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption();},resetVisual:function resetVisual(t){var e=this.stateList;t=o.bind(t,this),this.controllerVisuals=l.createVisualMappings(this.option.controller,e,t),this.targetVisuals=l.createVisualMappings(this.option.target,e,t);},resetTargetSeries:function resetTargetSeries(){var t=this.option,e=null==t.seriesIndex;t.seriesIndex=e?[]:c.normalizeToArray(t.seriesIndex),e&&this.ecModel.eachSeries(function(e,i){t.seriesIndex.push(i);});},eachTargetSeries:function eachTargetSeries(t,e){o.each(this.option.seriesIndex,function(i){t.call(e,this.ecModel.getSeriesByIndex(i));},this);},isTargetSeries:function isTargetSeries(t){var e=!1;return this.eachTargetSeries(function(i){i===t&&(e=!0);}),e;},formatValueText:function formatValueText(t,e,i){function n(t){return t===u[0]?"min":t===u[1]?"max":(+t).toFixed(l);}var a,r,s=this.option,l=s.precision,u=this.dataBound,c=s.formatter;return i=i||["<",">"],o.isArray(t)&&(t=t.slice(),a=!0),r=e?t:a?[n(t[0]),n(t[1])]:n(t),o.isString(c)?c.replace("{value}",a?r[0]:r).replace("{value2}",a?r[1]:r):o.isFunction(c)?a?c(t[0],t[1]):c(t):a?t[0]===u[0]?i[0]+" "+r[1]:t[1]===u[1]?i[1]+" "+r[0]:r[0]+" - "+r[1]:r;},resetExtent:function resetExtent(){var t=this.option,e=g([t.min,t.max]);this._dataExtent=e;},getDataDimension:function getDataDimension(t){var e=this.option.dimension;return null!=e?e:t.dimensions.length-1;},getExtent:function getExtent(){return this._dataExtent.slice();},completeVisualOption:function completeVisualOption(){function t(t){f(n.color)&&!t.inRange&&(t.inRange={color:n.color.slice().reverse()}),t.inRange=t.inRange||{color:y},p(this.stateList,function(e){var i=t[e];if(o.isString(i)){var n=r.get(i,"active",d);n?(t[e]={},t[e][i]=n):delete t[e];}},this);}function e(t,e,i){var n=t[e],o=t[i];n&&!o&&(o=t[i]={},p(n,function(t,e){if(s.isValidType(e)){var i=r.get(e,"inactive",d);null!=i&&(o[e]=i,"color"!==e||o.hasOwnProperty("opacity")||o.hasOwnProperty("colorAlpha")||(o.opacity=[0,0]));}}));}function i(t){var e=(t.inRange||{}).symbol||(t.outOfRange||{}).symbol,i=(t.inRange||{}).symbolSize||(t.outOfRange||{}).symbolSize,n=this.get("inactiveColor");p(this.stateList,function(a){var r=this.itemSize,s=t[a];s||(s=t[a]={color:d?n:[n]}),null==s.symbol&&(s.symbol=e&&o.clone(e)||(d?"roundRect":["roundRect"])),null==s.symbolSize&&(s.symbolSize=i&&o.clone(i)||(d?r[0]:[r[0],r[0]])),s.symbol=u(s.symbol,function(t){return"none"===t||"square"===t?"roundRect":t;});var l=s.symbolSize;if(null!=l){var c=-(1/0);h(l,function(t){t>c&&(c=t);}),s.symbolSize=u(l,function(t){return m(t,[0,c],[0,r[0]],!0);});}},this);}var n=this.option,a={inRange:n.inRange,outOfRange:n.outOfRange},l=n.target||(n.target={}),c=n.controller||(n.controller={});o.merge(l,a),o.merge(c,a);var d=this.isCategory();t.call(this,l),t.call(this,c),e.call(this,l,"inRange","outOfRange"),i.call(this,c);},resetItemSize:function resetItemSize(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))];},isCategory:function isCategory(){return!!this.option.categories;},setSelected:v,getValueState:v,getVisualMeta:v});t.exports=x;},function(t,e,i){var n=i(1),o=i(3),a=i(7),r=i(12),s=i(2),l=i(82);t.exports=s.extendComponentView({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function init(t,e){this.ecModel=t,this.api=e,this.visualMapModel;},render:function render(t,e,i,n){return this.visualMapModel=t,t.get("show")===!1?void this.group.removeAll():void this.doRender.apply(this,arguments);},renderBackground:function renderBackground(t){var e=this.visualMapModel,i=a.normalizeCssArray(e.get("padding")||0),n=t.getBoundingRect();t.add(new o.Rect({z2:-1,silent:!0,shape:{x:n.x-i[3],y:n.y-i[0],width:n.width+i[3]+i[1],height:n.height+i[0]+i[2]},style:{fill:e.get("backgroundColor"),stroke:e.get("borderColor"),lineWidth:e.get("borderWidth")}}));},getControllerVisual:function getControllerVisual(t,e,i){function o(t){return u[t];}function a(t,e){u[t]=e;}i=i||{};var r=i.forceState,s=this.visualMapModel,u={};if("symbol"===e&&(u.symbol=s.get("itemSymbol")),"color"===e){var c=s.get("contentColor");u.color=c;}var h=s.controllerVisuals[r||s.getValueState(t)],d=l.prepareVisualTypes(h);return n.each(d,function(n){var r=h[n];i.convertOpacityToAlpha&&"opacity"===n&&(n="colorAlpha",r=h.__alphaForOpacity),l.dependsOn(n,e)&&r&&r.applyVisual(t,o,a);}),u[e];},positionGroup:function positionGroup(t){var e=this.visualMapModel,i=this.api;r.positionElement(t,e.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()});},doRender:n.noop});},function(t,e,i){var n=i(1),o=i(12),a={getItemAlign:function getItemAlign(t,e,i){var n=t.option,a=n.align;if(null!=a&&"auto"!==a)return a;for(var r={width:e.getWidth(),height:e.getHeight()},s="horizontal"===n.orient?1:0,l=[["left","right","width"],["top","bottom","height"]],u=l[s],c=[0,null,10],h={},d=0;d<3;d++){h[l[1-s][d]]=c[d],h[u[d]]=2===d?i[0]:n[u[d]];}var f=[["x","width",3],["y","height",0]][s],p=o.getLayoutRect(h,r,n.padding);return u[(p.margin[f[2]]||0)+p[f[0]]+.5*p[f[1]]<.5*r[f[1]]?0:1];},convertDataIndex:function convertDataIndex(t){return n.each(t||[],function(e){null!=t.dataIndex&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null);}),t;}};t.exports=a;},function(t,e,i){function n(t,e){return t&&t.hasOwnProperty&&t.hasOwnProperty(e);}var o=i(1),a=o.each;t.exports=function(t){var e=t&&t.visualMap;o.isArray(e)||(e=e?[e]:[]),a(e,function(t){if(t){n(t,"splitList")&&!n(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var e=t.pieces;e&&o.isArray(e)&&a(e,function(t){o.isObject(t)&&(n(t,"start")&&!n(t,"min")&&(t.min=t.start),n(t,"end")&&!n(t,"max")&&(t.max=t.end));});}});};},function(t,e,i){i(13).registerSubTypeDefaulter("visualMap",function(t){return t.categories||(t.pieces?t.pieces.length>0:t.splitNumber>0)&&!t.calculable?"piecewise":"continuous";});},function(t,e,i){function n(t,e){t.eachTargetSeries(function(e){var i=e.getData();s.applyVisual(t.stateList,t.targetVisuals,i,t.getValueState,t,t.getDataDimension(i));});}function o(t){t.eachSeries(function(e){var i=e.getData(),n=[];t.eachComponent("visualMap",function(t){if(t.isTargetSeries(e)){var o=t.getVisualMeta(u.bind(a,null,e,t))||{stops:[],outerColors:[]};o.dimension=t.getDataDimension(i),n.push(o);}}),e.getData().setVisual("visualMeta",n);});}function a(t,e,i,n){function o(t){return u[t];}function a(t,e){u[t]=e;}for(var r=e.targetVisuals[n],s=l.prepareVisualTypes(r),u={color:t.getData().getVisual("color")},c=0,h=s.length;c<h;c++){var d=s[c],f=r["opacity"===d?"__alphaForOpacity":d];f&&f.applyVisual(i,o,a);}return u.color;}var r=i(2),s=i(187),l=i(82),u=i(1);r.registerVisual(r.PRIORITY.VISUAL.COMPONENT,function(t){t.eachComponent("visualMap",function(e){n(e,t);}),o(t);});},function(t,e,i){var n=i(2),o={type:"selectDataRange",event:"dataRangeSelected",update:"update"};n.registerAction(o,function(t,e){e.eachComponent({mainType:"visualMap",query:t},function(e){e.setSelected(t.selected);});});},function(t,e,i){function n(){l.call(this);}function o(t){this.name=t,this.zoomLimit,l.call(this),this._roamTransform=new n(),this._viewTransform=new n(),this._center,this._zoom;}function a(t,e,i,n){var o=i.seriesModel,a=o?o.coordinateSystem:null;return a===this?a[t](n):null;}var r=i(5),s=i(16),l=i(57),u=i(1),c=i(11),h=r.applyTransform;u.mixin(n,l),o.prototype={constructor:o,type:"view",dimensions:["x","y"],setBoundingRect:function setBoundingRect(t,e,i,n){return this._rect=new c(t,e,i,n),this._rect;},getBoundingRect:function getBoundingRect(){return this._rect;},setViewRect:function setViewRect(t,e,i,n){this.transformTo(t,e,i,n),this._viewRect=new c(t,e,i,n);},transformTo:function transformTo(t,e,i,n){var o=this.getBoundingRect(),a=this._viewTransform;a.transform=o.calculateTransform(new c(t,e,i,n)),a.decomposeTransform(),this._updateTransform();},setCenter:function setCenter(t){t&&(this._center=t,this._updateCenterAndZoom());},setZoom:function setZoom(t){t=t||1;var e=this.zoomLimit;e&&(null!=e.max&&(t=Math.min(e.max,t)),null!=e.min&&(t=Math.max(e.min,t))),this._zoom=t,this._updateCenterAndZoom();},getDefaultCenter:function getDefaultCenter(){var t=this.getBoundingRect(),e=t.x+t.width/2,i=t.y+t.height/2;return[e,i];},getCenter:function getCenter(){return this._center||this.getDefaultCenter();},getZoom:function getZoom(){return this._zoom||1;},getRoamTransform:function getRoamTransform(){return this._roamTransform;},_updateCenterAndZoom:function _updateCenterAndZoom(){var t=this._viewTransform.getLocalTransform(),e=this._roamTransform,i=this.getDefaultCenter(),n=this.getCenter(),o=this.getZoom();n=r.applyTransform([],n,t),i=r.applyTransform([],i,t),e.origin=n,e.position=[i[0]-n[0],i[1]-n[1]],e.scale=[o,o],this._updateTransform();},_updateTransform:function _updateTransform(){var t=this._roamTransform,e=this._viewTransform;e.parent=t,t.updateTransform(),e.updateTransform(),e.transform&&s.copy(this.transform||(this.transform=[]),e.transform),this.transform?(this.invTransform=this.invTransform||[],s.invert(this.invTransform,this.transform)):this.invTransform=null,this.decomposeTransform();},getViewRect:function getViewRect(){return this._viewRect;},getViewRectAfterRoam:function getViewRectAfterRoam(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t;},dataToPoint:function dataToPoint(t){var e=this.transform;return e?h([],t,e):[t[0],t[1]];},pointToData:function pointToData(t){var e=this.invTransform;return e?h([],t,e):[t[0],t[1]];},convertToPixel:u.curry(a,"dataToPoint"),convertFromPixel:u.curry(a,"pointToData"),containPoint:function containPoint(t){return this.getViewRectAfterRoam().contain(t[0],t[1]);}},u.mixin(o,l),t.exports=o;},function(t,e,i){function n(t,e,i){if(this.name=t,this.geometries=e,i)i=[i[0],i[1]];else{var n=this.getBoundingRect();i=[n.x+n.width/2,n.y+n.height/2];}this.center=i;}var o=i(267),a=i(11),r=i(84),s=i(5);n.prototype={constructor:n,properties:null,getBoundingRect:function getBoundingRect(){var t=this._rect;if(t)return t;for(var e=Number.MAX_VALUE,i=[e,e],n=[-e,-e],o=[],l=[],u=this.geometries,c=0;c<u.length;c++){if("polygon"===u[c].type){var h=u[c].exterior;r.fromPoints(h,o,l),s.min(i,i,o),s.max(n,n,l);}}return 0===c&&(i[0]=i[1]=n[0]=n[1]=0),this._rect=new a(i[0],i[1],n[0]-i[0],n[1]-i[1]);},contain:function contain(t){var e=this.getBoundingRect(),i=this.geometries;if(!e.contain(t[0],t[1]))return!1;t:for(var n=0,a=i.length;n<a;n++){if("polygon"===i[n].type){var r=i[n].exterior,s=i[n].interiors;if(o.contain(r,t[0],t[1])){for(var l=0;l<(s?s.length:0);l++){if(o.contain(s[l]))continue t;}return!0;}}}return!1;},transformTo:function transformTo(t,e,i,n){var o=this.getBoundingRect(),r=o.width/o.height;i?n||(n=i/r):i=r*n;for(var l=new a(t,e,i,n),u=o.calculateTransform(l),c=this.geometries,h=0;h<c.length;h++){if("polygon"===c[h].type){for(var d=c[h].exterior,f=c[h].interiors,p=0;p<d.length;p++){s.applyTransform(d[p],d[p],u);}for(var g=0;g<(f?f.length:0);g++){for(var p=0;p<f[g].length;p++){s.applyTransform(f[g][p],f[g][p],u);}}}}o=this._rect,o.copy(l),this.center=[o.x+o.width/2,o.y+o.height/2];}},t.exports=n;},function(t,e,i){function n(t){if(!t.UTF8Encoding)return t;var e=t.UTF8Scale;null==e&&(e=1024);for(var i=t.features,n=0;n<i.length;n++){for(var a=i[n],r=a.geometry,s=r.coordinates,l=r.encodeOffsets,u=0;u<s.length;u++){var c=s[u];if("Polygon"===r.type)s[u]=o(c,l[u],e);else if("MultiPolygon"===r.type)for(var h=0;h<c.length;h++){var d=c[h];c[h]=o(d,l[u][h],e);}}}return t.UTF8Encoding=!1,t;}function o(t,e,i){for(var n=[],o=e[0],a=e[1],r=0;r<t.length;r+=2){var s=t.charCodeAt(r)-64,l=t.charCodeAt(r+1)-64;s=s>>1^-(1&s),l=l>>1^-(1&l),s+=o,l+=a,o=s,a=l,n.push([s/i,l/i]);}return n;}var a=i(1),r=i(261);t.exports=function(t){return n(t),a.map(a.filter(t.features,function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0;}),function(t){var e=t.properties,i=t.geometry,n=i.coordinates,o=[];"Polygon"===i.type&&o.push({type:"polygon",exterior:n[0],interiors:n.slice(1)}),"MultiPolygon"===i.type&&a.each(n,function(t){t[0]&&o.push({type:"polygon",exterior:t[0],interiors:t.slice(1)});});var s=new r(e.name,o,e.cp);return s.properties=e,s;});};},function(t,e,i){function n(t,e){var i=[];return t.eachComponent("parallel",function(n,a){var r=new o(n,t,e);r.name="parallel_"+a,r.resize(n,e),n.coordinateSystem=r,r.model=n,i.push(r);}),t.eachSeries(function(e){if("parallel"===e.get("coordinateSystem")){var i=t.queryComponents({mainType:"parallel",index:e.get("parallelIndex"),id:e.get("parallelId")})[0];e.coordinateSystem=i.coordinateSystem;}}),i;}var o=i(401);i(26).register("parallel",{create:n});},function(t,e,i){function n(t){var e=t.mainData,i=t.datas;i||(i={main:e},t.datasAttr={main:"data"}),t.datas=t.mainData=null,u(e,i,t),d(i,function(i){d(e.TRANSFERABLE_METHODS,function(e){i.wrapMethod(e,h.curry(o,t));});}),e.wrapMethod("cloneShallow",h.curry(r,t)),d(e.CHANGABLE_METHODS,function(i){e.wrapMethod(i,h.curry(a,t));}),h.assert(i[e.dataType]===e);}function o(t,e){if(l(this)){var i=h.extend({},this[f]);i[this.dataType]=e,u(e,i,t);}else c(e,this.dataType,this[p],t);return e;}function a(t,e){return t.struct&&t.struct.update(this),e;}function r(t,e){return d(e[f],function(i,n){i!==e&&c(i.cloneShallow(),n,e,t);}),e;}function s(t){var e=this[p];return null==t||null==e?e:e[f][t];}function l(t){return t[p]===t;}function u(t,e,i){t[f]={},d(e,function(e,n){c(e,n,t,i);});}function c(t,e,i,n){i[f][e]=t,t[p]=i,t.dataType=e,n.struct&&(t[n.structAttr]=n.struct,n.struct[n.datasAttr[e]]=t),t.getLinkedData=s;}var h=i(1),d=h.each,f="\0__link_datas",p="\0__link_mainData";t.exports=n;},function(t,e,i){function n(){function t(e,n){if(n>=i.length)return e;for(var a=-1,r=e.length,s=i[n++],l={},u={};++a<r;){var c=s(e[a]),h=u[c];h?h.push(e[a]):u[c]=[e[a]];}return o.each(u,function(e,i){l[i]=t(e,n);}),l;}function e(t,a){if(a>=i.length)return t;var r=[],s=n[a++];return o.each(t,function(t,i){r.push({key:i,values:e(t,a)});}),s?r.sort(function(t,e){return s(t.key,e.key);}):r;}var i=[],n=[];return{key:function key(t){return i.push(t),this;},sortKeys:function sortKeys(t){return n[i.length-1]=t,this;},entries:function entries(i){return e(t(i,0),0);}};}var o=i(1);t.exports=n;},function(t,e,i){var n=i(1),o={get:function get(t,e,i){var o=n.clone((a[t]||{})[e]);return i&&n.isArray(o)?o[o.length-1]:o;}},a={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};t.exports=o;},function(t,e,i){function n(t,e){return Math.abs(t-e)<r;}function o(t,e,i){var o=0,r=t[0];if(!r)return!1;for(var s=1;s<t.length;s++){var l=t[s];o+=a(r[0],r[1],l[0],l[1],e,i),r=l;}var u=t[0];return n(r[0],u[0])&&n(r[1],u[1])||(o+=a(r[0],r[1],u[0],u[1],e,i)),0!==o;}var a=i(98),r=1e-8;t.exports={contain:o};},function(t,e,i){var n=i(89).extend({type:"series.pictorialBar",dependencies:["grid"],defaultOption:{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,hoverAnimation:!1},getInitialData:function getInitialData(t){return t.stack=null,n.superApply(this,"getInitialData",arguments);}});t.exports=n;},function(t,e,i){function n(t,e,i,n){var l=t.getItemLayout(e),u=i.get("symbolRepeat"),c=i.get("symbolClip"),h=i.get("symbolPosition")||"start",d=i.get("symbolRotate"),f=(d||0)*Math.PI/180||0,p=i.get("symbolPatternSize")||2,g=i.isAnimationEnabled(),m={dataIndex:e,layout:l,itemModel:i,symbolType:t.getItemVisual(e,"symbol")||"circle",color:t.getItemVisual(e,"color"),symbolClip:c,symbolRepeat:u,symbolRepeatDirection:i.get("symbolRepeatDirection"),symbolPatternSize:p,rotation:f,animationModel:g?i:null,hoverAnimation:g&&i.get("hoverAnimation"),z2:i.getShallow("z",!0)||0};o(i,u,l,n,m),a(t,e,l,u,c,m.boundingLength,m.pxSign,p,n,m),r(i,m.symbolScale,f,n,m);var v=m.symbolSize,y=i.get("symbolOffset");return I.isArray(y)&&(y=[D(y[0],v[0]),D(y[1],v[1])]),s(i,v,l,u,c,y,h,m.valueLineWidth,m.boundingLength,m.repeatCutLength,n,m),m;}function o(t,e,i,n,o){var a=n.valueDim,r=t.get("symbolBoundingData"),s=n.coordSys.getOtherAxis(n.coordSys.getBaseAxis()),l=s.toGlobalCoord(s.dataToCoord(0)),u=o.boundingLength=null!=r?s.toGlobalCoord(s.dataToCoord(s.scale.parse(r)))-l:e?n.coordSysExtent[a.index][1-+(i[a.wh]<=0)]-l:i[a.wh];e&&(o.repeatCutLength=i[a.wh]),o.pxSign=u>0?1:u<0?-1:0;}function a(t,e,i,n,o,a,r,s,l,u){var c=l.valueDim,h=l.categoryDim,d=Math.abs(i[h.wh]),f=t.getItemVisual(e,"symbolSize");I.isArray(f)?f=f.slice():(null==f&&(f="100%"),f=[f,f]),f[h.index]=D(f[h.index],d),f[c.index]=D(f[c.index],n?d:Math.abs(a)),u.symbolSize=f;var p=u.symbolScale=[f[0]/s,f[1]/s];p[c.index]*=(l.isHorizontal?-1:1)*r;}function r(t,e,i,n,o){var a=t.get(P)||0;a&&(O.attr({scale:e.slice(),rotation:i}),O.updateTransform(),a/=O.getLineScale(),a*=e[n.valueDim.index]),o.valueLineWidth=a;}function s(t,e,i,n,o,a,r,s,l,u,c,h){var d=c.categoryDim,f=c.valueDim,p=h.pxSign,g=Math.max(e[f.index]+s,0),m=g;if(n){var v=Math.abs(l),y=I.retrieve(t.get("symbolMargin"),"15%")+"",x=!1;y.lastIndexOf("!")===y.length-1&&(x=!0,y=y.slice(0,y.length-1)),y=D(y,e[f.index]);var _=Math.max(g+2*y,0),b=x?0:2*y,w=C.isNumeric(n),S=w?n:M((v+b)/_),T=v-S*g;y=T/2/(x?S:S-1),_=g+2*y,b=x?0:2*y,w||"fixed"===n||(S=u?M((Math.abs(u)+b)/_):0),m=S*_-b,h.repeatTimes=S,h.symbolMargin=y;}var A=p*(m/2),L=h.pathPosition=[];L[d.index]=i[d.wh]/2,L[f.index]="start"===r?A:"end"===r?l-A:l/2,a&&(L[0]+=a[0],L[1]+=a[1]);var P=h.bundlePosition=[];P[d.index]=i[d.xy],P[f.index]=i[f.xy];var k=h.barRectShape=I.extend({},i);k[f.wh]=p*Math.max(Math.abs(i[f.wh]),Math.abs(L[f.index]+A)),k[d.wh]=i[d.wh];var O=h.clipShape={};O[d.xy]=-i[d.xy],O[d.wh]=c.ecSize[d.wh],O[f.xy]=0,O[f.wh]=i[f.wh];}function l(t){var e=t.symbolPatternSize,i=A.createSymbol(t.symbolType,-e/2,-e/2,e,e,t.color);return i.attr({culling:!0}),"image"!==i.type&&i.setStyle({strokeNoScale:!0}),i;}function u(t,e,i,n){function o(t){var e=h.slice(),n=i.pxSign,o=t;return("start"===i.symbolRepeatDirection?n>0:n<0)&&(o=f-1-t),e[d.index]=g*(o-f/2+.5)+h[d.index],{position:e,scale:i.symbolScale.slice(),rotation:i.rotation};}function a(){b(t,function(t){t.trigger("emphasis");});}function r(){b(t,function(t){t.trigger("normal");});}var s=t.__pictorialBundle,u=i.symbolSize,c=i.valueLineWidth,h=i.pathPosition,d=e.valueDim,f=i.repeatTimes||0,p=0,g=u[e.valueDim.index]+c+2*i.symbolMargin;for(b(t,function(t){t.__pictorialAnimationIndex=p,t.__pictorialRepeatTimes=f,p<f?w(t,null,o(p),i,n):w(t,null,{scale:[0,0]},i,n,function(){s.remove(t);}),m(t,i),p++;});p<f;p++){var v=l(i);v.__pictorialAnimationIndex=p,v.__pictorialRepeatTimes=f,s.add(v);var y=o(p,!0);w(v,{position:y.position,scale:[0,0]},{scale:y.scale,rotation:y.rotation},i,n),v.on("mouseover",a).on("mouseout",r),m(v,i);}}function c(t,e,i,n){function o(){this.trigger("emphasis");}function a(){this.trigger("normal");}var r=t.__pictorialBundle,s=t.__pictorialMainPath;s?w(s,null,{position:i.pathPosition.slice(),scale:i.symbolScale.slice(),rotation:i.rotation},i,n):(s=t.__pictorialMainPath=l(i),r.add(s),w(s,{position:i.pathPosition.slice(),scale:[0,0],rotation:i.rotation},{scale:i.symbolScale.slice()},i,n),s.on("mouseover",o).on("mouseout",a)),m(s,i);}function h(t,e,i){var n=I.extend({},e.barRectShape),o=t.__pictorialBarRect;o?w(o,null,{shape:n},e,i):(o=t.__pictorialBarRect=new T.Rect({z2:2,shape:n,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),t.add(o));}function d(t,e,i,n){if(i.symbolClip){var o=t.__pictorialClipPath,a=I.extend({},i.clipShape),r=e.valueDim,s=i.animationModel,l=i.dataIndex;if(o)T.updateProps(o,{shape:a},s,l);else{a[r.wh]=0,o=new T.Rect({shape:a}),t.__pictorialBundle.setClipPath(o),t.__pictorialClipPath=o;var u={};u[r.wh]=i.clipShape[r.wh],T[n?"updateProps":"initProps"](o,{shape:u},s,l);}}}function f(t,e){var i=t.getItemModel(e);return i.getAnimationDelayParams=p,i.isAnimationEnabled=g,i;}function p(t){return{index:t.__pictorialAnimationIndex,count:t.__pictorialRepeatTimes};}function g(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation");}function m(t,e){t.off("emphasis").off("normal");var i=e.symbolScale.slice();e.hoverAnimation&&t.on("emphasis",function(){this.animateTo({scale:[1.1*i[0],1.1*i[1]]},400,"elasticOut");}).on("normal",function(){this.animateTo({scale:i.slice()},400,"elasticOut");});}function v(t,e,i,n){var o=new T.Group(),a=new T.Group();return o.add(a),o.__pictorialBundle=a,a.attr("position",i.bundlePosition.slice()),i.symbolRepeat?u(o,e,i):c(o,e,i),h(o,i,n),d(o,e,i,n),o.__pictorialShapeStr=_(t,i),o.__pictorialSymbolMeta=i,o;}function y(t,e,i){var n=i.animationModel,o=i.dataIndex,a=t.__pictorialBundle;T.updateProps(a,{position:i.bundlePosition.slice()},n,o),i.symbolRepeat?u(t,e,i,!0):c(t,e,i,!0),h(t,i,!0),d(t,e,i,!0);}function x(t,e,i,n){var o=n.__pictorialBarRect;o&&(o.style.text="");var a=[];b(n,function(t){a.push(t);}),n.__pictorialMainPath&&a.push(n.__pictorialMainPath),n.__pictorialClipPath&&(i=null),I.each(a,function(t){T.updateProps(t,{scale:[0,0]},i,e,function(){n.parent&&n.parent.remove(n);});}),t.setItemGraphicEl(e,null);}function _(t,e){return[t.getItemVisual(e.dataIndex,"symbol")||"none",!!e.symbolRepeat,!!e.symbolClip].join(":");}function b(t,e,i){I.each(t.__pictorialBundle.children(),function(n){n!==t.__pictorialBarRect&&e.call(i,n);});}function w(t,e,i,n,o,a){e&&t.attr(e),n.symbolClip&&!o?i&&t.attr(i):i&&T[o?"updateProps":"initProps"](t,i,n.animationModel,n.dataIndex,a);}function S(t,e,i){var n=i.color,o=i.dataIndex,a=i.itemModel,r=a.getModel("itemStyle.normal").getItemStyle(["color"]),s=a.getModel("itemStyle.emphasis").getItemStyle();b(t,function(t){t.setColor(n),t.setStyle(I.defaults({fill:n,opacity:i.opacity},r)),T.setHoverStyle(t,s),t.z2=i.z2;});var l={},u=e.valueDim.posDesc[+(i.boundingLength>0)],c=t.__pictorialBarRect;L.setLabel(c.style,l,a,n,e.seriesModel,o,u),T.setHoverStyle(c,l);}function M(t){var e=Math.round(t);return Math.abs(t-e)<1e-4?e:Math.ceil(t);}var I=i(1),T=i(3),A=i(24),C=i(4),L=i(90),D=C.parsePercent,P=["itemStyle","normal","borderWidth"],k=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],O=new T.Circle(),E=i(2).extendChartView({type:"pictorialBar",render:function render(t,e,i){var o=this.group,a=t.getData(),r=this._data,s=t.coordinateSystem,l=s.getBaseAxis(),u=!!l.isHorizontal(),c=s.grid.getRect(),h={ecSize:{width:i.getWidth(),height:i.getHeight()},seriesModel:t,coordSys:s,coordSysExtent:[[c.x,c.x+c.width],[c.y,c.y+c.height]],isHorizontal:u,valueDim:k[+u],categoryDim:k[1-u]};return a.diff(r).add(function(t){if(a.hasValue(t)){var e=f(a,t),i=n(a,t,e,h),r=v(a,h,i);a.setItemGraphicEl(t,r),o.add(r),S(r,h,i);}}).update(function(t,e){var i=r.getItemGraphicEl(e);if(!a.hasValue(t))return void o.remove(i);var s=f(a,t),l=n(a,t,s,h),u=_(a,l);i&&u!==i.__pictorialShapeStr&&(o.remove(i),a.setItemGraphicEl(t,null),i=null),i?y(i,h,l):i=v(a,h,l,!0),a.setItemGraphicEl(t,i),i.__pictorialSymbolMeta=l,o.add(i),S(i,h,l);}).remove(function(t){var e=r.getItemGraphicEl(t);e&&x(r,t,e.__pictorialSymbolMeta.animationModel,e);}).execute(),this._data=a,this.group;},dispose:I.noop,remove:function remove(t,e){var i=this.group,n=this._data;t.get("animation")?n&&n.eachItemGraphicEl(function(e){x(n,e.dataIndex,t,e);}):i.removeAll();}});t.exports=E;},function(t,e,i){var n=i(2);i(271),i(272),n.registerVisual(i(274)),n.registerLayout(i(273));},function(t,e,i){"use strict";var n=i(1),o=i(19),a=i(183),r=o.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],valueDimensions:["min","Q1","median","Q3","max"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,boxWidth:[7,50],itemStyle:{normal:{color:"#fff",borderWidth:1},emphasis:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}});n.mixin(r,a.seriesModelMixin,!0),t.exports=r;},function(t,e,i){"use strict";function n(t,e,i){var n=e.getItemModel(i),o=n.getModel(u),a=e.getItemVisual(i,"color"),s=o.getItemStyle(["borderColor"]),l=t.childAt(t.whiskerIndex);l.style.set(s),l.style.stroke=a,l.dirty();var h=t.childAt(t.bodyIndex);h.style.set(s),h.style.stroke=a,h.dirty();var d=n.getModel(c).getItemStyle();r.setHoverStyle(t,d);}var o=i(1),a=i(30),r=i(3),s=i(183),l=a.extend({type:"boxplot",getStyleUpdater:function getStyleUpdater(){return n;},dispose:o.noop});o.mixin(l,s.viewMixin,!0);var u=["itemStyle","normal"],c=["itemStyle","emphasis"];t.exports=l;},function(t,e,i){function n(t){var e=[],i=[];return t.eachSeriesByType("boxplot",function(t){var n=t.getBaseAxis(),o=r.indexOf(i,n);o<0&&(o=i.length,i[o]=n,e[o]={axis:n,seriesModels:[]}),e[o].seriesModels.push(t);}),e;}function o(t){var e,i,n=t.axis,o=t.seriesModels,a=o.length,s=t.boxWidthList=[],c=t.boxOffsetList=[],h=[];if("category"===n.type)i=n.getBandWidth();else{var d=0;u(o,function(t){d=Math.max(d,t.getData().count());}),e=n.getExtent(),Math.abs(e[1]-e[0])/d;}u(o,function(t){var e=t.get("boxWidth");r.isArray(e)||(e=[e,e]),h.push([l(e[0],i)||0,l(e[1],i)||0]);});var f=.8*i-2,p=f/a*.3,g=(f-p*(a-1))/a,m=g/2-f/2;u(o,function(t,e){c.push(m),m+=p+g,s.push(Math.min(Math.max(g,h[e][0]),h[e][1]));});}function a(t,e,i){var n=t.coordinateSystem,o=t.getData(),a=t.dimensions,r=t.get("layout"),s=i/2;o.each(a,function(){function t(t){var i=[];i[f]=h,i[p]=t;var o;return isNaN(h)||isNaN(t)?o=[NaN,NaN]:(o=n.dataToPoint(i),o[f]+=e),o;}function i(t,e){var i=t.slice(),n=t.slice();i[f]+=s,n[f]-=s,e?x.push(i,n):x.push(n,i);}function l(t){var e=[t.slice(),t.slice()];e[0][f]-=s,e[1][f]+=s,y.push(e);}var u=arguments,c=a.length,h=u[0],d=u[c],f="horizontal"===r?0:1,p=1-f,g=t(u[3]),m=t(u[1]),v=t(u[5]),y=[[m,t(u[2])],[v,t(u[4])]];l(m),l(v),l(g);var x=[];i(y[0][1],0),i(y[1][1],1),o.setItemLayout(d,{chartLayout:r,initBaseline:g[p],median:g,bodyEnds:x,whiskerEnds:y});});}var r=i(1),s=i(4),l=s.parsePercent,u=r.each;t.exports=function(t){var e=n(t);u(e,function(t){var e=t.seriesModels;e.length&&(o(t),u(e,function(e,i){a(e,t.boxOffsetList[i],t.boxWidthList[i]);}));});};},function(t,e){var i=["itemStyle","normal","borderColor"];t.exports=function(t,e){var n=t.get("color");t.eachRawSeriesByType("boxplot",function(e){var o=n[e.seriesIndex%n.length],a=e.getData();a.setVisual({legendSymbol:"roundRect",color:e.get(i)||o}),t.isSeriesFiltered(e)||a.each(function(t){var e=a.getItemModel(t);a.setItemVisual(t,{color:e.get(i,!0)});});});};},function(t,e,i){var n=i(2);i(276),i(277),n.registerPreprocessor(i(280)),n.registerVisual(i(279)),n.registerLayout(i(278));},function(t,e,i){"use strict";var n=i(1),o=i(19),a=i(183),r=i(7),s=r.encodeHTML,l=r.addCommas,u=o.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],valueDimensions:["open","close","lowest","highest"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,itemStyle:{normal:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function getShadowDim(){return"open";},formatTooltip:function formatTooltip(t,e){var i=n.map(this.valueDimensions,function(e){return s(e+": "+l(this.getData().get(e,t)));},this).join("<br />"),o=[];return null!=this.name&&o.push(s(this.name)),null!=i&&o.push(i),o.join("<br />");},brushSelector:function brushSelector(t,e,i){var n=e.getItemLayout(t);return i.rect(n.brushRect);}});n.mixin(u,a.seriesModelMixin,!0),t.exports=u;},function(t,e,i){"use strict";function n(t,e,i){var n=e.getItemModel(i),o=n.getModel(u),a=e.getItemVisual(i,"color"),s=e.getItemVisual(i,"borderColor")||a,l=o.getItemStyle(["color","color0","borderColor","borderColor0"]),h=t.childAt(t.whiskerIndex);h.useStyle(l),h.style.stroke=s;var d=t.childAt(t.bodyIndex);d.useStyle(l),d.style.fill=a,d.style.stroke=s;var f=n.getModel(c).getItemStyle();r.setHoverStyle(t,f);}var o=i(1),a=i(30),r=i(3),s=i(183),l=a.extend({type:"candlestick",getStyleUpdater:function getStyleUpdater(){return n;},dispose:o.noop});o.mixin(l,s.viewMixin,!0);var u=["itemStyle","normal"],c=["itemStyle","emphasis"];t.exports=l;},function(t,e,i){function n(t,e){var i,n=t.getBaseAxis(),r="category"===n.type?n.getBandWidth():(i=n.getExtent(),Math.abs(i[1]-i[0])/e.count()),s=a(o(t.get("barMaxWidth"),r),r),l=a(o(t.get("barMinWidth"),1),r),u=t.get("barWidth");return null!=u?a(u,r):Math.max(Math.min(r/2,s),l);}var o=i(1).retrieve,a=i(4).parsePercent;t.exports=function(t){t.eachSeriesByType("candlestick",function(t){var e=t.coordinateSystem,i=t.getData(),o=t.dimensions,a=t.get("layout"),r=n(t,i);i.each(o,function(){function t(t){var i=[];return i[d]=c,i[f]=t,isNaN(c)||isNaN(t)?[NaN,NaN]:e.dataToPoint(i);}function n(t,e){var i=t.slice(),n=t.slice();i[d]+=r/2,n[d]-=r/2,e?I.push(i,n):I.push(n,i);}function s(){var e=t(Math.min(p,g,m,v)),i=t(Math.max(p,g,m,v));return e[d]-=r/2,i[d]-=r/2,{x:e[0],y:e[1],width:f?r:i[0]-e[0],height:f?i[1]-e[1]:r};}var l=arguments,u=o.length,c=l[0],h=l[u],d="horizontal"===a?0:1,f=1-d,p=l[1],g=l[2],m=l[3],v=l[4],y=Math.min(p,g),x=Math.max(p,g),_=t(y),b=t(x),w=t(m),S=t(v),M=[[S,b],[w,_]],I=[];n(b,0),n(_,1),i.setItemLayout(h,{chartLayout:a,sign:p>g?-1:p<g?1:0,initBaseline:p>g?b[f]:_[f],bodyEnds:I,whiskerEnds:M,brushRect:s()});},!0);});};},function(t,e){var i=["itemStyle","normal","borderColor"],n=["itemStyle","normal","borderColor0"],o=["itemStyle","normal","color"],a=["itemStyle","normal","color0"];t.exports=function(t,e){t.eachRawSeriesByType("candlestick",function(e){var r=e.getData();r.setVisual({legendSymbol:"roundRect"}),t.isSeriesFiltered(e)||r.each(function(t){var e=r.getItemModel(t),s=r.getItemLayout(t).sign;r.setItemVisual(t,{color:e.get(s>0?o:a),borderColor:e.get(s>0?i:n)});});});};},function(t,e,i){var n=i(1);t.exports=function(t){t&&n.isArray(t.series)&&n.each(t.series,function(t){n.isObject(t)&&"k"===t.type&&(t.type="candlestick");});};},function(t,e,i){var n=i(1),o=i(2);i(282),i(283),o.registerVisual(n.curry(i(50),"effectScatter","circle",null)),o.registerLayout(n.curry(i(60),"effectScatter"));},function(t,e,i){"use strict";var n=i(28),o=i(19);t.exports=o.extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function getInitialData(t,e){var i=n(t.data,this,e);return i;},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10}});},function(t,e,i){var n=i(44),o=i(310);i(2).extendChartView({type:"effectScatter",init:function init(){this._symbolDraw=new n(o);},render:function render(t,e,i){var n=t.getData(),o=this._symbolDraw;o.updateData(n),this.group.add(o.group);},updateLayout:function updateLayout(){this._symbolDraw.updateLayout();},remove:function remove(t,e){this._symbolDraw&&this._symbolDraw.remove(e);},dispose:function dispose(){}});},function(t,e,i){var n=i(1),o=i(2);i(285),i(286),o.registerVisual(n.curry(i(83),"funnel")),o.registerLayout(i(287)),o.registerProcessor(n.curry(i(62),"funnel"));},function(t,e,i){"use strict";var n=i(14),o=i(6),a=i(25),r=i(2).extendSeriesModel({type:"series.funnel",init:function init(t){r.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData();},this._defaultLabelLine(t);},getInitialData:function getInitialData(t,e){var i=a(["value"],t.data),o=new n(i,this);return o.initData(t.data),o;},_defaultLabelLine:function _defaultLabelLine(t){o.defaultEmphasis(t.labelLine,["show"]);var e=t.labelLine.normal,i=t.labelLine.emphasis;e.show=e.show&&t.label.normal.show,i.show=i.show&&t.label.emphasis.show;},getDataParams:function getDataParams(t){var e=this.getData(),i=r.superCall(this,"getDataParams",t),n=e.getSum("value");return i.percent=n?+(e.get("value",t)/n*100).toFixed(2):0,i.$vars.push("percent"),i;},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",gap:0,funnelAlign:"center",label:{normal:{show:!0,position:"outer"},emphasis:{show:!0}},labelLine:{normal:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},emphasis:{}},itemStyle:{normal:{borderColor:"#fff",borderWidth:1},emphasis:{}}}});t.exports=r;},function(t,e,i){function n(t,e){function i(){r.ignore=r.hoverIgnore,s.ignore=s.hoverIgnore;}function n(){r.ignore=r.normalIgnore,s.ignore=s.normalIgnore;}a.Group.call(this);var o=new a.Polygon(),r=new a.Polyline(),s=new a.Text();this.add(o),this.add(r),this.add(s),this.updateData(t,e,!0),this.on("emphasis",i).on("normal",n).on("mouseover",i).on("mouseout",n);}function o(t,e,i,n){var o=n.getModel("textStyle"),a=n.get("position"),s="inside"===a||"inner"===a||"center"===a;return{fill:o.getTextColor()||(s?"#fff":t.getItemVisual(e,"color")),textFont:o.getFont(),text:r.retrieve(t.hostModel.getFormattedLabel(e,i),t.getName(e))};}var a=i(3),r=i(1),s=n.prototype,l=["itemStyle","normal","opacity"];s.updateData=function(t,e,i){var n=this.childAt(0),o=t.hostModel,s=t.getItemModel(e),u=t.getItemLayout(e),c=t.getItemModel(e).get(l);c=null==c?1:c,n.useStyle({}),i?(n.setShape({points:u.points}),n.setStyle({opacity:0}),a.initProps(n,{style:{opacity:c}},o,e)):a.updateProps(n,{style:{opacity:c},shape:{points:u.points}},o,e);var h=s.getModel("itemStyle"),d=t.getItemVisual(e,"color");n.setStyle(r.defaults({lineJoin:"round",fill:d},h.getModel("normal").getItemStyle(["opacity"]))),n.hoverStyle=h.getModel("emphasis").getItemStyle(),this._updateLabel(t,e),a.setHoverStyle(this);},s._updateLabel=function(t,e){var i=this.childAt(1),n=this.childAt(2),r=t.hostModel,s=t.getItemModel(e),l=t.getItemLayout(e),u=l.label,c=t.getItemVisual(e,"color");a.updateProps(i,{shape:{points:u.linePoints||u.linePoints}},r,e),a.updateProps(n,{style:{x:u.x,y:u.y}},r,e),n.attr({style:{textAlign:u.textAlign,textVerticalAlign:u.verticalAlign,textFont:u.font},rotation:u.rotation,origin:[u.x,u.y],z2:10});var h=s.getModel("label.normal"),d=s.getModel("label.emphasis"),f=s.getModel("labelLine.normal"),p=s.getModel("labelLine.emphasis");n.setStyle(o(t,e,"normal",h)),n.ignore=n.normalIgnore=!h.get("show"),n.hoverIgnore=!d.get("show"),i.ignore=i.normalIgnore=!f.get("show"),i.hoverIgnore=!p.get("show"),i.setStyle({stroke:c}),i.setStyle(f.getModel("lineStyle").getLineStyle()),n.hoverStyle=o(t,e,"emphasis",d),i.hoverStyle=p.getModel("lineStyle").getLineStyle();},r.inherits(n,a.Group);var u=i(30).extend({type:"funnel",render:function render(t,e,i){var o=t.getData(),a=this._data,r=this.group;o.diff(a).add(function(t){var e=new n(o,t);o.setItemGraphicEl(t,e),r.add(e);}).update(function(t,e){var i=a.getItemGraphicEl(e);i.updateData(o,t),r.add(i),o.setItemGraphicEl(t,i);}).remove(function(t){var e=a.getItemGraphicEl(t);r.remove(e);}).execute(),this._data=o;},remove:function remove(){this.group.removeAll(),this._data=null;},dispose:function dispose(){}});t.exports=u;},function(t,e,i){function n(t,e){return r.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()});}function o(t,e){for(var i=t.mapArray("value",function(t){return t;}),n=[],o="ascending"===e,a=0,r=t.count();a<r;a++){n[a]=a;}return"function"==typeof e?n.sort(e):"none"!==e&&n.sort(function(t,e){return o?i[t]-i[e]:i[e]-i[t];}),n;}function a(t){t.each(function(e){var i,n,o,a,r=t.getItemModel(e),s=r.getModel("label.normal"),l=s.get("position"),u=r.getModel("labelLine.normal"),c=t.getItemLayout(e),h=c.points,d="inner"===l||"inside"===l||"center"===l;if(d)n=(h[0][0]+h[1][0]+h[2][0]+h[3][0])/4,o=(h[0][1]+h[1][1]+h[2][1]+h[3][1])/4,i="center",a=[[n,o],[n,o]];else{var f,p,g,m=u.get("length");"left"===l?(f=(h[3][0]+h[0][0])/2,p=(h[3][1]+h[0][1])/2,g=f-m,n=g-5,i="right"):(f=(h[1][0]+h[2][0])/2,p=(h[1][1]+h[2][1])/2,g=f+m,n=g+5,i="left");var v=p;a=[[f,p],[g,v]],o=v;}c.label={linePoints:a,x:n,y:o,verticalAlign:"middle",textAlign:i,inside:d};});}var r=i(12),s=i(4),l=s.parsePercent;t.exports=function(t,e,i){t.eachSeriesByType("funnel",function(t){var i=t.getData(),r=t.get("sort"),u=n(t,e),c=o(i,r),h=[l(t.get("minSize"),u.width),l(t.get("maxSize"),u.width)],d=i.getDataExtent("value"),f=t.get("min"),p=t.get("max");null==f&&(f=Math.min(d[0],0)),null==p&&(p=d[1]);var g=t.get("funnelAlign"),m=t.get("gap"),v=(u.height-m*(i.count()-1))/i.count(),y=u.y,x=function x(t,e){var n,o=i.get("value",t)||0,a=s.linearMap(o,[f,p],h,!0);switch(g){case"left":n=u.x;break;case"center":n=u.x+(u.width-a)/2;break;case"right":n=u.x+u.width-a;}return[[n,e],[n+a,e]];};"ascending"===r&&(v=-v,m=-m,y+=u.height,c=c.reverse());for(var _=0;_<c.length;_++){var b=c[_],w=c[_+1],S=x(b,y),M=x(w,y+v);y+=v+m,i.setItemLayout(b,{points:S.concat(M.slice().reverse())});}a(i);});};},function(t,e,i){i(289),i(290);},function(t,e,i){var n=i(14),o=i(19),a=i(1),r=o.extend({type:"series.gauge",getInitialData:function getInitialData(t,e){var i=new n(["value"],this),o=t.data||[];return a.isArray(o)||(o=[o]),i.initData(o),i;},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,textStyle:{color:"auto"}},pointer:{show:!0,length:"80%",width:8},itemStyle:{normal:{color:"auto"}},title:{show:!0,offsetCenter:[0,"-40%"],textStyle:{color:"#333",fontSize:15}},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:40,offsetCenter:[0,"40%"],textStyle:{color:"auto",fontSize:30}}}});t.exports=r;},function(t,e,i){function n(t,e){var i=t.get("center"),n=e.getWidth(),o=e.getHeight(),a=Math.min(n,o),r=l(i[0],e.getWidth()),s=l(i[1],e.getHeight()),u=l(t.get("radius"),a/2);return{cx:r,cy:s,r:u};}function o(t,e){return e&&("string"==typeof e?t=e.replace("{value}",null!=t?t:""):"function"==typeof e&&(t=e(t))),t;}var a=i(291),r=i(3),s=i(4),l=s.parsePercent,u=2*Math.PI,c=i(30).extend({type:"gauge",render:function render(t,e,i){this.group.removeAll();var o=t.get("axisLine.lineStyle.color"),a=n(t,i);this._renderMain(t,e,i,o,a);},dispose:function dispose(){},_renderMain:function _renderMain(t,e,i,n,o){for(var a=this.group,s=t.getModel("axisLine"),l=s.getModel("lineStyle"),c=t.get("clockwise"),h=-t.get("startAngle")/180*Math.PI,d=-t.get("endAngle")/180*Math.PI,f=(d-h)%u,p=h,g=l.get("width"),m=0;m<n.length;m++){var v=Math.min(Math.max(n[m][0],0),1),d=h+f*v,y=new r.Sector({shape:{startAngle:p,endAngle:d,cx:o.cx,cy:o.cy,clockwise:c,r0:o.r-g,r:o.r},silent:!0});y.setStyle({fill:n[m][1]}),y.setStyle(l.getLineStyle(["color","borderWidth","borderColor"])),a.add(y),p=d;}var x=function x(t){if(t<=0)return n[0][1];for(var e=0;e<n.length;e++){if(n[e][0]>=t&&(0===e?0:n[e-1][0])<t)return n[e][1];}return n[e-1][1];};if(!c){var _=h;h=d,d=_;}this._renderTicks(t,e,i,x,o,h,d,c),this._renderPointer(t,e,i,x,o,h,d,c),this._renderTitle(t,e,i,x,o),this._renderDetail(t,e,i,x,o);},_renderTicks:function _renderTicks(t,e,i,n,a,u,c,h){for(var d=this.group,f=a.cx,p=a.cy,g=a.r,m=+t.get("min"),v=+t.get("max"),y=t.getModel("splitLine"),x=t.getModel("axisTick"),_=t.getModel("axisLabel"),b=t.get("splitNumber"),w=x.get("splitNumber"),S=l(y.get("length"),g),M=l(x.get("length"),g),I=u,T=(c-u)/b,A=T/w,C=y.getModel("lineStyle").getLineStyle(),L=x.getModel("lineStyle").getLineStyle(),D=_.getModel("textStyle"),P=0;P<=b;P++){var k=Math.cos(I),O=Math.sin(I);if(y.get("show")){var E=new r.Line({shape:{x1:k*g+f,y1:O*g+p,x2:k*(g-S)+f,y2:O*(g-S)+p},style:C,silent:!0});"auto"===C.stroke&&E.setStyle({stroke:n(P/b)}),d.add(E);}if(_.get("show")){var z=o(s.round(P/b*(v-m)+m),_.get("formatter")),R=_.get("distance"),N=new r.Text({style:{text:z,x:k*(g-S-R)+f,y:O*(g-S-R)+p,fill:D.getTextColor(),textFont:D.getFont(),textVerticalAlign:O<-.4?"top":O>.4?"bottom":"middle",textAlign:k<-.4?"left":k>.4?"right":"center"},silent:!0});"auto"===N.style.fill&&N.setStyle({fill:n(P/b)}),d.add(N);}if(x.get("show")&&P!==b){for(var V=0;V<=w;V++){var k=Math.cos(I),O=Math.sin(I),B=new r.Line({shape:{x1:k*g+f,y1:O*g+p,x2:k*(g-M)+f,y2:O*(g-M)+p},silent:!0,style:L});"auto"===L.stroke&&B.setStyle({stroke:n((P+V/w)/b)}),d.add(B),I+=A;}I-=A;}else I+=T;}},_renderPointer:function _renderPointer(t,e,i,n,o,u,c,h){var d=this.group,f=this._data;if(!t.get("pointer.show"))return void(f&&f.eachItemGraphicEl(function(t){d.remove(t);}));var p=[+t.get("min"),+t.get("max")],g=[u,c],m=t.getData();m.diff(f).add(function(e){var i=new a({shape:{angle:u}});r.initProps(i,{shape:{angle:s.linearMap(m.get("value",e),p,g,!0)}},t),d.add(i),m.setItemGraphicEl(e,i);}).update(function(e,i){var n=f.getItemGraphicEl(i);r.updateProps(n,{shape:{angle:s.linearMap(m.get("value",e),p,g,!0)}},t),d.add(n),m.setItemGraphicEl(e,n);}).remove(function(t){var e=f.getItemGraphicEl(t);d.remove(e);}).execute(),m.eachItemGraphicEl(function(t,e){var i=m.getItemModel(e),a=i.getModel("pointer");t.setShape({x:o.cx,y:o.cy,width:l(a.get("width"),o.r),r:l(a.get("length"),o.r)}),t.useStyle(i.getModel("itemStyle.normal").getItemStyle()),"auto"===t.style.fill&&t.setStyle("fill",n(s.linearMap(m.get("value",e),p,[0,1],!0))),r.setHoverStyle(t,i.getModel("itemStyle.emphasis").getItemStyle());}),this._data=m;},_renderTitle:function _renderTitle(t,e,i,n,o){var a=t.getModel("title");if(a.get("show")){var u=a.getModel("textStyle"),c=a.get("offsetCenter"),h=o.cx+l(c[0],o.r),d=o.cy+l(c[1],o.r),f=new r.Text({style:{x:h,y:d,text:t.getData().getName(0),fill:u.getTextColor(),textFont:u.getFont(),textAlign:"center",textVerticalAlign:"middle"}});if("auto"===f.style.fill){var p=+t.get("min"),g=+t.get("max"),m=t.getData().get("value",0);f.setStyle("fill",n(s.linearMap(m,[p,g],[0,1],!0)));}this.group.add(f);}},_renderDetail:function _renderDetail(t,e,i,n,a){var u=t.getModel("detail"),c=+t.get("min"),h=+t.get("max");if(u.get("show")){var d=u.getModel("textStyle"),f=u.get("offsetCenter"),p=a.cx+l(f[0],a.r),g=a.cy+l(f[1],a.r),m=l(u.get("width"),a.r),v=l(u.get("height"),a.r),y=t.getData().get("value",0),x=new r.Rect({shape:{x:p-m/2,y:g-v/2,width:m,height:v},style:{text:o(y,u.get("formatter")),fill:u.get("backgroundColor"),textFill:d.getTextColor(),textFont:d.getFont()}});"auto"===x.style.textFill&&x.setStyle("textFill",n(s.linearMap(y,[c,h],[0,1],!0))),x.setStyle(u.getItemStyle(["color"])),this.group.add(x);}}});t.exports=c;},function(t,e,i){t.exports=i(8).extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function buildPath(t,e){var i=Math.cos,n=Math.sin,o=e.r,a=e.width,r=e.angle,s=e.x-i(r)*a*(a>=o/3?1:2),l=e.y-n(r)*a*(a>=o/3?1:2);r=e.angle-Math.PI/2,t.moveTo(s,l),t.lineTo(e.x+i(r)*a,e.y+n(r)*a),t.lineTo(e.x+i(e.angle)*o,e.y+n(e.angle)*o),t.lineTo(e.x-i(r)*a,e.y-n(r)*a),t.lineTo(s,l);}});},function(t,e,i){var n=i(2),o=i(1);i(293),i(294),i(303),n.registerProcessor(i(296)),n.registerVisual(o.curry(i(50),"graph","circle",null)),n.registerVisual(i(297)),n.registerVisual(i(300)),n.registerLayout(i(304)),n.registerLayout(i(298)),n.registerLayout(i(302)),n.registerCoordinateSystem("graphView",{create:i(299)});},function(t,e,i){"use strict";var n=i(14),o=i(1),a=i(6),r=i(10),s=i(7),l=i(247),u=i(2).extendSeriesModel({type:"series.graph",init:function init(t){u.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._categoriesData;},this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData();},mergeOption:function mergeOption(t){u.superApply(this,"mergeOption",arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData();},mergeDefaultAndTheme:function mergeDefaultAndTheme(t){u.superApply(this,"mergeDefaultAndTheme",arguments),a.defaultEmphasis(t.edgeLabel,a.LABEL_OPTIONS);},getInitialData:function getInitialData(t,e){function i(t,i){function n(t){return t=this.parsePath(t),t&&"label"===t[0]?s:this.parentModel;}t.wrapMethod("getItemModel",function(t){var e=a._categoriesModels,i=t.getShallow("category"),n=e[i];return n&&(n.parentModel=t.parentModel,t.parentModel=n),t;});var o=a.getModel("edgeLabel"),s=new r({label:o.option},o.parentModel,e);i.wrapMethod("getItemModel",function(t){return t.customizeGetParent(n),t;});}var n=t.edges||t.links||[],o=t.data||t.nodes||[],a=this;if(o&&n)return l(o,n,this,!0,i).data;},getGraph:function getGraph(){return this.getData().graph;},getEdgeData:function getEdgeData(){return this.getGraph().edgeData;},getCategoriesData:function getCategoriesData(){return this._categoriesData;},formatTooltip:function formatTooltip(t,e,i){if("edge"===i){var n=this.getData(),o=this.getDataParams(t,i),a=n.graph.getEdgeByIndex(t),r=n.getName(a.node1.dataIndex),l=n.getName(a.node2.dataIndex),c=[];return null!=r&&c.push(r),null!=l&&c.push(l),c=s.encodeHTML(c.join(" > ")),o.value&&(c+=" : "+s.encodeHTML(o.value)),c;}return u.superApply(this,"formatTooltip",arguments);},_updateCategoriesData:function _updateCategoriesData(){var t=o.map(this.option.categories||[],function(t){return null!=t.value?t:o.extend({value:0},t);}),e=new n(["value"],this);e.initData(t),this._categoriesData=e,this._categoriesModels=e.mapArray(function(t){return e.getItemModel(t,!0);});},setZoom:function setZoom(t){this.option.zoom=t;},setCenter:function setCenter(t){this.option.center=t;},isAnimationEnabled:function isAnimationEnabled(){return u.superCall(this,"isAnimationEnabled")&&!("force"===this.get("layout")&&this.get("force.layoutAnimation"));},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{normal:{position:"middle"},emphasis:{}},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{normal:{show:!1,formatter:"{b}"},emphasis:{show:!0}},itemStyle:{normal:{},emphasis:{}},lineStyle:{normal:{color:"#aaa",width:1,curveness:0,opacity:.5},emphasis:{}}}});t.exports=u;},function(t,e,i){function n(t,e){return t.getVisual("opacity")||t.getModel().get(e);}var o=i(44),a=i(106),r=i(93),s=i(250),l=i(127),u=i(3),c=i(295),h=i(1),d=["itemStyle","normal","opacity"],f=["lineStyle","normal","opacity"];i(2).extendChartView({type:"graph",init:function init(t,e){var i=new o(),n=new a(),s=this.group;this._controller=new r(e.getZr()),this._controllerHost={target:s},s.add(i.group),s.add(n.group),this._symbolDraw=i,this._lineDraw=n,this._firstRender=!0;},render:function render(t,e,i){var n=t.coordinateSystem;this._model=t,this._nodeScaleRatio=t.get("nodeScaleRatio");var o=this._symbolDraw,a=this._lineDraw,r=this.group;if("view"===n.type){var s={position:n.position,scale:n.scale};this._firstRender?r.attr(s):u.updateProps(r,s,t);}c(t.getGraph(),this._getNodeGlobalScale(t));var l=t.getData();o.updateData(l);var h=t.getEdgeData();a.updateData(h),this._updateNodeAndLinkScale(),this._updateController(t,e,i),clearTimeout(this._layoutTimeout);var d=t.forceLayout,f=t.get("force.layoutAnimation");d&&this._startForceLayoutIteration(d,f),l.eachItemGraphicEl(function(e,n){var o=l.getItemModel(n);e.off("drag").off("dragend");var a=l.getItemModel(n).get("draggable");a&&e.on("drag",function(){d&&(d.warmUp(),!this._layouting&&this._startForceLayoutIteration(d,f),d.setFixed(n),l.setItemLayout(n,e.position));},this).on("dragend",function(){d&&d.setUnfixed(n);},this),e.setDraggable(a&&d),e.off("mouseover",e.__focusNodeAdjacency),e.off("mouseout",e.__unfocusNodeAdjacency),o.get("focusNodeAdjacency")&&(e.on("mouseover",e.__focusNodeAdjacency=function(){i.dispatchAction({type:"focusNodeAdjacency",seriesId:t.id,dataIndex:e.dataIndex});}),e.on("mouseout",e.__unfocusNodeAdjacency=function(){i.dispatchAction({type:"unfocusNodeAdjacency",seriesId:t.id});}));},this);var p="circular"===t.get("layout")&&t.get("circular.rotateLabel"),g=l.getLayout("cx"),m=l.getLayout("cy");l.eachItemGraphicEl(function(t,e){var i=t.getSymbolPath();if(p){var n=l.getItemLayout(e),o=Math.atan2(n[1]-m,n[0]-g);o<0&&(o=2*Math.PI+o);var a=n[0]<g;a&&(o-=Math.PI);var r=a?"left":"right";i.setStyle({textRotation:o,textPosition:r}),i.hoverStyle&&(i.hoverStyle.textPosition=r);}else i.setStyle({textRotation:0});}),this._firstRender=!1;},dispose:function dispose(){this._controller&&this._controller.dispose(),this._controllerHost={};},focusNodeAdjacency:function focusNodeAdjacency(t,e,i,o){function a(t,e){var i=n(t,e),o=t.getGraphicEl();null==i&&(i=1),o.traverse(function(t){t.trigger("normal"),"group"!==t.type&&t.setStyle("opacity",.1*i);});}function r(t,e){var i=n(t,e),o=t.getGraphicEl();o.traverse(function(t){t.trigger("emphasis"),"group"!==t.type&&t.setStyle("opacity",i);});}var s=this._model.getData(),l=o.dataIndex,u=s.getItemGraphicEl(l);if(u){var c=s.graph,p=u.dataType;if(null!==l&&"edge"!==p){c.eachNode(function(t){a(t,d);}),c.eachEdge(function(t){a(t,f);});var g=c.getNodeByIndex(l);r(g,d),h.each(g.edges,function(t){t.dataIndex<0||(r(t,f),r(t.node1,d),r(t.node2,d));});}}},unfocusNodeAdjacency:function unfocusNodeAdjacency(t,e,i,o){var a=this._model.getData().graph;a.eachNode(function(t){var e=n(t,d);t.getGraphicEl().traverse(function(t){t.trigger("normal"),"group"!==t.type&&t.setStyle("opacity",e);});}),a.eachEdge(function(t){var e=n(t,f);t.getGraphicEl().traverse(function(t){t.trigger("normal"),"group"!==t.type&&t.setStyle("opacity",e);});});},_startForceLayoutIteration:function _startForceLayoutIteration(t,e){var i=this;!function n(){t.step(function(t){i.updateLayout(i._model),(i._layouting=!t)&&(e?i._layoutTimeout=setTimeout(n,16):n());});}();},_updateController:function _updateController(t,e,i){var n=this._controller,o=this._controllerHost,a=this.group;return n.setPointerChecker(function(e,n,o){var r=a.getBoundingRect();return r.applyTransform(a.transform),r.contain(n,o)&&!l.onIrrelevantElement(e,i,t);}),"view"!==t.coordinateSystem.type?void n.disable():(n.enable(t.get("roam")),o.zoomLimit=t.get("scaleLimit"),o.zoom=t.coordinateSystem.getZoom(),void n.off("pan").off("zoom").on("pan",function(e,n){s.updateViewOnPan(o,e,n),i.dispatchAction({seriesId:t.id,type:"graphRoam",dx:e,dy:n});}).on("zoom",function(e,n,a){s.updateViewOnZoom(o,e,n,a),i.dispatchAction({seriesId:t.id,type:"graphRoam",zoom:e,originX:n,originY:a}),this._updateNodeAndLinkScale(),c(t.getGraph(),this._getNodeGlobalScale(t)),this._lineDraw.updateLayout();},this));},_updateNodeAndLinkScale:function _updateNodeAndLinkScale(){var t=this._model,e=t.getData(),i=this._getNodeGlobalScale(t),n=[i,i];e.eachItemGraphicEl(function(t,e){t.attr("scale",n);});},_getNodeGlobalScale:function _getNodeGlobalScale(t){var e=t.coordinateSystem;if("view"!==e.type)return 1;var i=this._nodeScaleRatio,n=e.scale,o=n&&n[0]||1,a=e.getZoom(),r=(a-1)*i+1;return r/o;},updateLayout:function updateLayout(t){c(t.getGraph(),this._getNodeGlobalScale(t)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout();},remove:function remove(t,e){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove();}});},function(t,e,i){function n(t,e,i){for(var n,o=t[0],a=t[1],d=t[2],f=1/0,p=i*i,g=.1,m=.1;m<=.9;m+=.1){r[0]=u(o[0],a[0],d[0],m),r[1]=u(o[1],a[1],d[1],m);var v=h(c(r,e)-p);v<f&&(f=v,n=m);}for(var y=0;y<32;y++){var x=n+g;s[0]=u(o[0],a[0],d[0],n),s[1]=u(o[1],a[1],d[1],n),l[0]=u(o[0],a[0],d[0],x),l[1]=u(o[1],a[1],d[1],x);var v=c(s,e)-p;if(h(v)<.01)break;var _=c(l,e)-p;g/=2,v<0?_>=0?n+=g:n-=g:_>=0?n-=g:n+=g;}return n;}var o=i(20),a=i(5),r=[],s=[],l=[],u=o.quadraticAt,c=a.distSquare,h=Math.abs;t.exports=function(t,e){function i(t){var e=t.getVisual("symbolSize");return e instanceof Array&&(e=(e[0]+e[1])/2),e;}var r=[],s=o.quadraticSubdivide,l=[[],[],[]],u=[[],[]],c=[];e/=2,t.eachEdge(function(t,o){var h=t.getLayout(),d=t.getVisual("fromSymbol"),f=t.getVisual("toSymbol");h.__original||(h.__original=[a.clone(h[0]),a.clone(h[1])],h[2]&&h.__original.push(a.clone(h[2])));var p=h.__original;if(null!=h[2]){if(a.copy(l[0],p[0]),a.copy(l[1],p[2]),a.copy(l[2],p[1]),d&&"none"!=d){var g=i(t.node1),m=n(l,p[0],g*e);s(l[0][0],l[1][0],l[2][0],m,r),l[0][0]=r[3],l[1][0]=r[4],s(l[0][1],l[1][1],l[2][1],m,r),l[0][1]=r[3],l[1][1]=r[4];}if(f&&"none"!=f){var g=i(t.node2),m=n(l,p[1],g*e);s(l[0][0],l[1][0],l[2][0],m,r),l[1][0]=r[1],l[2][0]=r[2],s(l[0][1],l[1][1],l[2][1],m,r),l[1][1]=r[1],l[2][1]=r[2];}a.copy(h[0],l[0]),a.copy(h[1],l[2]),a.copy(h[2],l[1]);}else{if(a.copy(u[0],p[0]),a.copy(u[1],p[1]),a.sub(c,u[1],u[0]),a.normalize(c,c),d&&"none"!=d){var g=i(t.node1);a.scaleAndAdd(u[0],u[0],c,g*e);}if(f&&"none"!=f){var g=i(t.node2);a.scaleAndAdd(u[1],u[1],c,-g*e);}a.copy(h[0],u[0]),a.copy(h[1],u[1]);}});};},function(t,e){t.exports=function(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.eachSeriesByType("graph",function(t){var i=t.getCategoriesData(),n=t.getGraph(),o=n.data,a=i.mapArray(i.getName);o.filterSelf(function(t){var i=o.getItemModel(t),n=i.getShallow("category");if(null!=n){"number"==typeof n&&(n=a[n]);for(var r=0;r<e.length;r++){if(!e[r].isSelected(n))return!1;}}return!0;});},this);};},function(t,e){t.exports=function(t){var e={};t.eachSeriesByType("graph",function(t){var i=t.getCategoriesData(),n=t.getData(),o={};i.each(function(n){var a=i.getName(n);o[a]=n;var r=i.getItemModel(n),s=r.get("itemStyle.normal.color")||t.getColorFromPalette(a,e);i.setItemVisual(n,"color",s);}),i.count()&&n.each(function(t){var e=n.getItemModel(t),a=e.getShallow("category");null!=a&&("string"==typeof a&&(a=o[a]),n.getItemVisual(t,"color",!0)||n.setItemVisual(t,"color",i.getItemVisual(a,"color")));});});};},function(t,e,i){var n=i(242);t.exports=function(t){t.eachSeriesByType("graph",function(t){"circular"===t.get("layout")&&n(t);});};},function(t,e,i){function n(t,e,i){var n=t.getBoxLayoutParams();return n.aspect=i,a.getLayoutRect(n,{width:e.getWidth(),height:e.getHeight()});}var o=i(260),a=i(12),r=i(84);t.exports=function(t,e){var i=[];return t.eachSeriesByType("graph",function(t){var a=t.get("coordinateSystem");if(!a||"view"===a){var s=t.getData(),l=s.mapArray(function(t){var e=s.getItemModel(t);return[+e.get("x"),+e.get("y")];}),u=[],c=[];r.fromPoints(l,u,c),c[0]-u[0]===0&&(c[0]+=1,u[0]-=1),c[1]-u[1]===0&&(c[1]+=1,u[1]-=1);var h=(c[0]-u[0])/(c[1]-u[1]),d=n(t,e,h);isNaN(h)&&(u=[d.x,d.y],c=[d.x+d.width,d.y+d.height]);var f=c[0]-u[0],p=c[1]-u[1],g=d.width,m=d.height,v=t.coordinateSystem=new o();v.zoomLimit=t.get("scaleLimit"),v.setBoundingRect(u[0],u[1],f,p),v.setViewRect(d.x,d.y,g,m),v.setCenter(t.get("center")),v.setZoom(t.get("zoom")),i.push(v);}}),i;};},function(t,e){function i(t){return t instanceof Array||(t=[t,t]),t;}t.exports=function(t){t.eachSeriesByType("graph",function(t){var e=t.getGraph(),n=t.getEdgeData(),o=i(t.get("edgeSymbol")),a=i(t.get("edgeSymbolSize")),r="lineStyle.normal.color".split("."),s="lineStyle.normal.opacity".split(".");n.setVisual("fromSymbol",o&&o[0]),n.setVisual("toSymbol",o&&o[1]),n.setVisual("fromSymbolSize",a&&a[0]),n.setVisual("toSymbolSize",a&&a[1]),n.setVisual("color",t.get(r)),n.setVisual("opacity",t.get(s)),n.each(function(t){var o=n.getItemModel(t),a=e.getEdgeByIndex(t),l=i(o.getShallow("symbol",!0)),u=i(o.getShallow("symbolSize",!0)),c=o.get(r),h=o.get(s);switch(c){case"source":c=a.node1.getVisual("color");break;case"target":c=a.node2.getVisual("color");}l[0]&&a.setVisual("fromSymbol",l[0]),l[1]&&a.setVisual("toSymbol",l[1]),u[0]&&a.setVisual("fromSymbolSize",u[0]),u[1]&&a.setVisual("toSymbolSize",u[1]),a.setVisual("color",c),a.setVisual("opacity",h);});});};},function(t,e,i){var n=i(5),o=n.scaleAndAdd;t.exports=function(t,e,i){for(var a=i.rect,r=a.width,s=a.height,l=[a.x+r/2,a.y+s/2],u=null==i.gravity?.1:i.gravity,c=0;c<t.length;c++){var h=t[c];h.p||(h.p=n.create(r*(Math.random()-.5)+l[0],s*(Math.random()-.5)+l[1])),h.pp=n.clone(h.p),h.edges=null;}var d=.6;return{warmUp:function warmUp(){d=.5;},setFixed:function setFixed(e){t[e].fixed=!0;},setUnfixed:function setUnfixed(e){t[e].fixed=!1;},step:function step(i){for(var a=[],r=t.length,s=0;s<e.length;s++){var c=e[s],h=c.n1,f=c.n2;n.sub(a,f.p,h.p);var p=n.len(a)-c.d,g=f.w/(h.w+f.w);n.normalize(a,a),!h.fixed&&o(h.p,h.p,a,g*p*d),!f.fixed&&o(f.p,f.p,a,-(1-g)*p*d);}for(var s=0;s<r;s++){var m=t[s];m.fixed||(n.sub(a,l,m.p),n.scaleAndAdd(m.p,m.p,a,u*d));}for(var s=0;s<r;s++){for(var h=t[s],v=s+1;v<r;v++){var f=t[v];n.sub(a,f.p,h.p);var p=n.len(a);0===p&&(n.set(a,Math.random()-.5,Math.random()-.5),p=1);var y=(h.rep+f.rep)/p/p;!h.fixed&&o(h.pp,h.pp,a,y),!f.fixed&&o(f.pp,f.pp,a,-y);}}for(var x=[],s=0;s<r;s++){var m=t[s];m.fixed||(n.sub(x,m.p,m.pp),n.scaleAndAdd(m.p,m.p,x,d),n.copy(m.pp,m.p));}d=.992*d,i&&i(t,e,d<.01);}};};},function(t,e,i){var n=i(301),o=i(4),a=i(244),r=i(242),s=i(5),l=i(1);t.exports=function(t){t.eachSeriesByType("graph",function(t){var e=t.coordinateSystem;if(!e||"view"===e.type)if("force"===t.get("layout")){var i=t.preservedPoints||{},u=t.getGraph(),c=u.data,h=u.edgeData,d=t.getModel("force"),f=d.get("initLayout");t.preservedPoints?c.each(function(t){var e=c.getId(t);c.setItemLayout(t,i[e]||[NaN,NaN]);}):f&&"none"!==f?"circular"===f&&r(t):a(t);var p=c.getDataExtent("value"),g=h.getDataExtent("value"),m=d.get("repulsion"),v=d.get("edgeLength");l.isArray(m)||(m=[m,m]),l.isArray(v)||(v=[v,v]),v=[v[1],v[0]];var y=c.mapArray("value",function(t,e){var i=c.getItemLayout(e),n=o.linearMap(t,p,m);return isNaN(n)&&(n=(m[0]+m[1])/2),{w:n,rep:n,p:!i||isNaN(i[0])||isNaN(i[1])?null:i};}),x=h.mapArray("value",function(t,e){var i=u.getEdgeByIndex(e),n=o.linearMap(t,g,v);return isNaN(n)&&(n=(v[0]+v[1])/2),{n1:y[i.node1.dataIndex],n2:y[i.node2.dataIndex],d:n,curveness:i.getModel().get("lineStyle.normal.curveness")||0};}),e=t.coordinateSystem,_=e.getBoundingRect(),b=n(y,x,{rect:_,gravity:d.get("gravity")}),w=b.step;b.step=function(t){for(var e=0,n=y.length;e<n;e++){y[e].fixed&&s.copy(y[e].p,u.getNodeByIndex(e).getLayout());}w(function(e,n,o){for(var a=0,r=e.length;a<r;a++){e[a].fixed||u.getNodeByIndex(a).setLayout(e[a].p),i[c.getId(a)]=e[a].p;}for(var a=0,r=n.length;a<r;a++){var l=n[a],h=u.getEdgeByIndex(a),d=l.n1.p,f=l.n2.p,p=h.getLayout();p=p?p.slice():[],p[0]=p[0]||[],p[1]=p[1]||[],s.copy(p[0],d),s.copy(p[1],f),+l.curveness&&(p[2]=[(d[0]+f[0])/2-(d[1]-f[1])*l.curveness,(d[1]+f[1])/2-(f[0]-d[0])*l.curveness]),h.setLayout(p);}t&&t(o);});},t.forceLayout=b,t.preservedPoints=i,b.step();}else t.forceLayout=null;});};},function(t,e,i){var n=i(2),o=i(241),a={type:"graphRoam",event:"graphRoam",update:"none"};n.registerAction(a,function(t,e){e.eachComponent({mainType:"series",query:t},function(e){var i=e.coordinateSystem,n=o.updateCenterAndZoom(i,t);e.setCenter&&e.setCenter(n.center),e.setZoom&&e.setZoom(n.zoom);});}),n.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series.graph:focusNodeAdjacency"},function(){}),n.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series.graph:unfocusNodeAdjacency"},function(){});},function(t,e,i){var n=i(244),o=i(243);t.exports=function(t,e){t.eachSeriesByType("graph",function(t){var e=t.get("layout"),i=t.coordinateSystem;if(i&&"view"!==i.type){var a=t.getData(),r=i.dimensions;a.each(r,function(){for(var t,e=arguments,n=[],o=0;o<r.length;o++){isNaN(e[o])||(t=!0),n.push(e[o]);}var s=e[e.length-1];t?a.setItemLayout(s,i.dataToPoint(n)):a.setItemLayout(s,[NaN,NaN]);}),o(a.graph);}else e&&"none"!==e||n(t);});};},function(t,e,i){i(307),i(308);},function(t,e,i){function n(){var t=a.createCanvas();this.canvas=t,this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={};}var o=256,a=i(1);n.prototype={update:function update(t,e,i,n,a,r){var s=this._getBrush(),l=this._getGradient(t,a,"inRange"),u=this._getGradient(t,a,"outOfRange"),c=this.pointSize+this.blurSize,h=this.canvas,d=h.getContext("2d"),f=t.length;h.width=e,h.height=i;for(var p=0;p<f;++p){var g=t[p],m=g[0],v=g[1],y=g[2],x=n(y);d.globalAlpha=x,d.drawImage(s,m-c,v-c);}for(var _=d.getImageData(0,0,h.width,h.height),b=_.data,w=0,S=b.length,M=this.minOpacity,I=this.maxOpacity,T=I-M;w<S;){var x=b[w+3]/256,A=4*Math.floor(x*(o-1));if(x>0){var C=r(x)?l:u;x>0&&(x=x*T+M),b[w++]=C[A],b[w++]=C[A+1],b[w++]=C[A+2],b[w++]=C[A+3]*x*256;}else w+=4;}return d.putImageData(_,0,0),h;},_getBrush:function _getBrush(){var t=this._brushCanvas||(this._brushCanvas=a.createCanvas()),e=this.pointSize+this.blurSize,i=2*e;t.width=i,t.height=i;var n=t.getContext("2d");return n.clearRect(0,0,i,i),n.shadowOffsetX=i,n.shadowBlur=this.blurSize,n.shadowColor="#000",n.beginPath(),n.arc(-e,e,this.pointSize,0,2*Math.PI,!0),n.closePath(),n.fill(),t;},_getGradient:function _getGradient(t,e,i){for(var n=this._gradientPixels,o=n[i]||(n[i]=new Uint8ClampedArray(1024)),a=[0,0,0,0],r=0,s=0;s<256;s++){e[i](s/255,!0,a),o[r++]=a[0],o[r++]=a[1],o[r++]=a[2],o[r++]=a[3];}return o;}},t.exports=n;},function(t,e,i){var n=i(19),o=i(28);t.exports=n.extend({type:"series.heatmap",getInitialData:function getInitialData(t,e){return o(t.data,this,e);},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}});},function(t,e,i){function n(t,e,i){var n=t[1]-t[0];e=l.map(e,function(e){return{interval:[(e.interval[0]-t[0])/n,(e.interval[1]-t[0])/n]};});var o=e.length,a=0;return function(t){for(var n=a;n<o;n++){var r=e[n].interval;if(r[0]<=t&&t<=r[1]){a=n;break;}}if(n===o)for(var n=a-1;n>=0;n--){var r=e[n].interval;if(r[0]<=t&&t<=r[1]){a=n;break;}}return n>=0&&n<o&&i[n];};}function o(t,e){var i=t[1]-t[0];return e=[(e[0]-t[0])/i,(e[1]-t[0])/i],function(t){return t>=e[0]&&t<=e[1];};}function a(t){var e=t.dimensions;return"lng"===e[0]&&"lat"===e[1];}var r=i(3),s=i(306),l=i(1);t.exports=i(2).extendChartView({type:"heatmap",render:function render(t,e,i){var n;e.eachComponent("visualMap",function(e){e.eachTargetSeries(function(i){i===t&&(n=e);});}),this.group.removeAll();var o=t.coordinateSystem;"cartesian2d"===o.type||"calendar"===o.type?this._renderOnCartesianAndCalendar(o,t,i):a(o)&&this._renderOnGeo(o,t,n,i);},dispose:function dispose(){},_renderOnCartesianAndCalendar:function _renderOnCartesianAndCalendar(t,e,i){if("cartesian2d"===t.type)var n=t.getAxis("x"),o=t.getAxis("y"),a=n.getBandWidth(),s=o.getBandWidth();var u=this.group,c=e.getData(),h="itemStyle.normal",d="itemStyle.emphasis",f="label.normal",p="label.emphasis",g=e.getModel(h).getItemStyle(["color"]),m=e.getModel(d).getItemStyle(),v=e.getModel("label.normal"),y=e.getModel("label.emphasis");c.each("cartesian2d"===t.type?["x","y","z"]:["time","value"],function(i,n,o,x){var _;if("cartesian2d"===t.type){if(isNaN(o))return;var b=t.dataToPoint([i,n]);_=new r.Rect({shape:{x:b[0]-a/2,y:b[1]-s/2,width:a,height:s},style:{fill:c.getItemVisual(x,"color"),opacity:c.getItemVisual(x,"opacity")}});}else{if(isNaN(n))return;x=o,_=new r.Rect({z2:1,shape:t.dataToRect([i,n]).contentShape,style:{fill:c.getItemVisual(x,"color"),opacity:c.getItemVisual(x,"opacity")}});}var w=c.getItemModel(x);c.hasItemOption&&(g=w.getModel(h).getItemStyle(["color"]),m=w.getModel(d).getItemStyle(),v=w.getModel(f),y=w.getModel(p));var S=e.getRawValue(x),M="-";S&&null!=S[2]&&(M=S[2]),v.getShallow("show")&&(r.setText(g,v),g.text=e.getFormattedLabel(x,"normal")||M),y.getShallow("show")&&(r.setText(m,y),m.text=e.getFormattedLabel(x,"emphasis")||M),_.setStyle(g),r.setHoverStyle(_,c.hasItemOption?m:l.extend({},m)),u.add(_),c.setItemGraphicEl(x,_);});},_renderOnGeo:function _renderOnGeo(t,e,i,a){var l=i.targetVisuals.inRange,u=i.targetVisuals.outOfRange,c=e.getData(),h=this._hmLayer||this._hmLayer||new s();h.blurSize=e.get("blurSize"),h.pointSize=e.get("pointSize"),h.minOpacity=e.get("minOpacity"),h.maxOpacity=e.get("maxOpacity");var d=t.getViewRect().clone(),f=t.getRoamTransform().transform;d.applyTransform(f);var p=Math.max(d.x,0),g=Math.max(d.y,0),m=Math.min(d.width+d.x,a.getWidth()),v=Math.min(d.height+d.y,a.getHeight()),y=m-p,x=v-g,_=c.mapArray(["lng","lat","value"],function(e,i,n){var o=t.dataToPoint([e,i]);return o[0]-=p,o[1]-=g,o.push(n),o;}),b=i.getExtent(),w="visualMap.continuous"===i.type?o(b,i.option.range):n(b,i.getPieceList(),i.option.selected);h.update(_,y,x,l.color.getNormalizer(),{inRange:l.color.getColorMapper(),outOfRange:u.color.getColorMapper()},w);var S=new r.Image({style:{width:y,height:x,x:p,y:g,image:h.canvas},silent:!0});this.group.add(S);}});},function(t,e,i){function n(t,e,i){r.call(this,t,e,i),this._lastFrame=0,this._lastFramePercent=0;}var o=i(246),a=i(1),r=i(245),s=i(5),l=n.prototype;l.createLine=function(t,e,i){return new o(t,e,i);},l.updateAnimationPoints=function(t,e){this._points=e;for(var i=[0],n=0,o=1;o<e.length;o++){var a=e[o-1],r=e[o];n+=s.dist(a,r),i.push(n);}if(0!==n){for(var o=0;o<i.length;o++){i[o]/=n;}this._offsets=i,this._length=n;}},l.getLineLength=function(t){return this._length;},l.updateSymbolPosition=function(t){var e=t.__t,i=this._points,n=this._offsets,o=i.length;if(n){var a,r=this._lastFrame;if(e<this._lastFramePercent){var l=Math.min(r+1,o-1);for(a=l;a>=0&&!(n[a]<=e);a--){}a=Math.min(a,o-2);}else{for(var a=r;a<o&&!(n[a]>e);a++){}a=Math.min(a-1,o-2);}s.lerp(t.position,i[a],i[a+1],(e-n[a])/(n[a+1]-n[a]));var u=i[a+1][0]-i[a][0],c=i[a+1][1]-i[a][1];t.rotation=-Math.atan2(c,u)-Math.PI/2,this._lastFrame=a,this._lastFramePercent=e,t.ignore=!1;}},a.inherits(n,r),t.exports=n;},function(t,e,i){function n(t){return r.isArray(t)||(t=[+t,+t]),t;}function o(t,e){t.eachChild(function(t){t.attr({z:e.z,zlevel:e.zlevel,style:{stroke:"stroke"===e.brushType?e.color:null,fill:"fill"===e.brushType?e.color:null}});});}function a(t,e){h.call(this);var i=new c(t,e),n=new h();this.add(i),this.add(n),n.beforeUpdate=function(){this.attr(i.getScale());},this.updateData(t,e);}var r=i(1),s=i(24),l=i(3),u=i(4),c=i(54),h=l.Group,d=3,f=a.prototype;f.stopEffectAnimation=function(){this.childAt(1).removeAll();},f.startEffectAnimation=function(t){for(var e=t.symbolType,i=t.color,n=this.childAt(1),a=0;a<d;a++){var r=s.createSymbol(e,-1,-1,2,2,i);r.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[.5,.5]});var l=-a/d*t.period+t.effectOffset;r.animate("",!0).when(t.period,{scale:[t.rippleScale/2,t.rippleScale/2]}).delay(l).start(),r.animateStyle(!0).when(t.period,{opacity:0}).delay(l).start(),n.add(r);}o(n,t);},f.updateEffectAnimation=function(t){for(var e=this._effectCfg,i=this.childAt(1),n=["symbolType","period","rippleScale"],a=0;a<n;a++){var r=n[a];if(e[r]!==t[r])return this.stopEffectAnimation(),void this.startEffectAnimation(t);}o(i,t);},f.highlight=function(){this.trigger("emphasis");},f.downplay=function(){this.trigger("normal");},f.updateData=function(t,e){var i=t.hostModel;this.childAt(0).updateData(t,e);var o=this.childAt(1),a=t.getItemModel(e),r=t.getItemVisual(e,"symbol"),s=n(t.getItemVisual(e,"symbolSize")),l=t.getItemVisual(e,"color");o.attr("scale",s),o.traverse(function(t){t.attr({fill:l});});var c=a.getShallow("symbolOffset");if(c){var h=o.position;h[0]=u.parsePercent(c[0],s[0]),h[1]=u.parsePercent(c[1],s[1]);}o.rotation=(a.getShallow("symbolRotate")||0)*Math.PI/180||0;var d={};if(d.showEffectOn=i.get("showEffectOn"),d.rippleScale=a.get("rippleEffect.scale"),d.brushType=a.get("rippleEffect.brushType"),d.period=1e3*a.get("rippleEffect.period"),d.effectOffset=e/t.count(),d.z=a.getShallow("z")||0,d.zlevel=a.getShallow("zlevel")||0,d.symbolType=r,d.color=l,this.off("mouseover").off("mouseout").off("emphasis").off("normal"),"render"===d.showEffectOn)this._effectCfg?this.updateEffectAnimation(d):this.startEffectAnimation(d),this._effectCfg=d;else{this._effectCfg=null,this.stopEffectAnimation();var f=this.childAt(0),p=function p(){f.trigger("emphasis"),"render"!==d.showEffectOn&&this.startEffectAnimation(d);},g=function g(){f.trigger("normal"),"render"!==d.showEffectOn&&this.stopEffectAnimation();};this.on("mouseover",p,this).on("mouseout",g,this).on("emphasis",p,this).on("normal",g,this);}this._effectCfg=d;},f.fadeOut=function(t){this.off("mouseover").off("mouseout").off("emphasis").off("normal"),t&&t();},r.inherits(a,h),t.exports=a;},function(t,e,i){function n(){this.group=new o.Group(),this._lineEl=new s();}var o=i(3),a=i(97),r=i(96),s=o.extendShape({shape:{polyline:!1,segs:[]},buildPath:function buildPath(t,e){for(var i=e.segs,n=e.polyline,o=0;o<i.length;o++){var a=i[o];if(n){t.moveTo(a[0][0],a[0][1]);for(var r=1;r<a.length;r++){t.lineTo(a[r][0],a[r][1]);}}else t.moveTo(a[0][0],a[0][1]),a.length>2?t.quadraticCurveTo(a[2][0],a[2][1],a[1][0],a[1][1]):t.lineTo(a[1][0],a[1][1]);}},findDataIndex:function findDataIndex(t,e){for(var i=this.shape,n=i.segs,o=i.polyline,s=Math.max(this.style.lineWidth,1),l=0;l<n.length;l++){var u=n[l];if(o){for(var c=1;c<u.length;c++){if(r.containStroke(u[c-1][0],u[c-1][1],u[c][0],u[c][1],s,t,e))return l;}}else if(u.length>2){if(a.containStroke(u[0][0],u[0][1],u[2][0],u[2][1],u[1][0],u[1][1],s,t,e))return l;}else if(r.containStroke(u[0][0],u[0][1],u[1][0],u[1][1],s,t,e))return l;}return-1;}}),l=n.prototype;l.updateData=function(t){this.group.removeAll();var e=this._lineEl,i=t.hostModel;e.setShape({segs:t.mapArray(t.getItemLayout),polyline:i.get("polyline")}),e.useStyle(i.getModel("lineStyle.normal").getLineStyle());var n=t.getVisual("color");n&&e.setStyle("stroke",n),e.setStyle("fill"),e.seriesIndex=i.seriesIndex,e.on("mousemove",function(t){e.dataIndex=null;var i=e.findDataIndex(t.offsetX,t.offsetY);i>0&&(e.dataIndex=i);}),this.group.add(e);},l.updateLayout=function(t){var e=t.getData();this._lineEl.setShape({segs:e.mapArray(e.getItemLayout)});},l.remove=function(){this.group.removeAll();},t.exports=n;},function(t,e,i){function n(t,e,i,n){l.Group.call(this),this.bodyIndex,this.whiskerIndex,this.styleUpdater=i,this._createContent(t,e,n),this.updateData(t,e,n),this._seriesModel;}function o(t,e,i){return s.map(t,function(t){return t=t.slice(),t[e]=i.initBaseline,t;});}function a(t){var e={};return s.each(t,function(t,i){e["ends"+i]=t;}),e;}function r(t){this.group=new l.Group(),this.styleUpdater=t;}var s=i(1),l=i(3),u=i(8),c=u.extend({type:"whiskerInBox",shape:{},buildPath:function buildPath(t,e){for(var i in e){if(e.hasOwnProperty(i)&&0===i.indexOf("ends")){var n=e[i];t.moveTo(n[0][0],n[0][1]),t.lineTo(n[1][0],n[1][1]);}}}}),h=n.prototype;h._createContent=function(t,e,i){var n=t.getItemLayout(e),r="horizontal"===n.chartLayout?1:0,u=0;this.add(new l.Polygon({shape:{points:i?o(n.bodyEnds,r,n):n.bodyEnds},style:{strokeNoScale:!0},z2:100})),this.bodyIndex=u++;var h=s.map(n.whiskerEnds,function(t){return i?o(t,r,n):t;});this.add(new c({shape:a(h),style:{strokeNoScale:!0},z2:100})),this.whiskerIndex=u++;},h.updateData=function(t,e,i){var n=this._seriesModel=t.hostModel,o=t.getItemLayout(e),r=l[i?"initProps":"updateProps"];r(this.childAt(this.bodyIndex),{shape:{points:o.bodyEnds}},n,e),r(this.childAt(this.whiskerIndex),{shape:a(o.whiskerEnds)},n,e),this.styleUpdater.call(null,this,t,e);},s.inherits(n,l.Group);var d=r.prototype;d.updateData=function(t){var e=this.group,i=this._data,o=this.styleUpdater;t.diff(i).add(function(i){if(t.hasValue(i)){var a=new n(t,i,o,!0);t.setItemGraphicEl(i,a),e.add(a);}}).update(function(a,r){var s=i.getItemGraphicEl(r);return t.hasValue(a)?(s?s.updateData(t,a):s=new n(t,a,o),e.add(s),void t.setItemGraphicEl(a,s)):void e.remove(s);}).remove(function(t){var n=i.getItemGraphicEl(t);n&&e.remove(n);}).execute(),this._data=t;},d.remove=function(){var t=this.group,e=this._data;this._data=null,e&&e.eachItemGraphicEl(function(e){e&&t.remove(e);});},t.exports=r;},function(t,e,i){i(314),i(315);var n=i(2);n.registerLayout(i(316)),n.registerVisual(i(317));},function(t,e,i){"use strict";function n(t){var e=t.data;e&&e[0]&&e[0][0]&&e[0][0].coord&&(t.data=r.map(e,function(t){var e=[t[0].coord,t[1].coord],i={coords:e};return t[0].name&&(i.fromName=t[0].name),t[1].name&&(i.toName=t[1].name),r.mergeAll([i,t[0],t[1]]);}));}var o=i(19),a=i(14),r=i(1),s=i(7),l=(i(26),o.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.normal.color",init:function init(t){n(t),l.superApply(this,"init",arguments);},mergeOption:function mergeOption(t){n(t),l.superApply(this,"mergeOption",arguments);},getInitialData:function getInitialData(t,e){var i=new a(["value"],this);return i.hasItemOption=!1,i.initData(t.data,[],function(t,e,n,o){if(t instanceof Array)return NaN;i.hasItemOption=!0;var a=t.value;return null!=a?a instanceof Array?a[o]:a:void 0;}),i;},formatTooltip:function formatTooltip(t){var e=this.getData(),i=e.getItemModel(t),n=i.get("name");if(n)return n;var o=i.get("fromName"),a=i.get("toName"),r=[];return null!=o&&r.push(o),null!=a&&r.push(a),s.encodeHTML(r.join(" > "));},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,label:{normal:{show:!1,position:"end"}},lineStyle:{normal:{opacity:.5}}}}));},function(t,e,i){var n=i(106),o=i(245),a=i(105),r=i(246),s=i(309),l=i(311);i(2).extendChartView({type:"lines",init:function init(){},render:function render(t,e,i){var u=t.getData(),c=this._lineDraw,h=t.get("effect.show"),d=t.get("polyline"),f=t.get("large")&&u.count()>=t.get("largeThreshold");h===this._hasEffet&&d===this._isPolyline&&f===this._isLarge||(c&&c.remove(),c=this._lineDraw=f?new l():new n(d?h?s:r:h?o:a),this._hasEffet=h,this._isPolyline=d,this._isLarge=f);var p=t.get("zlevel"),g=t.get("effect.trailLength"),m=i.getZr();if(m.painter.getLayer(p).clear(!0),null!=this._lastZlevel&&m.configLayer(this._lastZlevel,{motionBlur:!1}),h&&g){m.configLayer(p,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(g/10+.9,1),0)});}this.group.add(c.group),c.updateData(u),this._lastZlevel=p;},updateLayout:function updateLayout(t,e,i){this._lineDraw.updateLayout(t);var n=i.getZr();n.painter.getLayer(this._lastZlevel).clear(!0);},remove:function remove(t,e){this._lineDraw&&this._lineDraw.remove(e,!0);},dispose:function dispose(){}});},function(t,e,i){t.exports=function(t){t.eachSeriesByType("lines",function(t){var e=t.coordinateSystem,i=t.getData();i.each(function(n){var o=i.getItemModel(n),a=o.option instanceof Array?o.option:o.get("coords"),r=[];if(t.get("polyline"))for(var s=0;s<a.length;s++){r.push(e.dataToPoint(a[s]));}else{r[0]=e.dataToPoint(a[0]),r[1]=e.dataToPoint(a[1]);var l=o.get("lineStyle.normal.curveness");+l&&(r[2]=[(r[0][0]+r[1][0])/2-(r[0][1]-r[1][1])*l,(r[0][1]+r[1][1])/2-(r[1][0]-r[0][0])*l]);}i.setItemLayout(n,r);});});};},function(t,e){function i(t){return t instanceof Array||(t=[t,t]),t;}t.exports=function(t){t.eachSeriesByType("lines",function(t){var e=t.getData(),n=i(t.get("symbol")),o=i(t.get("symbolSize")),a="lineStyle.normal.opacity".split(".");e.setVisual("fromSymbol",n&&n[0]),e.setVisual("toSymbol",n&&n[1]),e.setVisual("fromSymbolSize",o&&o[0]),e.setVisual("toSymbolSize",o&&o[1]),e.setVisual("opacity",t.get(a)),e.each(function(t){var n=e.getItemModel(t),o=i(n.getShallow("symbol",!0)),r=i(n.getShallow("symbolSize",!0)),s=n.get(a);o[0]&&e.setItemVisual(t,"fromSymbol",o[0]),o[1]&&e.setItemVisual(t,"toSymbol",o[1]),r[0]&&e.setItemVisual(t,"fromSymbolSize",r[0]),r[1]&&e.setItemVisual(t,"toSymbolSize",r[1]),e.setItemVisual(t,"opacity",s);});});};},function(t,e,i){var n=i(2),o=n.PRIORITY;i(319),i(320),i(240),i(186),n.registerLayout(i(323)),n.registerVisual(i(324)),n.registerProcessor(o.PROCESSOR.STATISTIC,i(322)),n.registerPreprocessor(i(321)),i(88)("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}]);},function(t,e,i){var n=i(14),o=i(19),a=i(1),r=i(25),s=i(7),l=s.encodeHTML,u=s.addCommas,c=i(77),h=i(186),d=o.extend({type:"series.map",dependencies:["geo"],layoutMode:"box",needsDrawMap:!1,seriesGroup:[],init:function init(t){t=this._fillOption(t,this.getMapType()),this.option=t,d.superApply(this,"init",arguments),this.updateSelectedMap(t.data);},getInitialData:function getInitialData(t){var e=r(["value"],t.data||[]),i=new n(e,this);return i.initData(t.data),i;},mergeOption:function mergeOption(t){t.data&&(t=this._fillOption(t,this.getMapType())),d.superCall(this,"mergeOption",t),this.updateSelectedMap(this.option.data);},getHostGeoModel:function getHostGeoModel(){var t=this.option.geoIndex;return null!=t?this.dependentModels.geo[t]:null;},getMapType:function getMapType(){return(this.getHostGeoModel()||this).option.map;},_fillOption:function _fillOption(t,e){return t=a.extend({},t),t.data=h.getFilledRegions(t.data,e),t;},getRawValue:function getRawValue(t){return this.getData().get("value",t);},getRegionModel:function getRegionModel(t){var e=this.getData();return e.getItemModel(e.indexOfName(t));},formatTooltip:function formatTooltip(t){for(var e=this.getData(),i=u(this.getRawValue(t)),n=e.getName(t),o=this.seriesGroup,a=[],r=0;r<o.length;r++){var s=o[r].originalData.indexOfName(n);isNaN(o[r].originalData.get("value",s))||a.push(l(o[r].name));}return a.join(", ")+"<br />"+l(n+" : "+i);},getTooltipPosition:function getTooltipPosition(t){if(null!=t){var e=this.getData().getName(t),i=this.coordinateSystem,n=i.getRegion(e);return n&&i.dataToPoint(n.center);}},setZoom:function setZoom(t){this.option.zoom=t;},setCenter:function setCenter(t){this.option.center=t;},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:.75,showLegendSymbol:!0,dataRangeHoverLink:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{normal:{show:!1,textStyle:{color:"#000"}},emphasis:{show:!0,textStyle:{color:"rgb(100,0,0)"}}},itemStyle:{normal:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{areaColor:"rgba(255,215,0,0.8)"}}}});a.mixin(d,c),t.exports=d;},function(t,e,i){var n=i(3),o=i(249);i(2).extendChartView({type:"map",render:function render(t,e,i,n){if(!n||"mapToggleSelect"!==n.type||n.from!==this.uid){var a=this.group;if(a.removeAll(),!t.getHostGeoModel()){if(n&&"geoRoam"===n.type&&"series"===n.componentType&&n.seriesId===t.id){var r=this._mapDraw;r&&a.add(r.group);}else if(t.needsDrawMap){var r=this._mapDraw||new o(i,!0);a.add(r.group),r.draw(t,e,i,this,n),this._mapDraw=r;}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;t.get("showLegendSymbol")&&e.getComponent("legend")&&this._renderSymbols(t,e,i);}}},remove:function remove(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll();},dispose:function dispose(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;},_renderSymbols:function _renderSymbols(t,e,i){var o=t.originalData,a=this.group;o.each("value",function(e,i){if(!isNaN(e)){var r=o.getItemLayout(i);if(r&&r.point){var s=r.point,l=r.offset,u=new n.Circle({style:{fill:t.getData().getVisual("color")},shape:{cx:s[0]+9*l,cy:s[1],r:3},silent:!0,z2:10});if(!l){var c=t.mainSeries.getData(),h=o.getName(i),d=h,f=c.indexOfName(h),p=o.getItemModel(i),g=p.getModel("label.normal"),m=p.getModel("label.emphasis"),v=g.getModel("textStyle"),y=m.getModel("textStyle"),x=c.getItemGraphicEl(f);u.setStyle({textPosition:"bottom"});var _=function _(){u.setStyle({text:m.get("show")?d:"",textFill:y.getTextColor(),textFont:y.getFont()});},b=function b(){u.setStyle({text:g.get("show")?d:"",textFill:v.getTextColor(),textFont:v.getFont()});};x.on("mouseover",_).on("mouseout",b).on("emphasis",_).on("normal",b),b();}a.add(u);}}});}});},function(t,e,i){var n=i(1);t.exports=function(t){var e=[];n.each(t.series,function(t){"map"===t.type&&e.push(t);}),n.each(e,function(t){t.map=t.map||t.mapType,n.defaults(t,t.mapLocation);});};},function(t,e,i){function n(t,e){var i={},n=["value"];return o.each(t,function(t){t.each(n,function(e,n){var o=t.getName(n);i[o]=i[o]||[],isNaN(e)||i[o].push(e);});}),t[0].map(n,function(n,o){for(var a=t[0].getName(o),r=0,s=1/0,l=-(1/0),u=i[a].length,c=0;c<u;c++){s=Math.min(s,i[a][c]),l=Math.max(l,i[a][c]),r+=i[a][c];}var h;return h="min"===e?s:"max"===e?l:"average"===e?r/u:r,0===u?NaN:h;});}var o=i(1);t.exports=function(t){var e={};t.eachSeriesByType("map",function(t){var i=t.getHostGeoModel(),n=i?"o"+i.id:"i"+t.getMapType();(e[n]=e[n]||[]).push(t);}),o.each(e,function(t,e){for(var i=n(o.map(t,function(t){return t.getData();}),t[0].get("mapValueCalculation")),a=0;a<t.length;a++){t[a].originalData=t[a].getData();}for(var a=0;a<t.length;a++){t[a].seriesGroup=t,t[a].needsDrawMap=0===a&&!t[a].getHostGeoModel(),t[a].setData(i.cloneShallow()),t[a].mainSeries=t[0];}});};},function(t,e,i){var n=i(1);t.exports=function(t){var e={};t.eachSeriesByType("map",function(i){var o=i.getMapType();if(!i.getHostGeoModel()&&!e[o]){var a={};n.each(i.seriesGroup,function(e){var i=e.coordinateSystem,n=e.originalData;e.get("showLegendSymbol")&&t.getComponent("legend")&&n.each("value",function(t,e){var o=n.getName(e),r=i.getRegion(o);if(r&&!isNaN(t)){var s=a[o]||0,l=i.dataToPoint(r.center);a[o]=s+1,n.setItemLayout(e,{point:l,offset:s});}});});var r=i.getData();r.each(function(t){var e=r.getName(t),i=r.getItemLayout(t)||{};i.showLabel=!a[e],r.setItemLayout(t,i);}),e[o]=!0;}});};},function(t,e){t.exports=function(t){t.eachSeriesByType("map",function(t){var e=t.get("color"),i=t.getModel("itemStyle.normal"),n=i.get("areaColor"),o=i.get("color")||e[t.seriesIndex%e.length];t.getData().setVisual({areaColor:n,color:o});});};},function(t,e,i){var n=i(2);i(251),i(326),i(327),n.registerVisual(i(328));},function(t,e,i){function n(t,e,i){var n=t.get("data"),a=o(e);n&&n.length&&s.each(i,function(t){if(t){var e=s.indexOf(n,t[a]);t[a]=e>=0?e:NaN;}});}function o(t){return+t.replace("dim","");}function a(t,e){var i=0;s.each(t,function(t){var e=o(t);e>i&&(i=e);});var n=e[0];n&&n.length-1>i&&(i=n.length-1);for(var a=[],r=0;r<=i;r++){a.push("dim"+r);}return a;}var r=i(14),s=i(1),l=i(19),u=i(25);t.exports=l.extend({type:"series.parallel",dependencies:["parallel"],visualColorAccessPath:"lineStyle.normal.color",getInitialData:function getInitialData(t,e){var i=e.getComponent("parallel",this.get("parallelIndex")),o=i.parallelAxisIndex,l=t.data,c=i.dimensions,h=a(c,l),d=s.map(h,function(t,i){var a=s.indexOf(c,t),r=a>=0&&e.getComponent("parallelAxis",o[a]);return r&&"category"===r.get("type")?(n(r,t,l),{name:t,type:"ordinal"}):a<0&&u.guessOrdinal(l,i)?{name:t,type:"ordinal"}:t;}),f=new r(d,this);return f.initData(l),this.option.progressive&&(this.option.animation=!1),f;},getRawIndicesByActiveState:function getRawIndicesByActiveState(t){var e=this.coordinateSystem,i=this.getData(),n=[];return e.eachActiveState(i,function(e,o){t===e&&n.push(i.getRawIndex(o));}),n;},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{normal:{show:!1},emphasis:{show:!1}},inactiveOpacity:.05,activeOpacity:1,lineStyle:{normal:{width:1,opacity:.45,type:"solid"}},progressive:!1,smooth:!1,animationEasing:"linear"}});},function(t,e,i){function n(t,e,i){var n=t.model,o=t.getRect(),a=new l.Rect({shape:{x:o.x,y:o.y,width:o.width,height:o.height}}),r="horizontal"===n.get("layout")?"width":"height";return a.setShape(r,0),l.initProps(a,{shape:{width:o.width,height:o.height}},e,i),a;}function o(t,e,i,n){for(var o=[],a=0;a<i.length;a++){var r=i[a],l=t.get(r,e);s(l,n.getAxis(r).type)||o.push(n.dataToPoint(l,r));}return o;}function a(t,e,i,n,a){var r=o(t,i,n,a),s=new l.Polyline({shape:{points:r},silent:!0,z2:10});e.add(s),t.setItemGraphicEl(i,s);}function r(t,e){var i=t.hostModel.getModel("lineStyle.normal"),n=i.getLineStyle();t.eachItemGraphicEl(function(o,a){if(t.hasItemOption){var r=t.getItemModel(a),s=r.getModel("lineStyle.normal",i);n=s.getLineStyle(["color","stroke"]);}o.useStyle(u.extend(n,{fill:null,stroke:t.getItemVisual(a,"color"),opacity:t.getItemVisual(a,"opacity")})),o.shape.smooth=e;});}function s(t,e){return"category"===e?null==t:null==t||isNaN(t);}var l=i(3),u=i(1),c=.3,h=i(30).extend({type:"parallel",init:function init(){this._dataGroup=new l.Group(),this.group.add(this._dataGroup),this._data;},render:function render(t,e,i,n){this._renderForNormal(t,n);},dispose:function dispose(){},_renderForNormal:function _renderForNormal(t,e){function i(t){a(d,h,t,g,p,null,v);}function s(i,n){var a=f.getItemGraphicEl(n),r=o(d,i,g,p);d.setItemGraphicEl(i,a);var s=e&&e.animation===!1?null:t;l.updateProps(a,{shape:{points:r}},s,i);}function u(t){var e=f.getItemGraphicEl(t);h.remove(e);}var h=this._dataGroup,d=t.getData(),f=this._data,p=t.coordinateSystem,g=p.dimensions,m=t.option,v=m.smooth?c:null;if(d.diff(f).add(i).update(s).remove(u).execute(),r(d,v),!this._data){var y=n(p,t,function(){setTimeout(function(){h.removeClipPath();});});h.setClipPath(y);}this._data=d;},remove:function remove(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null;}});t.exports=h;},function(t,e){var i=["lineStyle","normal","opacity"];t.exports=function(t){t.eachSeriesByType("parallel",function(e){var n=e.getModel("itemStyle.normal"),o=e.getModel("lineStyle.normal"),a=t.get("color"),r=o.get("color")||n.get("color")||a[e.seriesIndex%a.length],s=e.get("inactiveOpacity"),l=e.get("activeOpacity"),u=e.getModel("lineStyle.normal").getLineStyle(),c=e.coordinateSystem,h=e.getData(),d={normal:u.opacity,active:l,inactive:s};c.eachActiveState(h,function(t,e){var n=h.getItemModel(e),o=d[t];if("normal"===t){var a=n.get(i,!0);null!=a&&(o=a);}h.setItemVisual(e,"opacity",o);}),h.setVisual("color",r);});};},function(t,e,i){var n=i(1);i(56),i(268),i(269);var o=i(95),a=i(2);a.registerLayout(n.curry(o,"pictorialBar")),a.registerVisual(n.curry(i(50),"pictorialBar","roundRect",null)),i(32);},function(t,e,i){var n=i(1),o=i(2);i(373),i(331),i(332),o.registerVisual(n.curry(i(83),"radar")),o.registerVisual(n.curry(i(50),"radar","circle",null)),o.registerLayout(i(334)),o.registerProcessor(n.curry(i(62),"radar")),o.registerPreprocessor(i(333));},function(t,e,i){"use strict";var n=i(19),o=i(14),a=i(25),r=i(1),s=i(7).encodeHTML,l=n.extend({type:"series.radar",dependencies:["radar"],init:function init(t){l.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData();};},getInitialData:function getInitialData(t,e){var i=t.data||[],n=a([],i,{extraPrefix:"indicator_"}),r=new o(n,this);return r.initData(i),r;},formatTooltip:function formatTooltip(t){var e=this.getRawValue(t),i=this.coordinateSystem,n=i.getIndicatorAxes(),o=this.getData().getName(t);return s(""===o?this.name:o)+"<br/>"+r.map(n,function(t,i){return s(t.name+" : "+e[i]);}).join("<br />");},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{normal:{width:2,type:"solid"}},label:{normal:{position:"top"}},symbol:"emptyCircle",symbolSize:4}});t.exports=l;},function(t,e,i){function n(t){return a.isArray(t)||(t=[+t,+t]),t;}var o=i(3),a=i(1),r=i(24);t.exports=i(2).extendChartView({type:"radar",render:function render(t,e,i){function s(t,e){var i=t.getItemVisual(e,"symbol")||"circle",o=t.getItemVisual(e,"color");if("none"!==i){var a=r.createSymbol(i,-.5,-.5,1,1,o);return a.attr({style:{strokeNoScale:!0},z2:100,scale:n(t.getItemVisual(e,"symbolSize"))}),a;}}function l(e,i,n,a,r,l){n.removeAll();for(var u=0;u<i.length-1;u++){var c=s(a,r);c&&(c.__dimIdx=u,e[u]?(c.attr("position",e[u]),o[l?"initProps":"updateProps"](c,{position:i[u]},t,r)):c.attr("position",i[u]),n.add(c));}}function u(t){return a.map(t,function(t){return[c.cx,c.cy];});}var c=t.coordinateSystem,h=this.group,d=t.getData(),f=this._data;d.diff(f).add(function(e){var i=d.getItemLayout(e);if(i){var n=new o.Polygon(),a=new o.Polyline(),r={shape:{points:i}};n.shape.points=u(i),a.shape.points=u(i),o.initProps(n,r,t,e),o.initProps(a,r,t,e);var s=new o.Group(),c=new o.Group();s.add(a),s.add(n),s.add(c),l(a.shape.points,i,c,d,e,!0),d.setItemGraphicEl(e,s);}}).update(function(e,i){var n=f.getItemGraphicEl(i),a=n.childAt(0),r=n.childAt(1),s=n.childAt(2),u={shape:{points:d.getItemLayout(e)}};u.shape.points&&(l(a.shape.points,u.shape.points,s,d,e,!1),o.updateProps(a,u,t),o.updateProps(r,u,t),d.setItemGraphicEl(e,n));}).remove(function(t){h.remove(f.getItemGraphicEl(t));}).execute(),d.eachItemGraphicEl(function(e,i){function n(){u.attr("ignore",v);}function r(){u.attr("ignore",m);}var s=d.getItemModel(i),l=e.childAt(0),u=e.childAt(1),c=e.childAt(2),f=d.getItemVisual(i,"color");h.add(e),l.useStyle(a.defaults(s.getModel("lineStyle.normal").getLineStyle(),{fill:"none",stroke:f})),l.hoverStyle=s.getModel("lineStyle.emphasis").getLineStyle();var p=s.getModel("areaStyle.normal"),g=s.getModel("areaStyle.emphasis"),m=p.isEmpty()&&p.parentModel.isEmpty(),v=g.isEmpty()&&g.parentModel.isEmpty();v=v&&m,u.ignore=m,u.useStyle(a.defaults(p.getAreaStyle(),{fill:f,opacity:.7})),u.hoverStyle=g.getAreaStyle();var y=s.getModel("itemStyle.normal").getItemStyle(["color"]),x=s.getModel("itemStyle.emphasis").getItemStyle(),_=s.getModel("label.normal"),b=s.getModel("label.emphasis");c.eachChild(function(e){e.setStyle(y),e.hoverStyle=a.clone(x);var n=d.get(d.dimensions[e.__dimIdx],i);o.setText(e.style,_,f),e.setStyle({text:_.get("show")?a.retrieve(t.getFormattedLabel(i,"normal",null,e.__dimIdx),n):""}),o.setText(e.hoverStyle,b,f),e.hoverStyle.text=b.get("show")?a.retrieve(t.getFormattedLabel(i,"emphasis",null,e.__dimIdx),n):"";}),e.off("mouseover").off("mouseout").off("normal").off("emphasis"),e.on("emphasis",n).on("mouseover",n).on("normal",r).on("mouseout",r),o.setHoverStyle(e);}),this._data=d;},remove:function remove(){this.group.removeAll(),this._data=null;},dispose:function dispose(){}});},function(t,e,i){var n=i(1);t.exports=function(t){var e=t.polar;if(e){n.isArray(e)||(e=[e]);var i=[];n.each(e,function(e,o){e.indicator?(e.type&&!e.shape&&(e.shape=e.type),t.radar=t.radar||[],n.isArray(t.radar)||(t.radar=[t.radar]),t.radar.push(e)):i.push(e);}),t.polar=i;}n.each(t.series,function(t){"radar"===t.type&&t.polarIndex&&(t.radarIndex=t.polarIndex);});};},function(t,e){t.exports=function(t){t.eachSeriesByType("radar",function(t){function e(t,e){n[e]=n[e]||[],n[e][a]=o.dataToPoint(t,a);}var i=t.getData(),n=[],o=t.coordinateSystem;if(o){for(var a=0;a<o.getIndicatorAxes().length;a++){var r=i.dimensions[a];i.each(r,e);}i.each(function(t){n[t][0]&&n[t].push(n[t][0].slice()),i.setItemLayout(t,n[t]);});}});};},function(t,e,i){var n=i(2);i(336),i(337),n.registerLayout(i(338)),n.registerVisual(i(339));},function(t,e,i){var n=i(19),o=i(247),a=i(7).encodeHTML,r=n.extend({type:"series.sankey",layoutInfo:null,getInitialData:function getInitialData(t){var e=t.edges||t.links,i=t.data||t.nodes;if(i&&e){var n=o(i,e,this,!0);return n.data;}},getGraph:function getGraph(){return this.getData().graph;},getEdgeData:function getEdgeData(){return this.getGraph().edgeData;},formatTooltip:function formatTooltip(t,e,i){if("edge"===i){var n=this.getDataParams(t,i),o=n.data,s=o.source+" -- "+o.target;return n.value&&(s+=" : "+n.value),a(s);}return r.superCall(this,"formatTooltip",t,e);},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",nodeWidth:20,nodeGap:8,layoutIterations:32,label:{normal:{show:!0,position:"right",textStyle:{color:"#000",fontSize:12}},emphasis:{show:!0}},itemStyle:{normal:{borderWidth:1,borderColor:"#333"}},lineStyle:{normal:{color:"#314656",opacity:.2,curveness:.5},emphasis:{opacity:.6}},animationEasing:"linear",animationDuration:1e3}});t.exports=r;},function(t,e,i){function n(t,e,i){var n=new o.Rect({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return o.initProps(n,{shape:{width:t.width+20,height:t.height+20}},e,i),n;}var o=i(3),a=i(1),r=o.extendShape({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0},buildPath:function buildPath(t,e){var i=e.extent/2;t.moveTo(e.x1,e.y1-i),t.bezierCurveTo(e.cpx1,e.cpy1-i,e.cpx2,e.cpy2-i,e.x2,e.y2-i),t.lineTo(e.x2,e.y2+i),t.bezierCurveTo(e.cpx2,e.cpy2+i,e.cpx1,e.cpy1+i,e.x1,e.y1+i),t.closePath();}});t.exports=i(2).extendChartView({type:"sankey",_model:null,render:function render(t,e,i){var s=t.getGraph(),l=this.group,u=t.layoutInfo,c=t.getData(),h=t.getData("edge");this._model=t,l.removeAll(),l.position=[u.x,u.y],s.eachEdge(function(e){var i=new r();i.dataIndex=e.dataIndex,i.seriesIndex=t.seriesIndex,i.dataType="edge";var n=e.getModel("lineStyle.normal"),a=n.get("curveness"),s=e.node1.getLayout(),u=e.node2.getLayout(),c=e.getLayout();i.shape.extent=Math.max(1,c.dy);var d=s.x+s.dx,f=s.y+c.sy+c.dy/2,p=u.x,g=u.y+c.ty+c.dy/2,m=d*(1-a)+p*a,v=f,y=d*a+p*(1-a),x=g;switch(i.setShape({x1:d,y1:f,x2:p,y2:g,cpx1:m,cpy1:v,cpx2:y,cpy2:x}),i.setStyle(n.getItemStyle()),i.style.fill){case"source":i.style.fill=e.node1.getVisual("color");break;case"target":i.style.fill=e.node2.getVisual("color");}o.setHoverStyle(i,e.getModel("lineStyle.emphasis").getItemStyle()),l.add(i),h.setItemGraphicEl(e.dataIndex,i);}),s.eachNode(function(e){var i=e.getLayout(),n=e.getModel(),r=n.getModel("label.normal"),s=r.getModel("textStyle"),u=n.getModel("label.emphasis"),h=u.getModel("textStyle"),d=new o.Rect({shape:{x:i.x,y:i.y,width:e.getLayout().dx,height:e.getLayout().dy},style:{text:r.get("show")?t.getFormattedLabel(e.dataIndex,"normal")||e.id:"",textFont:s.getFont(),textFill:s.getTextColor(),textPosition:r.get("position")}});d.setStyle(a.defaults({fill:e.getVisual("color")},n.getModel("itemStyle.normal").getItemStyle())),o.setHoverStyle(d,a.extend(e.getModel("itemStyle.emphasis"),{text:u.get("show")?t.getFormattedLabel(e.dataIndex,"emphasis")||e.id:"",textFont:h.getFont(),textFill:h.getTextColor(),textPosition:u.get("position")})),l.add(d),c.setItemGraphicEl(e.dataIndex,d),d.dataType="node";}),!this._data&&t.get("animation")&&l.setClipPath(n(l.getBoundingRect(),t,function(){l.removeClipPath();})),this._data=t.getData();},dispose:function dispose(){}});},function(t,e,i){function n(t,e){return M.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()});}function o(t,e,i,n,o,a,s){r(t,i,o),u(t,e,a,n,s),m(t);}function a(t){T.each(t,function(t){var e=x(t.outEdges,S),i=x(t.inEdges,S),n=Math.max(e,i);t.setLayout({value:n},!0);});}function r(t,e,i){for(var n=t,o=null,a=0,r=0;n.length;){o=[];for(var u=0,c=n.length;u<c;u++){var h=n[u];h.setLayout({x:a},!0),h.setLayout({dx:e},!0);for(var d=0,f=h.outEdges.length;d<f;d++){o.push(h.outEdges[d].node2);}}n=o,++a;}s(t,a),r=(i-e)/(a-1),l(t,r);}function s(t,e){T.each(t,function(t){t.outEdges.length||t.setLayout({x:e-1},!0);});}function l(t,e){T.each(t,function(t){var i=t.getLayout().x*e;t.setLayout({x:i},!0);});}function u(t,e,i,n,o){var a=I().key(function(t){return t.getLayout().x;}).sortKeys(w).entries(t).map(function(t){return t.values;});c(t,a,e,i,n),h(a,n,i);for(var r=1;o>0;o--){r*=.99,d(a,r),h(a,n,i),p(a,r),h(a,n,i);}}function c(t,e,i,n,o){var a=[];T.each(e,function(t){var e=t.length,i=0;T.each(t,function(t){i+=t.getLayout().value;});var r=(n-(e-1)*o)/i;a.push(r);}),a.sort(function(t,e){return t-e;});var r=a[0];T.each(e,function(t){T.each(t,function(t,e){t.setLayout({y:e},!0);var i=t.getLayout().value*r;t.setLayout({dy:i},!0);});}),T.each(i,function(t){var e=+t.getValue()*r;t.setLayout({dy:e},!0);});}function h(t,e,i){T.each(t,function(t){var n,o,a,r=0,s=t.length;for(t.sort(b),a=0;a<s;a++){if(n=t[a],o=r-n.getLayout().y,o>0){var l=n.getLayout().y+o;n.setLayout({y:l},!0);}r=n.getLayout().y+n.getLayout().dy+e;}if(o=r-e-i,o>0){var l=n.getLayout().y-o;for(n.setLayout({y:l},!0),r=n.getLayout().y,a=s-2;a>=0;--a){n=t[a],o=n.getLayout().y+n.getLayout().dy+e-r,o>0&&(l=n.getLayout().y-o,n.setLayout({y:l},!0)),r=n.getLayout().y;}}});}function d(t,e){T.each(t.slice().reverse(),function(t){T.each(t,function(t){if(t.outEdges.length){var i=x(t.outEdges,f)/x(t.outEdges,S),n=t.getLayout().y+(i-_(t))*e;t.setLayout({y:n},!0);}});});}function f(t){return _(t.node2)*t.getValue();}function p(t,e){T.each(t,function(t){T.each(t,function(t){if(t.inEdges.length){var i=x(t.inEdges,g)/x(t.inEdges,S),n=t.getLayout().y+(i-_(t))*e;t.setLayout({y:n},!0);}});});}function g(t){return _(t.node1)*t.getValue();}function m(t){T.each(t,function(t){t.outEdges.sort(v),t.inEdges.sort(y);}),T.each(t,function(t){var e=0,i=0;T.each(t.outEdges,function(t){t.setLayout({sy:e},!0),e+=t.getLayout().dy;}),T.each(t.inEdges,function(t){t.setLayout({ty:i},!0),i+=t.getLayout().dy;});});}function v(t,e){return t.node2.getLayout().y-e.node2.getLayout().y;}function y(t,e){return t.node1.getLayout().y-e.node1.getLayout().y;}function x(t,e){for(var i=0,n=t.length,o=-1;++o<n;){var a=+e.call(t,t[o],o);isNaN(a)||(i+=a);}return i;}function _(t){return t.getLayout().y+t.getLayout().dy/2;}function b(t,e){return t.getLayout().y-e.getLayout().y;}function w(t,e){return t<e?-1:t>e?1:t===e?0:NaN;}function S(t){return t.getValue();}var M=i(12),I=i(265),T=i(1);t.exports=function(t,e,i){t.eachSeriesByType("sankey",function(t){var i=t.get("nodeWidth"),r=t.get("nodeGap"),s=n(t,e);t.layoutInfo=s;var l=s.width,u=s.height,c=t.getGraph(),h=c.nodes,d=c.edges;a(h);var f=T.filter(h,function(t){return 0===t.getLayout().value;}),p=0!==f.length?0:t.get("layoutIterations");o(h,d,i,r,l,u,p);});};},function(t,e,i){var n=i(82),o=i(1);t.exports=function(t,e){t.eachSeriesByType("sankey",function(t){var e=t.getGraph(),i=e.nodes;i.sort(function(t,e){return t.getLayout().value-e.getLayout().value;});var a=i[0].getLayout().value,r=i[i.length-1].getLayout().value;o.each(i,function(e){var i=new n({type:"color",mappingMethod:"linear",dataExtent:[a,r],visual:t.get("color")}),o=i.mapValueToVisual(e.getLayout().value);e.setVisual("color",o);var s=e.getModel(),l=s.get("itemStyle.normal.color");null!=l&&e.setVisual("color",l);});});};},function(t,e,i){var n=i(2),o=i(1);i(252),i(341),i(342),n.registerLayout(i(343)),n.registerVisual(i(344)),n.registerProcessor(o.curry(i(62),"themeRiver"));},function(t,e,i){"use strict";var n=i(25),o=i(19),a=i(14),r=i(1),s=i(7),l=s.encodeHTML,u=i(265),c=2,h=o.extend({type:"series.themeRiver",dependencies:["singleAxis"],nameMap:null,init:function init(t){h.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData();};},fixData:function fixData(t){for(var e=t.length,i=u().key(function(t){return t[2];}).entries(t),n=r.map(i,function(t){return{name:t.key,dataList:t.values};}),o=n.length,a=-1,s=-1,l=0;l<o;++l){var c=n[l].dataList.length;c>a&&(a=c,s=l);}for(var h=0;h<o;++h){if(h!==s)for(var d=n[h].name,f=0;f<a;++f){for(var p=n[s].dataList[f][0],g=n[h].dataList.length,m=-1,v=0;v<g;++v){var y=n[h].dataList[v][0];if(y===p){m=v;break;}}m===-1&&(t[e]=[],t[e][0]=p,t[e][1]=0,t[e][2]=d,e++);}}return t;},getInitialData:function getInitialData(t,e){var i=[],o=e.queryComponents({mainType:"singleAxis",index:this.get("singleAxisIndex"),id:this.get("singleAxisId")})[0],s=o.get("type");i=[{name:"time",type:"category"===s?"ordinal":"time"===s?"time":"float"},{name:"value",type:"float"},{name:"name",type:"ordinal"}];for(var l=r.filter(t.data,function(t){return void 0!==t[2];}),u=this.fixData(l||[]),h=[],d=this.nameMap={},f=0,p=0;p<u.length;++p){h.push(u[p][c]),d[u[p][c]]||(d[u[p][c]]=f++);}n(i,u);var g=new a(i,this);return g.initData(u,h),g;},coordDimToDataDim:function coordDimToDataDim(t){return["time"];},getLayerSeries:function getLayerSeries(){function t(t,i){return e.get("time",t)-e.get("time",i);}for(var e=this.getData(),i=e.count(),n=[],o=0;o<i;++o){n[o]=o;}for(var a=u().key(function(t){return e.get("name",t);}).entries(n),s=r.map(a,function(t){return{name:t.key,indices:t.values};}),l=0;l<s.length;++l){s[l].indices.sort(t);}return s;},getAxisTooltipData:function getAxisTooltipData(t,e,i){r.isArray(t)||(t=t?[t]:[]);for(var n,o=this.getData(),a=this.getLayerSeries(),s=[],l=a.length,u=0;u<l;++u){for(var c=Number.MAX_VALUE,h=-1,d=a[u].indices.length,f=0;f<d;++f){var p=o.get(t[0],a[u].indices[f]),g=Math.abs(p-e);g<=c&&(n=p,c=g,h=a[u].indices[f]);}s.push(h);}return{dataIndices:s,nestestValue:n};},formatTooltip:function formatTooltip(t){var e=this.getData(),i=e.get("name",t),n=e.get("value",t);return(isNaN(n)||null==n)&&(n="-"),l(i+" : "+n);},defaultOption:{zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{normal:{margin:4,textAlign:"right",show:!0,position:"left",textStyle:{color:"#000",fontSize:11}},emphasis:{show:!0}}}});t.exports=h;},function(t,e,i){(function(e){function n(t,e,i){var n=new a.Rect({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return a.initProps(n,{shape:{width:t.width+20,height:t.height+20}},e,i),n;}var o=i(91),a=i(3),r=i(1),s=i(48);t.exports=i(2).extendChartView({type:"themeRiver",init:function init(){this._layers=[];},render:function render(t,e,i){function l(t){return t.name;}function u(e,i,s){var l=this._layers;if("remove"===e)return void d.remove(l[i]);for(var u,p=[],g=[],m=f[i].indices,v=0;v<m.length;v++){var x=c.getItemLayout(m[v]),_=x.x,b=x.y0,w=x.y;p.push([_,b]),g.push([_,b+w]),u=h.getItemVisual(m[v],"color");}var S,M,I=c.getItemLayout(m[0]),T=c.getItemModel(m[v-1]),A=T.getModel("label.normal"),C=A.get("margin");if("add"===e){var L=y[i]=new a.Group();S=new o.Polygon({shape:{points:p,stackedOnPoints:g,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),M=new a.Text({style:{x:I.x-C,y:I.y0+I.y/2}}),L.add(S),L.add(M),d.add(L),S.setClipPath(n(S.getBoundingRect(),t,function(){S.removeClipPath();}));}else{var L=l[s];S=L.childAt(0),M=L.childAt(1),d.add(L),y[i]=L,a.updateProps(S,{shape:{points:p,stackedOnPoints:g}},t),a.updateProps(M,{style:{x:I.x-C,y:I.y0+I.y/2}},t);}var D=T.getModel("itemStyle.emphasis"),P=T.getModel("itemStyle.normal"),k=A.getModel("textStyle");M.setStyle({text:A.get("show")?t.getFormattedLabel(m[v-1],"normal")||c.getName(m[v-1]):"",textFont:k.getFont(),textAlign:A.get("textAlign"),textVerticalAlign:"middle"}),S.setStyle(r.extend({fill:u},P.getItemStyle(["color"]))),a.setHoverStyle(S,D.getItemStyle());}var c=t.getData(),h=t.getRawData();if(c.count()){var d=this.group,f=t.getLayerSeries(),p=c.getLayout("layoutInfo"),g=p.rect,m=p.boundaryGap;d.attr("position",[0,g.y+m[0]]);var v=new s(this._layersSeries||[],f,l,l),y={};v.add(r.bind(r.curry(u,"add"),this)).update(r.bind(r.curry(u,"update"),this)).remove(r.bind(r.curry(u,"remove"),this)).execute(),this._layersSeries=f,this._layers=y;}},dispose:function dispose(){}});}).call(e,i(188));},function(t,e,i){function n(t,e,i){if(t.count())for(var n,r=e.coordinateSystem,s=e.getLayerSeries(),l=a.map(s,function(e){return a.map(e.indices,function(e){var i=r.dataToPoint(t.get("time",e));return i[1]=t.get("value",e),i;});}),u=o(l),c=u.y0,h=i/u.max,d=s.length,f=s[0].indices.length,p=0;p<f;++p){n=c[p]*h,t.setItemLayout(s[0].indices[p],{layerIndex:0,x:l[0][p][0],y0:n,y:l[0][p][1]*h});for(var g=1;g<d;++g){n+=l[g-1][p][1]*h,t.setItemLayout(s[g].indices[p],{layerIndex:g,x:l[g][p][0],y0:n,y:l[g][p][1]*h});}}}function o(t){for(var e,i=t.length,n=t[0].length,o=[],a=[],r=0,s={},l=0;l<n;++l){for(var u=0,e=0;u<i;++u){e+=t[u][l][1];}e>r&&(r=e),o.push(e);}for(var c=0;c<n;++c){a[c]=(r-o[c])/2;}r=0;for(var h=0;h<n;++h){var d=o[h]+a[h];d>r&&(r=d);}return s.y0=a,s.max=r,s;}var a=i(1),r=i(4);t.exports=function(t,e){t.eachSeriesByType("themeRiver",function(t){var e=t.getData(),i=t.coordinateSystem,o={},a=i.getRect();o.rect=a;var s=t.get("boundaryGap"),l=i.getAxis();if(o.boundaryGap=s,"horizontal"===l.orient){s[0]=r.parsePercent(s[0],a.height),s[1]=r.parsePercent(s[1],a.height);var u=a.height-s[0]-s[1];n(e,t,u);}else{s[0]=r.parsePercent(s[0],a.width),s[1]=r.parsePercent(s[1],a.width);var c=a.width-s[0]-s[1];n(e,t,c);}e.setLayout("layoutInfo",o);});};},function(t,e){t.exports=function(t){t.eachSeriesByType("themeRiver",function(t){var e=t.getData(),i=t.getRawData(),n=t.get("color");e.each(function(o){var a=e.getName(o),r=n[(t.nameMap[a]-1)%n.length];i.setItemVisual(o,"color",r);});});};},function(t,e,i){var n=i(2);i(347),i(348),i(349),n.registerVisual(i(351)),n.registerLayout(i(350));},function(t,e,i){function n(t){this.group=new r.Group(),t.add(this.group);}function o(t,e,i,n,o,a){var r=[[o?t:t-d,e],[t+i,e],[t+i,e+n],[o?t:t-d,e+n]];return!a&&r.splice(2,0,[t+i+d,e+n/2]),!o&&r.push([t,e+n/2]),r;}function a(t,e,i){t.eventData={componentType:"series",componentSubType:"treemap",seriesIndex:e.componentIndex,seriesName:e.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:i&&i.dataIndex,name:i&&i.name},treePathInfo:i&&u.wrapTreePathInfo(i,e)};}var r=i(3),s=i(12),l=i(1),u=i(92),c=8,h=8,d=5;n.prototype={constructor:n,render:function render(t,e,i,n){var o=t.getModel("breadcrumb"),a=this.group;if(a.removeAll(),o.get("show")&&i){var r=o.getModel("itemStyle.normal"),l=r.getModel("textStyle"),u={pos:{left:o.get("left"),right:o.get("right"),top:o.get("top"),bottom:o.get("bottom")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:o.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(i,u,l),this._renderContent(t,u,r,l,n),s.positionElement(a,u.pos,u.box);}},_prepare:function _prepare(t,e,i){for(var n=t;n;n=n.parentNode){var o=n.getModel().get("name"),a=i.getTextRect(o),r=Math.max(a.width+2*c,e.emptyItemWidth);e.totalWidth+=r+h,e.renderList.push({node:n,text:o,width:r});}},_renderContent:function _renderContent(t,e,i,n,u){for(var c=0,d=e.emptyItemWidth,f=t.get("breadcrumb.height"),p=s.getAvailableSize(e.pos,e.box),g=e.totalWidth,m=e.renderList,v=m.length-1;v>=0;v--){var y=m[v],x=y.node,_=y.width,b=y.text;g>p.width&&(g-=_-d,_=d,b="");var w=new r.Polygon({shape:{points:o(c,0,_,f,v===m.length-1,0===v)},style:l.defaults(i.getItemStyle(),{lineJoin:"bevel",text:b,textFill:n.getTextColor(),textFont:n.getFont()}),z:10,onclick:l.curry(u,x)});this.group.add(w),a(w,t,x),c+=_+h;}},remove:function remove(){this.group.removeAll();}},t.exports=n;},function(t,e,i){function n(t){var e=0;s.each(t.children,function(t){n(t);var i=t.value;s.isArray(i)&&(i=i[0]),e+=i;});var i=t.value;s.isArray(i)&&(i=i[0]),(null==i||isNaN(i))&&(i=e),i<0&&(i=0),s.isArray(t.value)?t.value[0]=i:t.value=i;}function o(t,e){var i=e.get("color");if(i){t=t||[];var n;if(s.each(t,function(t){var e=new l(t),i=e.get("color");(e.get("itemStyle.normal.color")||i&&"none"!==i)&&(n=!0);}),!n){var o=t[0]||(t[0]={});o.color=i.slice();}return t;}}var a=i(19),r=i(418),s=i(1),l=i(10),u=i(7),c=i(92),h=u.encodeHTML,d=u.addCommas;t.exports=a.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],_viewRoot:null,defaultOption:{progressive:0,hoverLayerThreshold:1/0,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{normal:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}}},label:{normal:{show:!0,position:"inside",textStyle:{color:"#fff",ellipsis:!0}}},itemStyle:{normal:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function getInitialData(t,e){var i=t.name;null==i&&(i=t.name);var a={name:i,children:t.data};n(a);var s=t.levels||[];return s=t.levels=o(s,e),r.createTree(a,this,s).data;},optionUpdated:function optionUpdated(){this.resetViewRoot();},formatTooltip:function formatTooltip(t){var e=this.getData(),i=this.getRawValue(t),n=d(s.isArray(i)?i[0]:i),o=e.getName(t);return h(o+": "+n);},getDataParams:function getDataParams(t){var e=a.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(t);return e.treePathInfo=c.wrapTreePathInfo(i,this),e;},setLayoutInfo:function setLayoutInfo(t){this.layoutInfo=this.layoutInfo||{},s.extend(this.layoutInfo,t);},mapIdToIndex:function mapIdToIndex(t){var e=this._idIndexMap;e||(e=this._idIndexMap={},this._idIndexMapCount=0);var i=e[t];return null==i&&(e[t]=i=this._idIndexMapCount++),i;},getViewRoot:function getViewRoot(){return this._viewRoot;},resetViewRoot:function resetViewRoot(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getData().tree.root;t&&(t===e||e.contains(t))||(this._viewRoot=e);}});},function(t,e,i){function n(){return{nodeGroup:[],background:[],content:[]};}function o(t,e,i,n,o,l,u,c,h,d){function f(e){z.dataIndex=u.dataIndex,z.seriesIndex=t.seriesIndex;var i=T.borderWidth,n=Math.max(A-2*i,0),o=Math.max(C-2*i,0);z.culling=!0,z.setShape({x:i,y:i,width:n,height:o});var a=u.getVisual("color",!0);p(z,function(){var t={fill:a},e=u.getModel("itemStyle.emphasis").getItemStyle();g(t,e,a,n,o),z.setStyle(t),s.setHoverStyle(z,e);}),e.add(z);}function p(t,e){L?!t.invisible&&l.push(t):(e(),t.__tmWillVisible||(t.invisible=!1));}function g(e,i,n,o,a){var r=u.getModel(),s=r.get("name");if(T.isLeafRoot){var l=t.get("drillDownIcon",!0);s=l?l+" "+s:s;}y(s,e,r,_,n,o,a),y(s,i,r,b,n,o,a);}function y(t,e,i,n,o,a,r){var l=i.getModel(n),u=l.getModel("textStyle");s.setText(e,l,o),e.textAlign=u.get("align"),e.textVerticalAlign=u.get("baseline");var c=u.getTextRect(t);!l.getShallow("show")||c.height>r?e.text="":c.width>a?e.text=u.get("ellipsis")?u.truncateText(t,a,null,{minChar:2}):"":e.text=t;}function x(t,n,r,s){var l=null!=P&&i[t][P],u=o[t];return l?(i[t][P]=null,w(u,l,t)):L||(l=new n({z:a(r,s)}),l.__tmDepth=r,l.__tmStorageName=t,I(u,l,t)),e[t][D]=l;}function w(t,e,i){var n=t[D]={};n.old="nodeGroup"===i?e.position.slice():r.extend({},e.shape);}function I(t,e,i){var a=t[D]={},r=u.parentNode;if(r&&(!n||"drillDown"===n.direction)){var s=0,l=0,c=o.background[r.getRawIndex()];!n&&c&&c.old&&(s=c.old.width,l=c.old.height),a.old="nodeGroup"===i?[0,l]:{x:s,y:l,width:0,height:0};}a.fadein="nodeGroup"!==i;}if(u){var T=u.getLayout();if(T&&T.isInView){var A=T.width,C=T.height,L=T.invisible,D=u.getRawIndex(),P=c&&c.getRawIndex(),k=x("nodeGroup",m);if(k){if(h.add(k),k.attr("position",[T.x||0,T.y||0]),k.__tmNodeWidth=A,k.__tmNodeHeight=C,T.isAboveViewRoot)return k;var O=x("background",v,d,S);O&&(O.setShape({x:0,y:0,width:A,height:C}),p(O,function(){O.setStyle("fill",u.getVisual("borderColor",!0));}),k.add(O));var E=u.viewChildren;if(!E||!E.length){var z=x("content",v,d,M);z&&f(k);}return k;}}}}function a(t,e){var i=t*w+e;return(i-1)/i;}var r=i(1),s=i(3),l=i(48),u=i(92),c=i(346),h=i(93),d=i(11),f=i(16),p=i(419),g=r.bind,m=s.Group,v=s.Rect,y=r.each,x=3,_=["label","normal"],b=["label","emphasis"],w=10,S=1,M=2;t.exports=i(2).extendChartView({type:"treemap",init:function init(t,e){this._containerGroup,this._storage=n(),this._oldTree,this._breadcrumb,this._controller,this._state="ready",this._mayClick;},render:function render(t,e,i,n){var o=e.findComponents({mainType:"series",subType:"treemap",query:n});if(!(r.indexOf(o,t)<0)){this.seriesModel=t,this.api=i,this.ecModel=e;var a=u.retrieveTargetInfo(n,t),s=n&&n.type,l=t.layoutInfo,c=!this._oldTree,h=this._storage,d="treemapRootToNode"===s&&a&&h?{rootNodeGroup:h.nodeGroup[a.node.getRawIndex()],direction:n.direction}:null,f=this._giveContainerGroup(l),p=this._doRender(f,t,d);c||s&&"treemapZoomToNode"!==s&&"treemapRootToNode"!==s?p.renderFinally():this._doAnimation(f,p,t,d),this._resetController(i),this._renderBreadcrumb(t,i,a);}},_giveContainerGroup:function _giveContainerGroup(t){var e=this._containerGroup;return e||(e=this._containerGroup=new m(),this._initEvents(e),this.group.add(e)),e.attr("position",[t.x,t.y]),e;},_doRender:function _doRender(t,e,i){function a(t,e,i,n,o){function s(t){return t.getId();}function u(r,s){var l=null!=r?t[r]:null,u=null!=s?e[s]:null,c=m(l,u,i,o);c&&a(l&&l.viewChildren||[],u&&u.viewChildren||[],c,n,o+1);}n?(e=t,y(t,function(t,e){!t.isRemoved()&&u(e,e);})):new l(e,t,s,s).add(u).update(u).remove(r.curry(u,null)).execute();}function s(t){var e=n();return t&&y(t,function(t,i){var n=e[i];y(t,function(t){t&&(n.push(t),t.__tmWillDelete=1);});}),e;}function u(){y(v,function(t){y(t,function(t){t.parent&&t.parent.remove(t);});}),y(g,function(t){t.invisible=!0,t.dirty();});}var c=e.getData().tree,h=this._oldTree,d=n(),f=n(),p=this._storage,g=[],m=r.curry(o,e,f,p,i,d,g);a(c.root?[c.root]:[],h&&h.root?[h.root]:[],t,c===h||!h,0);var v=s(p);return this._oldTree=c,this._storage=f,{lastsForAnimation:d,willDeleteEls:v,renderFinally:u};},_doAnimation:function _doAnimation(t,e,i,n){if(i.get("animation")){var o=i.get("animationDurationUpdate"),a=i.get("animationEasing"),s=p.createWrap();y(e.willDeleteEls,function(t,e){y(t,function(t,i){if(!t.invisible){var r,l=t.parent;if(n&&"drillDown"===n.direction)r=l===n.rootNodeGroup?{shape:{x:0,y:0,width:l.__tmNodeWidth,height:l.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var u=0,c=0;l.__tmWillDelete||(u=l.__tmNodeWidth/2,c=l.__tmNodeHeight/2),r="nodeGroup"===e?{position:[u,c],style:{opacity:0}}:{shape:{x:u,y:c,width:0,height:0},style:{opacity:0}};}r&&s.add(t,r,o,a);}});}),y(this._storage,function(t,i){y(t,function(t,n){var l=e.lastsForAnimation[i][n],u={};l&&("nodeGroup"===i?l.old&&(u.position=t.position.slice(),t.attr("position",l.old)):(l.old&&(u.shape=r.extend({},t.shape),t.setShape(l.old)),l.fadein?(t.setStyle("opacity",0),u.style={opacity:1}):1!==t.style.opacity&&(u.style={opacity:1})),s.add(t,u,o,a));});},this),this._state="animating",s.done(g(function(){this._state="ready",e.renderFinally();},this)).start();}},_resetController:function _resetController(t){var e=this._controller;e||(e=this._controller=new h(t.getZr()),e.enable(this.seriesModel.get("roam")),e.on("pan",g(this._onPan,this)),e.on("zoom",g(this._onZoom,this)));var i=new d(0,0,t.getWidth(),t.getHeight());e.setPointerChecker(function(t,e,n){return i.contain(e,n);});},_clearController:function _clearController(){var t=this._controller;t&&(t.dispose(),t=null);},_onPan:function _onPan(t,e){if(this._mayClick=!1,"animating"!==this._state&&(Math.abs(t)>x||Math.abs(e)>x)){var i=this.seriesModel.getData().tree.root;if(!i)return;var n=i.getLayout();if(!n)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:n.x+t,y:n.y+e,width:n.width,height:n.height}});}},_onZoom:function _onZoom(t,e,i){if(this._mayClick=!1,"animating"!==this._state){var n=this.seriesModel.getData().tree.root;if(!n)return;var o=n.getLayout();if(!o)return;var a=new d(o.x,o.y,o.width,o.height),r=this.seriesModel.layoutInfo;e-=r.x,i-=r.y;var s=f.create();f.translate(s,s,[-e,-i]),f.scale(s,s,[t,t]),f.translate(s,s,[e,i]),a.applyTransform(s),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:a.x,y:a.y,width:a.width,height:a.height}});}},_initEvents:function _initEvents(t){function e(t){var e=this.seriesModel.get("nodeClick",!0);if(e){var i=this.findTarget(t.offsetX,t.offsetY);if(i){var n=i.node;if(n.getLayout().isLeafRoot)this._rootToNode(i);else if("zoomToNode"===e)this._zoomToNode(i);else if("link"===e){var o=n.hostTree.data.getItemModel(n.dataIndex),a=o.get("link",!0),r=o.get("target",!0)||"blank";a&&window.open(a,r);}}}}t.on("mousedown",function(t){"ready"===this._state&&(this._mayClick=!0);},this),t.on("mouseup",function(t){this._mayClick&&(this._mayClick=!1,"ready"===this._state&&e.call(this,t));},this);},_renderBreadcrumb:function _renderBreadcrumb(t,e,i){function n(e){"animating"!==this._state&&(u.aboveViewRoot(t.getViewRoot(),e)?this._rootToNode({node:e}):this._zoomToNode({node:e}));}i||(i=null!=t.get("leafDepth",!0)?{node:t.getViewRoot()}:this.findTarget(e.getWidth()/2,e.getHeight()/2),i||(i={node:t.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new c(this.group))).render(t,e,i.node,g(n,this));},remove:function remove(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=n(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove();},dispose:function dispose(){this._clearController();},_zoomToNode:function _zoomToNode(t){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node});},_rootToNode:function _rootToNode(t){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node});},findTarget:function findTarget(t,e){var i,n=this.seriesModel.getViewRoot();return n.eachNode({attr:"viewChildren",order:"preorder"},function(n){var o=this._storage.background[n.getRawIndex()];if(o){var a=o.transformCoordToLocal(t,e),r=o.shape;if(!(r.x<=a[0]&&a[0]<=r.x+r.width&&r.y<=a[1]&&a[1]<=r.y+r.height))return!1;i={node:n,offsetX:a[0],offsetY:a[1]};}},this),i;}});},function(t,e,i){for(var n=i(2),o=i(92),a=function a(){},r=["treemapZoomToNode","treemapRender","treemapMove"],s=0;s<r.length;s++){n.registerAction({type:r[s],update:"updateView"},a);}n.registerAction({type:"treemapRootToNode",update:"updateView"},function(t,e){function i(e,i){var n=o.retrieveTargetInfo(t,e);if(n){var a=e.getViewRoot();a&&(t.direction=o.aboveViewRoot(a,n.node)?"rollUp":"drillDown"),e.resetViewRoot(n.node);}}e.eachComponent({mainType:"series",subType:"treemap",query:t},i);});},function(t,e,i){function n(t,e,i){var n={mainType:"series",subType:"treemap",query:i};t.eachComponent(n,function(t){var n=e.getWidth(),a=e.getHeight(),r=t.option,s=m.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),l=r.size||[],u=b(w(s.width,l[0]),n),c=b(w(s.height,l[1]),a),g=i&&i.type,x=v.retrieveTargetInfo(i,t),_="treemapRender"===g||"treemapMove"===g?i.rootRect:null,M=t.getViewRoot(),I=v.getPathToRoot(M);if("treemapMove"!==g){var T="treemapZoomToNode"===g?h(t,x,M,u,c):_?[_.width,_.height]:[u,c],A=r.sort;A&&"asc"!==A&&"desc"!==A&&(A="desc");var C={squareRatio:r.squareRatio,sort:A,leafDepth:r.leafDepth};M.hostTree.clearLayouts();var L={x:0,y:0,width:T[0],height:T[1],area:T[0]*T[1]};M.setLayout(L),o(M,C,!1,0);var L=M.getLayout();S(I,function(t,e){var i=(I[e+1]||M).getValue();t.setLayout(p.extend({dataExtent:[i,i],borderWidth:0},L));});}var D=t.getData().tree.root;D.setLayout(d(s,_,x),!0),t.setLayoutInfo(s),f(D,new y(-s.x,-s.y,n,a),I,M,0);});}function o(t,e,i,n){var r,s;if(!t.isRemoved()){var l=t.getLayout();r=l.width,s=l.height;var h=t.getModel("itemStyle.normal"),d=h.get("borderWidth"),f=h.get("gapWidth")/2,p=d-f,g=t.getModel();t.setLayout({borderWidth:d},!0),r=x(r-2*p,0),s=x(s-2*p,0);var m=r*s,v=a(t,g,m,e,i,n);if(v.length){var y={x:p,y:p,width:r,height:s},b=_(r,s),w=1/0,S=[];S.area=0;for(var M=0,I=v.length;M<I;){var T=v[M];S.push(T),S.area+=T.getLayout().area;var A=u(S,b,e.squareRatio);A<=w?(M++,w=A):(S.area-=S.pop().getLayout().area,c(S,b,y,f,!1),b=_(y.width,y.height),S.length=S.area=0,w=1/0);}if(S.length&&c(S,b,y,f,!0),!i){var C=g.get("childrenVisibleMin");null!=C&&m<C&&(i=!0);}for(var M=0,I=v.length;M<I;M++){o(v[M],e,i,n+1);}}}}function a(t,e,i,n,o,a){var u=t.children||[],c=n.sort;"asc"!==c&&"desc"!==c&&(c=null);var h=null!=n.leafDepth&&n.leafDepth<=a;if(o&&!h)return t.viewChildren=[];u=p.filter(u,function(t){return!t.isRemoved();}),s(u,c);var d=l(e,u,c);if(0===d.sum)return t.viewChildren=[];if(d.sum=r(e,i,d.sum,c,u),0===d.sum)return t.viewChildren=[];for(var f=0,g=u.length;f<g;f++){var m=u[f].getValue()/d.sum*i;u[f].setLayout({area:m});}return h&&(u.length&&t.setLayout({isLeafRoot:!0},!0),u.length=0),t.viewChildren=u,t.setLayout({dataExtent:d.dataExtent},!0),u;}function r(t,e,i,n,o){if(!n)return i;for(var a=t.get("visibleMin"),r=o.length,s=r,l=r-1;l>=0;l--){var u=o["asc"===n?r-l-1:l].getValue();u/i*e<a&&(s=l,i-=u);}return"asc"===n?o.splice(0,r-s):o.splice(s,r-s),i;}function s(t,e){return e&&t.sort(function(t,i){var n="asc"===e?t.getValue()-i.getValue():i.getValue()-t.getValue();return 0===n?"asc"===e?t.dataIndex-i.dataIndex:i.dataIndex-t.dataIndex:n;}),t;}function l(t,e,i){for(var n=0,o=0,a=e.length;o<a;o++){n+=e[o].getValue();}var r,s=t.get("visualDimension");if(e&&e.length){if("value"===s&&i)r=[e[e.length-1].getValue(),e[0].getValue()],"asc"===i&&r.reverse();else{var r=[1/0,-(1/0)];S(e,function(t){var e=t.getValue(s);e<r[0]&&(r[0]=e),e>r[1]&&(r[1]=e);});}}else r=[NaN,NaN];return{sum:n,dataExtent:r};}function u(t,e,i){for(var n,o=0,a=1/0,r=0,s=t.length;r<s;r++){n=t[r].getLayout().area,n&&(n<a&&(a=n),n>o&&(o=n));}var l=t.area*t.area,u=e*e*i;return l?x(u*o/l,l/(u*a)):1/0;}function c(t,e,i,n,o){var a=e===i.width?0:1,r=1-a,s=["x","y"],l=["width","height"],u=i[s[a]],c=e?t.area/e:0;(o||c>i[l[r]])&&(c=i[l[r]]);for(var h=0,d=t.length;h<d;h++){var f=t[h],p={},g=c?f.getLayout().area/c:0,m=p[l[r]]=x(c-2*n,0),v=i[s[a]]+i[l[a]]-u,y=h===d-1||v<g?v:g,b=p[l[a]]=x(y-2*n,0);p[s[r]]=i[s[r]]+_(n,m/2),p[s[a]]=u+_(n,b/2),u+=y,f.setLayout(p,!0);}i[s[r]]+=c,i[l[r]]-=c;}function h(t,e,i,n,o){var a=(e||{}).node,r=[n,o];if(!a||a===i)return r;for(var s,l=n*o,u=l*t.option.zoomToNodeRatio;s=a.parentNode;){for(var c=0,h=s.children,d=0,f=h.length;d<f;d++){c+=h[d].getValue();}var p=a.getValue();if(0===p)return r;u*=c/p;var m=s.getModel("itemStyle.normal").get("borderWidth");isFinite(m)&&(u+=4*m*m+4*m*Math.pow(u,.5)),u>g.MAX_SAFE_INTEGER&&(u=g.MAX_SAFE_INTEGER),a=s;}u<l&&(u=l);var v=Math.pow(u/l,.5);return[n*v,o*v];}function d(t,e,i){if(e)return{x:e.x,y:e.y};var n={x:0,y:0};if(!i)return n;var o=i.node,a=o.getLayout();if(!a)return n;for(var r=[a.width/2,a.height/2],s=o;s;){var l=s.getLayout();r[0]+=l.x,r[1]+=l.y,s=s.parentNode;}return{x:t.width/2-r[0],y:t.height/2-r[1]};}function f(t,e,i,n,o){var a=t.getLayout(),r=i[o],s=r&&r===t;if(!(r&&!s||o===i.length&&t!==n)){t.setLayout({isInView:!0,invisible:!s&&!e.intersect(a),isAboveViewRoot:s},!0);var l=new y(e.x-a.x,e.y-a.y,e.width,e.height);S(t.viewChildren||[],function(t){f(t,l,i,n,o+1);});}}var p=i(1),g=i(4),m=i(12),v=i(92),y=i(11),v=i(92),x=Math.max,_=Math.min,b=g.parsePercent,w=p.retrieve,S=p.each;t.exports=n;},function(t,e,i){function n(t,e,i,s,u,h){var d=t.getModel(),p=t.getLayout();if(p&&!p.invisible&&p.isInView){var m,v=t.getModel(g),y=i[t.depth],x=o(v,e,y,s),_=v.get("borderColor"),b=v.get("borderColorSaturation");null!=b&&(m=a(x,t),_=r(b,m)),t.setVisual("borderColor",_);var w=t.viewChildren;if(w&&w.length){var S=l(t,d,p,v,x,w);f.each(w,function(t,e){if(t.depth>=u.length||t===u[t.depth]){var o=c(d,x,t,e,S,h);n(t,o,i,s,u,h);}});}else m=a(x,t),t.setVisual("color",m);}}function o(t,e,i,n){var o=f.extend({},e);return f.each(["color","colorAlpha","colorSaturation"],function(a){var r=t.get(a,!0);null==r&&i&&(r=i[a]),null==r&&(r=e[a]),null==r&&(r=n.get(a)),null!=r&&(o[a]=r);}),o;}function a(t){var e=s(t,"color");if(e){var i=s(t,"colorAlpha"),n=s(t,"colorSaturation");return n&&(e=d.modifyHSL(e,null,null,n)),i&&(e=d.modifyAlpha(e,i)),e;}}function r(t,e){return null!=e?d.modifyHSL(e,null,null,t):null;}function s(t,e){var i=t[e];if(null!=i&&"none"!==i)return i;}function l(t,e,i,n,o,a){if(a&&a.length){var r=u(e,"color")||null!=o.color&&"none"!==o.color&&(u(e,"colorAlpha")||u(e,"colorSaturation"));if(r){var s=e.get("visualMin"),l=e.get("visualMax"),c=i.dataExtent.slice();null!=s&&s<c[0]&&(c[0]=s),null!=l&&l>c[1]&&(c[1]=l);var d=e.get("colorMappingBy"),f={type:r.name,dataExtent:c,visual:r.range};"color"!==f.type||"index"!==d&&"id"!==d?f.mappingMethod="linear":(f.mappingMethod="category",f.loop=!0);var p=new h(f);return p.__drColorMappingBy=d,p;}}}function u(t,e){var i=t.get(e);return p(i)&&i.length?{name:e,range:i}:null;}function c(t,e,i,n,o,a){var r=f.extend({},e);if(o){var s=o.type,l="color"===s&&o.__drColorMappingBy,u="index"===l?n:"id"===l?a.mapIdToIndex(i.getId()):i.getValue(t.get("visualDimension"));r[s]=o.mapValueToVisual(u);}return r;}var h=i(82),d=i(22),f=i(1),p=f.isArray,g="itemStyle.normal";t.exports=function(t,e,i){var o={mainType:"series",subType:"treemap",query:i};t.eachComponent(o,function(t){var e=t.getData().tree,i=e.root,o=t.getModel(g);if(!i.isRemoved()){var a=f.map(e.levelModels,function(t){return t?t.get(g):null;});n(i,{},a,o,t.getViewRoot().getAncestors(),t);}});};},function(t,e,i){"use strict";i(236),i(353);},function(t,e,i){"use strict";function n(t,e,i,n){var o=t.coordToPoint([e,n]),a=t.coordToPoint([i,n]);return{x1:o[0],y1:o[1],x2:a[0],y2:a[1]};}var o=i(1),a=i(3),r=i(10),s=["axisLine","axisLabel","axisTick","splitLine","splitArea"];i(41).extend({type:"angleAxis",axisPointerClass:"PolarAxisPointer",render:function render(t,e){if(this.group.removeAll(),t.get("show")){var i=t.axis,n=i.polar,a=n.getRadiusAxis().getExtent(),r=i.getTicksCoords();"category"!==i.type&&r.pop(),o.each(s,function(e){!t.get(e+".show")||i.scale.isBlank()&&"axisLine"!==e||this["_"+e](t,n,r,a);},this);}},_axisLine:function _axisLine(t,e,i,n){var o=t.getModel("axisLine.lineStyle"),r=new a.Circle({shape:{cx:e.cx,cy:e.cy,r:n[1]},style:o.getLineStyle(),z2:1,silent:!0});r.style.fill=null,this.group.add(r);},_axisTick:function _axisTick(t,e,i,r){var s=t.getModel("axisTick"),l=(s.get("inside")?-1:1)*s.get("length"),u=o.map(i,function(t){return new a.Line({shape:n(e,r[1],r[1]+l,t)});});this.group.add(a.mergePath(u,{style:o.defaults(s.getModel("lineStyle").getLineStyle(),{stroke:t.get("axisLine.lineStyle.color")})}));},_axisLabel:function _axisLabel(t,e,i,n){for(var o=t.axis,s=t.get("data"),l=t.getModel("axisLabel"),u=l.getModel("textStyle"),c=t.getFormattedLabels(),h=l.get("margin"),d=o.getLabelsCoords(),f=0;f<i.length;f++){var p=n[1],g=e.coordToPoint([p+h,d[f]]),m=e.cx,v=e.cy,y=Math.abs(g[0]-m)/p<.3?"center":g[0]>m?"left":"right",x=Math.abs(g[1]-v)/p<.3?"middle":g[1]>v?"top":"bottom",_=u;s&&s[f]&&s[f].textStyle&&(_=new r(s[f].textStyle,u)),this.group.add(new a.Text({style:{x:g[0],y:g[1],fill:_.getTextColor()||t.get("axisLine.lineStyle.color"),text:c[f],textAlign:y,textVerticalAlign:x,textFont:_.getFont()},silent:!0}));}},_splitLine:function _splitLine(t,e,i,r){var s=t.getModel("splitLine"),l=s.getModel("lineStyle"),u=l.get("color"),c=0;u=u instanceof Array?u:[u];for(var h=[],d=0;d<i.length;d++){var f=c++%u.length;h[f]=h[f]||[],h[f].push(new a.Line({shape:n(e,r[0],r[1],i[d])}));}for(var d=0;d<h.length;d++){this.group.add(a.mergePath(h[d],{style:o.defaults({stroke:u[d%u.length]},l.getLineStyle()),silent:!0,z:t.get("z")}));}},_splitArea:function _splitArea(t,e,i,n){var r=t.getModel("splitArea"),s=r.getModel("areaStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],h=Math.PI/180,d=-i[0]*h,f=Math.min(n[0],n[1]),p=Math.max(n[0],n[1]),g=t.get("clockwise"),m=1;m<i.length;m++){var v=u++%l.length;c[v]=c[v]||[],c[v].push(new a.Sector({shape:{cx:e.cx,cy:e.cy,r0:f,r:p,startAngle:d,endAngle:-i[m]*h,clockwise:g},silent:!0})),d=-i[m]*h;}for(var m=0;m<c.length;m++){this.group.add(a.mergePath(c[m],{style:o.defaults({fill:l[m%l.length]},s.getAreaStyle()),silent:!0}));}}});},function(t,e,i){function n(t,e,i){return i&&"axisAreaSelect"===i.type&&e.findComponents({mainType:"parallelAxis",query:i})[0]===t;}function o(t){var e=t.axis;return r.map(t.activeIntervals,function(t){return{brushType:"lineX",panelId:"pl",range:[e.dataToCoord(t[0],!0),e.dataToCoord(t[1],!0)]};});}function a(t,e){return e.getComponent("parallel",t.get("parallelIndex"));}var r=i(1),s=i(40),l=i(126),u=i(185),c=i(3),h=["axisLine","axisLabel","axisTick","axisName"],d=i(2).extendComponentView({type:"parallelAxis",init:function init(t,e){d.superApply(this,"init",arguments),(this._brushController=new l(e.getZr())).on("brush",r.bind(this._onBrush,this));},render:function render(t,e,i,o){if(!n(t,e,o)){this.axisModel=t,this.api=i,this.group.removeAll();var l=this._axisGroup;if(this._axisGroup=new c.Group(),this.group.add(this._axisGroup),t.get("show")){var u=a(t,e),d=u.coordinateSystem,f=t.getAreaSelectStyle(),p=f.width,g=t.axis.dim,m=d.getAxisLayout(g),v=r.extend({strokeContainThreshold:p},m),y=new s(t,v);r.each(h,y.add,y),this._axisGroup.add(y.getGroup()),this._refreshBrushController(v,f,t,u,p,i);var x=o&&o.animation===!1?null:t;c.groupTransition(l,this._axisGroup,x);}}},updateVisual:function updateVisual(t,e,i,n){this._brushController&&this._brushController.updateCovers(o(t));},_refreshBrushController:function _refreshBrushController(t,e,i,n,a,r){var s=i.axis.getExtent(),l=s[1]-s[0],h=Math.min(30,.1*Math.abs(l)),d=c.BoundingRect.create({x:s[0],y:-a/2,width:l,height:a});d.x-=h,d.width+=2*h,this._brushController.mount({enableGlobalPan:!0,rotation:t.rotation,position:t.position}).setPanels([{panelId:"pl",clipPath:u.makeRectPanelClipPath(d),isTargetByCursor:u.makeRectIsTargetByCursor(d,r,n),getLinearBrushOtherExtent:u.makeLinearBrushOtherExtent(d,0)}]).enableBrush({brushType:"lineX",brushStyle:e,removeOnClick:!0}).updateCovers(o(i));},_onBrush:function _onBrush(t,e){var i=this.axisModel,n=i.axis,o=r.map(t,function(t){return[n.coordToData(t.range[0],!0),n.coordToData(t.range[1],!0)];});(!i.option.realtime===e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:i.id,intervals:o});},dispose:function dispose(){this._brushController.dispose();}});t.exports=d;},function(t,e,i){"use strict";function n(t,e,i){return{position:[t.cx,t.cy],rotation:i/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1};}var o=i(1),a=i(3),r=i(40),s=["axisLine","axisLabel","axisTick","axisName"],l=["splitLine","splitArea"];i(41).extend({type:"radiusAxis",axisPointerClass:"PolarAxisPointer",render:function render(t,e){if(this.group.removeAll(),t.get("show")){var i=t.axis,a=i.polar,u=a.getAngleAxis(),c=i.getTicksCoords(),h=u.getExtent()[0],d=i.getExtent(),f=n(a,t,h),p=new r(t,f);o.each(s,p.add,p),this.group.add(p.getGroup()),o.each(l,function(e){t.get(e+".show")&&!i.scale.isBlank()&&this["_"+e](t,a,h,d,c);},this);}},_splitLine:function _splitLine(t,e,i,n,r){var s=t.getModel("splitLine"),l=s.getModel("lineStyle"),u=l.get("color"),c=0;u=u instanceof Array?u:[u];for(var h=[],d=0;d<r.length;d++){var f=c++%u.length;h[f]=h[f]||[],h[f].push(new a.Circle({shape:{cx:e.cx,cy:e.cy,r:r[d]},silent:!0}));}for(var d=0;d<h.length;d++){this.group.add(a.mergePath(h[d],{style:o.defaults({stroke:u[d%u.length],fill:null},l.getLineStyle()),silent:!0}));}},_splitArea:function _splitArea(t,e,i,n,r){var s=t.getModel("splitArea"),l=s.getModel("areaStyle"),u=l.get("color"),c=0;u=u instanceof Array?u:[u];for(var h=[],d=r[0],f=1;f<r.length;f++){var p=c++%u.length;h[p]=h[p]||[],h[p].push(new a.Sector({shape:{cx:e.cx,cy:e.cy,r0:d,r:r[f],startAngle:0,endAngle:2*Math.PI},silent:!0})),d=r[f];}for(var f=0;f<h.length;f++){this.group.add(a.mergePath(h[f],{style:o.defaults({fill:u[f%u.length]},l.getAreaStyle()),silent:!0}));}}});},function(t,e,i){var n=i(40),o=i(1),a=i(3),r=i(248),s=n.getInterval,l=n.ifIgnoreOnTick,u=["axisLine","axisLabel","axisTick","axisName"],c="splitLine",h=i(41).extend({type:"singleAxis",axisPointerClass:"SingleAxisPointer",render:function render(t,e,i,a){var s=this.group;s.removeAll();var l=r.layout(t),d=new n(t,l);o.each(u,d.add,d),s.add(d.getGroup()),t.get(c+".show")&&this["_"+c](t,l.labelInterval),h.superCall(this,"render",t,e,i,a);},_splitLine:function _splitLine(t,e){var i=t.axis;if(!i.scale.isBlank()){var n=t.getModel("splitLine"),o=n.getModel("lineStyle"),r=o.get("width"),u=o.get("color"),c=s(n,e);u=u instanceof Array?u:[u];for(var h=t.coordinateSystem.getRect(),d=i.isHorizontal(),f=[],p=0,g=i.getTicksCoords(),m=[],v=[],y=0;y<g.length;++y){if(!l(i,y,c)){var x=i.toGlobalCoord(g[y]);d?(m[0]=x,m[1]=h.y,v[0]=x,v[1]=h.y+h.height):(m[0]=h.x,m[1]=x,v[0]=h.x+h.width,v[1]=x);var _=p++%u.length;f[_]=f[_]||[],f[_].push(new a.Line(a.subPixelOptimizeLine({shape:{x1:m[0],y1:m[1],x2:v[0],y2:v[1]},style:{lineWidth:r},silent:!0})));}}for(var y=0;y<f.length;++y){this.group.add(a.mergePath(f[y],{style:{stroke:u[y%u.length],lineDash:o.getLineDash(r),lineWidth:r},silent:!0}));}}}});t.exports=h;},function(t,e,i){var n=i(2),o={type:"axisAreaSelect",event:"axisAreaSelected",update:"updateVisual"};n.registerAction(o,function(t,e){e.eachComponent({mainType:"parallelAxis",query:t},function(e){e.axis.model.setActiveIntervals(t.intervals);});}),n.registerAction("parallelAxisExpand",function(t,e){e.eachComponent({mainType:"parallel",query:t},function(e){e.setAxisExpand(t);});});},function(t,e,i){"use strict";function n(t,e,i,n,o){var a=e.axis,s=a.dataToCoord(t),c=n.getAngleAxis().getExtent()[0];c=c/180*Math.PI;var h,d,f,p=n.getRadiusAxis().getExtent();if("radius"===a.dim){var g=l.create();l.rotate(g,g,c),l.translate(g,g,[n.cx,n.cy]),h=r.applyTransform([s,-o],g);var m=e.getModel("axisLabel").get("rotate")||0,v=u.innerTextLayout(c,m*Math.PI/180,-1);d=v.textAlign,f=v.textVerticalAlign;}else{var y=p[1];h=n.coordToPoint([y+o,s]);var x=n.cx,_=n.cy;d=Math.abs(h[0]-x)/y<.3?"center":h[0]>x?"left":"right",f=Math.abs(h[1]-_)/y<.3?"middle":h[1]>_?"top":"bottom";}return{position:h,align:d,verticalAlign:f};}var o=i(7),a=i(118),r=i(3),s=i(75),l=i(16),u=i(40),c=i(41),h=a.extend({makeElOption:function makeElOption(t,e,i,a,r){var l=i.axis;"angle"===l.dim&&(this.animationThreshold=Math.PI/18);var u,c=l.polar,h=c.getOtherAxis(l),f=h.getExtent();u=l["dataTo"+o.capitalFirst(l.dim)](e);var p=a.get("type");if(p&&"none"!==p){var g=s.buildElStyle(a),m=d[p](l,c,u,f,g);m.style=g,t.graphicKey=m.type,t.pointer=m;}var v=a.get("label.margin"),y=n(e,i,a,c,v);s.buildLabelElOption(t,i,a,r,y);}}),d={line:function line(t,e,i,n,o){return"angle"===t.dim?{type:"Line",shape:s.makeLineShape(e.coordToPoint([n[0],i]),e.coordToPoint([n[1],i]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r:i}};},shadow:function shadow(t,e,i,n,o){var a=t.getBandWidth(),r=Math.PI/180;return"angle"===t.dim?{type:"Sector",shape:s.makeSectorShape(e.cx,e.cy,n[0],n[1],(-i-a/2)*r,(-i+a/2)*r)}:{type:"Sector",shape:s.makeSectorShape(e.cx,e.cy,i-a/2,i+a/2,0,2*Math.PI)};}};c.registerAxisPointerClass("PolarAxisPointer",h),t.exports=h;},function(t,e,i){"use strict";function n(t){return t.isHorizontal()?0:1;}function o(t,e){var i=t.getRect();return[i[c[e]],i[c[e]]+i[h[e]]];}var a=i(3),r=i(118),s=i(75),l=i(248),u=i(41),c=["x","y"],h=["width","height"],d=r.extend({makeElOption:function makeElOption(t,e,i,a,r){var u=i.axis,c=u.coordinateSystem,h=o(c,1-n(u)),d=c.dataToPoint(e)[0],p=a.get("type");if(p&&"none"!==p){var g=s.buildElStyle(a),m=f[p](u,d,h,g);m.style=g,t.graphicKey=m.type,t.pointer=m;}var v=l.layout(i);s.buildCartesianSingleLabelElOption(e,t,v,i,a,r);},getHandleTransform:function getHandleTransform(t,e,i){var n=l.layout(e,{labelInside:!1});return n.labelMargin=i.get("handle.margin"),{position:s.getTransformedPosition(e.axis,t,n),rotation:n.rotation+(n.labelDirection<0?Math.PI:0)};},updateHandleTransform:function updateHandleTransform(t,e,i,a){var r=i.axis,s=r.coordinateSystem,l=n(r),u=o(s,l),c=t.position;c[l]+=e[l],c[l]=Math.min(u[1],c[l]),c[l]=Math.max(u[0],c[l]);var h=o(s,1-l),d=(h[1]+h[0])/2,f=[d,d];return f[l]=c[l],{position:c,rotation:t.rotation,cursorPoint:f,tooltipOption:{verticalAlign:"middle"}};}}),f={line:function line(t,e,i,o){var r=s.makeLineShape([e,i[0]],[e,i[1]],n(t));return a.subPixelOptimizeLine({shape:r,style:o}),{type:"Line",shape:r};},shadow:function shadow(t,e,i,o){var a=t.getBandWidth(),r=i[1]-i[0];return{type:"Rect",shape:s.makeRectShape([e-a/2,i[0]],[a,r],n(t))};}};u.registerAxisPointerClass("SingleAxisPointer",d),t.exports=d;},function(t,e,i){i(2).registerPreprocessor(i(364)),i(366),i(361),i(362),i(363),i(385);},function(t,e,i){function n(t,e){return a.merge({brushType:t.brushType,brushMode:t.brushMode,transformable:t.transformable,brushStyle:new s(t.brushStyle).getItemStyle(),removeOnClick:t.removeOnClick,z:t.z},e,!0);}var o=i(2),a=i(1),r=i(187),s=i(10),l=["#ddd"],u=o.extendComponentModel({type:"brush",dependencies:["geo","grid","xAxis","yAxis","parallel","series"],defaultOption:{toolbox:null,brushLink:null,seriesIndex:"all",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.3)",borderColor:"rgba(120,140,180,0.8)"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function optionUpdated(t,e){var i=this.option;!e&&r.replaceVisualOption(i,t,["inBrush","outOfBrush"]),i.inBrush=i.inBrush||{},i.outOfBrush=i.outOfBrush||{color:l};},setAreas:function setAreas(t){t&&(this.areas=a.map(t,function(t){return n(this.option,t);},this));},setBrushOption:function setBrushOption(t){this.brushOption=n(this.option,t),this.brushType=this.brushOption.brushType;}});t.exports=u;},function(t,e,i){function n(t,e,i,n){(!n||n.$from!==t.id)&&this._brushController.setPanels(t.brushTargetManager.makePanelOpts(i)).enableBrush(t.brushOption).updateCovers(t.areas.slice());}var o=i(1),a=i(126),r=i(2);t.exports=r.extendComponentView({type:"brush",init:function init(t,e){this.ecModel=t,this.api=e,this.model,(this._brushController=new a(e.getZr())).on("brush",o.bind(this._onBrush,this)).mount();},render:function render(t){return this.model=t,n.apply(this,arguments);},updateView:n,updateLayout:n,updateVisual:n,dispose:function dispose(){this._brushController.dispose();},_onBrush:function _onBrush(t,e){var i=this.model.id;this.model.brushTargetManager.setOutputRanges(t,this.ecModel),(!e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:i,areas:o.clone(t),$from:i});}});},function(t,e,i){var n=i(2);n.registerAction({type:"brush",event:"brush",update:"updateView"},function(t,e){e.eachComponent({mainType:"brush",query:t},function(e){e.setAreas(t.areas);});}),n.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},function(){});},function(t,e,i){function n(t){var e={};o.each(t,function(t){e[t]=1;}),t.length=0,o.each(e,function(e,i){t.push(i);});}var o=i(1),a=["rect","polygon","keep","clear"];t.exports=function(t,e){var i=t&&t.brush;if(o.isArray(i)||(i=i?[i]:[]),i.length){var r=[];o.each(i,function(t){var e=t.hasOwnProperty("toolbox")?t.toolbox:[];e instanceof Array&&(r=r.concat(e));});var s=t&&t.toolbox;o.isArray(s)&&(s=s[0]),s||(s={feature:{}},t.toolbox=[s]);var l=s.feature||(s.feature={}),u=l.brush||(l.brush={}),c=u.type||(u.type=[]);c.push.apply(c,r),n(c),e&&!c.length&&c.push.apply(c,a);}};},function(t,e,i){function n(t){var e=["x","y"],i=["width","height"];return{point:function point(e,i,n){var a=n.range,r=e[t];return o(r,a);},rect:function rect(n,a,r){var s=r.range,l=[n[e[t]],n[e[t]]+n[i[t]]];return l[1]<l[0]&&l.reverse(),o(l[0],s)||o(l[1],s)||o(s[0],l)||o(s[1],l);}};}function o(t,e){return e[0]<=t&&t<=e[1];}function a(t,e,i,n,o){for(var a=0,s=o[o.length-1];a<o.length;a++){var l=o[a];if(r(t,e,i,n,l[0],l[1],s[0],s[1]))return!0;s=l;}}function r(t,e,i,n,o,a,r,u){var c=l(i-t,o-r,n-e,a-u);if(s(c))return!1;var h=l(o-t,o-r,a-e,a-u)/c;if(h<0||h>1)return!1;var d=l(i-t,o-t,n-e,a-e)/c;return!(d<0||d>1);}function s(t){return t<=1e-6&&t>=-1e-6;}function l(t,e,i,n){return t*n-e*i;}var u=i(267).contain,c=i(11),h={lineX:n(0),lineY:n(1),rect:{point:function point(t,e,i){return i.boundingRect.contain(t[0],t[1]);},rect:function rect(t,e,i){return i.boundingRect.intersect(t);}},polygon:{point:function point(t,e,i){return i.boundingRect.contain(t[0],t[1])&&u(i.range,t[0],t[1]);},rect:function rect(t,e,i){var n=i.range;if(n.length<=1)return!1;var o=t.x,r=t.y,s=t.width,l=t.height,h=n[0];return!!(u(n,o,r)||u(n,o+s,r)||u(n,o,r+l)||u(n,o+s,r+l)||c.create(t).contain(h[0],h[1])||a(o,r,o+s,r,n)||a(o,r,o,r+l,n)||a(o+s,r,o+s,r+l,n)||a(o,r+l,o+s,r+l,n))||void 0;}}};t.exports=h;},function(t,e,i){function n(t,e,i,n,a){if(a){var r=t.getZr();if(!r[x]){r[y]||(r[y]=o);var s=g.createOrUpdate(r,y,i,e);s(t,n);}}}function o(t,e){if(!t.isDisposed()){var i=t.getZr();i[x]=!0,t.dispatchAction({type:"brushSelect",batch:e}),i[x]=!1;}}function a(t,e,i,n){for(var o=0,a=e.length;o<a;o++){var r=e[o];if(t[r.brushType](n,i,r.selectors,r))return!0;}}function r(t){var e=t.brushSelector;if(d.isString(e)){var i=[];return d.each(p,function(t,n){i[n]=function(i,n,o,a){var r=n.getItemLayout(i);return t[e](r,o,a);};}),i;}if(d.isFunction(e)){var n={};return d.each(p,function(t,i){n[i]=e;}),n;}return e;}function s(t,e){var i=t.option.seriesIndex;return null!=i&&"all"!==i&&(d.isArray(i)?d.indexOf(i,e)<0:e!==i);}function l(t){var e=t.selectors={};return d.each(p[t.brushType],function(i,n){e[n]=function(n){return i(n,e,t);};}),t;}function u(t){return new f(t[0][0],t[1][0],t[0][1]-t[0][0],t[1][1]-t[1][0]);}var c=i(2),h=i(187),d=i(1),f=i(11),p=i(365),g=i(37),m=i(184),v=["inBrush","outOfBrush"],y="__ecBrushSelect",x="__ecInBrushSelectEvent",_=c.PRIORITY.VISUAL.BRUSH;c.registerLayout(_,function(t,e,i){t.eachComponent({mainType:"brush"},function(e){i&&"takeGlobalCursor"===i.type&&e.setBrushOption("brush"===i.key?i.brushOption:{brushType:!1});var n=e.brushTargetManager=new m(e.option,t);n.setInputRanges(e.areas,t);});}),c.registerVisual(_,function(t,e,i){var o,u,c=[];t.eachComponent({mainType:"brush"},function(e,i){function n(t){return"all"===x||_[t];}function f(t){return!!t.length;}function p(t,e){var i=t.coordinateSystem;M|=i.hasAxisBrushed(),n(e)&&i.eachActiveState(t.getData(),function(t,e){"active"===t&&(w[e]=1);});}function g(i,o,l){var u=r(i);if(u&&!s(e,o)&&(d.each(I,function(n){u[n.brushType]&&e.brushTargetManager.controlSeries(n,i,t)&&l.push(n),M|=f(l);}),n(o)&&f(l))){var c=i.getData();c.each(function(t){a(u,l,c,t)&&(w[t]=1);});}}var m={brushId:e.id,brushIndex:i,brushName:e.name,areas:d.clone(e.areas),selected:[]};c.push(m);var y=e.option,x=y.brushLink,_=[],w=[],S=[],M=0;i||(o=y.throttleType,u=y.throttleDelay);var I=d.map(e.areas,function(t){return l(d.defaults({boundingRect:b[t.brushType](t)},t));}),T=h.createVisualMappings(e.option,v,function(t){t.mappingMethod="fixed";});d.isArray(x)&&d.each(x,function(t){_[t]=1;}),t.eachSeries(function(t,e){var i=S[e]=[];"parallel"===t.subType?p(t,e,i):g(t,e,i);}),t.eachSeries(function(t,e){var i={seriesId:t.id,seriesIndex:e,seriesName:t.name,dataIndex:[]};m.selected.push(i);var o=r(t),s=S[e],l=t.getData(),u=n(e)?function(t){return w[t]?(i.dataIndex.push(l.getRawIndex(t)),"inBrush"):"outOfBrush";}:function(t){return a(o,s,l,t)?(i.dataIndex.push(l.getRawIndex(t)),"inBrush"):"outOfBrush";};(n(e)?M:f(s))&&h.applyVisual(v,T,l,u);});}),n(e,o,u,c,i);});var b={lineX:d.noop,lineY:d.noop,rect:function rect(t){return u(t.range);},polygon:function polygon(t){for(var e,i=t.range,n=0,o=i.length;n<o;n++){e=e||[[1/0,-(1/0)],[1/0,-(1/0)]];var a=i[n];a[0]<e[0][0]&&(e[0][0]=a[0]),a[0]>e[0][1]&&(e[0][1]=a[0]),a[1]<e[1][0]&&(e[1][0]=a[1]),a[1]>e[1][1]&&(e[1][1]=a[1]);}return e&&u(e);}};},function(t,e,i){"use strict";i(393),i(394),i(368);},function(t,e,i){"use strict";var n=i(1),o=i(3),a=i(7),r=i(4),s={EN:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],CN:["","","","","","","","","","","",""]},l={EN:["S","M","T","W","T","F","S"],CN:["","","","","","",""]};t.exports=i(2).extendComponentView({type:"calendar",_tlpoints:null,_blpoints:null,_firstDayOfMonth:null,_firstDayPoints:null,render:function render(t,e,i){var n=this.group;n.removeAll();var o=t.coordinateSystem,a=o.getHandledRangeInfo(),r=o.getOrient();this._renderDayRect(t,a,n),this._renderLines(t,a,r,n),this._renderYearText(t,a,r,n),this._renderMonthText(t,r,n),this._renderWeekText(t,a,r,n);},_renderDayRect:function _renderDayRect(t,e,i){for(var n=t.coordinateSystem,a=t.getModel("itemStyle.normal").getItemStyle(),r=n.getCellWidth(),s=n.getCellHeight(),l=e.start.time;l<=e.end.time;l=n.getNextNDay(l,1).time){var u=n.dataToRect([l],!0).tl,c=new o.Rect({shape:{x:u[0],y:u[1],width:r,height:s},style:a});i.add(c);}},_renderLines:function _renderLines(t,e,i,n){function o(e){a._firstDayOfMonth.push(r.getDateInfo(e)),a._firstDayPoints.push(r.dataToRect([e],!0).tl);var o=a._getLinePointsOfOneWeek(t,e,i);a._tlpoints.push(o[0]),a._blpoints.push(o[o.length-1]),l&&a._drawSplitline(o,s,n);}var a=this,r=t.coordinateSystem,s=t.getModel("splitLine.lineStyle").getLineStyle(),l=t.get("splitLine.show"),u=s.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var c=e.start,h=0;c.time<=e.end.time;h++){o(c.formatedDate),0===h&&(c=r.getDateInfo(e.start.y+"-"+e.start.m));var d=c.date;d.setMonth(d.getMonth()+1),c=r.getDateInfo(d);}o(r.getNextNDay(e.end.time,1).formatedDate),l&&this._drawSplitline(a._getEdgesPoints(a._tlpoints,u,i),s,n),l&&this._drawSplitline(a._getEdgesPoints(a._blpoints,u,i),s,n);},_getEdgesPoints:function _getEdgesPoints(t,e,i){var n=[t[0].slice(),t[t.length-1].slice()],o="horizontal"===i?0:1;return n[0][o]=n[0][o]-e/2,n[1][o]=n[1][o]+e/2,n;},_drawSplitline:function _drawSplitline(t,e,i){var n=new o.Polyline({z2:20,shape:{points:t},style:e});i.add(n);},_getLinePointsOfOneWeek:function _getLinePointsOfOneWeek(t,e,i){var n=t.coordinateSystem;e=n.getDateInfo(e);for(var o=[],a=0;a<7;a++){var r=n.getNextNDay(e.time,a),s=n.dataToRect([r.time],!0);o[2*r.day]=s.tl,o[2*r.day+1]=s["horizontal"===i?"bl":"tr"];}return o;},_formatterLabel:function _formatterLabel(t,e){return"string"==typeof t&&t?a.formatTplSimple(t,e):"function"==typeof t?t(e):e.nameMap;},_yearTextPositionControl:function _yearTextPositionControl(t,e,i,n){t=t.slice();var o=["center","bottom"];"top"===i&&(t[1]-=n),"bottom"===i&&(t[1]+=n,o=["center","top"]),"left"===i&&(t[0]-=n),"right"===i&&(t[0]+=n,o=["center","top"]);var a=0;return"left"!==i&&"right"!==i||(a=Math.PI/2),{rotation:a,origin:t,style:{x:t[0],y:t[1],textAlign:o[0],textVerticalAlign:o[1]}};},_renderYearText:function _renderYearText(t,e,i,a){var r=t.getModel("yearLabel");if(r.get("show")){var s=t.getModel("yearLabel.textStyle"),l=r.get("margin"),u=r.get("position");u||(u="horizontal"!==i?"top":"left");var c=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],h=(c[0][0]+c[1][0])/2,d=(c[0][1]+c[1][1])/2,f="horizontal"===i?0:1,p={top:[h,c[f][1]],bottom:[h,c[1-f][1]],left:[c[1-f][0],d],right:[c[f][0],d]},g=e.start.y;+e.end.y>+e.start.y&&(g=g+"-"+e.end.y);var m=r.get("formatter"),v={start:e.start.y,end:e.end.y,nameMap:g},y=this._formatterLabel(m,v),x=new o.Text(n.merge({z2:30,style:{text:y,font:s.getFont(),fill:s.getTextColor()}},this._yearTextPositionControl(p[u],i,u,l)));a.add(x);}},_monthTextPositionControl:function _monthTextPositionControl(t,e,i,n,o){var a="left",r="top",s=t[0],l=t[1];return"horizontal"===i?(l+=o,e&&(a="center"),"start"===n&&(r="bottom")):(s+=o,e&&(r="middle"),"start"===n&&(a="right")),{x:s,y:l,textAlign:a,textVerticalAlign:r};},_renderMonthText:function _renderMonthText(t,e,i){var a=t.getModel("monthLabel");if(a.get("show")){var r=t.getModel("monthLabel.textStyle"),l=a.get("nameMap"),u=a.get("margin"),c=a.get("position"),h=a.get("align"),d=[this._tlpoints,this._blpoints];n.isString(l)&&(l=s[l.toUpperCase()]||[]);var f="start"===c?0:1,p="horizontal"===e?0:1;u="start"===c?-u:u;for(var g="center"===h,m=0;m<d[f].length-1;m++){var v=d[f][m].slice(),y=this._firstDayOfMonth[m];if(g){var x=this._firstDayPoints[m];v[p]=(x[p]+d[0][m+1][p])/2;}var _=a.get("formatter"),b=l[+y.m-1],w={yyyy:y.y,yy:(y.y+"").slice(2),MM:y.m,M:+y.m,nameMap:b},S=this._formatterLabel(_,w),M=new o.Text({z2:30,style:n.extend({text:S,font:r.getFont(),fill:r.getTextColor()},this._monthTextPositionControl(v,g,e,c,u))});i.add(M);}}},_weekTextPositionControl:function _weekTextPositionControl(t,e,i,n,o){var a="center",r="middle",s=t[0],l=t[1],u="start"===i;return"horizontal"===e?(s=s+n+(u?1:-1)*o[0]/2,a=u?"right":"left"):(l=l+n+(u?1:-1)*o[1]/2,r=u?"bottom":"top"),{x:s,y:l,textAlign:a,textVerticalAlign:r};},_renderWeekText:function _renderWeekText(t,e,i,a){var s=t.getModel("dayLabel");if(s.get("show")){var u=t.coordinateSystem,c=t.getModel("dayLabel.textStyle"),h=s.get("position"),d=s.get("nameMap"),f=s.get("margin"),p=u.getFirstDayOfWeek();n.isString(d)&&(d=l[d.toUpperCase()]||[]);var g=u.getNextNDay(e.end.time,7-e.lweek).time,m=[u.getCellWidth(),u.getCellHeight()];f=r.parsePercent(f,m["horizontal"===i?0:1]),"start"===h&&(g=u.getNextNDay(e.start.time,-(7+e.fweek)).time,f=-f);for(var v=0;v<7;v++){var y=u.getNextNDay(g,v),x=u.dataToRect([y.time],!0).center,_=v;_=Math.abs((v+p)%7);var b=new o.Text({z2:30,style:n.extend({text:d[_],font:c.getFont(),fill:c.getTextColor()},this._weekTextPositionControl(x,i,h,f,m))});a.add(b);}}}});},function(t,e,i){function n(t,e){e.update="updateView",o.registerAction(e,function(e,i){var n={};return i.eachComponent({mainType:"geo",query:e},function(i){i[t](e.name);var o=i.coordinateSystem;a.each(o.regions,function(t){n[t.name]=i.isSelected(t.name)||!1;});}),{selected:n,name:e.name};});}i(396),i(186),i(370),i(240);var o=i(2),a=i(1);n("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),n("select",{type:"geoSelect",event:"geoselected"}),n("unSelect",{type:"geoUnSelect",event:"geounselected"});},function(t,e,i){"use strict";var n=i(249);t.exports=i(2).extendComponentView({type:"geo",init:function init(t,e){var i=new n(e,!0);this._mapDraw=i,this.group.add(i.group);},render:function render(t,e,i,n){if(!n||"geoToggleSelect"!==n.type||n.from!==this.uid){var o=this._mapDraw;t.get("show")?o.draw(t,e,i,this,n):this._mapDraw.group.removeAll(),this.group.silent=t.get("silent");}},dispose:function dispose(){this._mapDraw&&this._mapDraw.remove();}});},function(t,e,i){i(263),i(357),i(354);},function(t,e,i){"use strict";i(236),i(352),i(375),i(55),i(358),i(2).extendComponentView({type:"polar"});},function(t,e,i){i(411),i(412),i(374);},function(t,e,i){var n=i(40),o=i(1),a=i(3),r=["axisLine","axisLabel","axisTick","axisName"];t.exports=i(2).extendComponentView({type:"radar",render:function render(t,e,i){var n=this.group;n.removeAll(),this._buildAxes(t),this._buildSplitLineAndArea(t);},_buildAxes:function _buildAxes(t){var e=t.coordinateSystem,i=e.getIndicatorAxes(),a=o.map(i,function(t){var i=new n(t.model,{position:[e.cx,e.cy],rotation:t.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return i;});o.each(a,function(t){o.each(r,t.add,t),this.group.add(t.getGroup());},this);},_buildSplitLineAndArea:function _buildSplitLineAndArea(t){function e(t,e,i){var n=i%e.length;return t[n]=t[n]||[],n;}var i=t.coordinateSystem,n=i.getIndicatorAxes();if(n.length){var r=t.get("shape"),s=t.getModel("splitLine"),l=t.getModel("splitArea"),u=s.getModel("lineStyle"),c=l.getModel("areaStyle"),h=s.get("show"),d=l.get("show"),f=u.get("color"),p=c.get("color");f=o.isArray(f)?f:[f],p=o.isArray(p)?p:[p];var g=[],m=[];if("circle"===r)for(var v=n[0].getTicksCoords(),y=i.cx,x=i.cy,_=0;_<v.length;_++){if(h){var b=e(g,f,_);g[b].push(new a.Circle({shape:{cx:y,cy:x,r:v[_]}}));}if(d&&_<v.length-1){var b=e(m,p,_);m[b].push(new a.Ring({shape:{cx:y,cy:x,r0:v[_],r:v[_+1]}}));}}else for(var w=-1,S=o.map(n,function(t,e){var n=t.getTicksCoords();return w=Math.max(n.length-1,w),o.map(n,function(t){return i.coordToPoint(t,e);});}),M=[],_=0;_<=w;_++){for(var I=[],T=0;T<n.length;T++){I.push(S[T][_]);}if(I[0]&&I.push(I[0].slice()),h){var b=e(g,f,_);g[b].push(new a.Polyline({shape:{points:I}}));}if(d&&M){var b=e(m,p,_-1);m[b].push(new a.Polygon({shape:{points:I.concat(M)}}));}M=I.slice().reverse();}var A=u.getLineStyle(),C=c.getAreaStyle();o.each(m,function(t,e){this.group.add(a.mergePath(t,{style:o.defaults({stroke:"none",fill:p[e%p.length]},C),silent:!0}));},this),o.each(g,function(t,e){this.group.add(a.mergePath(t,{style:o.defaults({fill:"none",stroke:f[e%f.length]},A),silent:!0}));},this);}}});},function(t,e,i){i(236),i(355);},function(t,e,i){var n=i(2);n.registerPreprocessor(i(382)),i(384),i(383),i(377),i(378);},function(t,e,i){var n=i(380),o=i(1),a=i(6),r=n.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",normal:{show:!0,interval:"auto",rotate:0,textStyle:{color:"#304654"}},emphasis:{show:!0,textStyle:{color:"#c23531"}}},itemStyle:{normal:{color:"#304654",borderWidth:1},emphasis:{color:"#c23531"}},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",normal:{color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}});o.mixin(r,a.dataFormatMixin),t.exports=r;},function(t,e,i){function n(t,e){return u.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},t.get("padding"));}function o(t,e,i,n){var o=l.makePath(t.get(e).replace(/^path:\/\//,""),s.clone(n||{}),new p(i[0],i[1],i[2],i[3]),"center");return o;}function a(t,e,i,n,o,a){var r=e.get("color");if(o)o.setColor(r),i.add(o),a&&a.onUpdate(o);else{var l=t.get("symbol");o=d.createSymbol(l,-1,-1,2,2,r),o.setStyle("strokeNoScale",!0),i.add(o),a&&a.onCreate(o);}var u=e.getItemStyle(["color","symbol","symbolSize"]);o.setStyle(u),n=s.merge({rectHover:!0,z2:100},n,!0);var c=t.get("symbolSize");c=c instanceof Array?c.slice():[+c,+c],c[0]/=2,c[1]/=2,n.scale=c;var h=t.get("symbolOffset");if(h){var f=n.position=n.position||[0,0];f[0]+=m.parsePercent(h[0],c[0]),f[1]+=m.parsePercent(h[1],c[1]);}var p=t.get("symbolRotate");return n.rotation=(p||0)*Math.PI/180||0,o.attr(n),o.updateTransform(),o;}function r(t,e,i,n,o){if(!t.dragging){var a=n.getModel("checkpointStyle"),r=i.dataToCoord(n.getData().get(["value"],e));o||!a.get("animation",!0)?t.attr({position:[r,0]}):(t.stopAnimation(!0),t.animateTo({position:[r,0]},a.get("animationDuration",!0),a.get("animationEasing",!0)));}}var s=i(1),l=i(3),u=i(12),c=i(381),h=i(379),d=i(24),f=i(18),p=i(11),g=i(16),m=i(4),v=i(7),y=v.encodeHTML,x=s.bind,_=s.each,b=Math.PI;t.exports=c.extend({type:"timeline.slider",init:function init(t,e){this.api=e,this._axis,this._viewRect,this._timer,this._currentPointer,this._mainGroup,this._labelGroup;},render:function render(t,e,i,n){if(this.model=t,this.api=i,this.ecModel=e,this.group.removeAll(),t.get("show",!0)){var o=this._layout(t,i),a=this._createGroup("mainGroup"),r=this._createGroup("labelGroup"),s=this._axis=this._createAxis(o,t);t.formatTooltip=function(t){return y(s.scale.getLabel(t));},_(["AxisLine","AxisTick","Control","CurrentPointer"],function(e){this["_render"+e](o,a,s,t);},this),this._renderAxisLabel(o,r,s,t),this._position(o,t);}this._doPlayStop();},remove:function remove(){this._clearTimer(),this.group.removeAll();},dispose:function dispose(){this._clearTimer();},_layout:function _layout(t,e){var i=t.get("label.normal.position"),o=t.get("orient"),a=n(t,e);null==i||"auto"===i?i="horizontal"===o?a.y+a.height/2<e.getHeight()/2?"-":"+":a.x+a.width/2<e.getWidth()/2?"+":"-":isNaN(i)&&(i={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[o][i]);var r={horizontal:"center",vertical:i>=0||"+"===i?"left":"right"},s={horizontal:i>=0||"+"===i?"top":"bottom",vertical:"middle"},l={horizontal:0,vertical:b/2},u="vertical"===o?a.height:a.width,c=t.getModel("controlStyle"),h=c.get("show"),d=h?c.get("itemSize"):0,f=h?c.get("itemGap"):0,p=d+f,g=t.get("label.normal.rotate")||0;g=g*b/180;var m,v,y,x,_=c.get("position",!0),h=c.get("show",!0),w=h&&c.get("showPlayBtn",!0),S=h&&c.get("showPrevBtn",!0),M=h&&c.get("showNextBtn",!0),I=0,T=u;return"left"===_||"bottom"===_?(w&&(m=[0,0],I+=p),S&&(v=[I,0],I+=p),M&&(y=[T-d,0],T-=p)):(w&&(m=[T-d,0],T-=p),S&&(v=[0,0],I+=p),M&&(y=[T-d,0],T-=p)),x=[I,T],t.get("inverse")&&x.reverse(),{viewRect:a,mainLength:u,orient:o,rotation:l[o],labelRotation:g,labelPosOpt:i,labelAlign:r[o],labelBaseline:s[o],playPosition:m,prevBtnPosition:v,nextBtnPosition:y,axisExtent:x,controlSize:d,controlGap:f};},_position:function _position(t,e){function i(t){var e=t.position;t.origin=[h[0][0]-e[0],h[1][0]-e[1]];}function n(t){return[[t.x,t.x+t.width],[t.y,t.y+t.height]];}function o(t,e,i,n,o){t[n]+=i[n][o]-e[n][o];}var a=this._mainGroup,r=this._labelGroup,s=t.viewRect;if("vertical"===t.orient){var l=g.create(),u=s.x,c=s.y+s.height;g.translate(l,l,[-u,-c]),g.rotate(l,l,-b/2),g.translate(l,l,[u,c]),s=s.clone(),s.applyTransform(l);}var h=n(s),d=n(a.getBoundingRect()),f=n(r.getBoundingRect()),p=a.position,m=r.position;m[0]=p[0]=h[0][0];var v=t.labelPosOpt;if(isNaN(v)){var y="+"===v?0:1;o(p,d,h,1,y),o(m,f,h,1,1-y);}else{var y=v>=0?0:1;o(p,d,h,1,y),m[1]=p[1]+v;}a.attr("position",p),r.attr("position",m),a.rotation=r.rotation=t.rotation,i(a),i(r);},_createAxis:function _createAxis(t,e){var i=e.getData(),n=e.get("axisType"),o=f.createScaleByModel(e,n),a=i.getDataExtent("value");o.setExtent(a[0],a[1]),this._customizeScale(o,i),o.niceTicks();var r=new h("value",o,t.axisExtent,n);return r.model=e,r;},_customizeScale:function _customizeScale(t,e){t.getTicks=function(){return e.mapArray(["value"],function(t){return t;});},t.getTicksLabels=function(){return s.map(this.getTicks(),t.getLabel,t);};},_createGroup:function _createGroup(t){var e=this["_"+t]=new l.Group();return this.group.add(e),e;},_renderAxisLine:function _renderAxisLine(t,e,i,n){var o=i.getExtent();n.get("lineStyle.show")&&e.add(new l.Line({shape:{x1:o[0],y1:0,x2:o[1],y2:0},style:s.extend({lineCap:"round"},n.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}));},_renderAxisTick:function _renderAxisTick(t,e,i,n){var o=n.getData(),r=i.scale.getTicks();_(r,function(t,r){var s=i.dataToCoord(t),u=o.getItemModel(r),c=u.getModel("itemStyle.normal"),h=u.getModel("itemStyle.emphasis"),d={position:[s,0],onclick:x(this._changeTimeline,this,r)},f=a(u,c,e,d);l.setHoverStyle(f,h.getItemStyle()),u.get("tooltip")?(f.dataIndex=r,f.dataModel=n):f.dataIndex=f.dataModel=null;},this);},_renderAxisLabel:function _renderAxisLabel(t,e,i,n){var o=n.getModel("label.normal");if(o.get("show")){var a=n.getData(),r=i.scale.getTicks(),s=f.getFormattedLabels(i,o.get("formatter")),u=i.getLabelInterval();_(r,function(n,o){if(!i.isLabelIgnored(o,u)){var r=a.getItemModel(o),c=r.getModel("label.normal.textStyle"),h=r.getModel("label.emphasis.textStyle"),d=i.dataToCoord(n),f=new l.Text({style:{text:s[o],textAlign:t.labelAlign,textVerticalAlign:t.labelBaseline,textFont:c.getFont(),fill:c.getTextColor()},position:[d,0],rotation:t.labelRotation-t.rotation,onclick:x(this._changeTimeline,this,o),silent:!1});e.add(f),l.setHoverStyle(f,h.getItemStyle());}},this);}},_renderControl:function _renderControl(t,e,i,n){function a(t,i,a,d){if(t){var f={position:t,origin:[r/2,0],rotation:d?-s:0,rectHover:!0,style:u,onclick:a},p=o(n,i,h,f);e.add(p),l.setHoverStyle(p,c);}}var r=t.controlSize,s=t.rotation,u=n.getModel("controlStyle.normal").getItemStyle(),c=n.getModel("controlStyle.emphasis").getItemStyle(),h=[0,-r/2,r,r],d=n.getPlayState(),f=n.get("inverse",!0);a(t.nextBtnPosition,"controlStyle.nextIcon",x(this._changeTimeline,this,f?"-":"+")),a(t.prevBtnPosition,"controlStyle.prevIcon",x(this._changeTimeline,this,f?"+":"-")),a(t.playPosition,"controlStyle."+(d?"stopIcon":"playIcon"),x(this._handlePlayClick,this,!d),!0);},_renderCurrentPointer:function _renderCurrentPointer(t,e,i,n){var o=n.getData(),s=n.getCurrentIndex(),l=o.getItemModel(s).getModel("checkpointStyle"),u=this,c={onCreate:function onCreate(t){t.draggable=!0,t.drift=x(u._handlePointerDrag,u),t.ondragend=x(u._handlePointerDragend,u),r(t,s,i,n,!0);},onUpdate:function onUpdate(t){r(t,s,i,n);}};this._currentPointer=a(l,l,this._mainGroup,{},this._currentPointer,c);},_handlePlayClick:function _handlePlayClick(t){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid});},_handlePointerDrag:function _handlePointerDrag(t,e,i){this._clearTimer(),this._pointerChangeTimeline([i.offsetX,i.offsetY]);},_handlePointerDragend:function _handlePointerDragend(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0);},_pointerChangeTimeline:function _pointerChangeTimeline(t,e){var i=this._toAxisCoord(t)[0],n=this._axis,o=m.asc(n.getExtent().slice());i>o[1]&&(i=o[1]),i<o[0]&&(i=o[0]),this._currentPointer.position[0]=i,this._currentPointer.dirty();var a=this._findNearestTick(i),r=this.model;(e||a!==r.getCurrentIndex()&&r.get("realtime"))&&this._changeTimeline(a);},_doPlayStop:function _doPlayStop(){function t(){var t=this.model;this._changeTimeline(t.getCurrentIndex()+(t.get("rewind",!0)?-1:1));}this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(x(t,this),this.model.get("playInterval")));},_toAxisCoord:function _toAxisCoord(t){var e=this._mainGroup.getLocalTransform();return l.applyTransform(t,e,!0);},_findNearestTick:function _findNearestTick(t){var e,i=this.model.getData(),n=1/0,o=this._axis;return i.each(["value"],function(i,a){var r=o.dataToCoord(i),s=Math.abs(r-t);s<n&&(n=s,e=a);}),e;},_clearTimer:function _clearTimer(){this._timer&&(clearTimeout(this._timer),this._timer=null);},_changeTimeline:function _changeTimeline(t){var e=this.model.getCurrentIndex();"+"===t?t=e+1:"-"===t&&(t=e-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid});}});},function(t,e,i){var n=i(1),o=i(33),a=i(18),r=function r(t,e,i,n){o.call(this,t,e,i),this.type=n||"value",this._autoLabelInterval,this.model=null;};r.prototype={constructor:r,getLabelInterval:function getLabelInterval(){var t=this.model,e=t.getModel("label.normal"),i=e.get("interval");if(null!=i&&"auto"!=i)return i;var i=this._autoLabelInterval;return i||(i=this._autoLabelInterval=a.getAxisLabelInterval(n.map(this.scale.getTicks(),this.dataToCoord,this),a.getFormattedLabels(this,e.get("formatter")),e.getModel("textStyle").getFont(),"horizontal"===t.get("orient"))),i;},isLabelIgnored:function isLabelIgnored(t){if("category"===this.type){var e=this.getLabelInterval();return"function"==typeof e&&!e(t,this.scale.getLabel(t))||t%(e+1);}}},n.inherits(r,o),t.exports=r;},function(t,e,i){var n=i(13),o=i(14),a=i(1),r=i(6),s=n.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{normal:{},emphasis:{}},label:{normal:{textStyle:{color:"#000"}},emphasis:{}},data:[]},init:function init(t,e,i){this._data,this._names,this.mergeDefaultAndTheme(t,i),this._initData();},mergeOption:function mergeOption(t){s.superApply(this,"mergeOption",arguments),this._initData();},setCurrentIndex:function setCurrentIndex(t){null==t&&(t=this.option.currentIndex);var e=this._data.count();this.option.loop?t=(t%e+e)%e:(t>=e&&(t=e-1),t<0&&(t=0)),this.option.currentIndex=t;},getCurrentIndex:function getCurrentIndex(){return this.option.currentIndex;},isIndexMax:function isIndexMax(){return this.getCurrentIndex()>=this._data.count()-1;},setPlayState:function setPlayState(t){this.option.autoPlay=!!t;},getPlayState:function getPlayState(){return!!this.option.autoPlay;},_initData:function _initData(){var t=this.option,e=t.data||[],i=t.axisType,n=this._names=[];if("category"===i){var s=[];a.each(e,function(t,e){var i,o=r.getDataItemValue(t);a.isObject(t)?(i=a.clone(t),i.value=e):i=e,s.push(i),a.isString(o)||null!=o&&!isNaN(o)||(o=""),n.push(o+"");}),e=s;}var l={category:"ordinal",time:"time"}[i]||"number",u=this._data=new o([{name:"value",type:l}],this);u.initData(e,n);},getData:function getData(){return this._data;},getCategories:function getCategories(){if("category"===this.get("axisType"))return this._names.slice();}});t.exports=s;},function(t,e,i){var n=i(64);t.exports=n.extend({type:"timeline"});},function(t,e,i){function n(t){var e=t.type,i={number:"value",time:"time"};if(i[e]&&(t.axisType=i[e],delete t.type),o(t),a(t,"controlPosition")){var n=t.controlStyle||(t.controlStyle={});a(n,"position")||(n.position=t.controlPosition),"none"!==n.position||a(n,"show")||(n.show=!1,delete n.position),delete t.controlPosition;}r.each(t.data||[],function(t){r.isObject(t)&&!r.isArray(t)&&(!a(t,"value")&&a(t,"name")&&(t.value=t.name),o(t));});}function o(t){var e=t.itemStyle||(t.itemStyle={}),i=e.emphasis||(e.emphasis={}),n=t.label||t.label||{},o=n.normal||(n.normal={}),s={normal:1,emphasis:1};r.each(n,function(t,e){s[e]||a(o,e)||(o[e]=t);}),i.label&&!a(n,"emphasis")&&(n.emphasis=i.label,delete i.label);}function a(t,e){return t.hasOwnProperty(e);}var r=i(1);t.exports=function(t){var e=t&&t.timeline;r.isArray(e)||(e=e?[e]:[]),r.each(e,function(t){t&&n(t);});};},function(t,e,i){var n=i(2),o=i(1);n.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(t,e){var i=e.getComponent("timeline");return i&&null!=t.currentIndex&&(i.setCurrentIndex(t.currentIndex),!i.get("loop",!0)&&i.isIndexMax()&&i.setPlayState(!1)),e.resetOption("timeline"),o.defaults({currentIndex:i.option.currentIndex},t);}),n.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(t,e){var i=e.getComponent("timeline");i&&null!=t.playState&&i.setPlayState(t.playState);});},function(t,e,i){i(13).registerSubTypeDefaulter("timeline",function(){return"slider";});},function(t,e,i){"use strict";function n(t,e,i){this.model=t,this.ecModel=e,this.api=i,this._brushType,this._brushMode;}var o=i(29),a=i(1);n.defaultOption={show:!0,type:["rect","polygon","lineX","lineY","keep","clear"],icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}};var r=n.prototype;r.render=r.updateView=r.updateLayout=function(t,e,i){var n,o,r;e.eachComponent({mainType:"brush"},function(t){n=t.brushType,o=t.brushOption.brushMode||"single",r|=t.areas.length;}),this._brushType=n,this._brushMode=o,a.each(t.get("type",!0),function(e){t.setIconStatus(e,("keep"===e?"multiple"===o:"clear"===e?r:e===n)?"emphasis":"normal");});},r.getIcons=function(){var t=this.model,e=t.get("icon",!0),i={};return a.each(t.get("type",!0),function(t){e[t]&&(i[t]=e[t]);}),i;},r.onclick=function(t,e,i){var e=this.api,n=this._brushType,o=this._brushMode;"clear"===i?(e.dispatchAction({type:"axisAreaSelect",intervals:[]}),e.dispatchAction({type:"brush",command:"clear",areas:[]})):e.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===i?n:n!==i&&i,brushMode:"keep"===i?"multiple"===o?"single":"multiple":o}});},o.register("brush",n),t.exports=n;},function(t,e,i){i(391),i(392);},function(t,e,i){function n(t,e,i){if(i[0]===i[1])return i.slice();for(var n=200,o=(i[1]-i[0])/n,a=i[0],r=[],s=0;s<=n&&a<i[1];s++){r.push(a),a+=o;}return r.push(i[1]),r;}var o=i(253),a=i(1),r=i(4),s=[20,140],l=o.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:!0},optionUpdated:function optionUpdated(t,e){l.superApply(this,"optionUpdated",arguments),this.resetTargetSeries(),this.resetExtent(),this.resetVisual(function(t){t.mappingMethod="linear",t.dataExtent=this.getExtent();}),this._resetRange();},resetItemSize:function resetItemSize(){l.superApply(this,"resetItemSize",arguments);var t=this.itemSize;"horizontal"===this._orient&&t.reverse(),(null==t[0]||isNaN(t[0]))&&(t[0]=s[0]),(null==t[1]||isNaN(t[1]))&&(t[1]=s[1]);},_resetRange:function _resetRange(){var t=this.getExtent(),e=this.option.range;!e||e.auto?(t.auto=1,this.option.range=t):a.isArray(e)&&(e[0]>e[1]&&e.reverse(),e[0]=Math.max(e[0],t[0]),e[1]=Math.min(e[1],t[1]));},completeVisualOption:function completeVisualOption(){o.prototype.completeVisualOption.apply(this,arguments),a.each(this.stateList,function(t){var e=this.option.controller[t].symbolSize;e&&e[0]!==e[1]&&(e[0]=0);},this);},setSelected:function setSelected(t){this.option.range=t.slice(),this._resetRange();},getSelected:function getSelected(){var t=this.getExtent(),e=r.asc((this.get("range")||[]).slice());return e[0]>t[1]&&(e[0]=t[1]),e[1]>t[1]&&(e[1]=t[1]),e[0]<t[0]&&(e[0]=t[0]),e[1]<t[0]&&(e[1]=t[0]),e;},getValueState:function getValueState(t){var e=this.option.range,i=this.getExtent();return(e[0]<=i[0]||e[0]<=t)&&(e[1]>=i[1]||t<=e[1])?"inRange":"outOfRange";},findTargetDataIndices:function findTargetDataIndices(t){var e=[];return this.eachTargetSeries(function(i){var n=[],o=i.getData();o.each(this.getDataDimension(o),function(e,i){t[0]<=e&&e<=t[1]&&n.push(i);},!0,this),e.push({seriesId:i.id,dataIndex:n});},this),e;},getVisualMeta:function getVisualMeta(t){function e(e,i){a.push({value:e,color:t(e,i)});}for(var i=n(this,"outOfRange",this.getExtent()),o=n(this,"inRange",this.option.range.slice()),a=[],r=0,s=0,l=o.length,u=i.length;s<u&&(!o.length||i[s]<=o[0]);s++){i[s]<o[r]&&e(i[s],"outOfRange");}for(var c=1;r<l;r++,c=0){c&&a.length&&e(o[r],"outOfRange"),e(o[r],"inRange");}for(var c=1;s<u;s++){(!o.length||o[o.length-1]<i[s])&&(c&&(a.length&&e(a[a.length-1].value,"outOfRange"),c=0),e(i[s],"outOfRange"));}var h=a.length;return{stops:a,outerColors:[h?a[0].color:"transparent",h?a[h-1].color:"transparent"]};}});t.exports=l;},function(t,e,i){function n(t,e,i,n){return new u.Polygon({shape:{points:t},draggable:!!i,cursor:e,drift:i,onmousemove:function onmousemove(t){m.stop(t.event);},ondragend:n});}function o(t,e){return 0===t?[[0,0],[e,0],[e,-e]]:[[0,0],[e,0],[e,e]];}function a(t,e,i,n){return t?[[0,-x(e,_(i,0))],[w,0],[0,x(e,_(n-i,0))]]:[[0,0],[5,-5],[5,5]];}function r(t,e,i){var n=b/2,o=t.get("hoverLinkDataSize");return o&&(n=v(o,e,i,!0)/2),n;}function s(t){return!t.get("realtime")&&t.get("hoverLinkOnHandle");}var l=i(254),u=i(3),c=i(1),h=i(4),d=i(78),f=i(99),p=i(255),g=i(6),m=i(21),v=h.linearMap,y=c.each,x=Math.min,_=Math.max,b=12,w=6,S=l.extend({type:"visualMap.continuous",init:function init(){S.superApply(this,"init",arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._orient,this._useHandle,this._hoverLinkDataIndices=[],this._dragging,this._hovering;},doRender:function doRender(t,e,i,n){n&&"selectDataRange"===n.type&&n.from===this.uid||this._buildView();},_buildView:function _buildView(){this.group.removeAll();var t=this.visualMapModel,e=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(e);var i=t.get("text");this._renderEndsText(e,i,0),this._renderEndsText(e,i,1),this._updateView(!0),this.renderBackground(e),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(e);},_renderEndsText:function _renderEndsText(t,e,i){if(e){var n=e[1-i];n=null!=n?n+"":"";var o=this.visualMapModel,a=o.get("textGap"),r=o.itemSize,s=this._shapes.barGroup,l=this._applyTransform([r[0]/2,0===i?-a:r[1]+a],s),c=this._applyTransform(0===i?"bottom":"top",s),h=this._orient,d=this.visualMapModel.textStyleModel;this.group.add(new u.Text({style:{x:l[0],y:l[1],textVerticalAlign:"horizontal"===h?"middle":c,textAlign:"horizontal"===h?c:"center",text:n,textFont:d.getFont(),fill:d.getTextColor()}}));}},_renderBar:function _renderBar(t){var e=this.visualMapModel,i=this._shapes,o=e.itemSize,a=this._orient,r=this._useHandle,s=p.getItemAlign(e,this.api,o),l=i.barGroup=this._createBarGroup(s);l.add(i.outOfRange=n()),l.add(i.inRange=n(null,r?"move":null,c.bind(this._dragHandle,this,"all",!1),c.bind(this._dragHandle,this,"all",!0)));var u=e.textStyleModel.getTextRect(""),h=_(u.width,u.height);r&&(i.handleThumbs=[],i.handleLabels=[],i.handleLabelPoints=[],this._createHandle(l,0,o,h,a,s),this._createHandle(l,1,o,h,a,s)),this._createIndicator(l,o,h,a),t.add(l);},_createHandle:function _createHandle(t,e,i,a,r){var s=c.bind(this._dragHandle,this,e,!1),l=c.bind(this._dragHandle,this,e,!0),h=n(o(e,a),"move",s,l);h.position[0]=i[0],t.add(h);var d=this.visualMapModel.textStyleModel,f=new u.Text({draggable:!0,drift:s,onmousemove:function onmousemove(t){m.stop(t.event);},ondragend:l,style:{x:0,y:0,text:"",textFont:d.getFont(),fill:d.getTextColor()}});this.group.add(f);var p=["horizontal"===r?a/2:1.5*a,"horizontal"===r?0===e?-(1.5*a):1.5*a:0===e?-a/2:a/2],g=this._shapes;g.handleThumbs[e]=h,g.handleLabelPoints[e]=p,g.handleLabels[e]=f;},_createIndicator:function _createIndicator(t,e,i,o){var a=n([[0,0]],"move");a.position[0]=e[0],a.attr({invisible:!0,silent:!0}),t.add(a);var r=this.visualMapModel.textStyleModel,s=new u.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:r.getFont(),fill:r.getTextColor()}});this.group.add(s);var l=["horizontal"===o?i/2:w+3,0],c=this._shapes;c.indicator=a,c.indicatorLabel=s,c.indicatorLabelPoint=l;},_dragHandle:function _dragHandle(t,e,i,n){if(this._useHandle){if(this._dragging=!e,!e){var o=this._applyTransform([i,n],this._shapes.barGroup,!0);this._updateInterval(t,o[1]),this._updateView();}e===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),e?!this._hovering&&this._clearHoverLinkToSeries():s(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1);}},_resetInterval:function _resetInterval(){var t=this.visualMapModel,e=this._dataInterval=t.getSelected(),i=t.getExtent(),n=[0,t.itemSize[1]];this._handleEnds=[v(e[0],i,n,!0),v(e[1],i,n,!0)];},_updateInterval:function _updateInterval(t,e){e=e||0;var i=this.visualMapModel,n=this._handleEnds;d(e,n,[0,i.itemSize[1]],"all"===t?"rigid":"push",t);var o=i.getExtent(),a=[0,i.itemSize[1]];this._dataInterval=[v(n[0],a,o,!0),v(n[1],a,o,!0)];},_updateView:function _updateView(t){var e=this.visualMapModel,i=e.getExtent(),n=this._shapes,o=[0,e.itemSize[1]],a=t?o:this._handleEnds,r=this._createBarVisual(this._dataInterval,i,a,"inRange"),s=this._createBarVisual(i,i,o,"outOfRange");n.inRange.setStyle({fill:r.barColor,opacity:r.opacity}).setShape("points",r.barPoints),n.outOfRange.setStyle({fill:s.barColor,opacity:s.opacity}).setShape("points",s.barPoints),this._updateHandle(a,r);},_createBarVisual:function _createBarVisual(t,e,i,n){var o={forceState:n,convertOpacityToAlpha:!0},a=this._makeColorGradient(t,o),r=[this.getControllerVisual(t[0],"symbolSize",o),this.getControllerVisual(t[1],"symbolSize",o)],s=this._createBarPoints(i,r);return{barColor:new f(0,0,0,1,a),barPoints:s,handlesColor:[a[0].color,a[a.length-1].color]};},_makeColorGradient:function _makeColorGradient(t,e){var i=100,n=[],o=(t[1]-t[0])/i;n.push({color:this.getControllerVisual(t[0],"color",e),offset:0});for(var a=1;a<i;a++){var r=t[0]+o*a;if(r>t[1])break;n.push({color:this.getControllerVisual(r,"color",e),offset:a/i});}return n.push({color:this.getControllerVisual(t[1],"color",e),offset:1}),n;},_createBarPoints:function _createBarPoints(t,e){var i=this.visualMapModel.itemSize;return[[i[0]-e[0],t[0]],[i[0],t[0]],[i[0],t[1]],[i[0]-e[1],t[1]]];},_createBarGroup:function _createBarGroup(t){var e=this._orient,i=this.visualMapModel.get("inverse");return new u.Group("horizontal"!==e||i?"horizontal"===e&&i?{scale:"bottom"===t?[-1,1]:[1,1],rotation:-Math.PI/2}:"vertical"!==e||i?{scale:"left"===t?[1,1]:[-1,1]}:{scale:"left"===t?[1,-1]:[-1,-1]}:{scale:"bottom"===t?[1,1]:[-1,1],rotation:Math.PI/2});},_updateHandle:function _updateHandle(t,e){if(this._useHandle){var i=this._shapes,n=this.visualMapModel,o=i.handleThumbs,a=i.handleLabels;y([0,1],function(r){var s=o[r];s.setStyle("fill",e.handlesColor[r]),s.position[1]=t[r];var l=u.applyTransform(i.handleLabelPoints[r],u.getTransform(s,this.group));a[r].setStyle({x:l[0],y:l[1],text:n.formatValueText(this._dataInterval[r]),textVerticalAlign:"middle",textAlign:this._applyTransform("horizontal"===this._orient?0===r?"bottom":"top":"left",i.barGroup)});},this);}},_showIndicator:function _showIndicator(t,e,i,n){var o=this.visualMapModel,r=o.getExtent(),s=o.itemSize,l=[0,s[1]],c=v(t,r,l,!0),h=this._shapes,d=h.indicator;if(d){d.position[1]=c,d.attr("invisible",!1),d.setShape("points",a(!!i,n,c,s[1]));var f={convertOpacityToAlpha:!0},p=this.getControllerVisual(t,"color",f);d.setStyle("fill",p);var g=u.applyTransform(h.indicatorLabelPoint,u.getTransform(d,this.group)),m=h.indicatorLabel;m.attr("invisible",!1);var y=this._applyTransform("left",h.barGroup),x=this._orient;m.setStyle({text:(i?i:"")+o.formatValueText(e),textVerticalAlign:"horizontal"===x?y:"middle",textAlign:"horizontal"===x?"center":y,x:g[0],y:g[1]});}},_enableHoverLinkToSeries:function _enableHoverLinkToSeries(){var t=this;this._shapes.barGroup.on("mousemove",function(e){if(t._hovering=!0,!t._dragging){var i=t.visualMapModel.itemSize,n=t._applyTransform([e.offsetX,e.offsetY],t._shapes.barGroup,!0,!0);n[1]=x(_(0,n[1]),i[1]),t._doHoverLinkToSeries(n[1],0<=n[0]&&n[0]<=i[0]);}}).on("mouseout",function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries();});},_enableHoverLinkFromSeries:function _enableHoverLinkFromSeries(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries();},_doHoverLinkToSeries:function _doHoverLinkToSeries(t,e){var i=this.visualMapModel,n=i.itemSize;if(i.option.hoverLink){var o=[0,n[1]],a=i.getExtent();t=x(_(o[0],t),o[1]);var l=r(i,a,o),u=[t-l,t+l],c=v(t,o,a,!0),h=[v(u[0],o,a,!0),v(u[1],o,a,!0)];u[0]<o[0]&&(h[0]=-(1/0)),u[1]>o[1]&&(h[1]=1/0),e&&(h[0]===-(1/0)?this._showIndicator(c,h[1],"< ",l):h[1]===1/0?this._showIndicator(c,h[0],"> ",l):this._showIndicator(c,c," ",l));var d=this._hoverLinkDataIndices,f=[];(e||s(i))&&(f=this._hoverLinkDataIndices=i.findTargetDataIndices(h));var m=g.compressBatches(d,f);this._dispatchHighDown("downplay",p.convertDataIndex(m[0])),this._dispatchHighDown("highlight",p.convertDataIndex(m[1]));}},_hoverLinkFromSeriesMouseOver:function _hoverLinkFromSeriesMouseOver(t){var e=t.target,i=this.visualMapModel;if(e&&null!=e.dataIndex){var n=this.ecModel.getSeriesByIndex(e.seriesIndex);if(i.isTargetSeries(n)){var o=n.getData(e.dataType),a=o.getDimension(i.getDataDimension(o)),r=o.get(a,e.dataIndex,!0);isNaN(r)||this._showIndicator(r,r);}}},_hideIndicator:function _hideIndicator(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0);},_clearHoverLinkToSeries:function _clearHoverLinkToSeries(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",p.convertDataIndex(t)),t.length=0;},_clearHoverLinkFromSeries:function _clearHoverLinkFromSeries(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator);},_applyTransform:function _applyTransform(t,e,i,n){var o=u.getTransform(e,n?null:this.group);return u[c.isArray(t)?"applyTransform":"transformDirection"](t,o,i);},_dispatchHighDown:function _dispatchHighDown(t,e){e&&e.length&&this.api.dispatchAction({type:t,batch:e});},dispose:function dispose(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries();},remove:function remove(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries();}});t.exports=S;},function(t,e,i){function n(t,e){var i=t.inverse;("vertical"===t.orient?!i:i)&&e.reverse();}var o=i(253),a=i(1),r=i(82),s=i(266),l=i(4).reformIntervals,u=o.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function optionUpdated(t,e){u.superApply(this,"optionUpdated",arguments),this._pieceList=[],this.resetTargetSeries(),this.resetExtent();var i=this._mode=this._determineMode();c[this._mode].call(this),this._resetSelected(t,e);var n=this.option.categories;this.resetVisual(function(t,e){"categories"===i?(t.mappingMethod="category",t.categories=a.clone(n)):(t.dataExtent=this.getExtent(),t.mappingMethod="piecewise",t.pieceList=a.map(this._pieceList,function(t){var t=a.clone(t);return"inRange"!==e&&(t.visual=null),t;}));});},completeVisualOption:function completeVisualOption(){function t(t,e,i){return t&&t[e]&&(a.isObject(t[e])?t[e].hasOwnProperty(i):t[e]===i);}var e=this.option,i={},n=r.listVisualTypes(),l=this.isCategory();a.each(e.pieces,function(t){a.each(n,function(e){t.hasOwnProperty(e)&&(i[e]=1);});}),a.each(i,function(i,n){var o=0;a.each(this.stateList,function(i){o|=t(e,i,n)||t(e.target,i,n);},this),!o&&a.each(this.stateList,function(t){(e[t]||(e[t]={}))[n]=s.get(n,"inRange"===t?"active":"inactive",l);});},this),o.prototype.completeVisualOption.apply(this,arguments);},_resetSelected:function _resetSelected(t,e){var i=this.option,n=this._pieceList,o=(e?i:t).selected||{};if(i.selected=o,a.each(n,function(t,e){var i=this.getSelectedMapKey(t);o.hasOwnProperty(i)||(o[i]=!0);},this),"single"===i.selectedMode){var r=!1;a.each(n,function(t,e){var i=this.getSelectedMapKey(t);o[i]&&(r?o[i]=!1:r=!0);},this);}},getSelectedMapKey:function getSelectedMapKey(t){return"categories"===this._mode?t.value+"":t.index+"";},getPieceList:function getPieceList(){return this._pieceList;},_determineMode:function _determineMode(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber";},setSelected:function setSelected(t){this.option.selected=a.clone(t);},getValueState:function getValueState(t){var e=r.findPieceIndex(t,this._pieceList);return null!=e&&this.option.selected[this.getSelectedMapKey(this._pieceList[e])]?"inRange":"outOfRange";},findTargetDataIndices:function findTargetDataIndices(t){var e=[];return this.eachTargetSeries(function(i){var n=[],o=i.getData();o.each(this.getDataDimension(o),function(e,i){var o=r.findPieceIndex(e,this._pieceList);o===t&&n.push(i);},!0,this),e.push({seriesId:i.id,dataIndex:n});},this),e;},getRepresentValue:function getRepresentValue(t){var e;if(this.isCategory())e=t.value;else if(null!=t.value)e=t.value;else{var i=t.interval||[];e=i[0]===-(1/0)&&i[1]===1/0?0:(i[0]+i[1])/2;}return e;},getVisualMeta:function getVisualMeta(t){function e(e,a){var r=o.getRepresentValue({interval:e});a||(a=o.getValueState(r));var s=t(r,a);e[0]===-(1/0)?n[0]=s:e[1]===1/0?n[1]=s:i.push({value:e[0],color:s},{value:e[1],color:s});}if(!this.isCategory()){var i=[],n=[],o=this,r=this._pieceList.slice();if(r.length){var s=r[0].interval[0];s!==-(1/0)&&r.unshift({interval:[-(1/0),s]}),s=r[r.length-1].interval[1],s!==1/0&&r.push({interval:[s,1/0]});}else r.push({interval:[-(1/0),1/0]});var l=-(1/0);return a.each(r,function(t){var i=t.interval;i&&(i[0]>l&&e([l,i[0]],"outOfRange"),e(i.slice()),l=i[1]);},this),{stops:i,outerColors:n};}}}),c={splitNumber:function splitNumber(){var t=this.option,e=this._pieceList,i=t.precision,n=this.getExtent(),o=t.splitNumber;o=Math.max(parseInt(o,10),1),t.splitNumber=o;for(var r=(n[1]-n[0])/o;+r.toFixed(i)!==r&&i<5;){i++;}t.precision=i,r=+r.toFixed(i);var s=0;t.minOpen&&e.push({index:s++,interval:[-(1/0),n[0]],close:[0,0]});for(var u=n[0],c=s+o;s<c;u+=r){var h=s===o-1?n[1]:u+r;e.push({index:s++,interval:[u,h],close:[1,1]});}t.maxOpen&&e.push({index:s++,interval:[n[1],1/0],close:[0,0]}),l(e),a.each(e,function(t){t.text=this.formatValueText(t.interval);},this);},categories:function categories(){var t=this.option;a.each(t.categories,function(t){this._pieceList.push({text:this.formatValueText(t,!0),value:t});},this),n(t,this._pieceList);},pieces:function pieces(){var t=this.option,e=this._pieceList;a.each(t.pieces,function(t,i){a.isObject(t)||(t={value:t});var n={text:"",index:i};if(null!=t.label&&(n.text=t.label),t.hasOwnProperty("value")){var o=n.value=t.value;n.interval=[o,o],n.close=[1,1];}else{for(var s=n.interval=[],l=n.close=[0,0],u=[1,0,1],c=[-(1/0),1/0],h=[],d=0;d<2;d++){for(var f=[["gte","gt","min"],["lte","lt","max"]][d],p=0;p<3&&null==s[d];p++){s[d]=t[f[p]],l[d]=u[p],h[d]=2===p;}null==s[d]&&(s[d]=c[d]);}h[0]&&s[1]===1/0&&(l[0]=0),h[1]&&s[0]===-(1/0)&&(l[1]=0),s[0]===s[1]&&l[0]&&l[1]&&(n.value=s[0]);}n.visual=r.retrieveVisuals(t),e.push(n);},this),n(t,e),l(e),a.each(e,function(t){var e=t.close,i=[["<",""][e[1]],[">",""][e[0]]];t.text=t.text||this.formatValueText(null!=t.value?t.value:t.interval,!1,i);},this);}};t.exports=u;},function(t,e,i){var n=i(254),o=i(1),a=i(3),r=i(24),s=i(12),l=i(255),u=n.extend({type:"visualMap.piecewise",doRender:function doRender(){function t(t){var r=t.piece,s=new a.Group();s.onclick=o.bind(this._onItemClick,this,r),this._enableHoverLink(s,t.indexInModelPieceList);var d=i.getRepresentValue(r);if(this._createItemSymbol(s,d,[0,0,h[0],h[1]]),p){var f=this.visualMapModel.getValueState(d);s.add(new a.Text({style:{x:"right"===c?-n:h[0]+n,y:h[1]/2,text:r.text,textVerticalAlign:"middle",textAlign:c,textFont:l,fill:u,opacity:"outOfRange"===f?.5:1}}));}e.add(s);}var e=this.group;e.removeAll();var i=this.visualMapModel,n=i.get("textGap"),r=i.textStyleModel,l=r.getFont(),u=r.getTextColor(),c=this._getItemAlign(),h=i.itemSize,d=this._getViewData(),f=d.endsText,p=o.retrieve(i.get("showLabel",!0),!f);f&&this._renderEndsText(e,f[0],h,p,c),o.each(d.viewPieceList,t,this),f&&this._renderEndsText(e,f[1],h,p,c),s.box(i.get("orient"),e,i.get("itemGap")),this.renderBackground(e),this.positionGroup(e);},_enableHoverLink:function _enableHoverLink(t,e){function i(t){var i=this.visualMapModel;i.option.hoverLink&&this.api.dispatchAction({type:t,batch:l.convertDataIndex(i.findTargetDataIndices(e))});}t.on("mouseover",o.bind(i,this,"highlight")).on("mouseout",o.bind(i,this,"downplay"));},_getItemAlign:function _getItemAlign(){var t=this.visualMapModel,e=t.option;if("vertical"===e.orient)return l.getItemAlign(t,this.api,t.itemSize);var i=e.align;return i&&"auto"!==i||(i="left"),i;},_renderEndsText:function _renderEndsText(t,e,i,n,o){if(e){var r=new a.Group(),s=this.visualMapModel.textStyleModel;r.add(new a.Text({style:{x:n?"right"===o?i[0]:0:i[0]/2,y:i[1]/2,textVerticalAlign:"middle",textAlign:n?o:"center",text:e,textFont:s.getFont(),fill:s.getTextColor()}})),t.add(r);}},_getViewData:function _getViewData(){var t=this.visualMapModel,e=o.map(t.getPieceList(),function(t,e){return{piece:t,indexInModelPieceList:e};}),i=t.get("text"),n=t.get("orient"),a=t.get("inverse");return("horizontal"===n?a:!a)?e.reverse():i&&(i=i.slice().reverse()),{viewPieceList:e,endsText:i};},_createItemSymbol:function _createItemSymbol(t,e,i){t.add(r.createSymbol(this.getControllerVisual(e,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(e,"color")));},_onItemClick:function _onItemClick(t){var e=this.visualMapModel,i=e.option,n=o.clone(i.selected),a=e.getSelectedMapKey(t);"single"===i.selectedMode?(n[a]=!0,o.each(n,function(t,e){n[e]=e===a;})):n[a]=!n[a],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:n});}});t.exports=u;},function(t,e,i){i(2).registerPreprocessor(i(256)),i(257),i(258),i(387),i(388),i(259);},function(t,e,i){i(2).registerPreprocessor(i(256)),i(257),i(258),i(389),i(390),i(259);},function(t,e,i){"use strict";function n(t,e,i){this._model=t;}function o(t,e,i,n){var o=i.calendarModel,a=i.seriesModel,r=o?o.coordinateSystem:a?a.coordinateSystem:null;return r===this?r[t](n):null;}var a=i(12),r=i(4),s=i(1),l=864e5;n.prototype={constructor:n,type:"calendar",dimensions:["time","value"],getDimensionsInfo:function getDimensionsInfo(){return[{name:"time",type:"time"}];},getHandledRangeInfo:function getHandledRangeInfo(){return this._rangeInfo;},getModel:function getModel(){return this._model;},getRect:function getRect(){return this._rect;},getCellWidth:function getCellWidth(){return this._sw;},getCellHeight:function getCellHeight(){return this._sh;},getOrient:function getOrient(){return this._orient;},getFirstDayOfWeek:function getFirstDayOfWeek(){return this._firstDayOfWeek;},getDateInfo:function getDateInfo(t){t=r.parseDate(t);var e=t.getFullYear(),i=t.getMonth()+1;i=i<10?"0"+i:i;var n=t.getDate();n=n<10?"0"+n:n;var o=t.getDay();return o=Math.abs((o+7-this.getFirstDayOfWeek())%7),{y:e,m:i,d:n,day:o,time:t.getTime(),formatedDate:e+"-"+i+"-"+n,date:t};},getNextNDay:function getNextNDay(t,e){if(e=e||0,0===e)return this.getDateInfo(t);var i=this.getDateInfo(t).time;return this.getDateInfo(i+l*e);},update:function update(t,e){function i(t,e){return null!=t[e]&&"auto"!==t[e];}this._firstDayOfWeek=this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle.normal").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var n=this._rangeInfo.weeks||1,o=["width","height"],r=this._model.get("cellSize").slice(),l=this._model.getBoxLayoutParams(),u="horizontal"===this._orient?[n,7]:[7,n];s.each([0,1],function(t){i(r,t)&&(l[o[t]]=r[t]*u[t]);});var c={width:e.getWidth(),height:e.getHeight()},h=this._rect=a.getLayoutRect(l,c);s.each([0,1],function(t){i(r,t)||(r[t]=h[o[t]]/u[t]);}),this._sw=r[0],this._sh=r[1];},dataToPoint:function dataToPoint(t,e){var i=this.getDateInfo(t[0]),n=this._rangeInfo,o=i.formatedDate;if(!(e||i.time>=n.start.time&&i.time<=n.end.time))return[NaN,NaN];var a=i.day,r=this._getRangeInfo([n.start.time,o]).weeks;return"vertical"===this._orient?[this._rect.x+a*this._sw+this._sw/2,this._rect.y+(r-1)*this._sh+this._sh/2]:[this._rect.x+(r-1)*this._sw+this._sw/2,this._rect.y+a*this._sh+this._sh/2];},pointToData:function pointToData(t){var e=this.pointToDate(t);return e&&e.time;},dataToRect:function dataToRect(t,e){var i=this.dataToPoint(t,e);return{contentShape:{x:i[0]-(this._sw-this._lineWidth)/2,y:i[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:i,tl:[i[0]-this._sw/2,i[1]-this._sh/2],tr:[i[0]+this._sw/2,i[1]-this._sh/2],br:[i[0]+this._sw/2,i[1]+this._sh/2],bl:[i[0]-this._sw/2,i[1]+this._sh/2]};},pointToDate:function pointToDate(t){var e=Math.floor((t[0]-this._rect.x)/this._sw)+1,i=Math.floor((t[1]-this._rect.y)/this._sh)+1,n=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(i,e-1,n):this._getDateByWeeksAndDay(e,i-1,n);},convertToPixel:s.curry(o,"dataToPoint"),convertFromPixel:s.curry(o,"pointToData"),_initRangeOption:function _initRangeOption(){var t=this._model.get("range"),e=t;if(s.isArray(e)&&1===e.length&&(e=e[0]),/^\d{4}$/.test(e)&&(t=[e+"-01-01",e+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(e)){var i=this.getDateInfo(e),n=i.date;n.setMonth(n.getMonth()+1);var o=this.getNextNDay(n,-1);t=[i.formatedDate,o.formatedDate];}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(e)&&(t=[e,e]);var a=this._getRangeInfo(t);return a.start.time>a.end.time&&t.reverse(),t;},_getRangeInfo:function _getRangeInfo(t){var e=this.getDateInfo(t[0]),i=this.getDateInfo(t[1]),n=Math.floor(i.time/l)-Math.floor(e.time/l)+1,o=Math.floor((n+e.day+6)/7);return{range:[e.formatedDate,i.formatedDate],start:e,end:i,allDay:n,weeks:o,fweek:e.day,lweek:i.day};},_getDateByWeeksAndDay:function _getDateByWeeksAndDay(t,e,i){var n=this._getRangeInfo(i);if(t>n.weeks||0===t&&e<n.fweek||t===n.weeks&&e>n.lweek)return!1;var o=7*(t-1)-n.fweek+e,a=n.start.time+o*l;return this.getDateInfo(a);}},n.dimensions=n.prototype.dimensions,n.getDimensionsInfo=n.prototype.getDimensionsInfo,n.create=function(t,e){var i=[];return t.eachComponent("calendar",function(o){var a=new n(o,t,e);i.push(a),o.coordinateSystem=a;}),t.eachSeries(function(t){"calendar"===t.get("coordinateSystem")&&(t.coordinateSystem=i[t.get("calendarIndex")||0]);}),i;},i(26).register("calendar",n),t.exports=n;},function(t,e,i){"use strict";function n(t,e){var i=t.cellSize;a.isArray(i)?1===i.length&&(i[1]=i[0]):i=t.cellSize=[i,i];var n=a.map([0,1],function(t){return r.sizeCalculable(e,t)&&(i[t]="auto"),null!=i[t]&&"auto"!==i[t];});r.mergeLayoutParam(t,e,{type:"box",ignoreSize:n});}var o=i(13),a=i(1),r=i(12),s=o.extend({type:"calendar",coordinateSystem:null,defaultOption:{zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{normal:{color:"#fff",borderWidth:1,borderColor:"#ccc"}},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",nameMap:"en",textStyle:{color:"#000"}},monthLabel:{show:!0,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,textStyle:{color:"#000"}},yearLabel:{show:!0,position:null,margin:30,formatter:null,textStyle:{color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}}},init:function init(t,e,i,o){var a=r.getLayoutParams(t);s.superApply(this,"init",arguments),n(t,a);},mergeOption:function mergeOption(t,e){s.superApply(this,"mergeOption",arguments),n(this.option,t);}});t.exports=s;},function(t,e,i){function n(t,e,i,n,o){l.call(this,t),this.map=e,this._nameCoordMap={},this.loadGeoJson(i,n,o);}function o(t,e,i,n){var o=i.geoModel,a=i.seriesModel,r=o?o.coordinateSystem:a?a.coordinateSystem||(a.getReferringComponents("geo")[0]||{}).coordinateSystem:null;return r===this?r[t](n):null;}var a=i(262),r=i(1),s=i(11),l=i(260),u=[i(398),i(399),i(397)];n.prototype={constructor:n,type:"geo",dimensions:["lng","lat"],containCoord:function containCoord(t){for(var e=this.regions,i=0;i<e.length;i++){if(e[i].contain(t))return!0;}return!1;},loadGeoJson:function loadGeoJson(t,e,i){try{this.regions=t?a(t):[];}catch(n){throw"Invalid geoJson format\n"+n.message;}e=e||{},i=i||{};for(var o=this.regions,s={},l=0;l<o.length;l++){var c=o[l].name;c=i[c]||c,o[l].name=c,s[c]=o[l],this.addGeoCoord(c,o[l].center);var h=e[c];h&&o[l].transformTo(h.left,h.top,h.width,h.height);}this._regionsMap=s,this._rect=null,r.each(u,function(t){t(this);},this);},transformTo:function transformTo(t,e,i,n){var o=this.getBoundingRect();o=o.clone(),o.y=-o.y-o.height;var a=this._viewTransform;a.transform=o.calculateTransform(new s(t,e,i,n)),a.decomposeTransform();var r=a.scale;r[1]=-r[1],a.updateTransform(),this._updateTransform();},getRegion:function getRegion(t){return this._regionsMap[t];},getRegionByCoord:function getRegionByCoord(t){for(var e=this.regions,i=0;i<e.length;i++){if(e[i].contain(t))return e[i];}},addGeoCoord:function addGeoCoord(t,e){this._nameCoordMap[t]=e;},getGeoCoord:function getGeoCoord(t){return this._nameCoordMap[t];},getBoundingRect:function getBoundingRect(){if(this._rect)return this._rect;for(var t,e=this.regions,i=0;i<e.length;i++){var n=e[i].getBoundingRect();t=t||n.clone(),t.union(n);}return this._rect=t||new s(0,0,0,0);},dataToPoints:function dataToPoints(t){var e=[];return t.mapArray(["lng","lat"],function(t,i){return e[0]=t,e[1]=i,this.dataToPoint(e);},this);},dataToPoint:function dataToPoint(t){if("string"==typeof t&&(t=this.getGeoCoord(t)),t)return l.prototype.dataToPoint.call(this,t);},convertToPixel:r.curry(o,"dataToPoint"),convertFromPixel:r.curry(o,"pointToData")},r.mixin(n,l),t.exports=n;},function(t,e,i){"use strict";var n=i(6),o=i(13),a=i(10),r=i(1),s=i(77),l=i(186),u=o.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function init(t){o.prototype.init.apply(this,arguments),n.defaultEmphasis(t.label,["position","show","textStyle","distance","formatter"]);},optionUpdated:function optionUpdated(){var t=this.option,e=this;t.regions=l.getFilledRegions(t.regions,t.map),this._optionModelMap=r.reduce(t.regions||[],function(t,i){return i.name&&(t[i.name]=new a(i,e)),t;},{}),this.updateSelectedMap(t.regions);},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:.75,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{normal:{show:!1,textStyle:{color:"#000"}},emphasis:{show:!0,textStyle:{color:"rgb(100,0,0)"}}},itemStyle:{normal:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function getRegionModel(t){return this._optionModelMap[t]||new a(null,this,this.ecModel);},getFormattedLabel:function getFormattedLabel(t,e){var i=this.getRegionModel(t),n=i.get("label."+e+".formatter"),o={name:t};if("function"==typeof n)return o.status=e,n(o);if("string"==typeof n){var a=o.seriesName;return n.replace("{a}",null!=a?a:"");}},setZoom:function setZoom(t){this.option.zoom=t;},setCenter:function setCenter(t){this.option.center=t;}});r.mixin(u,s),t.exports=u;},function(t,e,i){var n=i(1),o={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]};t.exports=function(t){n.each(t.regions,function(t){var e=o[t.name];if(e){var i=t.center;i[0]=e[0],i[1]=e[1];}});};},function(t,e,i){for(var n=i(261),o=i(1),a=[126,25],r=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],s=0;s<r.length;s++){for(var l=0;l<r[s].length;l++){r[s][l][0]/=10.5,r[s][l][1]/=-14,r[s][l][0]+=a[0],r[s][l][1]+=a[1];}}t.exports=function(t){"china"===t.map&&t.regions.push(new n("",o.map(r,function(t){return{type:"polygon",exterior:t};}),a));};},function(t,e,i){var n=i(1),o={"":[32,80],"":[0,-10],"":[10,5],"":[-10,10],"":[5,5]};t.exports=function(t){n.each(t.regions,function(t){var e=o[t.name];if(e){var i=t.center;i[0]+=e[0]/10.5,i[1]+=-e[1]/14;}});};},function(t,e,i){function n(t,e){return e.type||(e.data?"category":"value");}var o=i(13),a=i(1),r=i(31),s=i(58),l=i(4),u=o.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function getAreaSelectStyle(){return r([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]]).call(this.getModel("areaSelectStyle"));},setActiveIntervals:function setActiveIntervals(t){var e=this.activeIntervals=a.clone(t);if(e)for(var i=e.length-1;i>=0;i--){l.asc(e[i]);}},getActiveState:function getActiveState(t){var e=this.activeIntervals;if(!e.length)return"normal";if(null==t)return"inactive";for(var i=0,n=e.length;i<n;i++){if(e[i][0]<=t&&t<=e[i][1])return"active";}return"inactive";}}),c={type:"value",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};a.merge(u.prototype,i(42)),s("parallel",u,n,c),t.exports=u;},function(t,e,i){function n(t,e,i){this._axesMap={},this._axesLayout={},this.dimensions=t.dimensions,this._rect,this._model=t,this._init(t,e,i);}function o(t,e){return m(v(t,e[0]),e[1]);}function a(t,e){var i=e.layoutLength/(e.axisCount-1);return{position:i*t,axisNameAvailableWidth:i,axisLabelShow:!0};}function r(t,e){var i,n,o=e.layoutLength,a=e.axisExpandWidth,r=e.axisCount,s=e.axisCollapseWidth,l=e.winInnerIndices,u=s,c=!1;return t<l[0]?(i=t*s,n=s):t<=l[1]?(i=e.axisExpandWindow0Pos+t*a-e.axisExpandWindow[0],u=a,c=!0):(i=o-(r-1-t)*s,n=s),{position:i,axisNameAvailableWidth:u,axisLabelShow:c,nameTruncateMaxWidth:n};}var s=i(12),l=i(18),u=i(1),c=i(402),h=i(3),d=i(16),f=i(4),p=i(78),g=u.each,m=Math.min,v=Math.max,y=Math.floor,x=Math.ceil,_=f.round,b=Math.PI;n.prototype={type:"parallel",constructor:n,_init:function _init(t,e,i){var n=t.dimensions,o=t.parallelAxisIndex;g(n,function(t,i){var n=o[i],a=e.getComponent("parallelAxis",n),r=this._axesMap[t]=new c(t,l.createScaleByModel(a),[0,0],a.get("type"),n),s="category"===r.type;r.onBand=s&&a.get("boundaryGap"),r.inverse=a.get("inverse"),a.axis=r,r.model=a,r.coordinateSystem=a.coordinateSystem=this;},this);},update:function update(t,e){this._updateAxesFromSeries(this._model,t);},containPoint:function containPoint(t){var e=this._makeLayoutInfo(),i=e.axisBase,n=e.layoutBase,o=e.pixelDimIndex,a=t[1-o],r=t[o];return a>=i&&a<=i+e.axisLength&&r>=n&&r<=n+e.layoutLength;},_updateAxesFromSeries:function _updateAxesFromSeries(t,e){e.eachSeries(function(i){if(t.contains(i,e)){var n=i.getData();g(this.dimensions,function(t){var e=this._axesMap[t];e.scale.unionExtentFromData(n,t),l.niceScaleExtent(e.scale,e.model);},this);}},this);},resize:function resize(t,e){this._rect=s.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),this._layoutAxes();},getRect:function getRect(){return this._rect;},_makeLayoutInfo:function _makeLayoutInfo(){var t,e=this._model,i=this._rect,n=["x","y"],a=["width","height"],r=e.get("layout"),s="horizontal"===r?0:1,l=i[a[s]],u=[0,l],c=this.dimensions.length,h=o(e.get("axisExpandWidth"),u),d=o(e.get("axisExpandCount")||0,[0,c]),f=e.get("axisExpandable")&&c>3&&c>d&&d>1&&h>0&&l>0,p=e.get("axisExpandWindow");if(p)t=o(p[1]-p[0],u),p[1]=p[0]+t;else{t=o(h*(d-1),u);var g=e.get("axisExpandCenter")||y(c/2);p=[h*g-t/2],p[1]=p[0]+t;}var m=(l-t)/(c-d);m<3&&(m=0);var v=[y(_(p[0]/h,1))+1,x(_(p[1]/h,1))-1],b=m/h*p[0];return{layout:r,pixelDimIndex:s,layoutBase:i[n[s]],layoutLength:l,axisBase:i[n[1-s]],axisLength:i[a[1-s]],axisExpandable:f,axisExpandWidth:h,axisCollapseWidth:m,axisExpandWindow:p,axisCount:c,winInnerIndices:v,axisExpandWindow0Pos:b};},_layoutAxes:function _layoutAxes(){var t=this._rect,e=this._axesMap,i=this.dimensions,n=this._makeLayoutInfo(),o=n.layout;g(e,function(t){var e=[0,n.axisLength],i=t.inverse?1:0;t.setExtent(e[i],e[1-i]);}),g(i,function(e,i){var s=(n.axisExpandable?r:a)(i,n),l={horizontal:{x:s.position,y:n.axisLength},vertical:{x:0,y:s.position}},u={horizontal:b/2,vertical:0},c=[l[o].x+t.x,l[o].y+t.y],h=u[o],f=d.create();d.rotate(f,f,h),d.translate(f,f,c),this._axesLayout[e]={position:c,rotation:h,transform:f,axisNameAvailableWidth:s.axisNameAvailableWidth,axisLabelShow:s.axisLabelShow,nameTruncateMaxWidth:s.nameTruncateMaxWidth,tickDirection:1,labelDirection:1};},this);},getAxis:function getAxis(t){return this._axesMap[t];},dataToPoint:function dataToPoint(t,e){return this.axisCoordToPoint(this._axesMap[e].dataToCoord(t),e);},eachActiveState:function eachActiveState(t,e,i){for(var n=this.dimensions,o=this._axesMap,a=this.hasAxisBrushed(),r=0,s=t.count();r<s;r++){var l,u=t.getValues(n,r);if(a){l="active";for(var c=0,h=n.length;c<h;c++){var d=n[c],f=o[d].model.getActiveState(u[c],c);if("inactive"===f){l="inactive";break;}}}else l="normal";e.call(i,l,r);}},hasAxisBrushed:function hasAxisBrushed(){for(var t=this.dimensions,e=this._axesMap,i=!1,n=0,o=t.length;n<o;n++){"normal"!==e[t[n]].model.getActiveState()&&(i=!0);}return i;},axisCoordToPoint:function axisCoordToPoint(t,e){var i=this._axesLayout[e];return h.applyTransform([t,0],i.transform);},getAxisLayout:function getAxisLayout(t){return u.clone(this._axesLayout[t]);},getSlidedAxisExpandWindow:function getSlidedAxisExpandWindow(t){var e=this._makeLayoutInfo(),i=e.pixelDimIndex,n=e.axisExpandWindow.slice(),o=n[1]-n[0],a=[0,e.axisExpandWidth*(e.axisCount-1)];if(!this.containPoint(t))return{behavior:"none",axisExpandWindow:n};var r,s=t[i]-e.layoutBase-e.axisExpandWindow0Pos,l="slide",u=e.axisCollapseWidth,c=this._model.get("axisExpandSlideTriggerArea"),h=null!=c[0];if(u)h&&u&&s<o*c[0]?(l="jump",r=s-o*c[2]):h&&u&&s>o*(1-c[0])?(l="jump",r=s-o*(1-c[2])):(r=s-o*c[1])>=0&&(r=s-o*(1-c[1]))<=0&&(r=0),r*=e.axisExpandWidth/u,r?p(r,n,a,"rigid"):l="none";else{var o=n[1]-n[0],d=a[1]*s/o;n=[v(0,d-o/2)],n[1]=m(a[1],n[0]+o),n[0]=n[1]-o;}return{axisExpandWindow:n,behavior:l};}},t.exports=n;},function(t,e,i){var n=i(1),o=i(33),a=function a(t,e,i,n,_a3){o.call(this,t,e,i),this.type=n||"value",this.axisIndex=_a3;};a.prototype={constructor:a,model:null},n.inherits(a,o),t.exports=a;},function(t,e,i){var n=i(1),o=i(13);i(400),o.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:"box",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},init:function init(){o.prototype.init.apply(this,arguments),this.mergeOption({});},mergeOption:function mergeOption(t){var e=this.option;t&&n.merge(e,t,!0),this._initDimensions();},contains:function contains(t,e){var i=t.get("parallelIndex");return null!=i&&e.getComponent("parallel",i)===this;},setAxisExpand:function setAxisExpand(t){n.each(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(e){t.hasOwnProperty(e)&&(this.option[e]=t[e]);},this);},_initDimensions:function _initDimensions(){var t=this.dimensions=[],e=this.parallelAxisIndex=[],i=n.filter(this.dependentModels.parallelAxis,function(t){return t.get("parallelIndex")===this.componentIndex;});n.each(i,function(i){t.push("dim"+i.get("dim")),e.push(i.componentIndex);});}});},function(t,e,i){function n(t){if(!t.parallel){var e=!1;a.each(t.series,function(t){t&&"parallel"===t.type&&(e=!0);}),e&&(t.parallel=[{}]);}}function o(t){var e=r.normalizeToArray(t.parallelAxis);a.each(e,function(e){if(a.isObject(e)){var i=e.parallelIndex||0,n=r.normalizeToArray(t.parallel)[i];n&&n.parallelAxisDefault&&a.merge(e,n.parallelAxisDefault,!1);}});}var a=i(1),r=i(6);t.exports=function(t){n(t),o(t);};},function(t,e,i){"use strict";function n(t,e){e=e||[0,360],a.call(this,"angle",t,e),this.type="category";}var o=i(1),a=i(33);n.prototype={constructor:n,pointToData:function pointToData(t,e){return this.polar.pointToData(t,e)["radius"===this.dim?0:1];},dataToAngle:a.prototype.dataToCoord,angleToData:a.prototype.coordToData},o.inherits(n,a),t.exports=n;},function(t,e,i){"use strict";function n(t,e){return e.type||(e.data?"category":"value");}var o=i(1),a=i(13),r=i(58),s=a.extend({type:"polarAxis",axis:null,getCoordSysModel:function getCoordSysModel(){return this.ecModel.queryComponents({mainType:"polar",index:this.option.polarIndex,id:this.option.polarId})[0];}});o.merge(s.prototype,i(42));var l={angle:{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}},radius:{splitNumber:5}};r("angle",s,n,l.angle),r("radius",s,n,l.radius);},function(t,e,i){"use strict";var n=i(409),o=i(405),a=function a(t){this.name=t||"",this.cx=0,this.cy=0,this._radiusAxis=new n(),this._angleAxis=new o(),this._radiusAxis.polar=this._angleAxis.polar=this;};a.prototype={type:"polar",axisPointerEnabled:!0,constructor:a,dimensions:["radius","angle"],model:null,containPoint:function containPoint(t){var e=this.pointToCoord(t);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1]);},containData:function containData(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1]);},getAxis:function getAxis(t){return this["_"+t+"Axis"];},getAxes:function getAxes(){return[this._radiusAxis,this._angleAxis];},getAxesByScale:function getAxesByScale(t){var e=[],i=this._angleAxis,n=this._radiusAxis;return i.scale.type===t&&e.push(i),n.scale.type===t&&e.push(n),e;},getAngleAxis:function getAngleAxis(){return this._angleAxis;},getRadiusAxis:function getRadiusAxis(){return this._radiusAxis;},getOtherAxis:function getOtherAxis(t){var e=this._angleAxis;return t===e?this._radiusAxis:e;},getBaseAxis:function getBaseAxis(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis();},getTooltipAxes:function getTooltipAxes(t){var e=null!=t&&"auto"!==t?this.getAxis(t):this.getBaseAxis();return{baseAxes:[e],otherAxes:[this.getOtherAxis(e)]};},dataToPoints:function dataToPoints(t){return t.mapArray(this.dimensions,function(t,e){return this.dataToPoint([t,e]);},this);},dataToPoint:function dataToPoint(t,e){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],e),this._angleAxis.dataToAngle(t[1],e)]);},pointToData:function pointToData(t,e){var i=this.pointToCoord(t);return[this._radiusAxis.radiusToData(i[0],e),this._angleAxis.angleToData(i[1],e)];},pointToCoord:function pointToCoord(t){var e=t[0]-this.cx,i=t[1]-this.cy,n=this.getAngleAxis(),o=n.getExtent(),a=Math.min(o[0],o[1]),r=Math.max(o[0],o[1]);n.inverse?a=r-360:r=a+360;var s=Math.sqrt(e*e+i*i);e/=s,i/=s;for(var l=Math.atan2(-i,e)/Math.PI*180,u=l<a?1:-1;l<a||l>r;){l+=360*u;}return[s,l];},coordToPoint:function coordToPoint(t){var e=t[0],i=t[1]/180*Math.PI,n=Math.cos(i)*e+this.cx,o=-Math.sin(i)*e+this.cy;return[n,o];}},t.exports=a;},function(t,e,i){"use strict";i(406),i(2).extendComponentModel({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function findAxisModel(t){var e,i=this.ecModel;return i.eachComponent(t,function(t){t.getCoordSysModel()===this&&(e=t);},this),e;},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}});},function(t,e,i){"use strict";function n(t,e){a.call(this,"radius",t,e),this.type="category";}var o=i(1),a=i(33);n.prototype={constructor:n,pointToData:function pointToData(t,e){return this.polar.pointToData(t,e)["radius"===this.dim?0:1];},dataToRadius:a.prototype.dataToCoord,radiusToData:a.prototype.coordToData},o.inherits(n,a),t.exports=n;},function(t,e,i){function n(t,e,i){a.call(this,t,e,i),this.type="value",this.angle=0,this.name="",this.model;}var o=i(1),a=i(33);o.inherits(n,a),t.exports=n;},function(t,e,i){function n(t,e,i){this._model=t,this.dimensions=[],this._indicatorAxes=o.map(t.getIndicatorModels(),function(t,e){var i="indicator_"+e,n=new a(i,new r());return n.name=t.get("name"),n.model=t,t.axis=n,this.dimensions.push(i),n;},this),this.resize(t,i),this.cx,this.cy,this.r,this.startAngle;}var o=i(1),a=i(410),r=i(43),s=i(4),l=i(18);n.prototype.getIndicatorAxes=function(){return this._indicatorAxes;},n.prototype.dataToPoint=function(t,e){var i=this._indicatorAxes[e];return this.coordToPoint(i.dataToCoord(t),e);},n.prototype.coordToPoint=function(t,e){var i=this._indicatorAxes[e],n=i.angle,o=this.cx+t*Math.cos(n),a=this.cy-t*Math.sin(n);return[o,a];},n.prototype.pointToData=function(t){var e=t[0]-this.cx,i=t[1]-this.cy,n=Math.sqrt(e*e+i*i);e/=n,i/=n;for(var o,a=Math.atan2(-i,e),r=1/0,s=-1,l=0;l<this._indicatorAxes.length;l++){var u=this._indicatorAxes[l],c=Math.abs(a-u.angle);c<r&&(o=u,s=l,r=c);}return[s,+(o&&o.coodToData(n))];},n.prototype.resize=function(t,e){var i=t.get("center"),n=e.getWidth(),a=e.getHeight(),r=Math.min(n,a)/2;this.cx=s.parsePercent(i[0],n),this.cy=s.parsePercent(i[1],a),this.startAngle=t.get("startAngle")*Math.PI/180,this.r=s.parsePercent(t.get("radius"),r),o.each(this._indicatorAxes,function(t,e){t.setExtent(0,this.r);var i=this.startAngle+e*Math.PI*2/this._indicatorAxes.length;i=Math.atan2(Math.sin(i),Math.cos(i)),t.angle=i;},this);},n.prototype.update=function(t,e){function i(t){var e=Math.pow(10,Math.floor(Math.log(t)/Math.LN10)),i=t/e;return 2===i?i=5:i*=2,i*e;}var n=this._indicatorAxes,a=this._model;o.each(n,function(t){t.scale.setExtent(1/0,-(1/0));}),t.eachSeriesByType("radar",function(e,i){if("radar"===e.get("coordinateSystem")&&t.getComponent("radar",e.get("radarIndex"))===a){var r=e.getData();o.each(n,function(t){t.scale.unionExtentFromData(r,t.dim);});}},this);var r=a.get("splitNumber");o.each(n,function(t,e){var n=l.getScaleExtent(t.scale,t.model);l.niceScaleExtent(t.scale,t.model);var o=t.model,a=t.scale,u=o.getMin(),c=o.getMax(),h=a.getInterval();if(null!=u&&null!=c)a.setInterval((c-u)/r);else if(null!=u){var d;do{d=u+h*r,a.setExtent(+u,d),a.setInterval(h),h=i(h);}while(d<n[1]&&isFinite(d)&&isFinite(n[1]));}else if(null!=c){var f;do{f=c-h*r,a.setExtent(f,+c),a.setInterval(h),h=i(h);}while(f>n[0]&&isFinite(f)&&isFinite(n[0]));}else{var p=a.getTicks().length-1;p>r&&(h=i(h));var g=Math.round((n[0]+n[1])/2/h)*h,m=Math.round(r/2);a.setExtent(s.round(g-m*h),s.round(g+(r-m)*h)),a.setInterval(h);}});},n.dimensions=[],n.create=function(t,e){var i=[];return t.eachComponent("radar",function(o){var a=new n(o,t,e);i.push(a),o.coordinateSystem=a;}),t.eachSeriesByType("radar",function(t){"radar"===t.get("coordinateSystem")&&(t.coordinateSystem=i[t.get("radarIndex")||0]);}),i;},i(26).register("radar",n),t.exports=n;},function(t,e,i){function n(t,e){return s.defaults({show:e},t);}var o=i(94),a=o.valueAxis,r=i(10),s=i(1),l=i(42),u=i(2).extendComponentModel({type:"radar",optionUpdated:function optionUpdated(){var t=this.get("boundaryGap"),e=this.get("splitNumber"),i=this.get("scale"),n=this.get("axisLine"),o=this.get("axisTick"),a=this.get("axisLabel"),u=this.get("name.textStyle"),c=this.get("name.show"),h=this.get("name.formatter"),d=this.get("nameGap"),f=this.get("triggerEvent"),p=s.map(this.get("indicator")||[],function(p){if(null!=p.max&&p.max>0&&!p.min?p.min=0:null!=p.min&&p.min<0&&!p.max&&(p.max=0),p=s.merge(s.clone(p),{boundaryGap:t,splitNumber:e,scale:i,axisLine:n,axisTick:o,axisLabel:a,name:p.text,nameLocation:"end",nameGap:d,nameTextStyle:u,triggerEvent:f},!1),c||(p.name=""),"string"==typeof h){var g=p.name;p.name=h.replace("{value}",null!=g?g:"");}else"function"==typeof h&&(p.name=h(p.name,p));var m=s.extend(new r(p,null,this.ecModel),l);return m.mainType="radar",m.componentIndex=this.componentIndex,m;},this);this.getIndicatorModels=function(){return p;};},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:"polygon",axisLine:s.merge({lineStyle:{color:"#bbb"}},a.axisLine),axisLabel:n(a.axisLabel,!1),axisTick:n(a.axisTick,!1),splitLine:n(a.splitLine,!0),splitArea:n(a.splitArea,!0),indicator:[]}});t.exports=u;},function(t,e,i){function n(t,e){return e.type||(e.data?"category":"value");}var o=i(13),a=i(58),r=i(1),s=o.extend({type:"singleAxis",layoutMode:"box",axis:null,coordinateSystem:null,getCoordSysModel:function getCoordSysModel(){return this;}}),l={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:2,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:2}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}};r.merge(s.prototype,i(42)),a("single",s,n,l),t.exports=s;},function(t,e,i){function n(t,e,i){this.dimension="single",this.dimensions=["single"],this._axis=null,this._rect,this._init(t,e,i),this.model=t;}var o=i(415),a=i(18),r=i(12);n.prototype={type:"singleAxis",axisPointerEnabled:!0,constructor:n,_init:function _init(t,e,i){var n=this.dimension,r=new o(n,a.createScaleByModel(t),[0,0],t.get("type"),t.get("position")),s="category"===r.type;r.onBand=s&&t.get("boundaryGap"),r.inverse=t.get("inverse"),r.orient=t.get("orient"),t.axis=r,r.model=t,r.coordinateSystem=this,this._axis=r;},update:function update(t,e){t.eachSeries(function(t){if(t.coordinateSystem===this){var e=t.getData(),i=this.dimension;this._axis.scale.unionExtentFromData(e,t.coordDimToDataDim(i)),a.niceScaleExtent(this._axis.scale,this._axis.model);}},this);},resize:function resize(t,e){this._rect=r.getLayoutRect({left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")},{width:e.getWidth(),height:e.getHeight()}),this._adjustAxis();},getRect:function getRect(){return this._rect;},_adjustAxis:function _adjustAxis(){var t=this._rect,e=this._axis,i=e.isHorizontal(),n=i?[0,t.width]:[0,t.height],o=e.reverse?1:0;e.setExtent(n[o],n[1-o]),this._updateAxisTransform(e,i?t.x:t.y);},_updateAxisTransform:function _updateAxisTransform(t,e){var i=t.getExtent(),n=i[0]+i[1],o=t.isHorizontal();t.toGlobalCoord=o?function(t){return t+e;}:function(t){return n-t+e;},t.toLocalCoord=o?function(t){return t-e;}:function(t){return n-t+e;};},getAxis:function getAxis(){return this._axis;},getBaseAxis:function getBaseAxis(){return this._axis;},getAxes:function getAxes(){return[this._axis];},getTooltipAxes:function getTooltipAxes(){return{baseAxes:[this.getAxis()]};},containPoint:function containPoint(t){var e=this.getRect(),i=this.getAxis(),n=i.orient;return"horizontal"===n?i.contain(i.toLocalCoord(t[0]))&&t[1]>=e.y&&t[1]<=e.y+e.height:i.contain(i.toLocalCoord(t[1]))&&t[0]>=e.y&&t[0]<=e.y+e.height;},pointToData:function pointToData(t){var e=this.getAxis();return[e.coordToData(e.toLocalCoord(t["horizontal"===e.orient?0:1]))];},dataToPoint:function dataToPoint(t){var e=this.getAxis(),i=this.getRect(),n=[],o="horizontal"===e.orient?0:1;return t instanceof Array&&(t=t[0]),n[o]=e.toGlobalCoord(e.dataToCoord(+t)),n[1-o]=0===o?i.y+i.height/2:i.x+i.width/2,n;}},t.exports=n;},function(t,e,i){var n=i(1),o=i(33),a=i(18),r=function r(t,e,i,n,a){o.call(this,t,e,i),this.type=n||"value",this.position=a||"bottom",this.orient=null,this._labelInterval=null;};r.prototype={constructor:r,model:null,isHorizontal:function isHorizontal(){var t=this.position;return"top"===t||"bottom"===t;},getLabelInterval:function getLabelInterval(){var t=this._labelInterval;if(!t){var e=this.model,i=e.getModel("axisLabel"),o=i.get("interval");if("category"!==this.type||"auto"!==o)return t=this._labelInterval="auto"===o?0:o;t=this._labelInterval=a.getAxisLabelInterval(n.map(this.scale.getTicks(),this.dataToCoord,this),e.getFormattedLabels(),i.getModel("textStyle").getFont(),this.isHorizontal());}return t;},pointToData:function pointToData(t,e){return this.coordinateSystem.pointToData(t,e)[0];},toGlobalCoord:null,toLocalCoord:null},n.inherits(r,o),t.exports=r;},function(t,e,i){function n(t,e){var i=[];return t.eachComponent("singleAxis",function(n,a){var r=new o(n,t,e);r.name="single_"+a,r.resize(n,e),n.coordinateSystem=r,i.push(r);}),t.eachSeries(function(e){if("singleAxis"===e.get("coordinateSystem")){var i=t.queryComponents({mainType:"singleAxis",index:e.get("singleAxisIndex"),id:e.get("singleAxisId")})[0];e.coordinateSystem=i&&i.coordinateSystem;}}),i;}var o=i(414);i(26).register("single",{create:n,dimensions:o.prototype.dimensions});},function(t,e,i){"use strict";function n(t,e){this.id=null==t?"":t,this.inEdges=[],this.outEdges=[],this.edges=[],this.hostGraph,this.dataIndex=null==e?-1:e;}function o(t,e,i){this.node1=t,this.node2=e,this.dataIndex=null==i?-1:i;}var a=i(1),r=function r(t){this._directed=t||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this.data,this.edgeData;},s=r.prototype;s.type="graph",s.isDirected=function(){return this._directed;},s.addNode=function(t,e){t=t||""+e;var i=this._nodesMap;if(!i[t]){var o=new n(t,e);return o.hostGraph=this,this.nodes.push(o),i[t]=o,o;}},s.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e];},s.getNodeById=function(t){return this._nodesMap[t];},s.addEdge=function(t,e,i){var a=this._nodesMap,r=this._edgesMap;if("number"==typeof t&&(t=this.nodes[t]),"number"==typeof e&&(e=this.nodes[e]),t instanceof n||(t=a[t]),e instanceof n||(e=a[e]),t&&e){var s=t.id+"-"+e.id;if(!r[s]){var l=new o(t,e,i);return l.hostGraph=this,this._directed&&(t.outEdges.push(l),e.inEdges.push(l)),t.edges.push(l),t!==e&&e.edges.push(l),this.edges.push(l),r[s]=l,l;}}},s.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e];},s.getEdge=function(t,e){t instanceof n&&(t=t.id),e instanceof n&&(e=e.id);var i=this._edgesMap;return this._directed?i[t+"-"+e]:i[t+"-"+e]||i[e+"-"+t];},s.eachNode=function(t,e){for(var i=this.nodes,n=i.length,o=0;o<n;o++){i[o].dataIndex>=0&&t.call(e,i[o],o);}},s.eachEdge=function(t,e){for(var i=this.edges,n=i.length,o=0;o<n;o++){i[o].dataIndex>=0&&i[o].node1.dataIndex>=0&&i[o].node2.dataIndex>=0&&t.call(e,i[o],o);}},s.breadthFirstTraverse=function(t,e,i,o){if(e instanceof n||(e=this._nodesMap[e]),e){for(var a="out"===i?"outEdges":"in"===i?"inEdges":"edges",r=0;r<this.nodes.length;r++){this.nodes[r].__visited=!1;}if(!t.call(o,e,null))for(var s=[e];s.length;){for(var l=s.shift(),u=l[a],r=0;r<u.length;r++){var c=u[r],h=c.node1===l?c.node2:c.node1;if(!h.__visited){if(t.call(h,h,l))return;s.push(h),h.__visited=!0;}}}}},s.update=function(){for(var t=this.data,e=this.edgeData,i=this.nodes,n=this.edges,o=0,a=i.length;o<a;o++){i[o].dataIndex=-1;}for(var o=0,a=t.count();o<a;o++){i[t.getRawIndex(o)].dataIndex=o;}e.filterSelf(function(t){var i=n[e.getRawIndex(t)];return i.node1.dataIndex>=0&&i.node2.dataIndex>=0;});for(var o=0,a=n.length;o<a;o++){n[o].dataIndex=-1;}for(var o=0,a=e.count();o<a;o++){n[e.getRawIndex(o)].dataIndex=o;}},s.clone=function(){for(var t=new r(this._directed),e=this.nodes,i=this.edges,n=0;n<e.length;n++){t.addNode(e[n].id,e[n].dataIndex);}for(var n=0;n<i.length;n++){var o=i[n];t.addEdge(o.node1.id,o.node2.id,o.dataIndex);}return t;},n.prototype={constructor:n,degree:function degree(){return this.edges.length;},inDegree:function inDegree(){return this.inEdges.length;},outDegree:function outDegree(){return this.outEdges.length;},getModel:function getModel(t){if(!(this.dataIndex<0)){var e=this.hostGraph,i=e.data.getItemModel(this.dataIndex);return i.getModel(t);}}},o.prototype.getModel=function(t){if(!(this.dataIndex<0)){var e=this.hostGraph,i=e.edgeData.getItemModel(this.dataIndex);return i.getModel(t);}};var l=function l(t,e){return{getValue:function getValue(i){var n=this[t][e];return n.get(n.getDimension(i||"value"),this.dataIndex);},setVisual:function setVisual(i,n){this.dataIndex>=0&&this[t][e].setItemVisual(this.dataIndex,i,n);},getVisual:function getVisual(i,n){return this[t][e].getItemVisual(this.dataIndex,i,n);},setLayout:function setLayout(i,n){this.dataIndex>=0&&this[t][e].setItemLayout(this.dataIndex,i,n);},getLayout:function getLayout(){return this[t][e].getItemLayout(this.dataIndex);},getGraphicEl:function getGraphicEl(){return this[t][e].getItemGraphicEl(this.dataIndex);},getRawIndex:function getRawIndex(){return this[t][e].getRawIndex(this.dataIndex);}};};a.mixin(n,l("hostGraph","data")),a.mixin(o,l("hostGraph","edgeData")),r.Node=n,r.Edge=o,t.exports=r;},function(t,e,i){function n(t,e){this.root,this.data,this._nodes=[],this.hostModel=t,this.levelModels=a.map(e||[],function(e){return new r(e,t,t.ecModel);});}function o(t,e){var i=e.children;t.parentNode!==e&&(i.push(t),t.parentNode=e);}var a=i(1),r=i(10),s=i(14),l=i(264),u=i(25),c=function c(t,e){this.name=t||"",this.depth=0,this.height=0,this.parentNode=null,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.hostTree=e;};c.prototype={constructor:c,isRemoved:function isRemoved(){return this.dataIndex<0;},eachNode:function eachNode(t,e,i){"function"==typeof t&&(i=e,e=t,t=null),t=t||{},a.isString(t)&&(t={order:t});var n,o=t.order||"preorder",r=this[t.attr||"children"];"preorder"===o&&(n=e.call(i,this));for(var s=0;!n&&s<r.length;s++){r[s].eachNode(t,e,i);}"postorder"===o&&e.call(i,this);},updateDepthAndHeight:function updateDepthAndHeight(t){var e=0;this.depth=t;for(var i=0;i<this.children.length;i++){var n=this.children[i];n.updateDepthAndHeight(t+1),n.height>e&&(e=n.height);}this.height=e+1;},getNodeById:function getNodeById(t){if(this.getId()===t)return this;for(var e=0,i=this.children,n=i.length;e<n;e++){var o=i[e].getNodeById(t);if(o)return o;}},contains:function contains(t){if(t===this)return!0;for(var e=0,i=this.children,n=i.length;e<n;e++){var o=i[e].contains(t);if(o)return o;}},getAncestors:function getAncestors(t){for(var e=[],i=t?this:this.parentNode;i;){e.push(i),i=i.parentNode;}return e.reverse(),e;},getValue:function getValue(t){var e=this.hostTree.data;return e.get(e.getDimension(t||"value"),this.dataIndex);},setLayout:function setLayout(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e);},getLayout:function getLayout(){return this.hostTree.data.getItemLayout(this.dataIndex);},getModel:function getModel(t){if(!(this.dataIndex<0)){var e=this.hostTree,i=e.data.getItemModel(this.dataIndex),n=this.getLevelModel();return i.getModel(t,(n||e.hostModel).getModel(t));}},getLevelModel:function getLevelModel(){return(this.hostTree.levelModels||[])[this.depth];},setVisual:function setVisual(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e);},getVisual:function getVisual(t,e){return this.hostTree.data.getItemVisual(this.dataIndex,t,e);},getRawIndex:function getRawIndex(){return this.hostTree.data.getRawIndex(this.dataIndex);},getId:function getId(){return this.hostTree.data.getId(this.dataIndex);}},n.prototype={constructor:n,type:"tree",eachNode:function eachNode(t,e,i){this.root.eachNode(t,e,i);},getNodeByDataIndex:function getNodeByDataIndex(t){var e=this.data.getRawIndex(t);return this._nodes[e];},getNodeByName:function getNodeByName(t){return this.root.getNodeByName(t);},update:function update(){for(var t=this.data,e=this._nodes,i=0,n=e.length;i<n;i++){e[i].dataIndex=-1;}for(var i=0,n=t.count();i<n;i++){e[t.getRawIndex(i)].dataIndex=i;}},clearLayouts:function clearLayouts(){this.data.clearItemLayouts();}},n.createTree=function(t,e,i){function r(t,e){var i=t.value;f=Math.max(f,a.isArray(i)?i.length:1),d.push(t);var n=new c(t.name,h);e?o(n,e):h.root=n,h._nodes.push(n);var s=t.children;if(s)for(var l=0;l<s.length;l++){r(s[l],n);}}var h=new n(e,i),d=[],f=1;r(t),h.root.updateDepthAndHeight(0);var p=u([{name:"value"}],d,{dimCount:f}),g=new s(p,e);return g.initData(d),l({mainData:g,struct:h,structAttr:"tree"}),h.update(),h;},t.exports=n;},function(t,e,i){function n(){var t,e=[],i={};return{add:function add(t,n,a,r,s){return o.isString(r)&&(s=r,r=0),!i[t.id]&&(i[t.id]=1,e.push({el:t,target:n,time:a,delay:r,easing:s}),!0);},done:function done(e){return t=e,this;},start:function start(){function n(){o--,o||(e.length=0,i={},t&&t());}for(var o=e.length,a=0,r=e.length;a<r;a++){var s=e[a];s.el.animateTo(s.target,s.time,s.delay,s.easing,n);}return this;}};}var o=i(1);t.exports={createWrap:n};}]);});
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(10)(module)))

/***/ }),
/* 1 */
/***/ (function(module, exports) {

/*
	MIT License http://www.opensource.org/licenses/mit-license.php
	Author Tobias Koppers @sokra
*/
// css base code, injected by the css-loader
module.exports = function(useSourceMap) {
	var list = [];

	// return the list of modules as css string
	list.toString = function toString() {
		return this.map(function (item) {
			var content = cssWithMappingToString(item, useSourceMap);
			if(item[2]) {
				return "@media " + item[2] + "{" + content + "}";
			} else {
				return content;
			}
		}).join("");
	};

	// import a list of modules into the list
	list.i = function(modules, mediaQuery) {
		if(typeof modules === "string")
			modules = [[null, modules, ""]];
		var alreadyImportedModules = {};
		for(var i = 0; i < this.length; i++) {
			var id = this[i][0];
			if(typeof id === "number")
				alreadyImportedModules[id] = true;
		}
		for(i = 0; i < modules.length; i++) {
			var item = modules[i];
			// skip already imported module
			// this implementation is not 100% perfect for weird media query combinations
			//  when a module is imported multiple times with different media queries.
			//  I hope this will never occur (Hey this way we have smaller bundles)
			if(typeof item[0] !== "number" || !alreadyImportedModules[item[0]]) {
				if(mediaQuery && !item[2]) {
					item[2] = mediaQuery;
				} else if(mediaQuery) {
					item[2] = "(" + item[2] + ") and (" + mediaQuery + ")";
				}
				list.push(item);
			}
		}
	};
	return list;
};

function cssWithMappingToString(item, useSourceMap) {
	var content = item[1] || '';
	var cssMapping = item[3];
	if (!cssMapping) {
		return content;
	}

	if (useSourceMap && typeof btoa === 'function') {
		var sourceMapping = toComment(cssMapping);
		var sourceURLs = cssMapping.sources.map(function (source) {
			return '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'
		});

		return [content].concat(sourceURLs).concat([sourceMapping]).join('\n');
	}

	return [content].join('\n');
}

// Adapted from convert-source-map (MIT)
function toComment(sourceMap) {
	// eslint-disable-next-line no-undef
	var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));
	var data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;

	return '/*# ' + data + ' */';
}


/***/ }),
/* 2 */
/***/ (function(module, exports) {

// this module is a runtime utility for cleaner component module output and will
// be included in the final webpack user bundle

module.exports = function normalizeComponent (
  rawScriptExports,
  compiledTemplate,
  scopeId,
  cssModules
) {
  var esModule
  var scriptExports = rawScriptExports = rawScriptExports || {}

  // ES6 modules interop
  var type = typeof rawScriptExports.default
  if (type === 'object' || type === 'function') {
    esModule = rawScriptExports
    scriptExports = rawScriptExports.default
  }

  // Vue.extend constructor export interop
  var options = typeof scriptExports === 'function'
    ? scriptExports.options
    : scriptExports

  // render functions
  if (compiledTemplate) {
    options.render = compiledTemplate.render
    options.staticRenderFns = compiledTemplate.staticRenderFns
  }

  // scopedId
  if (scopeId) {
    options._scopeId = scopeId
  }

  // inject cssModules
  if (cssModules) {
    var computed = Object.create(options.computed || null)
    Object.keys(cssModules).forEach(function (key) {
      var module = cssModules[key]
      computed[key] = function () { return module }
    })
    options.computed = computed
  }

  return {
    esModule: esModule,
    exports: scriptExports,
    options: options
  }
}


/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

/*
  MIT License http://www.opensource.org/licenses/mit-license.php
  Author Tobias Koppers @sokra
  Modified by Evan You @yyx990803
*/

var hasDocument = typeof document !== 'undefined'

if (typeof DEBUG !== 'undefined' && DEBUG) {
  if (!hasDocument) {
    throw new Error(
    'vue-style-loader cannot be used in a non-browser environment. ' +
    "Use { target: 'node' } in your Webpack config to indicate a server-rendering environment."
  ) }
}

var listToStyles = __webpack_require__(134)

/*
type StyleObject = {
  id: number;
  parts: Array<StyleObjectPart>
}

type StyleObjectPart = {
  css: string;
  media: string;
  sourceMap: ?string
}
*/

var stylesInDom = {/*
  [id: number]: {
    id: number,
    refs: number,
    parts: Array<(obj?: StyleObjectPart) => void>
  }
*/}

var head = hasDocument && (document.head || document.getElementsByTagName('head')[0])
var singletonElement = null
var singletonCounter = 0
var isProduction = false
var noop = function () {}

// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>
// tags it will allow on a page
var isOldIE = typeof navigator !== 'undefined' && /msie [6-9]\b/.test(navigator.userAgent.toLowerCase())

module.exports = function (parentId, list, _isProduction) {
  isProduction = _isProduction

  var styles = listToStyles(parentId, list)
  addStylesToDom(styles)

  return function update (newList) {
    var mayRemove = []
    for (var i = 0; i < styles.length; i++) {
      var item = styles[i]
      var domStyle = stylesInDom[item.id]
      domStyle.refs--
      mayRemove.push(domStyle)
    }
    if (newList) {
      styles = listToStyles(parentId, newList)
      addStylesToDom(styles)
    } else {
      styles = []
    }
    for (var i = 0; i < mayRemove.length; i++) {
      var domStyle = mayRemove[i]
      if (domStyle.refs === 0) {
        for (var j = 0; j < domStyle.parts.length; j++) {
          domStyle.parts[j]()
        }
        delete stylesInDom[domStyle.id]
      }
    }
  }
}

function addStylesToDom (styles /* Array<StyleObject> */) {
  for (var i = 0; i < styles.length; i++) {
    var item = styles[i]
    var domStyle = stylesInDom[item.id]
    if (domStyle) {
      domStyle.refs++
      for (var j = 0; j < domStyle.parts.length; j++) {
        domStyle.parts[j](item.parts[j])
      }
      for (; j < item.parts.length; j++) {
        domStyle.parts.push(addStyle(item.parts[j]))
      }
      if (domStyle.parts.length > item.parts.length) {
        domStyle.parts.length = item.parts.length
      }
    } else {
      var parts = []
      for (var j = 0; j < item.parts.length; j++) {
        parts.push(addStyle(item.parts[j]))
      }
      stylesInDom[item.id] = { id: item.id, refs: 1, parts: parts }
    }
  }
}

function createStyleElement () {
  var styleElement = document.createElement('style')
  styleElement.type = 'text/css'
  head.appendChild(styleElement)
  return styleElement
}

function addStyle (obj /* StyleObjectPart */) {
  var update, remove
  var styleElement = document.querySelector('style[data-vue-ssr-id~="' + obj.id + '"]')

  if (styleElement) {
    if (isProduction) {
      // has SSR styles and in production mode.
      // simply do nothing.
      return noop
    } else {
      // has SSR styles but in dev mode.
      // for some reason Chrome can't handle source map in server-rendered
      // style tags - source maps in <style> only works if the style tag is
      // created and inserted dynamically. So we remove the server rendered
      // styles and inject new ones.
      styleElement.parentNode.removeChild(styleElement)
    }
  }

  if (isOldIE) {
    // use singleton mode for IE9.
    var styleIndex = singletonCounter++
    styleElement = singletonElement || (singletonElement = createStyleElement())
    update = applyToSingletonTag.bind(null, styleElement, styleIndex, false)
    remove = applyToSingletonTag.bind(null, styleElement, styleIndex, true)
  } else {
    // use multi-style-tag mode in all other cases
    styleElement = createStyleElement()
    update = applyToTag.bind(null, styleElement)
    remove = function () {
      styleElement.parentNode.removeChild(styleElement)
    }
  }

  update(obj)

  return function updateStyle (newObj /* StyleObjectPart */) {
    if (newObj) {
      if (newObj.css === obj.css &&
          newObj.media === obj.media &&
          newObj.sourceMap === obj.sourceMap) {
        return
      }
      update(obj = newObj)
    } else {
      remove()
    }
  }
}

var replaceText = (function () {
  var textStore = []

  return function (index, replacement) {
    textStore[index] = replacement
    return textStore.filter(Boolean).join('\n')
  }
})()

function applyToSingletonTag (styleElement, index, remove, obj) {
  var css = remove ? '' : obj.css

  if (styleElement.styleSheet) {
    styleElement.styleSheet.cssText = replaceText(index, css)
  } else {
    var cssNode = document.createTextNode(css)
    var childNodes = styleElement.childNodes
    if (childNodes[index]) styleElement.removeChild(childNodes[index])
    if (childNodes.length) {
      styleElement.insertBefore(cssNode, childNodes[index])
    } else {
      styleElement.appendChild(cssNode)
    }
  }
}

function applyToTag (styleElement, obj) {
  var css = obj.css
  var media = obj.media
  var sourceMap = obj.sourceMap

  if (media) {
    styleElement.setAttribute('media', media)
  }

  if (sourceMap) {
    // https://developer.chrome.com/devtools/docs/javascript-debugging
    // this makes source maps inside style tags work properly in Chrome
    css += '\n/*# sourceURL=' + sourceMap.sources[0] + ' */'
    // http://stackoverflow.com/a/26603875
    css += '\n/*# sourceMappingURL=data:application/json;base64,' + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + ' */'
  }

  if (styleElement.styleSheet) {
    styleElement.styleSheet.cssText = css
  } else {
    while (styleElement.firstChild) {
      styleElement.removeChild(styleElement.firstChild)
    }
    styleElement.appendChild(document.createTextNode(css))
  }
}


/***/ }),
/* 4 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_common__ = __webpack_require__(21);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_Promise__ = __webpack_require__(16);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_Promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_Promise__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_global_config__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_global_config___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_global_config__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_util_fetch_js__ = __webpack_require__(35);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_util_fetch_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_util_fetch_js__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_util_url_js__ = __webpack_require__(37);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_util_url_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_util_url_js__);





var global = window.global || {};
var mock = true;

var local = false;
if (__WEBPACK_IMPORTED_MODULE_4_util_url_js___default.a.query().local === 'rlocal') {
    local = true;
}
var ajaxPath = __WEBPACK_IMPORTED_MODULE_2_global_config___default.a.ajaxPath;
var chartDataActionPrefix = '/flowmonitor';
var analysisActionPrefix = '/flowanalysis';

if (mock) {
    ajaxPath = './mock';
} else if (local) {
    ajaxPath = __WEBPACK_IMPORTED_MODULE_2_global_config___default.a.root;
}

var randtime = function randtime() {
    return Math.floor(Math.random() * 500) + 150;
};
var getMockSuccess = function getMockSuccess() {
    var j = { success: true };
    return __WEBPACK_IMPORTED_MODULE_1_Promise___default.a.resolve(j);
};
var getJSON1 = function getJSON1(url, param) {
    return __WEBPACK_IMPORTED_MODULE_3_util_fetch_js___default.a.getJSON(url, param).then(function (result) {
        if (!result) {
            return __WEBPACK_IMPORTED_MODULE_1_Promise___default.a.reject();
        }
        if (!result.success) {
            return __WEBPACK_IMPORTED_MODULE_1_Promise___default.a.reject(result);
        }
        if (!mock) {
            return __WEBPACK_IMPORTED_MODULE_1_Promise___default.a.resolve(result.data);
        }
        return new __WEBPACK_IMPORTED_MODULE_1_Promise___default.a(function (resolve) {
            setTimeout(function () {
                resolve(result.data);
            }, Math.random() * 400 + 100);
        });
    });
};
var getJSON2 = function getJSON2(action) {
    var param = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    var mockSubfix = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';

    if (mock) {
        var mockAction = action;
        if (mockSubfix) {
            mockAction += '_' + mockSubfix;
        }
        return getJSON1(ajaxPath + (mockAction + '.json'), param);
    } else if (local) {
        return getJSON1(ajaxPath + (action + '.action'), param);
    } else {
        param.action = action + '.action';
        return getJSON1(ajaxPath, param);
    }
};
var PinyinHash = {
    '': 'a',
    '': 'ba',
    '': 'bao',
    '': 'chi',
    '': 'e',
    '': 'hu',
    '': 'wu',
    '': 'tong',
    '': 'xi',
    '': 'xing'
};
var adaptDateParam = function adaptDateParam(str) {
    if (!str) {
        return str;
    }
    return str.replace(/\-/g, '');
};
var exports = {};
exports.getPinyin = function (word) {
    return PinyinHash[word.charAt(0)] || '';
};
exports.getAttractionRealtime1 = function (id) {
    return getJSON2(chartDataActionPrefix + '/scenUserCurrerntDay', {
        scenery_id: id
    });
};
exports.getAttractionRealtime2 = function (id) {
    return getJSON2(chartDataActionPrefix + '/sceneryInAndOut', {
        scenery_id: id
    });
};
exports.getCityRealtime1 = function (id) {
    return getJSON2(chartDataActionPrefix + '/scenAreaUserCurrentDay', {
        scenery_city: id
    });
};
exports.getCityRealtime2 = function (id) {

    return exports.getCityFirstAttraction(id).then(function (attraction) {
        return getJSON2(chartDataActionPrefix + '/sceneryInAndOut', {
            scenery_id: attraction.placeID
        });
    });
};

exports.getAttractionAnalysisCommon = function (path, id, startDate, endDate) {
    if (mock) {
        return getJSON1(ajaxPath + ('/' + path + '.json'));
    }
    var action = analysisActionPrefix + ('/' + path + '.action');
    var param = {
        scenery_id: id
    };
    if (startDate && !endDate) {
        param.deal_date = adaptDateParam(startDate);
    } else if (startDate && endDate) {
        param.start_date = adaptDateParam(startDate);
        param.end_date = adaptDateParam(endDate);
    }

    if (local) {
        return getJSON1(__WEBPACK_IMPORTED_MODULE_2_global_config___default.a.root + action, param);
    }
    param.action = action;
    return getJSON1(ajaxPath, param);
};
exports.getCityAnalysisCommon = function (path, id, startDate, endDate) {
    if (mock) {
        return getJSON1(ajaxPath + ('/' + path + '.json'));
    }
    var action = analysisActionPrefix + ('/' + path + '.action');
    var param = {
        scenery_city: id
    };
    // 
    if (startDate && !endDate) {
        param.deal_date = adaptDateParam(startDate);
    } else {
        param.start_date = adaptDateParam(startDate);
        param.end_date = adaptDateParam(endDate);
    }
    if (local) {
        return getJSON1(__WEBPACK_IMPORTED_MODULE_2_global_config___default.a.root + action, param);
    }
    param.action = action;
    return getJSON1(ajaxPath, param);
};
//  - 
exports.getCityAnalysisStayTime = function () {
    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
        args[_key] = arguments[_key];
    }

    return exports.getCityAnalysisCommon.apply(exports, ['scenAreaPeopleStayDate'].concat(args));
};
//  - 
exports.getCityAnalysisUserCommon = function () {
    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
        args[_key2] = arguments[_key2];
    }

    return exports.getCityAnalysisCommon.apply(exports, ['scenAreaUserCommon'].concat(args));
};
//  - 
exports.getCityAnalysisUserBrandType = function () {
    for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
        args[_key3] = arguments[_key3];
    }

    return exports.getCityAnalysisCommon.apply(exports, ['scenAreaUserBrandType'].concat(args));
};
//  - 
exports.getCityAnalysisUserArpuType = function () {
    for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
        args[_key4] = arguments[_key4];
    }

    return exports.getCityAnalysisCommon.apply(exports, ['scenAreaUserArpuType'].concat(args));
};
//  - 
exports.getCityAnalysisUserAgeType = function () {
    for (var _len5 = arguments.length, args = Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {
        args[_key5] = arguments[_key5];
    }

    return exports.getCityAnalysisCommon.apply(exports, ['scenAreaUserAgeType'].concat(args));
};
//  - 
exports.getCityAnalysisUserAllType = function () {
    for (var _len6 = arguments.length, args = Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {
        args[_key6] = arguments[_key6];
    }

    return exports.getCityAnalysisCommon.apply(exports, ['scenAreaUserAllType'].concat(args));
};

//  - 
exports.getAttractionAnalysisStaytime = function () {
    for (var _len7 = arguments.length, args = Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {
        args[_key7] = arguments[_key7];
    }

    return exports.getAttractionAnalysisCommon.apply(exports, ['sceneryPeopleStayDate'].concat(args));
};
//  - 
exports.getAttractionCountAllType = function () {
    for (var _len8 = arguments.length, args = Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {
        args[_key8] = arguments[_key8];
    }

    return exports.getAttractionAnalysisCommon.apply(exports, ['sceneryCountAllType'].concat(args));
};
//  - 
exports.getAttractionPeopleVisitDate = function () {
    for (var _len9 = arguments.length, args = Array(_len9), _key9 = 0; _key9 < _len9; _key9++) {
        args[_key9] = arguments[_key9];
    }

    return exports.getAttractionAnalysisCommon.apply(exports, ['sceneryPeopleVisitDate'].concat(args));
};
//  - 
exports.getAttractionCountPhoneBrand = function () {
    for (var _len10 = arguments.length, args = Array(_len10), _key10 = 0; _key10 < _len10; _key10++) {
        args[_key10] = arguments[_key10];
    }

    return exports.getAttractionAnalysisCommon.apply(exports, ['sceneryCountPhoneBrand'].concat(args));
};
//  - ARPU
exports.getAttractionCountArpuType = function () {
    for (var _len11 = arguments.length, args = Array(_len11), _key11 = 0; _key11 < _len11; _key11++) {
        args[_key11] = arguments[_key11];
    }

    return exports.getAttractionAnalysisCommon.apply(exports, ['sceneryCountArpuType'].concat(args));
};
//  - 
exports.getAttractionCountAgeType = function () {
    for (var _len12 = arguments.length, args = Array(_len12), _key12 = 0; _key12 < _len12; _key12++) {
        args[_key12] = arguments[_key12];
    }

    return exports.getAttractionAnalysisCommon.apply(exports, ['sceneryCountAgeType'].concat(args));
};

//  (for table)
exports.getCityTableData = function () {
    return getJSON2('/travel/board');
};

//  (for city select)
exports.getCities = __WEBPACK_IMPORTED_MODULE_3_util_fetch_js___default.a.once(function () {
    return getJSON2('/travel/cities');
});
exports.getCityById = function (id) {
    return exports.getCitiesMap().then(function (map) {
        return map[id] ? __WEBPACK_IMPORTED_MODULE_1_Promise___default.a.resolve(map[id]) : __WEBPACK_IMPORTED_MODULE_1_Promise___default.a.reject();
    });
};
exports.getCitiesMap = function () {
    return exports.getCities().then(function (result) {
        var hash = {};
        result.forEach(function (city) {
            if (city.placeID) {
                hash[city.placeID] = city;
            }
            city.places.forEach(function (item) {
                item.parent = city;
                hash[item.placeID] = item;
            });
        });

        return __WEBPACK_IMPORTED_MODULE_1_Promise___default.a.resolve(hash);
    });
};
exports.getAllAttractionsTop3 = function () {
    return exports.getCities().then(function (result) {
        var list = [];
        result.forEach(function (city) {
            if (!city.places) {
                return;
            }
            // 3
            list = list.concat(city.places.slice(0, 3));
        });

        return __WEBPACK_IMPORTED_MODULE_1_Promise___default.a.resolve(list);
    });
};
exports.getAttractionsOfCity = function (cityId) {
    return exports.getCities().then(function (result) {
        for (var i = 0; i < result.length; i++) {
            if (result[i].placeID === cityId) {
                return __WEBPACK_IMPORTED_MODULE_1_Promise___default.a.resolve(result[i].places || []);
            }
        }
        return __WEBPACK_IMPORTED_MODULE_1_Promise___default.a.reject();
    });
};
exports.getCityFirstAttraction = function (cityId) {
    return exports.getCities().then(function (result) {
        for (var i = 0; i < result.length; i++) {
            if (result[i].placeID === cityId) {
                return result[i].places ? __WEBPACK_IMPORTED_MODULE_1_Promise___default.a.resolve(result[i].places[0]) : __WEBPACK_IMPORTED_MODULE_1_Promise___default.a.reject();
            }
        }
        return __WEBPACK_IMPORTED_MODULE_1_Promise___default.a.reject();
    });
};
exports.getAttractionById = function (id) {
    return exports.getCitiesMap().then(function (result) {
        if (result[id]) {
            return __WEBPACK_IMPORTED_MODULE_1_Promise___default.a.resolve(result[id]);
        } else {
            return __WEBPACK_IMPORTED_MODULE_1_Promise___default.a.reject(result);
        }
    });
};

exports.fetch = function () {
    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

    var p = __WEBPACK_IMPORTED_MODULE_0_common__["a" /* $ */].Deferred();
    __WEBPACK_IMPORTED_MODULE_0_common__["a" /* $ */].ajax({
        url: '/TD-nmtravel-web/InnerGate',
        dataType: 'json',
        data: options.data,
        success: function success(result) {
            result.success ? p.resolve(result.data, result) : p.reject(result);
        },
        error: function error() {
            p.reject();
        }
    });
    return p.promise();
};
exports.fetch2 = function (url) {
    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

    var p = __WEBPACK_IMPORTED_MODULE_0_common__["a" /* $ */].Deferred();
    __WEBPACK_IMPORTED_MODULE_0_common__["a" /* $ */].ajax({
        url: url,
        dataType: 'json',
        data: options.data || {},
        success: function success(result) {
            result.data ? p.resolve(result.data) : p.reject();
        },
        error: function error() {
            p.reject();
        }
    });
    return p.promise();
};

exports.getBigBoard = function () {
    return getJSON2('/travel/bigBoard');
};

exports.getGlobe = function (id) {
    return getJSON2('/travel/bigEarth', {
        scenery_id: id || 7112
    });
};
exports.getGlobe2 = function () {
    return __WEBPACK_IMPORTED_MODULE_0_common__["a" /* $ */].getJSON(ajaxPath + '/data-1491909692146-S1NH24cTe.json');
};

exports.getBigShowInOut = function (id) {
    return exports.getAttractionRealtime2(id);
};

exports.getBigShowRealtimeUser = function (id) {
    return exports.getAttractionRealtime1(id);
};

exports.getBigShowPie1 = function () {
    // return getJSON1(mockAjaxPath + '/scenAreaUserBrandType.json');
    return exports.getAttractionCountPhoneBrand.apply(exports, arguments);
};
exports.getBigShowPie2 = function () {
    // return getJSON1(mockAjaxPath + '/scenAreaUserArpuType.json');
    return exports.getAttractionCountArpuType.apply(exports, arguments);
};
exports.getBigShowPie3 = function () {
    // return getJSON1(mockAjaxPath + '/scenAreaUserAgeType.json');
    return exports.getAttractionCountAgeType.apply(exports, arguments);
};
var mockAjaxPath = './mock';
exports.getBigShowStayTime = function () {
    return getJSON1(mockAjaxPath + '/scenAreaPeopleStayDate.json');
    // return exports.getCityAnalysisStayTime(...args);
};
exports.gitBigShowAllType = function () {
    // return getJSON1(mockAjaxPath + `/scenAreaUserAllType.json`);
    return exports.getAttractionCountAllType.apply(exports, arguments);
};
exports.gitBigShowAllType1 = function () {
    return exports.getCityAnalysisUserAllType();
};
exports.gitBigShowAllType2 = function () {
    return exports.getCityAnalysisUserAllType();
};

exports.getHeatMap = function (p) {
    return getJSON2('/travel/heatMap', p);
};

/* harmony default export */ __webpack_exports__["a"] = (exports);

/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = function () {
    var exports = {};

    exports.getUniqueId = function () {
        var i = 1;
        return function () {
            return i++;
        };
    }();

    exports.getTotalPage = function (total, rows) {
        if (!total) {
            return 1;
        }

        return Math.floor((total - 1) / rows) + 1;
    };

    exports.makeAttr = function (obj) {
        var arr = [];
        for (var i in obj) {
            if (obj.hasOwnProperty(i)) {
                var value = obj[i] || '';
                if (value.replace) {
                    value = value.replace(/"/g, '');
                }
                arr.push(i + '="' + value + '"');
            }
        }
        return ' ' + arr.join(' ') + ' ';
    };

    exports.isIframe = function () {
        return window.top !== window.self;
    };

    exports.padZero = function (num, len) {
        len = len || 2;
        num = num + '';
        var count = len - num.length;
        for (var i = 0; i < count; i++) {
            num = '0' + num;
        }
        return num;
    };

    exports.getRandInt = function (p1, p2) {
        var min;
        var max;
        if (arguments.length === 1) {
            min = 0;
            max = p1;
        } else {
            min = p1;
            max = p2;
        }
        return Math.round(Math.random() * (max - min)) + min;
    };

    exports.getRandIntBatch = function (min, max, num) {
        var r = [];
        for (var i = 0; i < num; i++) {
            r.push(exports.getRandInt(min, max));
        }
        return r;
    };

    exports.getRandFromArray = function (arr, count) {
        var copy = [];
        Array.prototype.push.apply(copy, arr);
        if (count >= copy.length) {
            return copy;
        }
        var r = [];
        for (var i = 0; i < count; i++) {
            var j = exports.getRandInt(copy.length - 1);
            r.push(copy[j]);
            copy.splice(j, 1);
        }
        return r;
    };

    exports.getRandomColor = function () {
        var arr = [];
        arr.push(exports.getRandInt(60, 240), exports.getRandInt(60, 240), exports.getRandInt(60, 240));
        for (var i = 0; i < arr.length; i++) {
            arr[i] = arr[i].toString(16);
        }
        return '#' + arr.join('');
    };

    exports.extend = function extend(target, obj) {
        if (arguments.length > 2) {
            for (i = 1; i < arguments.length; i++) {
                target = extend(target, arguments[i]);
            }
            return target;
        }
        target = target || {};
        obj = obj || {};
        var toStr = Object.prototype.toString;
        for (var i in obj) {
            if (!obj.hasOwnProperty(i)) {
                continue;
            }
            if (obj[i] === target) {
                continue;
            }
            var type = toStr.call(obj[i]);
            if (type === '[object Array]') {
                target[i] = extend(target[i] || [], obj[i]);
            } else if (type === '[object Object]') {
                target[i] = extend(target[i], obj[i]);
            } else {
                target[i] = obj[i];
            }
        }

        return target;
    };

    // IE
    exports.getIEVersion = function () {
        var versions = {
            objectobject: 7, //IE7-8
            objectundefined: 6, //IE6
            undefinedfunction: 0, // other modern browsers
            undefinedobject: 0
        };
        return document.documentMode || versions[_typeof(document.all) + (typeof XMLHttpRequest === 'undefined' ? 'undefined' : _typeof(XMLHttpRequest))];
    };

    exports.convertDate = function (dateString) {
        var dates = dateString.replace(/-/g, ',').split(',');
        if (dates.length === 3) {
            return new Date(dates[0], dates[1] - 1, dates[2]);
        }
        return new Date(dates[0], dates[1] - 1, dates[2], dates[3], dates[4], dates[5]);
    };

    return exports;
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 6 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

/*! jQuery v2.1.1 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license */
!function (a, b) {
  "object" == ( false ? "undefined" : _typeof(module)) && "object" == _typeof(module.exports) ? module.exports = a.document ? b(a, !0) : function (a) {
    if (!a.document) throw new Error("jQuery requires a window with a document");return b(a);
  } : b(a);
}("undefined" != typeof window ? window : this, function (a, b) {
  var c = [],
      d = c.slice,
      e = c.concat,
      f = c.push,
      g = c.indexOf,
      h = {},
      i = h.toString,
      j = h.hasOwnProperty,
      k = {},
      l = a.document,
      m = "2.1.1",
      n = function n(a, b) {
    return new n.fn.init(a, b);
  },
      o = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,
      p = /^-ms-/,
      q = /-([\da-z])/gi,
      r = function r(a, b) {
    return b.toUpperCase();
  };n.fn = n.prototype = { jquery: m, constructor: n, selector: "", length: 0, toArray: function toArray() {
      return d.call(this);
    }, get: function get(a) {
      return null != a ? 0 > a ? this[a + this.length] : this[a] : d.call(this);
    }, pushStack: function pushStack(a) {
      var b = n.merge(this.constructor(), a);return b.prevObject = this, b.context = this.context, b;
    }, each: function each(a, b) {
      return n.each(this, a, b);
    }, map: function map(a) {
      return this.pushStack(n.map(this, function (b, c) {
        return a.call(b, c, b);
      }));
    }, slice: function slice() {
      return this.pushStack(d.apply(this, arguments));
    }, first: function first() {
      return this.eq(0);
    }, last: function last() {
      return this.eq(-1);
    }, eq: function eq(a) {
      var b = this.length,
          c = +a + (0 > a ? b : 0);return this.pushStack(c >= 0 && b > c ? [this[c]] : []);
    }, end: function end() {
      return this.prevObject || this.constructor(null);
    }, push: f, sort: c.sort, splice: c.splice }, n.extend = n.fn.extend = function () {
    var a,
        b,
        c,
        d,
        e,
        f,
        g = arguments[0] || {},
        h = 1,
        i = arguments.length,
        j = !1;for ("boolean" == typeof g && (j = g, g = arguments[h] || {}, h++), "object" == (typeof g === "undefined" ? "undefined" : _typeof(g)) || n.isFunction(g) || (g = {}), h === i && (g = this, h--); i > h; h++) {
      if (null != (a = arguments[h])) for (b in a) {
        c = g[b], d = a[b], g !== d && (j && d && (n.isPlainObject(d) || (e = n.isArray(d))) ? (e ? (e = !1, f = c && n.isArray(c) ? c : []) : f = c && n.isPlainObject(c) ? c : {}, g[b] = n.extend(j, f, d)) : void 0 !== d && (g[b] = d));
      }
    }return g;
  }, n.extend({ expando: "jQuery" + (m + Math.random()).replace(/\D/g, ""), isReady: !0, error: function error(a) {
      throw new Error(a);
    }, noop: function noop() {}, isFunction: function isFunction(a) {
      return "function" === n.type(a);
    }, isArray: Array.isArray, isWindow: function isWindow(a) {
      return null != a && a === a.window;
    }, isNumeric: function isNumeric(a) {
      return !n.isArray(a) && a - parseFloat(a) >= 0;
    }, isPlainObject: function isPlainObject(a) {
      return "object" !== n.type(a) || a.nodeType || n.isWindow(a) ? !1 : a.constructor && !j.call(a.constructor.prototype, "isPrototypeOf") ? !1 : !0;
    }, isEmptyObject: function isEmptyObject(a) {
      var b;for (b in a) {
        return !1;
      }return !0;
    }, type: function type(a) {
      return null == a ? a + "" : "object" == (typeof a === "undefined" ? "undefined" : _typeof(a)) || "function" == typeof a ? h[i.call(a)] || "object" : typeof a === "undefined" ? "undefined" : _typeof(a);
    }, globalEval: function globalEval(a) {
      var b,
          c = eval;a = n.trim(a), a && (1 === a.indexOf("use strict") ? (b = l.createElement("script"), b.text = a, l.head.appendChild(b).parentNode.removeChild(b)) : c(a));
    }, camelCase: function camelCase(a) {
      return a.replace(p, "ms-").replace(q, r);
    }, nodeName: function nodeName(a, b) {
      return a.nodeName && a.nodeName.toLowerCase() === b.toLowerCase();
    }, each: function each(a, b, c) {
      var d,
          e = 0,
          f = a.length,
          g = s(a);if (c) {
        if (g) {
          for (; f > e; e++) {
            if (d = b.apply(a[e], c), d === !1) break;
          }
        } else for (e in a) {
          if (d = b.apply(a[e], c), d === !1) break;
        }
      } else if (g) {
        for (; f > e; e++) {
          if (d = b.call(a[e], e, a[e]), d === !1) break;
        }
      } else for (e in a) {
        if (d = b.call(a[e], e, a[e]), d === !1) break;
      }return a;
    }, trim: function trim(a) {
      return null == a ? "" : (a + "").replace(o, "");
    }, makeArray: function makeArray(a, b) {
      var c = b || [];return null != a && (s(Object(a)) ? n.merge(c, "string" == typeof a ? [a] : a) : f.call(c, a)), c;
    }, inArray: function inArray(a, b, c) {
      return null == b ? -1 : g.call(b, a, c);
    }, merge: function merge(a, b) {
      for (var c = +b.length, d = 0, e = a.length; c > d; d++) {
        a[e++] = b[d];
      }return a.length = e, a;
    }, grep: function grep(a, b, c) {
      for (var d, e = [], f = 0, g = a.length, h = !c; g > f; f++) {
        d = !b(a[f], f), d !== h && e.push(a[f]);
      }return e;
    }, map: function map(a, b, c) {
      var d,
          f = 0,
          g = a.length,
          h = s(a),
          i = [];if (h) for (; g > f; f++) {
        d = b(a[f], f, c), null != d && i.push(d);
      } else for (f in a) {
        d = b(a[f], f, c), null != d && i.push(d);
      }return e.apply([], i);
    }, guid: 1, proxy: function proxy(a, b) {
      var c, e, f;return "string" == typeof b && (c = a[b], b = a, a = c), n.isFunction(a) ? (e = d.call(arguments, 2), f = function f() {
        return a.apply(b || this, e.concat(d.call(arguments)));
      }, f.guid = a.guid = a.guid || n.guid++, f) : void 0;
    }, now: Date.now, support: k }), n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "), function (a, b) {
    h["[object " + b + "]"] = b.toLowerCase();
  });function s(a) {
    var b = a.length,
        c = n.type(a);return "function" === c || n.isWindow(a) ? !1 : 1 === a.nodeType && b ? !0 : "array" === c || 0 === b || "number" == typeof b && b > 0 && b - 1 in a;
  }var t = function (a) {
    var b,
        c,
        d,
        e,
        f,
        g,
        h,
        i,
        j,
        k,
        l,
        m,
        n,
        o,
        p,
        q,
        r,
        s,
        t,
        u = "sizzle" + -new Date(),
        v = a.document,
        w = 0,
        x = 0,
        y = gb(),
        z = gb(),
        A = gb(),
        B = function B(a, b) {
      return a === b && (l = !0), 0;
    },
        C = "undefined",
        D = 1 << 31,
        E = {}.hasOwnProperty,
        F = [],
        G = F.pop,
        H = F.push,
        I = F.push,
        J = F.slice,
        K = F.indexOf || function (a) {
      for (var b = 0, c = this.length; c > b; b++) {
        if (this[b] === a) return b;
      }return -1;
    },
        L = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
        M = "[\\x20\\t\\r\\n\\f]",
        N = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",
        O = N.replace("w", "w#"),
        P = "\\[" + M + "*(" + N + ")(?:" + M + "*([*^$|!~]?=)" + M + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + O + "))|)" + M + "*\\]",
        Q = ":(" + N + ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" + P + ")*)|.*)\\)|)",
        R = new RegExp("^" + M + "+|((?:^|[^\\\\])(?:\\\\.)*)" + M + "+$", "g"),
        S = new RegExp("^" + M + "*," + M + "*"),
        T = new RegExp("^" + M + "*([>+~]|" + M + ")" + M + "*"),
        U = new RegExp("=" + M + "*([^\\]'\"]*?)" + M + "*\\]", "g"),
        V = new RegExp(Q),
        W = new RegExp("^" + O + "$"),
        X = { ID: new RegExp("^#(" + N + ")"), CLASS: new RegExp("^\\.(" + N + ")"), TAG: new RegExp("^(" + N.replace("w", "w*") + ")"), ATTR: new RegExp("^" + P), PSEUDO: new RegExp("^" + Q), CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + M + "*(even|odd|(([+-]|)(\\d*)n|)" + M + "*(?:([+-]|)" + M + "*(\\d+)|))" + M + "*\\)|)", "i"), bool: new RegExp("^(?:" + L + ")$", "i"), needsContext: new RegExp("^" + M + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + M + "*((?:-\\d)?\\d*)" + M + "*\\)|)(?=[^-]|$)", "i") },
        Y = /^(?:input|select|textarea|button)$/i,
        Z = /^h\d$/i,
        $ = /^[^{]+\{\s*\[native \w/,
        _ = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
        ab = /[+~]/,
        bb = /'|\\/g,
        cb = new RegExp("\\\\([\\da-f]{1,6}" + M + "?|(" + M + ")|.)", "ig"),
        db = function db(a, b, c) {
      var d = "0x" + b - 65536;return d !== d || c ? b : 0 > d ? String.fromCharCode(d + 65536) : String.fromCharCode(d >> 10 | 55296, 1023 & d | 56320);
    };try {
      I.apply(F = J.call(v.childNodes), v.childNodes), F[v.childNodes.length].nodeType;
    } catch (eb) {
      I = { apply: F.length ? function (a, b) {
          H.apply(a, J.call(b));
        } : function (a, b) {
          var c = a.length,
              d = 0;while (a[c++] = b[d++]) {}a.length = c - 1;
        } };
    }function fb(a, b, d, e) {
      var f, h, j, k, l, o, r, s, w, x;if ((b ? b.ownerDocument || b : v) !== n && m(b), b = b || n, d = d || [], !a || "string" != typeof a) return d;if (1 !== (k = b.nodeType) && 9 !== k) return [];if (p && !e) {
        if (f = _.exec(a)) if (j = f[1]) {
          if (9 === k) {
            if (h = b.getElementById(j), !h || !h.parentNode) return d;if (h.id === j) return d.push(h), d;
          } else if (b.ownerDocument && (h = b.ownerDocument.getElementById(j)) && t(b, h) && h.id === j) return d.push(h), d;
        } else {
          if (f[2]) return I.apply(d, b.getElementsByTagName(a)), d;if ((j = f[3]) && c.getElementsByClassName && b.getElementsByClassName) return I.apply(d, b.getElementsByClassName(j)), d;
        }if (c.qsa && (!q || !q.test(a))) {
          if (s = r = u, w = b, x = 9 === k && a, 1 === k && "object" !== b.nodeName.toLowerCase()) {
            o = g(a), (r = b.getAttribute("id")) ? s = r.replace(bb, "\\$&") : b.setAttribute("id", s), s = "[id='" + s + "'] ", l = o.length;while (l--) {
              o[l] = s + qb(o[l]);
            }w = ab.test(a) && ob(b.parentNode) || b, x = o.join(",");
          }if (x) try {
            return I.apply(d, w.querySelectorAll(x)), d;
          } catch (y) {} finally {
            r || b.removeAttribute("id");
          }
        }
      }return i(a.replace(R, "$1"), b, d, e);
    }function gb() {
      var a = [];function b(c, e) {
        return a.push(c + " ") > d.cacheLength && delete b[a.shift()], b[c + " "] = e;
      }return b;
    }function hb(a) {
      return a[u] = !0, a;
    }function ib(a) {
      var b = n.createElement("div");try {
        return !!a(b);
      } catch (c) {
        return !1;
      } finally {
        b.parentNode && b.parentNode.removeChild(b), b = null;
      }
    }function jb(a, b) {
      var c = a.split("|"),
          e = a.length;while (e--) {
        d.attrHandle[c[e]] = b;
      }
    }function kb(a, b) {
      var c = b && a,
          d = c && 1 === a.nodeType && 1 === b.nodeType && (~b.sourceIndex || D) - (~a.sourceIndex || D);if (d) return d;if (c) while (c = c.nextSibling) {
        if (c === b) return -1;
      }return a ? 1 : -1;
    }function lb(a) {
      return function (b) {
        var c = b.nodeName.toLowerCase();return "input" === c && b.type === a;
      };
    }function mb(a) {
      return function (b) {
        var c = b.nodeName.toLowerCase();return ("input" === c || "button" === c) && b.type === a;
      };
    }function nb(a) {
      return hb(function (b) {
        return b = +b, hb(function (c, d) {
          var e,
              f = a([], c.length, b),
              g = f.length;while (g--) {
            c[e = f[g]] && (c[e] = !(d[e] = c[e]));
          }
        });
      });
    }function ob(a) {
      return a && _typeof(a.getElementsByTagName) !== C && a;
    }c = fb.support = {}, f = fb.isXML = function (a) {
      var b = a && (a.ownerDocument || a).documentElement;return b ? "HTML" !== b.nodeName : !1;
    }, m = fb.setDocument = function (a) {
      var b,
          e = a ? a.ownerDocument || a : v,
          g = e.defaultView;return e !== n && 9 === e.nodeType && e.documentElement ? (n = e, o = e.documentElement, p = !f(e), g && g !== g.top && (g.addEventListener ? g.addEventListener("unload", function () {
        m();
      }, !1) : g.attachEvent && g.attachEvent("onunload", function () {
        m();
      })), c.attributes = ib(function (a) {
        return a.className = "i", !a.getAttribute("className");
      }), c.getElementsByTagName = ib(function (a) {
        return a.appendChild(e.createComment("")), !a.getElementsByTagName("*").length;
      }), c.getElementsByClassName = $.test(e.getElementsByClassName) && ib(function (a) {
        return a.innerHTML = "<div class='a'></div><div class='a i'></div>", a.firstChild.className = "i", 2 === a.getElementsByClassName("i").length;
      }), c.getById = ib(function (a) {
        return o.appendChild(a).id = u, !e.getElementsByName || !e.getElementsByName(u).length;
      }), c.getById ? (d.find.ID = function (a, b) {
        if (_typeof(b.getElementById) !== C && p) {
          var c = b.getElementById(a);return c && c.parentNode ? [c] : [];
        }
      }, d.filter.ID = function (a) {
        var b = a.replace(cb, db);return function (a) {
          return a.getAttribute("id") === b;
        };
      }) : (delete d.find.ID, d.filter.ID = function (a) {
        var b = a.replace(cb, db);return function (a) {
          var c = _typeof(a.getAttributeNode) !== C && a.getAttributeNode("id");return c && c.value === b;
        };
      }), d.find.TAG = c.getElementsByTagName ? function (a, b) {
        return _typeof(b.getElementsByTagName) !== C ? b.getElementsByTagName(a) : void 0;
      } : function (a, b) {
        var c,
            d = [],
            e = 0,
            f = b.getElementsByTagName(a);if ("*" === a) {
          while (c = f[e++]) {
            1 === c.nodeType && d.push(c);
          }return d;
        }return f;
      }, d.find.CLASS = c.getElementsByClassName && function (a, b) {
        return _typeof(b.getElementsByClassName) !== C && p ? b.getElementsByClassName(a) : void 0;
      }, r = [], q = [], (c.qsa = $.test(e.querySelectorAll)) && (ib(function (a) {
        a.innerHTML = "<select msallowclip=''><option selected=''></option></select>", a.querySelectorAll("[msallowclip^='']").length && q.push("[*^$]=" + M + "*(?:''|\"\")"), a.querySelectorAll("[selected]").length || q.push("\\[" + M + "*(?:value|" + L + ")"), a.querySelectorAll(":checked").length || q.push(":checked");
      }), ib(function (a) {
        var b = e.createElement("input");b.setAttribute("type", "hidden"), a.appendChild(b).setAttribute("name", "D"), a.querySelectorAll("[name=d]").length && q.push("name" + M + "*[*^$|!~]?="), a.querySelectorAll(":enabled").length || q.push(":enabled", ":disabled"), a.querySelectorAll("*,:x"), q.push(",.*:");
      })), (c.matchesSelector = $.test(s = o.matches || o.webkitMatchesSelector || o.mozMatchesSelector || o.oMatchesSelector || o.msMatchesSelector)) && ib(function (a) {
        c.disconnectedMatch = s.call(a, "div"), s.call(a, "[s!='']:x"), r.push("!=", Q);
      }), q = q.length && new RegExp(q.join("|")), r = r.length && new RegExp(r.join("|")), b = $.test(o.compareDocumentPosition), t = b || $.test(o.contains) ? function (a, b) {
        var c = 9 === a.nodeType ? a.documentElement : a,
            d = b && b.parentNode;return a === d || !(!d || 1 !== d.nodeType || !(c.contains ? c.contains(d) : a.compareDocumentPosition && 16 & a.compareDocumentPosition(d)));
      } : function (a, b) {
        if (b) while (b = b.parentNode) {
          if (b === a) return !0;
        }return !1;
      }, B = b ? function (a, b) {
        if (a === b) return l = !0, 0;var d = !a.compareDocumentPosition - !b.compareDocumentPosition;return d ? d : (d = (a.ownerDocument || a) === (b.ownerDocument || b) ? a.compareDocumentPosition(b) : 1, 1 & d || !c.sortDetached && b.compareDocumentPosition(a) === d ? a === e || a.ownerDocument === v && t(v, a) ? -1 : b === e || b.ownerDocument === v && t(v, b) ? 1 : k ? K.call(k, a) - K.call(k, b) : 0 : 4 & d ? -1 : 1);
      } : function (a, b) {
        if (a === b) return l = !0, 0;var c,
            d = 0,
            f = a.parentNode,
            g = b.parentNode,
            h = [a],
            i = [b];if (!f || !g) return a === e ? -1 : b === e ? 1 : f ? -1 : g ? 1 : k ? K.call(k, a) - K.call(k, b) : 0;if (f === g) return kb(a, b);c = a;while (c = c.parentNode) {
          h.unshift(c);
        }c = b;while (c = c.parentNode) {
          i.unshift(c);
        }while (h[d] === i[d]) {
          d++;
        }return d ? kb(h[d], i[d]) : h[d] === v ? -1 : i[d] === v ? 1 : 0;
      }, e) : n;
    }, fb.matches = function (a, b) {
      return fb(a, null, null, b);
    }, fb.matchesSelector = function (a, b) {
      if ((a.ownerDocument || a) !== n && m(a), b = b.replace(U, "='$1']"), !(!c.matchesSelector || !p || r && r.test(b) || q && q.test(b))) try {
        var d = s.call(a, b);if (d || c.disconnectedMatch || a.document && 11 !== a.document.nodeType) return d;
      } catch (e) {}return fb(b, n, null, [a]).length > 0;
    }, fb.contains = function (a, b) {
      return (a.ownerDocument || a) !== n && m(a), t(a, b);
    }, fb.attr = function (a, b) {
      (a.ownerDocument || a) !== n && m(a);var e = d.attrHandle[b.toLowerCase()],
          f = e && E.call(d.attrHandle, b.toLowerCase()) ? e(a, b, !p) : void 0;return void 0 !== f ? f : c.attributes || !p ? a.getAttribute(b) : (f = a.getAttributeNode(b)) && f.specified ? f.value : null;
    }, fb.error = function (a) {
      throw new Error("Syntax error, unrecognized expression: " + a);
    }, fb.uniqueSort = function (a) {
      var b,
          d = [],
          e = 0,
          f = 0;if (l = !c.detectDuplicates, k = !c.sortStable && a.slice(0), a.sort(B), l) {
        while (b = a[f++]) {
          b === a[f] && (e = d.push(f));
        }while (e--) {
          a.splice(d[e], 1);
        }
      }return k = null, a;
    }, e = fb.getText = function (a) {
      var b,
          c = "",
          d = 0,
          f = a.nodeType;if (f) {
        if (1 === f || 9 === f || 11 === f) {
          if ("string" == typeof a.textContent) return a.textContent;for (a = a.firstChild; a; a = a.nextSibling) {
            c += e(a);
          }
        } else if (3 === f || 4 === f) return a.nodeValue;
      } else while (b = a[d++]) {
        c += e(b);
      }return c;
    }, d = fb.selectors = { cacheLength: 50, createPseudo: hb, match: X, attrHandle: {}, find: {}, relative: { ">": { dir: "parentNode", first: !0 }, " ": { dir: "parentNode" }, "+": { dir: "previousSibling", first: !0 }, "~": { dir: "previousSibling" } }, preFilter: { ATTR: function ATTR(a) {
          return a[1] = a[1].replace(cb, db), a[3] = (a[3] || a[4] || a[5] || "").replace(cb, db), "~=" === a[2] && (a[3] = " " + a[3] + " "), a.slice(0, 4);
        }, CHILD: function CHILD(a) {
          return a[1] = a[1].toLowerCase(), "nth" === a[1].slice(0, 3) ? (a[3] || fb.error(a[0]), a[4] = +(a[4] ? a[5] + (a[6] || 1) : 2 * ("even" === a[3] || "odd" === a[3])), a[5] = +(a[7] + a[8] || "odd" === a[3])) : a[3] && fb.error(a[0]), a;
        }, PSEUDO: function PSEUDO(a) {
          var b,
              c = !a[6] && a[2];return X.CHILD.test(a[0]) ? null : (a[3] ? a[2] = a[4] || a[5] || "" : c && V.test(c) && (b = g(c, !0)) && (b = c.indexOf(")", c.length - b) - c.length) && (a[0] = a[0].slice(0, b), a[2] = c.slice(0, b)), a.slice(0, 3));
        } }, filter: { TAG: function TAG(a) {
          var b = a.replace(cb, db).toLowerCase();return "*" === a ? function () {
            return !0;
          } : function (a) {
            return a.nodeName && a.nodeName.toLowerCase() === b;
          };
        }, CLASS: function CLASS(a) {
          var b = y[a + " "];return b || (b = new RegExp("(^|" + M + ")" + a + "(" + M + "|$)")) && y(a, function (a) {
            return b.test("string" == typeof a.className && a.className || _typeof(a.getAttribute) !== C && a.getAttribute("class") || "");
          });
        }, ATTR: function ATTR(a, b, c) {
          return function (d) {
            var e = fb.attr(d, a);return null == e ? "!=" === b : b ? (e += "", "=" === b ? e === c : "!=" === b ? e !== c : "^=" === b ? c && 0 === e.indexOf(c) : "*=" === b ? c && e.indexOf(c) > -1 : "$=" === b ? c && e.slice(-c.length) === c : "~=" === b ? (" " + e + " ").indexOf(c) > -1 : "|=" === b ? e === c || e.slice(0, c.length + 1) === c + "-" : !1) : !0;
          };
        }, CHILD: function CHILD(a, b, c, d, e) {
          var f = "nth" !== a.slice(0, 3),
              g = "last" !== a.slice(-4),
              h = "of-type" === b;return 1 === d && 0 === e ? function (a) {
            return !!a.parentNode;
          } : function (b, c, i) {
            var j,
                k,
                l,
                m,
                n,
                o,
                p = f !== g ? "nextSibling" : "previousSibling",
                q = b.parentNode,
                r = h && b.nodeName.toLowerCase(),
                s = !i && !h;if (q) {
              if (f) {
                while (p) {
                  l = b;while (l = l[p]) {
                    if (h ? l.nodeName.toLowerCase() === r : 1 === l.nodeType) return !1;
                  }o = p = "only" === a && !o && "nextSibling";
                }return !0;
              }if (o = [g ? q.firstChild : q.lastChild], g && s) {
                k = q[u] || (q[u] = {}), j = k[a] || [], n = j[0] === w && j[1], m = j[0] === w && j[2], l = n && q.childNodes[n];while (l = ++n && l && l[p] || (m = n = 0) || o.pop()) {
                  if (1 === l.nodeType && ++m && l === b) {
                    k[a] = [w, n, m];break;
                  }
                }
              } else if (s && (j = (b[u] || (b[u] = {}))[a]) && j[0] === w) m = j[1];else while (l = ++n && l && l[p] || (m = n = 0) || o.pop()) {
                if ((h ? l.nodeName.toLowerCase() === r : 1 === l.nodeType) && ++m && (s && ((l[u] || (l[u] = {}))[a] = [w, m]), l === b)) break;
              }return m -= e, m === d || m % d === 0 && m / d >= 0;
            }
          };
        }, PSEUDO: function PSEUDO(a, b) {
          var c,
              e = d.pseudos[a] || d.setFilters[a.toLowerCase()] || fb.error("unsupported pseudo: " + a);return e[u] ? e(b) : e.length > 1 ? (c = [a, a, "", b], d.setFilters.hasOwnProperty(a.toLowerCase()) ? hb(function (a, c) {
            var d,
                f = e(a, b),
                g = f.length;while (g--) {
              d = K.call(a, f[g]), a[d] = !(c[d] = f[g]);
            }
          }) : function (a) {
            return e(a, 0, c);
          }) : e;
        } }, pseudos: { not: hb(function (a) {
          var b = [],
              c = [],
              d = h(a.replace(R, "$1"));return d[u] ? hb(function (a, b, c, e) {
            var f,
                g = d(a, null, e, []),
                h = a.length;while (h--) {
              (f = g[h]) && (a[h] = !(b[h] = f));
            }
          }) : function (a, e, f) {
            return b[0] = a, d(b, null, f, c), !c.pop();
          };
        }), has: hb(function (a) {
          return function (b) {
            return fb(a, b).length > 0;
          };
        }), contains: hb(function (a) {
          return function (b) {
            return (b.textContent || b.innerText || e(b)).indexOf(a) > -1;
          };
        }), lang: hb(function (a) {
          return W.test(a || "") || fb.error("unsupported lang: " + a), a = a.replace(cb, db).toLowerCase(), function (b) {
            var c;do {
              if (c = p ? b.lang : b.getAttribute("xml:lang") || b.getAttribute("lang")) return c = c.toLowerCase(), c === a || 0 === c.indexOf(a + "-");
            } while ((b = b.parentNode) && 1 === b.nodeType);return !1;
          };
        }), target: function target(b) {
          var c = a.location && a.location.hash;return c && c.slice(1) === b.id;
        }, root: function root(a) {
          return a === o;
        }, focus: function focus(a) {
          return a === n.activeElement && (!n.hasFocus || n.hasFocus()) && !!(a.type || a.href || ~a.tabIndex);
        }, enabled: function enabled(a) {
          return a.disabled === !1;
        }, disabled: function disabled(a) {
          return a.disabled === !0;
        }, checked: function checked(a) {
          var b = a.nodeName.toLowerCase();return "input" === b && !!a.checked || "option" === b && !!a.selected;
        }, selected: function selected(a) {
          return a.parentNode && a.parentNode.selectedIndex, a.selected === !0;
        }, empty: function empty(a) {
          for (a = a.firstChild; a; a = a.nextSibling) {
            if (a.nodeType < 6) return !1;
          }return !0;
        }, parent: function parent(a) {
          return !d.pseudos.empty(a);
        }, header: function header(a) {
          return Z.test(a.nodeName);
        }, input: function input(a) {
          return Y.test(a.nodeName);
        }, button: function button(a) {
          var b = a.nodeName.toLowerCase();return "input" === b && "button" === a.type || "button" === b;
        }, text: function text(a) {
          var b;return "input" === a.nodeName.toLowerCase() && "text" === a.type && (null == (b = a.getAttribute("type")) || "text" === b.toLowerCase());
        }, first: nb(function () {
          return [0];
        }), last: nb(function (a, b) {
          return [b - 1];
        }), eq: nb(function (a, b, c) {
          return [0 > c ? c + b : c];
        }), even: nb(function (a, b) {
          for (var c = 0; b > c; c += 2) {
            a.push(c);
          }return a;
        }), odd: nb(function (a, b) {
          for (var c = 1; b > c; c += 2) {
            a.push(c);
          }return a;
        }), lt: nb(function (a, b, c) {
          for (var d = 0 > c ? c + b : c; --d >= 0;) {
            a.push(d);
          }return a;
        }), gt: nb(function (a, b, c) {
          for (var d = 0 > c ? c + b : c; ++d < b;) {
            a.push(d);
          }return a;
        }) } }, d.pseudos.nth = d.pseudos.eq;for (b in { radio: !0, checkbox: !0, file: !0, password: !0, image: !0 }) {
      d.pseudos[b] = lb(b);
    }for (b in { submit: !0, reset: !0 }) {
      d.pseudos[b] = mb(b);
    }function pb() {}pb.prototype = d.filters = d.pseudos, d.setFilters = new pb(), g = fb.tokenize = function (a, b) {
      var c,
          e,
          f,
          g,
          h,
          i,
          j,
          k = z[a + " "];if (k) return b ? 0 : k.slice(0);h = a, i = [], j = d.preFilter;while (h) {
        (!c || (e = S.exec(h))) && (e && (h = h.slice(e[0].length) || h), i.push(f = [])), c = !1, (e = T.exec(h)) && (c = e.shift(), f.push({ value: c, type: e[0].replace(R, " ") }), h = h.slice(c.length));for (g in d.filter) {
          !(e = X[g].exec(h)) || j[g] && !(e = j[g](e)) || (c = e.shift(), f.push({ value: c, type: g, matches: e }), h = h.slice(c.length));
        }if (!c) break;
      }return b ? h.length : h ? fb.error(a) : z(a, i).slice(0);
    };function qb(a) {
      for (var b = 0, c = a.length, d = ""; c > b; b++) {
        d += a[b].value;
      }return d;
    }function rb(a, b, c) {
      var d = b.dir,
          e = c && "parentNode" === d,
          f = x++;return b.first ? function (b, c, f) {
        while (b = b[d]) {
          if (1 === b.nodeType || e) return a(b, c, f);
        }
      } : function (b, c, g) {
        var h,
            i,
            j = [w, f];if (g) {
          while (b = b[d]) {
            if ((1 === b.nodeType || e) && a(b, c, g)) return !0;
          }
        } else while (b = b[d]) {
          if (1 === b.nodeType || e) {
            if (i = b[u] || (b[u] = {}), (h = i[d]) && h[0] === w && h[1] === f) return j[2] = h[2];if (i[d] = j, j[2] = a(b, c, g)) return !0;
          }
        }
      };
    }function sb(a) {
      return a.length > 1 ? function (b, c, d) {
        var e = a.length;while (e--) {
          if (!a[e](b, c, d)) return !1;
        }return !0;
      } : a[0];
    }function tb(a, b, c) {
      for (var d = 0, e = b.length; e > d; d++) {
        fb(a, b[d], c);
      }return c;
    }function ub(a, b, c, d, e) {
      for (var f, g = [], h = 0, i = a.length, j = null != b; i > h; h++) {
        (f = a[h]) && (!c || c(f, d, e)) && (g.push(f), j && b.push(h));
      }return g;
    }function vb(a, b, c, d, e, f) {
      return d && !d[u] && (d = vb(d)), e && !e[u] && (e = vb(e, f)), hb(function (f, g, h, i) {
        var j,
            k,
            l,
            m = [],
            n = [],
            o = g.length,
            p = f || tb(b || "*", h.nodeType ? [h] : h, []),
            q = !a || !f && b ? p : ub(p, m, a, h, i),
            r = c ? e || (f ? a : o || d) ? [] : g : q;if (c && c(q, r, h, i), d) {
          j = ub(r, n), d(j, [], h, i), k = j.length;while (k--) {
            (l = j[k]) && (r[n[k]] = !(q[n[k]] = l));
          }
        }if (f) {
          if (e || a) {
            if (e) {
              j = [], k = r.length;while (k--) {
                (l = r[k]) && j.push(q[k] = l);
              }e(null, r = [], j, i);
            }k = r.length;while (k--) {
              (l = r[k]) && (j = e ? K.call(f, l) : m[k]) > -1 && (f[j] = !(g[j] = l));
            }
          }
        } else r = ub(r === g ? r.splice(o, r.length) : r), e ? e(null, g, r, i) : I.apply(g, r);
      });
    }function wb(a) {
      for (var b, c, e, f = a.length, g = d.relative[a[0].type], h = g || d.relative[" "], i = g ? 1 : 0, k = rb(function (a) {
        return a === b;
      }, h, !0), l = rb(function (a) {
        return K.call(b, a) > -1;
      }, h, !0), m = [function (a, c, d) {
        return !g && (d || c !== j) || ((b = c).nodeType ? k(a, c, d) : l(a, c, d));
      }]; f > i; i++) {
        if (c = d.relative[a[i].type]) m = [rb(sb(m), c)];else {
          if (c = d.filter[a[i].type].apply(null, a[i].matches), c[u]) {
            for (e = ++i; f > e; e++) {
              if (d.relative[a[e].type]) break;
            }return vb(i > 1 && sb(m), i > 1 && qb(a.slice(0, i - 1).concat({ value: " " === a[i - 2].type ? "*" : "" })).replace(R, "$1"), c, e > i && wb(a.slice(i, e)), f > e && wb(a = a.slice(e)), f > e && qb(a));
          }m.push(c);
        }
      }return sb(m);
    }function xb(a, b) {
      var c = b.length > 0,
          e = a.length > 0,
          f = function f(_f, g, h, i, k) {
        var l,
            m,
            o,
            p = 0,
            q = "0",
            r = _f && [],
            s = [],
            t = j,
            u = _f || e && d.find.TAG("*", k),
            v = w += null == t ? 1 : Math.random() || .1,
            x = u.length;for (k && (j = g !== n && g); q !== x && null != (l = u[q]); q++) {
          if (e && l) {
            m = 0;while (o = a[m++]) {
              if (o(l, g, h)) {
                i.push(l);break;
              }
            }k && (w = v);
          }c && ((l = !o && l) && p--, _f && r.push(l));
        }if (p += q, c && q !== p) {
          m = 0;while (o = b[m++]) {
            o(r, s, g, h);
          }if (_f) {
            if (p > 0) while (q--) {
              r[q] || s[q] || (s[q] = G.call(i));
            }s = ub(s);
          }I.apply(i, s), k && !_f && s.length > 0 && p + b.length > 1 && fb.uniqueSort(i);
        }return k && (w = v, j = t), r;
      };return c ? hb(f) : f;
    }return h = fb.compile = function (a, b) {
      var c,
          d = [],
          e = [],
          f = A[a + " "];if (!f) {
        b || (b = g(a)), c = b.length;while (c--) {
          f = wb(b[c]), f[u] ? d.push(f) : e.push(f);
        }f = A(a, xb(e, d)), f.selector = a;
      }return f;
    }, i = fb.select = function (a, b, e, f) {
      var i,
          j,
          k,
          l,
          m,
          n = "function" == typeof a && a,
          o = !f && g(a = n.selector || a);if (e = e || [], 1 === o.length) {
        if (j = o[0] = o[0].slice(0), j.length > 2 && "ID" === (k = j[0]).type && c.getById && 9 === b.nodeType && p && d.relative[j[1].type]) {
          if (b = (d.find.ID(k.matches[0].replace(cb, db), b) || [])[0], !b) return e;n && (b = b.parentNode), a = a.slice(j.shift().value.length);
        }i = X.needsContext.test(a) ? 0 : j.length;while (i--) {
          if (k = j[i], d.relative[l = k.type]) break;if ((m = d.find[l]) && (f = m(k.matches[0].replace(cb, db), ab.test(j[0].type) && ob(b.parentNode) || b))) {
            if (j.splice(i, 1), a = f.length && qb(j), !a) return I.apply(e, f), e;break;
          }
        }
      }return (n || h(a, o))(f, b, !p, e, ab.test(a) && ob(b.parentNode) || b), e;
    }, c.sortStable = u.split("").sort(B).join("") === u, c.detectDuplicates = !!l, m(), c.sortDetached = ib(function (a) {
      return 1 & a.compareDocumentPosition(n.createElement("div"));
    }), ib(function (a) {
      return a.innerHTML = "<a href='#'></a>", "#" === a.firstChild.getAttribute("href");
    }) || jb("type|href|height|width", function (a, b, c) {
      return c ? void 0 : a.getAttribute(b, "type" === b.toLowerCase() ? 1 : 2);
    }), c.attributes && ib(function (a) {
      return a.innerHTML = "<input/>", a.firstChild.setAttribute("value", ""), "" === a.firstChild.getAttribute("value");
    }) || jb("value", function (a, b, c) {
      return c || "input" !== a.nodeName.toLowerCase() ? void 0 : a.defaultValue;
    }), ib(function (a) {
      return null == a.getAttribute("disabled");
    }) || jb(L, function (a, b, c) {
      var d;return c ? void 0 : a[b] === !0 ? b.toLowerCase() : (d = a.getAttributeNode(b)) && d.specified ? d.value : null;
    }), fb;
  }(a);n.find = t, n.expr = t.selectors, n.expr[":"] = n.expr.pseudos, n.unique = t.uniqueSort, n.text = t.getText, n.isXMLDoc = t.isXML, n.contains = t.contains;var u = n.expr.match.needsContext,
      v = /^<(\w+)\s*\/?>(?:<\/\1>|)$/,
      w = /^.[^:#\[\.,]*$/;function x(a, b, c) {
    if (n.isFunction(b)) return n.grep(a, function (a, d) {
      return !!b.call(a, d, a) !== c;
    });if (b.nodeType) return n.grep(a, function (a) {
      return a === b !== c;
    });if ("string" == typeof b) {
      if (w.test(b)) return n.filter(b, a, c);b = n.filter(b, a);
    }return n.grep(a, function (a) {
      return g.call(b, a) >= 0 !== c;
    });
  }n.filter = function (a, b, c) {
    var d = b[0];return c && (a = ":not(" + a + ")"), 1 === b.length && 1 === d.nodeType ? n.find.matchesSelector(d, a) ? [d] : [] : n.find.matches(a, n.grep(b, function (a) {
      return 1 === a.nodeType;
    }));
  }, n.fn.extend({ find: function find(a) {
      var b,
          c = this.length,
          d = [],
          e = this;if ("string" != typeof a) return this.pushStack(n(a).filter(function () {
        for (b = 0; c > b; b++) {
          if (n.contains(e[b], this)) return !0;
        }
      }));for (b = 0; c > b; b++) {
        n.find(a, e[b], d);
      }return d = this.pushStack(c > 1 ? n.unique(d) : d), d.selector = this.selector ? this.selector + " " + a : a, d;
    }, filter: function filter(a) {
      return this.pushStack(x(this, a || [], !1));
    }, not: function not(a) {
      return this.pushStack(x(this, a || [], !0));
    }, is: function is(a) {
      return !!x(this, "string" == typeof a && u.test(a) ? n(a) : a || [], !1).length;
    } });var y,
      z = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,
      A = n.fn.init = function (a, b) {
    var c, d;if (!a) return this;if ("string" == typeof a) {
      if (c = "<" === a[0] && ">" === a[a.length - 1] && a.length >= 3 ? [null, a, null] : z.exec(a), !c || !c[1] && b) return !b || b.jquery ? (b || y).find(a) : this.constructor(b).find(a);if (c[1]) {
        if (b = b instanceof n ? b[0] : b, n.merge(this, n.parseHTML(c[1], b && b.nodeType ? b.ownerDocument || b : l, !0)), v.test(c[1]) && n.isPlainObject(b)) for (c in b) {
          n.isFunction(this[c]) ? this[c](b[c]) : this.attr(c, b[c]);
        }return this;
      }return d = l.getElementById(c[2]), d && d.parentNode && (this.length = 1, this[0] = d), this.context = l, this.selector = a, this;
    }return a.nodeType ? (this.context = this[0] = a, this.length = 1, this) : n.isFunction(a) ? "undefined" != typeof y.ready ? y.ready(a) : a(n) : (void 0 !== a.selector && (this.selector = a.selector, this.context = a.context), n.makeArray(a, this));
  };A.prototype = n.fn, y = n(l);var B = /^(?:parents|prev(?:Until|All))/,
      C = { children: !0, contents: !0, next: !0, prev: !0 };n.extend({ dir: function dir(a, b, c) {
      var d = [],
          e = void 0 !== c;while ((a = a[b]) && 9 !== a.nodeType) {
        if (1 === a.nodeType) {
          if (e && n(a).is(c)) break;d.push(a);
        }
      }return d;
    }, sibling: function sibling(a, b) {
      for (var c = []; a; a = a.nextSibling) {
        1 === a.nodeType && a !== b && c.push(a);
      }return c;
    } }), n.fn.extend({ has: function has(a) {
      var b = n(a, this),
          c = b.length;return this.filter(function () {
        for (var a = 0; c > a; a++) {
          if (n.contains(this, b[a])) return !0;
        }
      });
    }, closest: function closest(a, b) {
      for (var c, d = 0, e = this.length, f = [], g = u.test(a) || "string" != typeof a ? n(a, b || this.context) : 0; e > d; d++) {
        for (c = this[d]; c && c !== b; c = c.parentNode) {
          if (c.nodeType < 11 && (g ? g.index(c) > -1 : 1 === c.nodeType && n.find.matchesSelector(c, a))) {
            f.push(c);break;
          }
        }
      }return this.pushStack(f.length > 1 ? n.unique(f) : f);
    }, index: function index(a) {
      return a ? "string" == typeof a ? g.call(n(a), this[0]) : g.call(this, a.jquery ? a[0] : a) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1;
    }, add: function add(a, b) {
      return this.pushStack(n.unique(n.merge(this.get(), n(a, b))));
    }, addBack: function addBack(a) {
      return this.add(null == a ? this.prevObject : this.prevObject.filter(a));
    } });function D(a, b) {
    while ((a = a[b]) && 1 !== a.nodeType) {}return a;
  }n.each({ parent: function parent(a) {
      var b = a.parentNode;return b && 11 !== b.nodeType ? b : null;
    }, parents: function parents(a) {
      return n.dir(a, "parentNode");
    }, parentsUntil: function parentsUntil(a, b, c) {
      return n.dir(a, "parentNode", c);
    }, next: function next(a) {
      return D(a, "nextSibling");
    }, prev: function prev(a) {
      return D(a, "previousSibling");
    }, nextAll: function nextAll(a) {
      return n.dir(a, "nextSibling");
    }, prevAll: function prevAll(a) {
      return n.dir(a, "previousSibling");
    }, nextUntil: function nextUntil(a, b, c) {
      return n.dir(a, "nextSibling", c);
    }, prevUntil: function prevUntil(a, b, c) {
      return n.dir(a, "previousSibling", c);
    }, siblings: function siblings(a) {
      return n.sibling((a.parentNode || {}).firstChild, a);
    }, children: function children(a) {
      return n.sibling(a.firstChild);
    }, contents: function contents(a) {
      return a.contentDocument || n.merge([], a.childNodes);
    } }, function (a, b) {
    n.fn[a] = function (c, d) {
      var e = n.map(this, b, c);return "Until" !== a.slice(-5) && (d = c), d && "string" == typeof d && (e = n.filter(d, e)), this.length > 1 && (C[a] || n.unique(e), B.test(a) && e.reverse()), this.pushStack(e);
    };
  });var E = /\S+/g,
      F = {};function G(a) {
    var b = F[a] = {};return n.each(a.match(E) || [], function (a, c) {
      b[c] = !0;
    }), b;
  }n.Callbacks = function (a) {
    a = "string" == typeof a ? F[a] || G(a) : n.extend({}, a);var b,
        c,
        d,
        e,
        f,
        g,
        h = [],
        i = !a.once && [],
        j = function j(l) {
      for (b = a.memory && l, c = !0, g = e || 0, e = 0, f = h.length, d = !0; h && f > g; g++) {
        if (h[g].apply(l[0], l[1]) === !1 && a.stopOnFalse) {
          b = !1;break;
        }
      }d = !1, h && (i ? i.length && j(i.shift()) : b ? h = [] : k.disable());
    },
        k = { add: function add() {
        if (h) {
          var c = h.length;!function g(b) {
            n.each(b, function (b, c) {
              var d = n.type(c);"function" === d ? a.unique && k.has(c) || h.push(c) : c && c.length && "string" !== d && g(c);
            });
          }(arguments), d ? f = h.length : b && (e = c, j(b));
        }return this;
      }, remove: function remove() {
        return h && n.each(arguments, function (a, b) {
          var c;while ((c = n.inArray(b, h, c)) > -1) {
            h.splice(c, 1), d && (f >= c && f--, g >= c && g--);
          }
        }), this;
      }, has: function has(a) {
        return a ? n.inArray(a, h) > -1 : !(!h || !h.length);
      }, empty: function empty() {
        return h = [], f = 0, this;
      }, disable: function disable() {
        return h = i = b = void 0, this;
      }, disabled: function disabled() {
        return !h;
      }, lock: function lock() {
        return i = void 0, b || k.disable(), this;
      }, locked: function locked() {
        return !i;
      }, fireWith: function fireWith(a, b) {
        return !h || c && !i || (b = b || [], b = [a, b.slice ? b.slice() : b], d ? i.push(b) : j(b)), this;
      }, fire: function fire() {
        return k.fireWith(this, arguments), this;
      }, fired: function fired() {
        return !!c;
      } };return k;
  }, n.extend({ Deferred: function Deferred(a) {
      var b = [["resolve", "done", n.Callbacks("once memory"), "resolved"], ["reject", "fail", n.Callbacks("once memory"), "rejected"], ["notify", "progress", n.Callbacks("memory")]],
          c = "pending",
          d = { state: function state() {
          return c;
        }, always: function always() {
          return e.done(arguments).fail(arguments), this;
        }, then: function then() {
          var a = arguments;return n.Deferred(function (c) {
            n.each(b, function (b, f) {
              var g = n.isFunction(a[b]) && a[b];e[f[1]](function () {
                var a = g && g.apply(this, arguments);a && n.isFunction(a.promise) ? a.promise().done(c.resolve).fail(c.reject).progress(c.notify) : c[f[0] + "With"](this === d ? c.promise() : this, g ? [a] : arguments);
              });
            }), a = null;
          }).promise();
        }, promise: function promise(a) {
          return null != a ? n.extend(a, d) : d;
        } },
          e = {};return d.pipe = d.then, n.each(b, function (a, f) {
        var g = f[2],
            h = f[3];d[f[1]] = g.add, h && g.add(function () {
          c = h;
        }, b[1 ^ a][2].disable, b[2][2].lock), e[f[0]] = function () {
          return e[f[0] + "With"](this === e ? d : this, arguments), this;
        }, e[f[0] + "With"] = g.fireWith;
      }), d.promise(e), a && a.call(e, e), e;
    }, when: function when(a) {
      var b = 0,
          c = d.call(arguments),
          e = c.length,
          f = 1 !== e || a && n.isFunction(a.promise) ? e : 0,
          g = 1 === f ? a : n.Deferred(),
          h = function h(a, b, c) {
        return function (e) {
          b[a] = this, c[a] = arguments.length > 1 ? d.call(arguments) : e, c === i ? g.notifyWith(b, c) : --f || g.resolveWith(b, c);
        };
      },
          i,
          j,
          k;if (e > 1) for (i = new Array(e), j = new Array(e), k = new Array(e); e > b; b++) {
        c[b] && n.isFunction(c[b].promise) ? c[b].promise().done(h(b, k, c)).fail(g.reject).progress(h(b, j, i)) : --f;
      }return f || g.resolveWith(k, c), g.promise();
    } });var H;n.fn.ready = function (a) {
    return n.ready.promise().done(a), this;
  }, n.extend({ isReady: !1, readyWait: 1, holdReady: function holdReady(a) {
      a ? n.readyWait++ : n.ready(!0);
    }, ready: function ready(a) {
      (a === !0 ? --n.readyWait : n.isReady) || (n.isReady = !0, a !== !0 && --n.readyWait > 0 || (H.resolveWith(l, [n]), n.fn.triggerHandler && (n(l).triggerHandler("ready"), n(l).off("ready"))));
    } });function I() {
    l.removeEventListener("DOMContentLoaded", I, !1), a.removeEventListener("load", I, !1), n.ready();
  }n.ready.promise = function (b) {
    return H || (H = n.Deferred(), "complete" === l.readyState ? setTimeout(n.ready) : (l.addEventListener("DOMContentLoaded", I, !1), a.addEventListener("load", I, !1))), H.promise(b);
  }, n.ready.promise();var J = n.access = function (a, b, c, d, e, f, g) {
    var h = 0,
        i = a.length,
        j = null == c;if ("object" === n.type(c)) {
      e = !0;for (h in c) {
        n.access(a, b, h, c[h], !0, f, g);
      }
    } else if (void 0 !== d && (e = !0, n.isFunction(d) || (g = !0), j && (g ? (b.call(a, d), b = null) : (j = b, b = function b(a, _b2, c) {
      return j.call(n(a), c);
    })), b)) for (; i > h; h++) {
      b(a[h], c, g ? d : d.call(a[h], h, b(a[h], c)));
    }return e ? a : j ? b.call(a) : i ? b(a[0], c) : f;
  };n.acceptData = function (a) {
    return 1 === a.nodeType || 9 === a.nodeType || !+a.nodeType;
  };function K() {
    Object.defineProperty(this.cache = {}, 0, { get: function get() {
        return {};
      } }), this.expando = n.expando + Math.random();
  }K.uid = 1, K.accepts = n.acceptData, K.prototype = { key: function key(a) {
      if (!K.accepts(a)) return 0;var b = {},
          c = a[this.expando];if (!c) {
        c = K.uid++;try {
          b[this.expando] = { value: c }, Object.defineProperties(a, b);
        } catch (d) {
          b[this.expando] = c, n.extend(a, b);
        }
      }return this.cache[c] || (this.cache[c] = {}), c;
    }, set: function set(a, b, c) {
      var d,
          e = this.key(a),
          f = this.cache[e];if ("string" == typeof b) f[b] = c;else if (n.isEmptyObject(f)) n.extend(this.cache[e], b);else for (d in b) {
        f[d] = b[d];
      }return f;
    }, get: function get(a, b) {
      var c = this.cache[this.key(a)];return void 0 === b ? c : c[b];
    }, access: function access(a, b, c) {
      var d;return void 0 === b || b && "string" == typeof b && void 0 === c ? (d = this.get(a, b), void 0 !== d ? d : this.get(a, n.camelCase(b))) : (this.set(a, b, c), void 0 !== c ? c : b);
    }, remove: function remove(a, b) {
      var c,
          d,
          e,
          f = this.key(a),
          g = this.cache[f];if (void 0 === b) this.cache[f] = {};else {
        n.isArray(b) ? d = b.concat(b.map(n.camelCase)) : (e = n.camelCase(b), b in g ? d = [b, e] : (d = e, d = d in g ? [d] : d.match(E) || [])), c = d.length;while (c--) {
          delete g[d[c]];
        }
      }
    }, hasData: function hasData(a) {
      return !n.isEmptyObject(this.cache[a[this.expando]] || {});
    }, discard: function discard(a) {
      a[this.expando] && delete this.cache[a[this.expando]];
    } };var L = new K(),
      M = new K(),
      N = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
      O = /([A-Z])/g;function P(a, b, c) {
    var d;if (void 0 === c && 1 === a.nodeType) if (d = "data-" + b.replace(O, "-$1").toLowerCase(), c = a.getAttribute(d), "string" == typeof c) {
      try {
        c = "true" === c ? !0 : "false" === c ? !1 : "null" === c ? null : +c + "" === c ? +c : N.test(c) ? n.parseJSON(c) : c;
      } catch (e) {}M.set(a, b, c);
    } else c = void 0;return c;
  }n.extend({ hasData: function hasData(a) {
      return M.hasData(a) || L.hasData(a);
    }, data: function data(a, b, c) {
      return M.access(a, b, c);
    }, removeData: function removeData(a, b) {
      M.remove(a, b);
    }, _data: function _data(a, b, c) {
      return L.access(a, b, c);
    }, _removeData: function _removeData(a, b) {
      L.remove(a, b);
    } }), n.fn.extend({ data: function data(a, b) {
      var c,
          d,
          e,
          f = this[0],
          g = f && f.attributes;if (void 0 === a) {
        if (this.length && (e = M.get(f), 1 === f.nodeType && !L.get(f, "hasDataAttrs"))) {
          c = g.length;while (c--) {
            g[c] && (d = g[c].name, 0 === d.indexOf("data-") && (d = n.camelCase(d.slice(5)), P(f, d, e[d])));
          }L.set(f, "hasDataAttrs", !0);
        }return e;
      }return "object" == (typeof a === "undefined" ? "undefined" : _typeof(a)) ? this.each(function () {
        M.set(this, a);
      }) : J(this, function (b) {
        var c,
            d = n.camelCase(a);if (f && void 0 === b) {
          if (c = M.get(f, a), void 0 !== c) return c;if (c = M.get(f, d), void 0 !== c) return c;if (c = P(f, d, void 0), void 0 !== c) return c;
        } else this.each(function () {
          var c = M.get(this, d);M.set(this, d, b), -1 !== a.indexOf("-") && void 0 !== c && M.set(this, a, b);
        });
      }, null, b, arguments.length > 1, null, !0);
    }, removeData: function removeData(a) {
      return this.each(function () {
        M.remove(this, a);
      });
    } }), n.extend({ queue: function queue(a, b, c) {
      var d;return a ? (b = (b || "fx") + "queue", d = L.get(a, b), c && (!d || n.isArray(c) ? d = L.access(a, b, n.makeArray(c)) : d.push(c)), d || []) : void 0;
    }, dequeue: function dequeue(a, b) {
      b = b || "fx";var c = n.queue(a, b),
          d = c.length,
          e = c.shift(),
          f = n._queueHooks(a, b),
          g = function g() {
        n.dequeue(a, b);
      };"inprogress" === e && (e = c.shift(), d--), e && ("fx" === b && c.unshift("inprogress"), delete f.stop, e.call(a, g, f)), !d && f && f.empty.fire();
    }, _queueHooks: function _queueHooks(a, b) {
      var c = b + "queueHooks";return L.get(a, c) || L.access(a, c, { empty: n.Callbacks("once memory").add(function () {
          L.remove(a, [b + "queue", c]);
        }) });
    } }), n.fn.extend({ queue: function queue(a, b) {
      var c = 2;return "string" != typeof a && (b = a, a = "fx", c--), arguments.length < c ? n.queue(this[0], a) : void 0 === b ? this : this.each(function () {
        var c = n.queue(this, a, b);n._queueHooks(this, a), "fx" === a && "inprogress" !== c[0] && n.dequeue(this, a);
      });
    }, dequeue: function dequeue(a) {
      return this.each(function () {
        n.dequeue(this, a);
      });
    }, clearQueue: function clearQueue(a) {
      return this.queue(a || "fx", []);
    }, promise: function promise(a, b) {
      var c,
          d = 1,
          e = n.Deferred(),
          f = this,
          g = this.length,
          h = function h() {
        --d || e.resolveWith(f, [f]);
      };"string" != typeof a && (b = a, a = void 0), a = a || "fx";while (g--) {
        c = L.get(f[g], a + "queueHooks"), c && c.empty && (d++, c.empty.add(h));
      }return h(), e.promise(b);
    } });var Q = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,
      R = ["Top", "Right", "Bottom", "Left"],
      S = function S(a, b) {
    return a = b || a, "none" === n.css(a, "display") || !n.contains(a.ownerDocument, a);
  },
      T = /^(?:checkbox|radio)$/i;!function () {
    var a = l.createDocumentFragment(),
        b = a.appendChild(l.createElement("div")),
        c = l.createElement("input");c.setAttribute("type", "radio"), c.setAttribute("checked", "checked"), c.setAttribute("name", "t"), b.appendChild(c), k.checkClone = b.cloneNode(!0).cloneNode(!0).lastChild.checked, b.innerHTML = "<textarea>x</textarea>", k.noCloneChecked = !!b.cloneNode(!0).lastChild.defaultValue;
  }();var U = "undefined";k.focusinBubbles = "onfocusin" in a;var V = /^key/,
      W = /^(?:mouse|pointer|contextmenu)|click/,
      X = /^(?:focusinfocus|focusoutblur)$/,
      Y = /^([^.]*)(?:\.(.+)|)$/;function Z() {
    return !0;
  }function $() {
    return !1;
  }function _() {
    try {
      return l.activeElement;
    } catch (a) {}
  }n.event = { global: {}, add: function add(a, b, c, d, e) {
      var f,
          g,
          h,
          i,
          j,
          k,
          l,
          m,
          o,
          p,
          q,
          r = L.get(a);if (r) {
        c.handler && (f = c, c = f.handler, e = f.selector), c.guid || (c.guid = n.guid++), (i = r.events) || (i = r.events = {}), (g = r.handle) || (g = r.handle = function (b) {
          return (typeof n === "undefined" ? "undefined" : _typeof(n)) !== U && n.event.triggered !== b.type ? n.event.dispatch.apply(a, arguments) : void 0;
        }), b = (b || "").match(E) || [""], j = b.length;while (j--) {
          h = Y.exec(b[j]) || [], o = q = h[1], p = (h[2] || "").split(".").sort(), o && (l = n.event.special[o] || {}, o = (e ? l.delegateType : l.bindType) || o, l = n.event.special[o] || {}, k = n.extend({ type: o, origType: q, data: d, handler: c, guid: c.guid, selector: e, needsContext: e && n.expr.match.needsContext.test(e), namespace: p.join(".") }, f), (m = i[o]) || (m = i[o] = [], m.delegateCount = 0, l.setup && l.setup.call(a, d, p, g) !== !1 || a.addEventListener && a.addEventListener(o, g, !1)), l.add && (l.add.call(a, k), k.handler.guid || (k.handler.guid = c.guid)), e ? m.splice(m.delegateCount++, 0, k) : m.push(k), n.event.global[o] = !0);
        }
      }
    }, remove: function remove(a, b, c, d, e) {
      var f,
          g,
          h,
          i,
          j,
          k,
          l,
          m,
          o,
          p,
          q,
          r = L.hasData(a) && L.get(a);if (r && (i = r.events)) {
        b = (b || "").match(E) || [""], j = b.length;while (j--) {
          if (h = Y.exec(b[j]) || [], o = q = h[1], p = (h[2] || "").split(".").sort(), o) {
            l = n.event.special[o] || {}, o = (d ? l.delegateType : l.bindType) || o, m = i[o] || [], h = h[2] && new RegExp("(^|\\.)" + p.join("\\.(?:.*\\.|)") + "(\\.|$)"), g = f = m.length;while (f--) {
              k = m[f], !e && q !== k.origType || c && c.guid !== k.guid || h && !h.test(k.namespace) || d && d !== k.selector && ("**" !== d || !k.selector) || (m.splice(f, 1), k.selector && m.delegateCount--, l.remove && l.remove.call(a, k));
            }g && !m.length && (l.teardown && l.teardown.call(a, p, r.handle) !== !1 || n.removeEvent(a, o, r.handle), delete i[o]);
          } else for (o in i) {
            n.event.remove(a, o + b[j], c, d, !0);
          }
        }n.isEmptyObject(i) && (delete r.handle, L.remove(a, "events"));
      }
    }, trigger: function trigger(b, c, d, e) {
      var f,
          g,
          h,
          i,
          k,
          m,
          o,
          p = [d || l],
          q = j.call(b, "type") ? b.type : b,
          r = j.call(b, "namespace") ? b.namespace.split(".") : [];if (g = h = d = d || l, 3 !== d.nodeType && 8 !== d.nodeType && !X.test(q + n.event.triggered) && (q.indexOf(".") >= 0 && (r = q.split("."), q = r.shift(), r.sort()), k = q.indexOf(":") < 0 && "on" + q, b = b[n.expando] ? b : new n.Event(q, "object" == (typeof b === "undefined" ? "undefined" : _typeof(b)) && b), b.isTrigger = e ? 2 : 3, b.namespace = r.join("."), b.namespace_re = b.namespace ? new RegExp("(^|\\.)" + r.join("\\.(?:.*\\.|)") + "(\\.|$)") : null, b.result = void 0, b.target || (b.target = d), c = null == c ? [b] : n.makeArray(c, [b]), o = n.event.special[q] || {}, e || !o.trigger || o.trigger.apply(d, c) !== !1)) {
        if (!e && !o.noBubble && !n.isWindow(d)) {
          for (i = o.delegateType || q, X.test(i + q) || (g = g.parentNode); g; g = g.parentNode) {
            p.push(g), h = g;
          }h === (d.ownerDocument || l) && p.push(h.defaultView || h.parentWindow || a);
        }f = 0;while ((g = p[f++]) && !b.isPropagationStopped()) {
          b.type = f > 1 ? i : o.bindType || q, m = (L.get(g, "events") || {})[b.type] && L.get(g, "handle"), m && m.apply(g, c), m = k && g[k], m && m.apply && n.acceptData(g) && (b.result = m.apply(g, c), b.result === !1 && b.preventDefault());
        }return b.type = q, e || b.isDefaultPrevented() || o._default && o._default.apply(p.pop(), c) !== !1 || !n.acceptData(d) || k && n.isFunction(d[q]) && !n.isWindow(d) && (h = d[k], h && (d[k] = null), n.event.triggered = q, d[q](), n.event.triggered = void 0, h && (d[k] = h)), b.result;
      }
    }, dispatch: function dispatch(a) {
      a = n.event.fix(a);var b,
          c,
          e,
          f,
          g,
          h = [],
          i = d.call(arguments),
          j = (L.get(this, "events") || {})[a.type] || [],
          k = n.event.special[a.type] || {};if (i[0] = a, a.delegateTarget = this, !k.preDispatch || k.preDispatch.call(this, a) !== !1) {
        h = n.event.handlers.call(this, a, j), b = 0;while ((f = h[b++]) && !a.isPropagationStopped()) {
          a.currentTarget = f.elem, c = 0;while ((g = f.handlers[c++]) && !a.isImmediatePropagationStopped()) {
            (!a.namespace_re || a.namespace_re.test(g.namespace)) && (a.handleObj = g, a.data = g.data, e = ((n.event.special[g.origType] || {}).handle || g.handler).apply(f.elem, i), void 0 !== e && (a.result = e) === !1 && (a.preventDefault(), a.stopPropagation()));
          }
        }return k.postDispatch && k.postDispatch.call(this, a), a.result;
      }
    }, handlers: function handlers(a, b) {
      var c,
          d,
          e,
          f,
          g = [],
          h = b.delegateCount,
          i = a.target;if (h && i.nodeType && (!a.button || "click" !== a.type)) for (; i !== this; i = i.parentNode || this) {
        if (i.disabled !== !0 || "click" !== a.type) {
          for (d = [], c = 0; h > c; c++) {
            f = b[c], e = f.selector + " ", void 0 === d[e] && (d[e] = f.needsContext ? n(e, this).index(i) >= 0 : n.find(e, this, null, [i]).length), d[e] && d.push(f);
          }d.length && g.push({ elem: i, handlers: d });
        }
      }return h < b.length && g.push({ elem: this, handlers: b.slice(h) }), g;
    }, props: "altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "), fixHooks: {}, keyHooks: { props: "char charCode key keyCode".split(" "), filter: function filter(a, b) {
        return null == a.which && (a.which = null != b.charCode ? b.charCode : b.keyCode), a;
      } }, mouseHooks: { props: "button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "), filter: function filter(a, b) {
        var c,
            d,
            e,
            f = b.button;return null == a.pageX && null != b.clientX && (c = a.target.ownerDocument || l, d = c.documentElement, e = c.body, a.pageX = b.clientX + (d && d.scrollLeft || e && e.scrollLeft || 0) - (d && d.clientLeft || e && e.clientLeft || 0), a.pageY = b.clientY + (d && d.scrollTop || e && e.scrollTop || 0) - (d && d.clientTop || e && e.clientTop || 0)), a.which || void 0 === f || (a.which = 1 & f ? 1 : 2 & f ? 3 : 4 & f ? 2 : 0), a;
      } }, fix: function fix(a) {
      if (a[n.expando]) return a;var b,
          c,
          d,
          e = a.type,
          f = a,
          g = this.fixHooks[e];g || (this.fixHooks[e] = g = W.test(e) ? this.mouseHooks : V.test(e) ? this.keyHooks : {}), d = g.props ? this.props.concat(g.props) : this.props, a = new n.Event(f), b = d.length;while (b--) {
        c = d[b], a[c] = f[c];
      }return a.target || (a.target = l), 3 === a.target.nodeType && (a.target = a.target.parentNode), g.filter ? g.filter(a, f) : a;
    }, special: { load: { noBubble: !0 }, focus: { trigger: function trigger() {
          return this !== _() && this.focus ? (this.focus(), !1) : void 0;
        }, delegateType: "focusin" }, blur: { trigger: function trigger() {
          return this === _() && this.blur ? (this.blur(), !1) : void 0;
        }, delegateType: "focusout" }, click: { trigger: function trigger() {
          return "checkbox" === this.type && this.click && n.nodeName(this, "input") ? (this.click(), !1) : void 0;
        }, _default: function _default(a) {
          return n.nodeName(a.target, "a");
        } }, beforeunload: { postDispatch: function postDispatch(a) {
          void 0 !== a.result && a.originalEvent && (a.originalEvent.returnValue = a.result);
        } } }, simulate: function simulate(a, b, c, d) {
      var e = n.extend(new n.Event(), c, { type: a, isSimulated: !0, originalEvent: {} });d ? n.event.trigger(e, null, b) : n.event.dispatch.call(b, e), e.isDefaultPrevented() && c.preventDefault();
    } }, n.removeEvent = function (a, b, c) {
    a.removeEventListener && a.removeEventListener(b, c, !1);
  }, n.Event = function (a, b) {
    return this instanceof n.Event ? (a && a.type ? (this.originalEvent = a, this.type = a.type, this.isDefaultPrevented = a.defaultPrevented || void 0 === a.defaultPrevented && a.returnValue === !1 ? Z : $) : this.type = a, b && n.extend(this, b), this.timeStamp = a && a.timeStamp || n.now(), void (this[n.expando] = !0)) : new n.Event(a, b);
  }, n.Event.prototype = { isDefaultPrevented: $, isPropagationStopped: $, isImmediatePropagationStopped: $, preventDefault: function preventDefault() {
      var a = this.originalEvent;this.isDefaultPrevented = Z, a && a.preventDefault && a.preventDefault();
    }, stopPropagation: function stopPropagation() {
      var a = this.originalEvent;this.isPropagationStopped = Z, a && a.stopPropagation && a.stopPropagation();
    }, stopImmediatePropagation: function stopImmediatePropagation() {
      var a = this.originalEvent;this.isImmediatePropagationStopped = Z, a && a.stopImmediatePropagation && a.stopImmediatePropagation(), this.stopPropagation();
    } }, n.each({ mouseenter: "mouseover", mouseleave: "mouseout", pointerenter: "pointerover", pointerleave: "pointerout" }, function (a, b) {
    n.event.special[a] = { delegateType: b, bindType: b, handle: function handle(a) {
        var c,
            d = this,
            e = a.relatedTarget,
            f = a.handleObj;return (!e || e !== d && !n.contains(d, e)) && (a.type = f.origType, c = f.handler.apply(this, arguments), a.type = b), c;
      } };
  }), k.focusinBubbles || n.each({ focus: "focusin", blur: "focusout" }, function (a, b) {
    var c = function c(a) {
      n.event.simulate(b, a.target, n.event.fix(a), !0);
    };n.event.special[b] = { setup: function setup() {
        var d = this.ownerDocument || this,
            e = L.access(d, b);e || d.addEventListener(a, c, !0), L.access(d, b, (e || 0) + 1);
      }, teardown: function teardown() {
        var d = this.ownerDocument || this,
            e = L.access(d, b) - 1;e ? L.access(d, b, e) : (d.removeEventListener(a, c, !0), L.remove(d, b));
      } };
  }), n.fn.extend({ on: function on(a, b, c, d, e) {
      var f, g;if ("object" == (typeof a === "undefined" ? "undefined" : _typeof(a))) {
        "string" != typeof b && (c = c || b, b = void 0);for (g in a) {
          this.on(g, b, c, a[g], e);
        }return this;
      }if (null == c && null == d ? (d = b, c = b = void 0) : null == d && ("string" == typeof b ? (d = c, c = void 0) : (d = c, c = b, b = void 0)), d === !1) d = $;else if (!d) return this;return 1 === e && (f = d, d = function d(a) {
        return n().off(a), f.apply(this, arguments);
      }, d.guid = f.guid || (f.guid = n.guid++)), this.each(function () {
        n.event.add(this, a, d, c, b);
      });
    }, one: function one(a, b, c, d) {
      return this.on(a, b, c, d, 1);
    }, off: function off(a, b, c) {
      var d, e;if (a && a.preventDefault && a.handleObj) return d = a.handleObj, n(a.delegateTarget).off(d.namespace ? d.origType + "." + d.namespace : d.origType, d.selector, d.handler), this;if ("object" == (typeof a === "undefined" ? "undefined" : _typeof(a))) {
        for (e in a) {
          this.off(e, b, a[e]);
        }return this;
      }return (b === !1 || "function" == typeof b) && (c = b, b = void 0), c === !1 && (c = $), this.each(function () {
        n.event.remove(this, a, c, b);
      });
    }, trigger: function trigger(a, b) {
      return this.each(function () {
        n.event.trigger(a, b, this);
      });
    }, triggerHandler: function triggerHandler(a, b) {
      var c = this[0];return c ? n.event.trigger(a, b, c, !0) : void 0;
    } });var ab = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,
      bb = /<([\w:]+)/,
      cb = /<|&#?\w+;/,
      db = /<(?:script|style|link)/i,
      eb = /checked\s*(?:[^=]|=\s*.checked.)/i,
      fb = /^$|\/(?:java|ecma)script/i,
      gb = /^true\/(.*)/,
      hb = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,
      ib = { option: [1, "<select multiple='multiple'>", "</select>"], thead: [1, "<table>", "</table>"], col: [2, "<table><colgroup>", "</colgroup></table>"], tr: [2, "<table><tbody>", "</tbody></table>"], td: [3, "<table><tbody><tr>", "</tr></tbody></table>"], _default: [0, "", ""] };ib.optgroup = ib.option, ib.tbody = ib.tfoot = ib.colgroup = ib.caption = ib.thead, ib.th = ib.td;function jb(a, b) {
    return n.nodeName(a, "table") && n.nodeName(11 !== b.nodeType ? b : b.firstChild, "tr") ? a.getElementsByTagName("tbody")[0] || a.appendChild(a.ownerDocument.createElement("tbody")) : a;
  }function kb(a) {
    return a.type = (null !== a.getAttribute("type")) + "/" + a.type, a;
  }function lb(a) {
    var b = gb.exec(a.type);return b ? a.type = b[1] : a.removeAttribute("type"), a;
  }function mb(a, b) {
    for (var c = 0, d = a.length; d > c; c++) {
      L.set(a[c], "globalEval", !b || L.get(b[c], "globalEval"));
    }
  }function nb(a, b) {
    var c, d, e, f, g, h, i, j;if (1 === b.nodeType) {
      if (L.hasData(a) && (f = L.access(a), g = L.set(b, f), j = f.events)) {
        delete g.handle, g.events = {};for (e in j) {
          for (c = 0, d = j[e].length; d > c; c++) {
            n.event.add(b, e, j[e][c]);
          }
        }
      }M.hasData(a) && (h = M.access(a), i = n.extend({}, h), M.set(b, i));
    }
  }function ob(a, b) {
    var c = a.getElementsByTagName ? a.getElementsByTagName(b || "*") : a.querySelectorAll ? a.querySelectorAll(b || "*") : [];return void 0 === b || b && n.nodeName(a, b) ? n.merge([a], c) : c;
  }function pb(a, b) {
    var c = b.nodeName.toLowerCase();"input" === c && T.test(a.type) ? b.checked = a.checked : ("input" === c || "textarea" === c) && (b.defaultValue = a.defaultValue);
  }n.extend({ clone: function clone(a, b, c) {
      var d,
          e,
          f,
          g,
          h = a.cloneNode(!0),
          i = n.contains(a.ownerDocument, a);if (!(k.noCloneChecked || 1 !== a.nodeType && 11 !== a.nodeType || n.isXMLDoc(a))) for (g = ob(h), f = ob(a), d = 0, e = f.length; e > d; d++) {
        pb(f[d], g[d]);
      }if (b) if (c) for (f = f || ob(a), g = g || ob(h), d = 0, e = f.length; e > d; d++) {
        nb(f[d], g[d]);
      } else nb(a, h);return g = ob(h, "script"), g.length > 0 && mb(g, !i && ob(a, "script")), h;
    }, buildFragment: function buildFragment(a, b, c, d) {
      for (var e, f, g, h, i, j, k = b.createDocumentFragment(), l = [], m = 0, o = a.length; o > m; m++) {
        if (e = a[m], e || 0 === e) if ("object" === n.type(e)) n.merge(l, e.nodeType ? [e] : e);else if (cb.test(e)) {
          f = f || k.appendChild(b.createElement("div")), g = (bb.exec(e) || ["", ""])[1].toLowerCase(), h = ib[g] || ib._default, f.innerHTML = h[1] + e.replace(ab, "<$1></$2>") + h[2], j = h[0];while (j--) {
            f = f.lastChild;
          }n.merge(l, f.childNodes), f = k.firstChild, f.textContent = "";
        } else l.push(b.createTextNode(e));
      }k.textContent = "", m = 0;while (e = l[m++]) {
        if ((!d || -1 === n.inArray(e, d)) && (i = n.contains(e.ownerDocument, e), f = ob(k.appendChild(e), "script"), i && mb(f), c)) {
          j = 0;while (e = f[j++]) {
            fb.test(e.type || "") && c.push(e);
          }
        }
      }return k;
    }, cleanData: function cleanData(a) {
      for (var b, c, d, e, f = n.event.special, g = 0; void 0 !== (c = a[g]); g++) {
        if (n.acceptData(c) && (e = c[L.expando], e && (b = L.cache[e]))) {
          if (b.events) for (d in b.events) {
            f[d] ? n.event.remove(c, d) : n.removeEvent(c, d, b.handle);
          }L.cache[e] && delete L.cache[e];
        }delete M.cache[c[M.expando]];
      }
    } }), n.fn.extend({ text: function text(a) {
      return J(this, function (a) {
        return void 0 === a ? n.text(this) : this.empty().each(function () {
          (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) && (this.textContent = a);
        });
      }, null, a, arguments.length);
    }, append: function append() {
      return this.domManip(arguments, function (a) {
        if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
          var b = jb(this, a);b.appendChild(a);
        }
      });
    }, prepend: function prepend() {
      return this.domManip(arguments, function (a) {
        if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
          var b = jb(this, a);b.insertBefore(a, b.firstChild);
        }
      });
    }, before: function before() {
      return this.domManip(arguments, function (a) {
        this.parentNode && this.parentNode.insertBefore(a, this);
      });
    }, after: function after() {
      return this.domManip(arguments, function (a) {
        this.parentNode && this.parentNode.insertBefore(a, this.nextSibling);
      });
    }, remove: function remove(a, b) {
      for (var c, d = a ? n.filter(a, this) : this, e = 0; null != (c = d[e]); e++) {
        b || 1 !== c.nodeType || n.cleanData(ob(c)), c.parentNode && (b && n.contains(c.ownerDocument, c) && mb(ob(c, "script")), c.parentNode.removeChild(c));
      }return this;
    }, empty: function empty() {
      for (var a, b = 0; null != (a = this[b]); b++) {
        1 === a.nodeType && (n.cleanData(ob(a, !1)), a.textContent = "");
      }return this;
    }, clone: function clone(a, b) {
      return a = null == a ? !1 : a, b = null == b ? a : b, this.map(function () {
        return n.clone(this, a, b);
      });
    }, html: function html(a) {
      return J(this, function (a) {
        var b = this[0] || {},
            c = 0,
            d = this.length;if (void 0 === a && 1 === b.nodeType) return b.innerHTML;if ("string" == typeof a && !db.test(a) && !ib[(bb.exec(a) || ["", ""])[1].toLowerCase()]) {
          a = a.replace(ab, "<$1></$2>");try {
            for (; d > c; c++) {
              b = this[c] || {}, 1 === b.nodeType && (n.cleanData(ob(b, !1)), b.innerHTML = a);
            }b = 0;
          } catch (e) {}
        }b && this.empty().append(a);
      }, null, a, arguments.length);
    }, replaceWith: function replaceWith() {
      var a = arguments[0];return this.domManip(arguments, function (b) {
        a = this.parentNode, n.cleanData(ob(this)), a && a.replaceChild(b, this);
      }), a && (a.length || a.nodeType) ? this : this.remove();
    }, detach: function detach(a) {
      return this.remove(a, !0);
    }, domManip: function domManip(a, b) {
      a = e.apply([], a);var c,
          d,
          f,
          g,
          h,
          i,
          j = 0,
          l = this.length,
          m = this,
          o = l - 1,
          p = a[0],
          q = n.isFunction(p);if (q || l > 1 && "string" == typeof p && !k.checkClone && eb.test(p)) return this.each(function (c) {
        var d = m.eq(c);q && (a[0] = p.call(this, c, d.html())), d.domManip(a, b);
      });if (l && (c = n.buildFragment(a, this[0].ownerDocument, !1, this), d = c.firstChild, 1 === c.childNodes.length && (c = d), d)) {
        for (f = n.map(ob(c, "script"), kb), g = f.length; l > j; j++) {
          h = c, j !== o && (h = n.clone(h, !0, !0), g && n.merge(f, ob(h, "script"))), b.call(this[j], h, j);
        }if (g) for (i = f[f.length - 1].ownerDocument, n.map(f, lb), j = 0; g > j; j++) {
          h = f[j], fb.test(h.type || "") && !L.access(h, "globalEval") && n.contains(i, h) && (h.src ? n._evalUrl && n._evalUrl(h.src) : n.globalEval(h.textContent.replace(hb, "")));
        }
      }return this;
    } }), n.each({ appendTo: "append", prependTo: "prepend", insertBefore: "before", insertAfter: "after", replaceAll: "replaceWith" }, function (a, b) {
    n.fn[a] = function (a) {
      for (var c, d = [], e = n(a), g = e.length - 1, h = 0; g >= h; h++) {
        c = h === g ? this : this.clone(!0), n(e[h])[b](c), f.apply(d, c.get());
      }return this.pushStack(d);
    };
  });var qb,
      rb = {};function sb(b, c) {
    var d,
        e = n(c.createElement(b)).appendTo(c.body),
        f = a.getDefaultComputedStyle && (d = a.getDefaultComputedStyle(e[0])) ? d.display : n.css(e[0], "display");return e.detach(), f;
  }function tb(a) {
    var b = l,
        c = rb[a];return c || (c = sb(a, b), "none" !== c && c || (qb = (qb || n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement), b = qb[0].contentDocument, b.write(), b.close(), c = sb(a, b), qb.detach()), rb[a] = c), c;
  }var ub = /^margin/,
      vb = new RegExp("^(" + Q + ")(?!px)[a-z%]+$", "i"),
      wb = function wb(a) {
    return a.ownerDocument.defaultView.getComputedStyle(a, null);
  };function xb(a, b, c) {
    var d,
        e,
        f,
        g,
        h = a.style;return c = c || wb(a), c && (g = c.getPropertyValue(b) || c[b]), c && ("" !== g || n.contains(a.ownerDocument, a) || (g = n.style(a, b)), vb.test(g) && ub.test(b) && (d = h.width, e = h.minWidth, f = h.maxWidth, h.minWidth = h.maxWidth = h.width = g, g = c.width, h.width = d, h.minWidth = e, h.maxWidth = f)), void 0 !== g ? g + "" : g;
  }function yb(a, b) {
    return { get: function get() {
        return a() ? void delete this.get : (this.get = b).apply(this, arguments);
      } };
  }!function () {
    var b,
        c,
        d = l.documentElement,
        e = l.createElement("div"),
        f = l.createElement("div");if (f.style) {
      var _g = function _g() {
        f.style.cssText = "-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute", f.innerHTML = "", d.appendChild(e);var g = a.getComputedStyle(f, null);b = "1%" !== g.top, c = "4px" === g.width, d.removeChild(e);
      };

      f.style.backgroundClip = "content-box", f.cloneNode(!0).style.backgroundClip = "", k.clearCloneStyle = "content-box" === f.style.backgroundClip, e.style.cssText = "border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute", e.appendChild(f);a.getComputedStyle && n.extend(k, { pixelPosition: function pixelPosition() {
          return _g(), b;
        }, boxSizingReliable: function boxSizingReliable() {
          return null == c && _g(), c;
        }, reliableMarginRight: function reliableMarginRight() {
          var b,
              c = f.appendChild(l.createElement("div"));return c.style.cssText = f.style.cssText = "-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0", c.style.marginRight = c.style.width = "0", f.style.width = "1px", d.appendChild(e), b = !parseFloat(a.getComputedStyle(c, null).marginRight), d.removeChild(e), b;
        } });
    }
  }(), n.swap = function (a, b, c, d) {
    var e,
        f,
        g = {};for (f in b) {
      g[f] = a.style[f], a.style[f] = b[f];
    }e = c.apply(a, d || []);for (f in b) {
      a.style[f] = g[f];
    }return e;
  };var zb = /^(none|table(?!-c[ea]).+)/,
      Ab = new RegExp("^(" + Q + ")(.*)$", "i"),
      Bb = new RegExp("^([+-])=(" + Q + ")", "i"),
      Cb = { position: "absolute", visibility: "hidden", display: "block" },
      Db = { letterSpacing: "0", fontWeight: "400" },
      Eb = ["Webkit", "O", "Moz", "ms"];function Fb(a, b) {
    if (b in a) return b;var c = b[0].toUpperCase() + b.slice(1),
        d = b,
        e = Eb.length;while (e--) {
      if (b = Eb[e] + c, b in a) return b;
    }return d;
  }function Gb(a, b, c) {
    var d = Ab.exec(b);return d ? Math.max(0, d[1] - (c || 0)) + (d[2] || "px") : b;
  }function Hb(a, b, c, d, e) {
    for (var f = c === (d ? "border" : "content") ? 4 : "width" === b ? 1 : 0, g = 0; 4 > f; f += 2) {
      "margin" === c && (g += n.css(a, c + R[f], !0, e)), d ? ("content" === c && (g -= n.css(a, "padding" + R[f], !0, e)), "margin" !== c && (g -= n.css(a, "border" + R[f] + "Width", !0, e))) : (g += n.css(a, "padding" + R[f], !0, e), "padding" !== c && (g += n.css(a, "border" + R[f] + "Width", !0, e)));
    }return g;
  }function Ib(a, b, c) {
    var d = !0,
        e = "width" === b ? a.offsetWidth : a.offsetHeight,
        f = wb(a),
        g = "border-box" === n.css(a, "boxSizing", !1, f);if (0 >= e || null == e) {
      if (e = xb(a, b, f), (0 > e || null == e) && (e = a.style[b]), vb.test(e)) return e;d = g && (k.boxSizingReliable() || e === a.style[b]), e = parseFloat(e) || 0;
    }return e + Hb(a, b, c || (g ? "border" : "content"), d, f) + "px";
  }function Jb(a, b) {
    for (var c, d, e, f = [], g = 0, h = a.length; h > g; g++) {
      d = a[g], d.style && (f[g] = L.get(d, "olddisplay"), c = d.style.display, b ? (f[g] || "none" !== c || (d.style.display = ""), "" === d.style.display && S(d) && (f[g] = L.access(d, "olddisplay", tb(d.nodeName)))) : (e = S(d), "none" === c && e || L.set(d, "olddisplay", e ? c : n.css(d, "display"))));
    }for (g = 0; h > g; g++) {
      d = a[g], d.style && (b && "none" !== d.style.display && "" !== d.style.display || (d.style.display = b ? f[g] || "" : "none"));
    }return a;
  }n.extend({ cssHooks: { opacity: { get: function get(a, b) {
          if (b) {
            var c = xb(a, "opacity");return "" === c ? "1" : c;
          }
        } } }, cssNumber: { columnCount: !0, fillOpacity: !0, flexGrow: !0, flexShrink: !0, fontWeight: !0, lineHeight: !0, opacity: !0, order: !0, orphans: !0, widows: !0, zIndex: !0, zoom: !0 }, cssProps: { "float": "cssFloat" }, style: function style(a, b, c, d) {
      if (a && 3 !== a.nodeType && 8 !== a.nodeType && a.style) {
        var e,
            f,
            g,
            h = n.camelCase(b),
            i = a.style;return b = n.cssProps[h] || (n.cssProps[h] = Fb(i, h)), g = n.cssHooks[b] || n.cssHooks[h], void 0 === c ? g && "get" in g && void 0 !== (e = g.get(a, !1, d)) ? e : i[b] : (f = typeof c === "undefined" ? "undefined" : _typeof(c), "string" === f && (e = Bb.exec(c)) && (c = (e[1] + 1) * e[2] + parseFloat(n.css(a, b)), f = "number"), null != c && c === c && ("number" !== f || n.cssNumber[h] || (c += "px"), k.clearCloneStyle || "" !== c || 0 !== b.indexOf("background") || (i[b] = "inherit"), g && "set" in g && void 0 === (c = g.set(a, c, d)) || (i[b] = c)), void 0);
      }
    }, css: function css(a, b, c, d) {
      var e,
          f,
          g,
          h = n.camelCase(b);return b = n.cssProps[h] || (n.cssProps[h] = Fb(a.style, h)), g = n.cssHooks[b] || n.cssHooks[h], g && "get" in g && (e = g.get(a, !0, c)), void 0 === e && (e = xb(a, b, d)), "normal" === e && b in Db && (e = Db[b]), "" === c || c ? (f = parseFloat(e), c === !0 || n.isNumeric(f) ? f || 0 : e) : e;
    } }), n.each(["height", "width"], function (a, b) {
    n.cssHooks[b] = { get: function get(a, c, d) {
        return c ? zb.test(n.css(a, "display")) && 0 === a.offsetWidth ? n.swap(a, Cb, function () {
          return Ib(a, b, d);
        }) : Ib(a, b, d) : void 0;
      }, set: function set(a, c, d) {
        var e = d && wb(a);return Gb(a, c, d ? Hb(a, b, d, "border-box" === n.css(a, "boxSizing", !1, e), e) : 0);
      } };
  }), n.cssHooks.marginRight = yb(k.reliableMarginRight, function (a, b) {
    return b ? n.swap(a, { display: "inline-block" }, xb, [a, "marginRight"]) : void 0;
  }), n.each({ margin: "", padding: "", border: "Width" }, function (a, b) {
    n.cssHooks[a + b] = { expand: function expand(c) {
        for (var d = 0, e = {}, f = "string" == typeof c ? c.split(" ") : [c]; 4 > d; d++) {
          e[a + R[d] + b] = f[d] || f[d - 2] || f[0];
        }return e;
      } }, ub.test(a) || (n.cssHooks[a + b].set = Gb);
  }), n.fn.extend({ css: function css(a, b) {
      return J(this, function (a, b, c) {
        var d,
            e,
            f = {},
            g = 0;if (n.isArray(b)) {
          for (d = wb(a), e = b.length; e > g; g++) {
            f[b[g]] = n.css(a, b[g], !1, d);
          }return f;
        }return void 0 !== c ? n.style(a, b, c) : n.css(a, b);
      }, a, b, arguments.length > 1);
    }, show: function show() {
      return Jb(this, !0);
    }, hide: function hide() {
      return Jb(this);
    }, toggle: function toggle(a) {
      return "boolean" == typeof a ? a ? this.show() : this.hide() : this.each(function () {
        S(this) ? n(this).show() : n(this).hide();
      });
    } });function Kb(a, b, c, d, e) {
    return new Kb.prototype.init(a, b, c, d, e);
  }n.Tween = Kb, Kb.prototype = { constructor: Kb, init: function init(a, b, c, d, e, f) {
      this.elem = a, this.prop = c, this.easing = e || "swing", this.options = b, this.start = this.now = this.cur(), this.end = d, this.unit = f || (n.cssNumber[c] ? "" : "px");
    }, cur: function cur() {
      var a = Kb.propHooks[this.prop];return a && a.get ? a.get(this) : Kb.propHooks._default.get(this);
    }, run: function run(a) {
      var b,
          c = Kb.propHooks[this.prop];return this.pos = b = this.options.duration ? n.easing[this.easing](a, this.options.duration * a, 0, 1, this.options.duration) : a, this.now = (this.end - this.start) * b + this.start, this.options.step && this.options.step.call(this.elem, this.now, this), c && c.set ? c.set(this) : Kb.propHooks._default.set(this), this;
    } }, Kb.prototype.init.prototype = Kb.prototype, Kb.propHooks = { _default: { get: function get(a) {
        var b;return null == a.elem[a.prop] || a.elem.style && null != a.elem.style[a.prop] ? (b = n.css(a.elem, a.prop, ""), b && "auto" !== b ? b : 0) : a.elem[a.prop];
      }, set: function set(a) {
        n.fx.step[a.prop] ? n.fx.step[a.prop](a) : a.elem.style && (null != a.elem.style[n.cssProps[a.prop]] || n.cssHooks[a.prop]) ? n.style(a.elem, a.prop, a.now + a.unit) : a.elem[a.prop] = a.now;
      } } }, Kb.propHooks.scrollTop = Kb.propHooks.scrollLeft = { set: function set(a) {
      a.elem.nodeType && a.elem.parentNode && (a.elem[a.prop] = a.now);
    } }, n.easing = { linear: function linear(a) {
      return a;
    }, swing: function swing(a) {
      return .5 - Math.cos(a * Math.PI) / 2;
    } }, n.fx = Kb.prototype.init, n.fx.step = {};var Lb,
      Mb,
      Nb = /^(?:toggle|show|hide)$/,
      Ob = new RegExp("^(?:([+-])=|)(" + Q + ")([a-z%]*)$", "i"),
      Pb = /queueHooks$/,
      Qb = [Vb],
      Rb = { "*": [function (a, b) {
      var c = this.createTween(a, b),
          d = c.cur(),
          e = Ob.exec(b),
          f = e && e[3] || (n.cssNumber[a] ? "" : "px"),
          g = (n.cssNumber[a] || "px" !== f && +d) && Ob.exec(n.css(c.elem, a)),
          h = 1,
          i = 20;if (g && g[3] !== f) {
        f = f || g[3], e = e || [], g = +d || 1;do {
          h = h || ".5", g /= h, n.style(c.elem, a, g + f);
        } while (h !== (h = c.cur() / d) && 1 !== h && --i);
      }return e && (g = c.start = +g || +d || 0, c.unit = f, c.end = e[1] ? g + (e[1] + 1) * e[2] : +e[2]), c;
    }] };function Sb() {
    return setTimeout(function () {
      Lb = void 0;
    }), Lb = n.now();
  }function Tb(a, b) {
    var c,
        d = 0,
        e = { height: a };for (b = b ? 1 : 0; 4 > d; d += 2 - b) {
      c = R[d], e["margin" + c] = e["padding" + c] = a;
    }return b && (e.opacity = e.width = a), e;
  }function Ub(a, b, c) {
    for (var d, e = (Rb[b] || []).concat(Rb["*"]), f = 0, g = e.length; g > f; f++) {
      if (d = e[f].call(c, b, a)) return d;
    }
  }function Vb(a, b, c) {
    var d,
        e,
        f,
        g,
        h,
        i,
        j,
        k,
        l = this,
        m = {},
        o = a.style,
        p = a.nodeType && S(a),
        q = L.get(a, "fxshow");c.queue || (h = n._queueHooks(a, "fx"), null == h.unqueued && (h.unqueued = 0, i = h.empty.fire, h.empty.fire = function () {
      h.unqueued || i();
    }), h.unqueued++, l.always(function () {
      l.always(function () {
        h.unqueued--, n.queue(a, "fx").length || h.empty.fire();
      });
    })), 1 === a.nodeType && ("height" in b || "width" in b) && (c.overflow = [o.overflow, o.overflowX, o.overflowY], j = n.css(a, "display"), k = "none" === j ? L.get(a, "olddisplay") || tb(a.nodeName) : j, "inline" === k && "none" === n.css(a, "float") && (o.display = "inline-block")), c.overflow && (o.overflow = "hidden", l.always(function () {
      o.overflow = c.overflow[0], o.overflowX = c.overflow[1], o.overflowY = c.overflow[2];
    }));for (d in b) {
      if (e = b[d], Nb.exec(e)) {
        if (delete b[d], f = f || "toggle" === e, e === (p ? "hide" : "show")) {
          if ("show" !== e || !q || void 0 === q[d]) continue;p = !0;
        }m[d] = q && q[d] || n.style(a, d);
      } else j = void 0;
    }if (n.isEmptyObject(m)) "inline" === ("none" === j ? tb(a.nodeName) : j) && (o.display = j);else {
      q ? "hidden" in q && (p = q.hidden) : q = L.access(a, "fxshow", {}), f && (q.hidden = !p), p ? n(a).show() : l.done(function () {
        n(a).hide();
      }), l.done(function () {
        var b;L.remove(a, "fxshow");for (b in m) {
          n.style(a, b, m[b]);
        }
      });for (d in m) {
        g = Ub(p ? q[d] : 0, d, l), d in q || (q[d] = g.start, p && (g.end = g.start, g.start = "width" === d || "height" === d ? 1 : 0));
      }
    }
  }function Wb(a, b) {
    var c, d, e, f, g;for (c in a) {
      if (d = n.camelCase(c), e = b[d], f = a[c], n.isArray(f) && (e = f[1], f = a[c] = f[0]), c !== d && (a[d] = f, delete a[c]), g = n.cssHooks[d], g && "expand" in g) {
        f = g.expand(f), delete a[d];for (c in f) {
          c in a || (a[c] = f[c], b[c] = e);
        }
      } else b[d] = e;
    }
  }function Xb(a, b, c) {
    var d,
        e,
        f = 0,
        g = Qb.length,
        h = n.Deferred().always(function () {
      delete i.elem;
    }),
        i = function i() {
      if (e) return !1;for (var b = Lb || Sb(), c = Math.max(0, j.startTime + j.duration - b), d = c / j.duration || 0, f = 1 - d, g = 0, i = j.tweens.length; i > g; g++) {
        j.tweens[g].run(f);
      }return h.notifyWith(a, [j, f, c]), 1 > f && i ? c : (h.resolveWith(a, [j]), !1);
    },
        j = h.promise({ elem: a, props: n.extend({}, b), opts: n.extend(!0, { specialEasing: {} }, c), originalProperties: b, originalOptions: c, startTime: Lb || Sb(), duration: c.duration, tweens: [], createTween: function createTween(b, c) {
        var d = n.Tween(a, j.opts, b, c, j.opts.specialEasing[b] || j.opts.easing);return j.tweens.push(d), d;
      }, stop: function stop(b) {
        var c = 0,
            d = b ? j.tweens.length : 0;if (e) return this;for (e = !0; d > c; c++) {
          j.tweens[c].run(1);
        }return b ? h.resolveWith(a, [j, b]) : h.rejectWith(a, [j, b]), this;
      } }),
        k = j.props;for (Wb(k, j.opts.specialEasing); g > f; f++) {
      if (d = Qb[f].call(j, a, k, j.opts)) return d;
    }return n.map(k, Ub, j), n.isFunction(j.opts.start) && j.opts.start.call(a, j), n.fx.timer(n.extend(i, { elem: a, anim: j, queue: j.opts.queue })), j.progress(j.opts.progress).done(j.opts.done, j.opts.complete).fail(j.opts.fail).always(j.opts.always);
  }n.Animation = n.extend(Xb, { tweener: function tweener(a, b) {
      n.isFunction(a) ? (b = a, a = ["*"]) : a = a.split(" ");for (var c, d = 0, e = a.length; e > d; d++) {
        c = a[d], Rb[c] = Rb[c] || [], Rb[c].unshift(b);
      }
    }, prefilter: function prefilter(a, b) {
      b ? Qb.unshift(a) : Qb.push(a);
    } }), n.speed = function (a, b, c) {
    var d = a && "object" == (typeof a === "undefined" ? "undefined" : _typeof(a)) ? n.extend({}, a) : { complete: c || !c && b || n.isFunction(a) && a, duration: a, easing: c && b || b && !n.isFunction(b) && b };return d.duration = n.fx.off ? 0 : "number" == typeof d.duration ? d.duration : d.duration in n.fx.speeds ? n.fx.speeds[d.duration] : n.fx.speeds._default, (null == d.queue || d.queue === !0) && (d.queue = "fx"), d.old = d.complete, d.complete = function () {
      n.isFunction(d.old) && d.old.call(this), d.queue && n.dequeue(this, d.queue);
    }, d;
  }, n.fn.extend({ fadeTo: function fadeTo(a, b, c, d) {
      return this.filter(S).css("opacity", 0).show().end().animate({ opacity: b }, a, c, d);
    }, animate: function animate(a, b, c, d) {
      var e = n.isEmptyObject(a),
          f = n.speed(b, c, d),
          g = function g() {
        var b = Xb(this, n.extend({}, a), f);(e || L.get(this, "finish")) && b.stop(!0);
      };return g.finish = g, e || f.queue === !1 ? this.each(g) : this.queue(f.queue, g);
    }, stop: function stop(a, b, c) {
      var d = function d(a) {
        var b = a.stop;delete a.stop, b(c);
      };return "string" != typeof a && (c = b, b = a, a = void 0), b && a !== !1 && this.queue(a || "fx", []), this.each(function () {
        var b = !0,
            e = null != a && a + "queueHooks",
            f = n.timers,
            g = L.get(this);if (e) g[e] && g[e].stop && d(g[e]);else for (e in g) {
          g[e] && g[e].stop && Pb.test(e) && d(g[e]);
        }for (e = f.length; e--;) {
          f[e].elem !== this || null != a && f[e].queue !== a || (f[e].anim.stop(c), b = !1, f.splice(e, 1));
        }(b || !c) && n.dequeue(this, a);
      });
    }, finish: function finish(a) {
      return a !== !1 && (a = a || "fx"), this.each(function () {
        var b,
            c = L.get(this),
            d = c[a + "queue"],
            e = c[a + "queueHooks"],
            f = n.timers,
            g = d ? d.length : 0;for (c.finish = !0, n.queue(this, a, []), e && e.stop && e.stop.call(this, !0), b = f.length; b--;) {
          f[b].elem === this && f[b].queue === a && (f[b].anim.stop(!0), f.splice(b, 1));
        }for (b = 0; g > b; b++) {
          d[b] && d[b].finish && d[b].finish.call(this);
        }delete c.finish;
      });
    } }), n.each(["toggle", "show", "hide"], function (a, b) {
    var c = n.fn[b];n.fn[b] = function (a, d, e) {
      return null == a || "boolean" == typeof a ? c.apply(this, arguments) : this.animate(Tb(b, !0), a, d, e);
    };
  }), n.each({ slideDown: Tb("show"), slideUp: Tb("hide"), slideToggle: Tb("toggle"), fadeIn: { opacity: "show" }, fadeOut: { opacity: "hide" }, fadeToggle: { opacity: "toggle" } }, function (a, b) {
    n.fn[a] = function (a, c, d) {
      return this.animate(b, a, c, d);
    };
  }), n.timers = [], n.fx.tick = function () {
    var a,
        b = 0,
        c = n.timers;for (Lb = n.now(); b < c.length; b++) {
      a = c[b], a() || c[b] !== a || c.splice(b--, 1);
    }c.length || n.fx.stop(), Lb = void 0;
  }, n.fx.timer = function (a) {
    n.timers.push(a), a() ? n.fx.start() : n.timers.pop();
  }, n.fx.interval = 13, n.fx.start = function () {
    Mb || (Mb = setInterval(n.fx.tick, n.fx.interval));
  }, n.fx.stop = function () {
    clearInterval(Mb), Mb = null;
  }, n.fx.speeds = { slow: 600, fast: 200, _default: 400 }, n.fn.delay = function (a, b) {
    return a = n.fx ? n.fx.speeds[a] || a : a, b = b || "fx", this.queue(b, function (b, c) {
      var d = setTimeout(b, a);c.stop = function () {
        clearTimeout(d);
      };
    });
  }, function () {
    var a = l.createElement("input"),
        b = l.createElement("select"),
        c = b.appendChild(l.createElement("option"));a.type = "checkbox", k.checkOn = "" !== a.value, k.optSelected = c.selected, b.disabled = !0, k.optDisabled = !c.disabled, a = l.createElement("input"), a.value = "t", a.type = "radio", k.radioValue = "t" === a.value;
  }();var Yb,
      Zb,
      $b = n.expr.attrHandle;n.fn.extend({ attr: function attr(a, b) {
      return J(this, n.attr, a, b, arguments.length > 1);
    }, removeAttr: function removeAttr(a) {
      return this.each(function () {
        n.removeAttr(this, a);
      });
    } }), n.extend({ attr: function attr(a, b, c) {
      var d,
          e,
          f = a.nodeType;if (a && 3 !== f && 8 !== f && 2 !== f) return _typeof(a.getAttribute) === U ? n.prop(a, b, c) : (1 === f && n.isXMLDoc(a) || (b = b.toLowerCase(), d = n.attrHooks[b] || (n.expr.match.bool.test(b) ? Zb : Yb)), void 0 === c ? d && "get" in d && null !== (e = d.get(a, b)) ? e : (e = n.find.attr(a, b), null == e ? void 0 : e) : null !== c ? d && "set" in d && void 0 !== (e = d.set(a, c, b)) ? e : (a.setAttribute(b, c + ""), c) : void n.removeAttr(a, b));
    }, removeAttr: function removeAttr(a, b) {
      var c,
          d,
          e = 0,
          f = b && b.match(E);if (f && 1 === a.nodeType) while (c = f[e++]) {
        d = n.propFix[c] || c, n.expr.match.bool.test(c) && (a[d] = !1), a.removeAttribute(c);
      }
    }, attrHooks: { type: { set: function set(a, b) {
          if (!k.radioValue && "radio" === b && n.nodeName(a, "input")) {
            var c = a.value;return a.setAttribute("type", b), c && (a.value = c), b;
          }
        } } } }), Zb = { set: function set(a, b, c) {
      return b === !1 ? n.removeAttr(a, c) : a.setAttribute(c, c), c;
    } }, n.each(n.expr.match.bool.source.match(/\w+/g), function (a, b) {
    var c = $b[b] || n.find.attr;$b[b] = function (a, b, d) {
      var e, f;return d || (f = $b[b], $b[b] = e, e = null != c(a, b, d) ? b.toLowerCase() : null, $b[b] = f), e;
    };
  });var _b = /^(?:input|select|textarea|button)$/i;n.fn.extend({ prop: function prop(a, b) {
      return J(this, n.prop, a, b, arguments.length > 1);
    }, removeProp: function removeProp(a) {
      return this.each(function () {
        delete this[n.propFix[a] || a];
      });
    } }), n.extend({ propFix: { "for": "htmlFor", "class": "className" }, prop: function prop(a, b, c) {
      var d,
          e,
          f,
          g = a.nodeType;if (a && 3 !== g && 8 !== g && 2 !== g) return f = 1 !== g || !n.isXMLDoc(a), f && (b = n.propFix[b] || b, e = n.propHooks[b]), void 0 !== c ? e && "set" in e && void 0 !== (d = e.set(a, c, b)) ? d : a[b] = c : e && "get" in e && null !== (d = e.get(a, b)) ? d : a[b];
    }, propHooks: { tabIndex: { get: function get(a) {
          return a.hasAttribute("tabindex") || _b.test(a.nodeName) || a.href ? a.tabIndex : -1;
        } } } }), k.optSelected || (n.propHooks.selected = { get: function get(a) {
      var b = a.parentNode;return b && b.parentNode && b.parentNode.selectedIndex, null;
    } }), n.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"], function () {
    n.propFix[this.toLowerCase()] = this;
  });var ac = /[\t\r\n\f]/g;n.fn.extend({ addClass: function addClass(a) {
      var b,
          c,
          d,
          e,
          f,
          g,
          h = "string" == typeof a && a,
          i = 0,
          j = this.length;if (n.isFunction(a)) return this.each(function (b) {
        n(this).addClass(a.call(this, b, this.className));
      });if (h) for (b = (a || "").match(E) || []; j > i; i++) {
        if (c = this[i], d = 1 === c.nodeType && (c.className ? (" " + c.className + " ").replace(ac, " ") : " ")) {
          f = 0;while (e = b[f++]) {
            d.indexOf(" " + e + " ") < 0 && (d += e + " ");
          }g = n.trim(d), c.className !== g && (c.className = g);
        }
      }return this;
    }, removeClass: function removeClass(a) {
      var b,
          c,
          d,
          e,
          f,
          g,
          h = 0 === arguments.length || "string" == typeof a && a,
          i = 0,
          j = this.length;if (n.isFunction(a)) return this.each(function (b) {
        n(this).removeClass(a.call(this, b, this.className));
      });if (h) for (b = (a || "").match(E) || []; j > i; i++) {
        if (c = this[i], d = 1 === c.nodeType && (c.className ? (" " + c.className + " ").replace(ac, " ") : "")) {
          f = 0;while (e = b[f++]) {
            while (d.indexOf(" " + e + " ") >= 0) {
              d = d.replace(" " + e + " ", " ");
            }
          }g = a ? n.trim(d) : "", c.className !== g && (c.className = g);
        }
      }return this;
    }, toggleClass: function toggleClass(a, b) {
      var c = typeof a === "undefined" ? "undefined" : _typeof(a);return "boolean" == typeof b && "string" === c ? b ? this.addClass(a) : this.removeClass(a) : this.each(n.isFunction(a) ? function (c) {
        n(this).toggleClass(a.call(this, c, this.className, b), b);
      } : function () {
        if ("string" === c) {
          var b,
              d = 0,
              e = n(this),
              f = a.match(E) || [];while (b = f[d++]) {
            e.hasClass(b) ? e.removeClass(b) : e.addClass(b);
          }
        } else (c === U || "boolean" === c) && (this.className && L.set(this, "__className__", this.className), this.className = this.className || a === !1 ? "" : L.get(this, "__className__") || "");
      });
    }, hasClass: function hasClass(a) {
      for (var b = " " + a + " ", c = 0, d = this.length; d > c; c++) {
        if (1 === this[c].nodeType && (" " + this[c].className + " ").replace(ac, " ").indexOf(b) >= 0) return !0;
      }return !1;
    } });var bc = /\r/g;n.fn.extend({ val: function val(a) {
      var b,
          c,
          d,
          e = this[0];{
        if (arguments.length) return d = n.isFunction(a), this.each(function (c) {
          var e;1 === this.nodeType && (e = d ? a.call(this, c, n(this).val()) : a, null == e ? e = "" : "number" == typeof e ? e += "" : n.isArray(e) && (e = n.map(e, function (a) {
            return null == a ? "" : a + "";
          })), b = n.valHooks[this.type] || n.valHooks[this.nodeName.toLowerCase()], b && "set" in b && void 0 !== b.set(this, e, "value") || (this.value = e));
        });if (e) return b = n.valHooks[e.type] || n.valHooks[e.nodeName.toLowerCase()], b && "get" in b && void 0 !== (c = b.get(e, "value")) ? c : (c = e.value, "string" == typeof c ? c.replace(bc, "") : null == c ? "" : c);
      }
    } }), n.extend({ valHooks: { option: { get: function get(a) {
          var b = n.find.attr(a, "value");return null != b ? b : n.trim(n.text(a));
        } }, select: { get: function get(a) {
          for (var b, c, d = a.options, e = a.selectedIndex, f = "select-one" === a.type || 0 > e, g = f ? null : [], h = f ? e + 1 : d.length, i = 0 > e ? h : f ? e : 0; h > i; i++) {
            if (c = d[i], !(!c.selected && i !== e || (k.optDisabled ? c.disabled : null !== c.getAttribute("disabled")) || c.parentNode.disabled && n.nodeName(c.parentNode, "optgroup"))) {
              if (b = n(c).val(), f) return b;g.push(b);
            }
          }return g;
        }, set: function set(a, b) {
          var c,
              d,
              e = a.options,
              f = n.makeArray(b),
              g = e.length;while (g--) {
            d = e[g], (d.selected = n.inArray(d.value, f) >= 0) && (c = !0);
          }return c || (a.selectedIndex = -1), f;
        } } } }), n.each(["radio", "checkbox"], function () {
    n.valHooks[this] = { set: function set(a, b) {
        return n.isArray(b) ? a.checked = n.inArray(n(a).val(), b) >= 0 : void 0;
      } }, k.checkOn || (n.valHooks[this].get = function (a) {
      return null === a.getAttribute("value") ? "on" : a.value;
    });
  }), n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "), function (a, b) {
    n.fn[b] = function (a, c) {
      return arguments.length > 0 ? this.on(b, null, a, c) : this.trigger(b);
    };
  }), n.fn.extend({ hover: function hover(a, b) {
      return this.mouseenter(a).mouseleave(b || a);
    }, bind: function bind(a, b, c) {
      return this.on(a, null, b, c);
    }, unbind: function unbind(a, b) {
      return this.off(a, null, b);
    }, delegate: function delegate(a, b, c, d) {
      return this.on(b, a, c, d);
    }, undelegate: function undelegate(a, b, c) {
      return 1 === arguments.length ? this.off(a, "**") : this.off(b, a || "**", c);
    } });var cc = n.now(),
      dc = /\?/;n.parseJSON = function (a) {
    return JSON.parse(a + "");
  }, n.parseXML = function (a) {
    var b, c;if (!a || "string" != typeof a) return null;try {
      c = new DOMParser(), b = c.parseFromString(a, "text/xml");
    } catch (d) {
      b = void 0;
    }return (!b || b.getElementsByTagName("parsererror").length) && n.error("Invalid XML: " + a), b;
  };var ec,
      fc,
      gc = /#.*$/,
      hc = /([?&])_=[^&]*/,
      ic = /^(.*?):[ \t]*([^\r\n]*)$/gm,
      jc = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,
      kc = /^(?:GET|HEAD)$/,
      lc = /^\/\//,
      mc = /^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,
      nc = {},
      oc = {},
      pc = "*/".concat("*");try {
    fc = location.href;
  } catch (qc) {
    fc = l.createElement("a"), fc.href = "", fc = fc.href;
  }ec = mc.exec(fc.toLowerCase()) || [];function rc(a) {
    return function (b, c) {
      "string" != typeof b && (c = b, b = "*");var d,
          e = 0,
          f = b.toLowerCase().match(E) || [];if (n.isFunction(c)) while (d = f[e++]) {
        "+" === d[0] ? (d = d.slice(1) || "*", (a[d] = a[d] || []).unshift(c)) : (a[d] = a[d] || []).push(c);
      }
    };
  }function sc(a, b, c, d) {
    var e = {},
        f = a === oc;function g(h) {
      var i;return e[h] = !0, n.each(a[h] || [], function (a, h) {
        var j = h(b, c, d);return "string" != typeof j || f || e[j] ? f ? !(i = j) : void 0 : (b.dataTypes.unshift(j), g(j), !1);
      }), i;
    }return g(b.dataTypes[0]) || !e["*"] && g("*");
  }function tc(a, b) {
    var c,
        d,
        e = n.ajaxSettings.flatOptions || {};for (c in b) {
      void 0 !== b[c] && ((e[c] ? a : d || (d = {}))[c] = b[c]);
    }return d && n.extend(!0, a, d), a;
  }function uc(a, b, c) {
    var d,
        e,
        f,
        g,
        h = a.contents,
        i = a.dataTypes;while ("*" === i[0]) {
      i.shift(), void 0 === d && (d = a.mimeType || b.getResponseHeader("Content-Type"));
    }if (d) for (e in h) {
      if (h[e] && h[e].test(d)) {
        i.unshift(e);break;
      }
    }if (i[0] in c) f = i[0];else {
      for (e in c) {
        if (!i[0] || a.converters[e + " " + i[0]]) {
          f = e;break;
        }g || (g = e);
      }f = f || g;
    }return f ? (f !== i[0] && i.unshift(f), c[f]) : void 0;
  }function vc(a, b, c, d) {
    var e,
        f,
        g,
        h,
        i,
        j = {},
        k = a.dataTypes.slice();if (k[1]) for (g in a.converters) {
      j[g.toLowerCase()] = a.converters[g];
    }f = k.shift();while (f) {
      if (a.responseFields[f] && (c[a.responseFields[f]] = b), !i && d && a.dataFilter && (b = a.dataFilter(b, a.dataType)), i = f, f = k.shift()) if ("*" === f) f = i;else if ("*" !== i && i !== f) {
        if (g = j[i + " " + f] || j["* " + f], !g) for (e in j) {
          if (h = e.split(" "), h[1] === f && (g = j[i + " " + h[0]] || j["* " + h[0]])) {
            g === !0 ? g = j[e] : j[e] !== !0 && (f = h[0], k.unshift(h[1]));break;
          }
        }if (g !== !0) if (g && a["throws"]) b = g(b);else try {
          b = g(b);
        } catch (l) {
          return { state: "parsererror", error: g ? l : "No conversion from " + i + " to " + f };
        }
      }
    }return { state: "success", data: b };
  }n.extend({ active: 0, lastModified: {}, etag: {}, ajaxSettings: { url: fc, type: "GET", isLocal: jc.test(ec[1]), global: !0, processData: !0, async: !0, contentType: "application/x-www-form-urlencoded; charset=UTF-8", accepts: { "*": pc, text: "text/plain", html: "text/html", xml: "application/xml, text/xml", json: "application/json, text/javascript" }, contents: { xml: /xml/, html: /html/, json: /json/ }, responseFields: { xml: "responseXML", text: "responseText", json: "responseJSON" }, converters: { "* text": String, "text html": !0, "text json": n.parseJSON, "text xml": n.parseXML }, flatOptions: { url: !0, context: !0 } }, ajaxSetup: function ajaxSetup(a, b) {
      return b ? tc(tc(a, n.ajaxSettings), b) : tc(n.ajaxSettings, a);
    }, ajaxPrefilter: rc(nc), ajaxTransport: rc(oc), ajax: function ajax(a, b) {
      "object" == (typeof a === "undefined" ? "undefined" : _typeof(a)) && (b = a, a = void 0), b = b || {};var c,
          d,
          e,
          f,
          g,
          h,
          i,
          j,
          k = n.ajaxSetup({}, b),
          l = k.context || k,
          m = k.context && (l.nodeType || l.jquery) ? n(l) : n.event,
          o = n.Deferred(),
          p = n.Callbacks("once memory"),
          q = k.statusCode || {},
          r = {},
          s = {},
          t = 0,
          u = "canceled",
          v = { readyState: 0, getResponseHeader: function getResponseHeader(a) {
          var b;if (2 === t) {
            if (!f) {
              f = {};while (b = ic.exec(e)) {
                f[b[1].toLowerCase()] = b[2];
              }
            }b = f[a.toLowerCase()];
          }return null == b ? null : b;
        }, getAllResponseHeaders: function getAllResponseHeaders() {
          return 2 === t ? e : null;
        }, setRequestHeader: function setRequestHeader(a, b) {
          var c = a.toLowerCase();return t || (a = s[c] = s[c] || a, r[a] = b), this;
        }, overrideMimeType: function overrideMimeType(a) {
          return t || (k.mimeType = a), this;
        }, statusCode: function statusCode(a) {
          var b;if (a) if (2 > t) for (b in a) {
            q[b] = [q[b], a[b]];
          } else v.always(a[v.status]);return this;
        }, abort: function abort(a) {
          var b = a || u;return c && c.abort(b), x(0, b), this;
        } };if (o.promise(v).complete = p.add, v.success = v.done, v.error = v.fail, k.url = ((a || k.url || fc) + "").replace(gc, "").replace(lc, ec[1] + "//"), k.type = b.method || b.type || k.method || k.type, k.dataTypes = n.trim(k.dataType || "*").toLowerCase().match(E) || [""], null == k.crossDomain && (h = mc.exec(k.url.toLowerCase()), k.crossDomain = !(!h || h[1] === ec[1] && h[2] === ec[2] && (h[3] || ("http:" === h[1] ? "80" : "443")) === (ec[3] || ("http:" === ec[1] ? "80" : "443")))), k.data && k.processData && "string" != typeof k.data && (k.data = n.param(k.data, k.traditional)), sc(nc, k, b, v), 2 === t) return v;i = k.global, i && 0 === n.active++ && n.event.trigger("ajaxStart"), k.type = k.type.toUpperCase(), k.hasContent = !kc.test(k.type), d = k.url, k.hasContent || (k.data && (d = k.url += (dc.test(d) ? "&" : "?") + k.data, delete k.data), k.cache === !1 && (k.url = hc.test(d) ? d.replace(hc, "$1_=" + cc++) : d + (dc.test(d) ? "&" : "?") + "_=" + cc++)), k.ifModified && (n.lastModified[d] && v.setRequestHeader("If-Modified-Since", n.lastModified[d]), n.etag[d] && v.setRequestHeader("If-None-Match", n.etag[d])), (k.data && k.hasContent && k.contentType !== !1 || b.contentType) && v.setRequestHeader("Content-Type", k.contentType), v.setRequestHeader("Accept", k.dataTypes[0] && k.accepts[k.dataTypes[0]] ? k.accepts[k.dataTypes[0]] + ("*" !== k.dataTypes[0] ? ", " + pc + "; q=0.01" : "") : k.accepts["*"]);for (j in k.headers) {
        v.setRequestHeader(j, k.headers[j]);
      }if (k.beforeSend && (k.beforeSend.call(l, v, k) === !1 || 2 === t)) return v.abort();u = "abort";for (j in { success: 1, error: 1, complete: 1 }) {
        v[j](k[j]);
      }if (c = sc(oc, k, b, v)) {
        v.readyState = 1, i && m.trigger("ajaxSend", [v, k]), k.async && k.timeout > 0 && (g = setTimeout(function () {
          v.abort("timeout");
        }, k.timeout));try {
          t = 1, c.send(r, x);
        } catch (w) {
          if (!(2 > t)) throw w;x(-1, w);
        }
      } else x(-1, "No Transport");function x(a, b, f, h) {
        var j,
            r,
            s,
            u,
            w,
            x = b;2 !== t && (t = 2, g && clearTimeout(g), c = void 0, e = h || "", v.readyState = a > 0 ? 4 : 0, j = a >= 200 && 300 > a || 304 === a, f && (u = uc(k, v, f)), u = vc(k, u, v, j), j ? (k.ifModified && (w = v.getResponseHeader("Last-Modified"), w && (n.lastModified[d] = w), w = v.getResponseHeader("etag"), w && (n.etag[d] = w)), 204 === a || "HEAD" === k.type ? x = "nocontent" : 304 === a ? x = "notmodified" : (x = u.state, r = u.data, s = u.error, j = !s)) : (s = x, (a || !x) && (x = "error", 0 > a && (a = 0))), v.status = a, v.statusText = (b || x) + "", j ? o.resolveWith(l, [r, x, v]) : o.rejectWith(l, [v, x, s]), v.statusCode(q), q = void 0, i && m.trigger(j ? "ajaxSuccess" : "ajaxError", [v, k, j ? r : s]), p.fireWith(l, [v, x]), i && (m.trigger("ajaxComplete", [v, k]), --n.active || n.event.trigger("ajaxStop")));
      }return v;
    }, getJSON: function getJSON(a, b, c) {
      return n.get(a, b, c, "json");
    }, getScript: function getScript(a, b) {
      return n.get(a, void 0, b, "script");
    } }), n.each(["get", "post"], function (a, b) {
    n[b] = function (a, c, d, e) {
      return n.isFunction(c) && (e = e || d, d = c, c = void 0), n.ajax({ url: a, type: b, dataType: e, data: c, success: d });
    };
  }), n.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], function (a, b) {
    n.fn[b] = function (a) {
      return this.on(b, a);
    };
  }), n._evalUrl = function (a) {
    return n.ajax({ url: a, type: "GET", dataType: "script", async: !1, global: !1, "throws": !0 });
  }, n.fn.extend({ wrapAll: function wrapAll(a) {
      var b;return n.isFunction(a) ? this.each(function (b) {
        n(this).wrapAll(a.call(this, b));
      }) : (this[0] && (b = n(a, this[0].ownerDocument).eq(0).clone(!0), this[0].parentNode && b.insertBefore(this[0]), b.map(function () {
        var a = this;while (a.firstElementChild) {
          a = a.firstElementChild;
        }return a;
      }).append(this)), this);
    }, wrapInner: function wrapInner(a) {
      return this.each(n.isFunction(a) ? function (b) {
        n(this).wrapInner(a.call(this, b));
      } : function () {
        var b = n(this),
            c = b.contents();c.length ? c.wrapAll(a) : b.append(a);
      });
    }, wrap: function wrap(a) {
      var b = n.isFunction(a);return this.each(function (c) {
        n(this).wrapAll(b ? a.call(this, c) : a);
      });
    }, unwrap: function unwrap() {
      return this.parent().each(function () {
        n.nodeName(this, "body") || n(this).replaceWith(this.childNodes);
      }).end();
    } }), n.expr.filters.hidden = function (a) {
    return a.offsetWidth <= 0 && a.offsetHeight <= 0;
  }, n.expr.filters.visible = function (a) {
    return !n.expr.filters.hidden(a);
  };var wc = /%20/g,
      xc = /\[\]$/,
      yc = /\r?\n/g,
      zc = /^(?:submit|button|image|reset|file)$/i,
      Ac = /^(?:input|select|textarea|keygen)/i;function Bc(a, b, c, d) {
    var e;if (n.isArray(b)) n.each(b, function (b, e) {
      c || xc.test(a) ? d(a, e) : Bc(a + "[" + ("object" == (typeof e === "undefined" ? "undefined" : _typeof(e)) ? b : "") + "]", e, c, d);
    });else if (c || "object" !== n.type(b)) d(a, b);else for (e in b) {
      Bc(a + "[" + e + "]", b[e], c, d);
    }
  }n.param = function (a, b) {
    var c,
        d = [],
        e = function e(a, b) {
      b = n.isFunction(b) ? b() : null == b ? "" : b, d[d.length] = encodeURIComponent(a) + "=" + encodeURIComponent(b);
    };if (void 0 === b && (b = n.ajaxSettings && n.ajaxSettings.traditional), n.isArray(a) || a.jquery && !n.isPlainObject(a)) n.each(a, function () {
      e(this.name, this.value);
    });else for (c in a) {
      Bc(c, a[c], b, e);
    }return d.join("&").replace(wc, "+");
  }, n.fn.extend({ serialize: function serialize() {
      return n.param(this.serializeArray());
    }, serializeArray: function serializeArray() {
      return this.map(function () {
        var a = n.prop(this, "elements");return a ? n.makeArray(a) : this;
      }).filter(function () {
        var a = this.type;return this.name && !n(this).is(":disabled") && Ac.test(this.nodeName) && !zc.test(a) && (this.checked || !T.test(a));
      }).map(function (a, b) {
        var c = n(this).val();return null == c ? null : n.isArray(c) ? n.map(c, function (a) {
          return { name: b.name, value: a.replace(yc, "\r\n") };
        }) : { name: b.name, value: c.replace(yc, "\r\n") };
      }).get();
    } }), n.ajaxSettings.xhr = function () {
    try {
      return new XMLHttpRequest();
    } catch (a) {}
  };var Cc = 0,
      Dc = {},
      Ec = { 0: 200, 1223: 204 },
      Fc = n.ajaxSettings.xhr();a.ActiveXObject && n(a).on("unload", function () {
    for (var a in Dc) {
      Dc[a]();
    }
  }), k.cors = !!Fc && "withCredentials" in Fc, k.ajax = Fc = !!Fc, n.ajaxTransport(function (a) {
    var _b3;return k.cors || Fc && !a.crossDomain ? { send: function send(c, d) {
        var e,
            f = a.xhr(),
            g = ++Cc;if (f.open(a.type, a.url, a.async, a.username, a.password), a.xhrFields) for (e in a.xhrFields) {
          f[e] = a.xhrFields[e];
        }a.mimeType && f.overrideMimeType && f.overrideMimeType(a.mimeType), a.crossDomain || c["X-Requested-With"] || (c["X-Requested-With"] = "XMLHttpRequest");for (e in c) {
          f.setRequestHeader(e, c[e]);
        }_b3 = function b(a) {
          return function () {
            _b3 && (delete Dc[g], _b3 = f.onload = f.onerror = null, "abort" === a ? f.abort() : "error" === a ? d(f.status, f.statusText) : d(Ec[f.status] || f.status, f.statusText, "string" == typeof f.responseText ? { text: f.responseText } : void 0, f.getAllResponseHeaders()));
          };
        }, f.onload = _b3(), f.onerror = _b3("error"), _b3 = Dc[g] = _b3("abort");try {
          f.send(a.hasContent && a.data || null);
        } catch (h) {
          if (_b3) throw h;
        }
      }, abort: function abort() {
        _b3 && _b3();
      } } : void 0;
  }), n.ajaxSetup({ accepts: { script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript" }, contents: { script: /(?:java|ecma)script/ }, converters: { "text script": function textScript(a) {
        return n.globalEval(a), a;
      } } }), n.ajaxPrefilter("script", function (a) {
    void 0 === a.cache && (a.cache = !1), a.crossDomain && (a.type = "GET");
  }), n.ajaxTransport("script", function (a) {
    if (a.crossDomain) {
      var b, _c;return { send: function send(d, e) {
          b = n("<script>").prop({ async: !0, charset: a.scriptCharset, src: a.url }).on("load error", _c = function c(a) {
            b.remove(), _c = null, a && e("error" === a.type ? 404 : 200, a.type);
          }), l.head.appendChild(b[0]);
        }, abort: function abort() {
          _c && _c();
        } };
    }
  });var Gc = [],
      Hc = /(=)\?(?=&|$)|\?\?/;n.ajaxSetup({ jsonp: "callback", jsonpCallback: function jsonpCallback() {
      var a = Gc.pop() || n.expando + "_" + cc++;return this[a] = !0, a;
    } }), n.ajaxPrefilter("json jsonp", function (b, c, d) {
    var e,
        f,
        g,
        h = b.jsonp !== !1 && (Hc.test(b.url) ? "url" : "string" == typeof b.data && !(b.contentType || "").indexOf("application/x-www-form-urlencoded") && Hc.test(b.data) && "data");return h || "jsonp" === b.dataTypes[0] ? (e = b.jsonpCallback = n.isFunction(b.jsonpCallback) ? b.jsonpCallback() : b.jsonpCallback, h ? b[h] = b[h].replace(Hc, "$1" + e) : b.jsonp !== !1 && (b.url += (dc.test(b.url) ? "&" : "?") + b.jsonp + "=" + e), b.converters["script json"] = function () {
      return g || n.error(e + " was not called"), g[0];
    }, b.dataTypes[0] = "json", f = a[e], a[e] = function () {
      g = arguments;
    }, d.always(function () {
      a[e] = f, b[e] && (b.jsonpCallback = c.jsonpCallback, Gc.push(e)), g && n.isFunction(f) && f(g[0]), g = f = void 0;
    }), "script") : void 0;
  }), n.parseHTML = function (a, b, c) {
    if (!a || "string" != typeof a) return null;"boolean" == typeof b && (c = b, b = !1), b = b || l;var d = v.exec(a),
        e = !c && [];return d ? [b.createElement(d[1])] : (d = n.buildFragment([a], b, e), e && e.length && n(e).remove(), n.merge([], d.childNodes));
  };var Ic = n.fn.load;n.fn.load = function (a, b, c) {
    if ("string" != typeof a && Ic) return Ic.apply(this, arguments);var d,
        e,
        f,
        g = this,
        h = a.indexOf(" ");return h >= 0 && (d = n.trim(a.slice(h)), a = a.slice(0, h)), n.isFunction(b) ? (c = b, b = void 0) : b && "object" == (typeof b === "undefined" ? "undefined" : _typeof(b)) && (e = "POST"), g.length > 0 && n.ajax({ url: a, type: e, dataType: "html", data: b }).done(function (a) {
      f = arguments, g.html(d ? n("<div>").append(n.parseHTML(a)).find(d) : a);
    }).complete(c && function (a, b) {
      g.each(c, f || [a.responseText, b, a]);
    }), this;
  }, n.expr.filters.animated = function (a) {
    return n.grep(n.timers, function (b) {
      return a === b.elem;
    }).length;
  };var Jc = a.document.documentElement;function Kc(a) {
    return n.isWindow(a) ? a : 9 === a.nodeType && a.defaultView;
  }n.offset = { setOffset: function setOffset(a, b, c) {
      var d,
          e,
          f,
          g,
          h,
          i,
          j,
          k = n.css(a, "position"),
          l = n(a),
          m = {};"static" === k && (a.style.position = "relative"), h = l.offset(), f = n.css(a, "top"), i = n.css(a, "left"), j = ("absolute" === k || "fixed" === k) && (f + i).indexOf("auto") > -1, j ? (d = l.position(), g = d.top, e = d.left) : (g = parseFloat(f) || 0, e = parseFloat(i) || 0), n.isFunction(b) && (b = b.call(a, c, h)), null != b.top && (m.top = b.top - h.top + g), null != b.left && (m.left = b.left - h.left + e), "using" in b ? b.using.call(a, m) : l.css(m);
    } }, n.fn.extend({ offset: function offset(a) {
      if (arguments.length) return void 0 === a ? this : this.each(function (b) {
        n.offset.setOffset(this, a, b);
      });var b,
          c,
          d = this[0],
          e = { top: 0, left: 0 },
          f = d && d.ownerDocument;if (f) return b = f.documentElement, n.contains(b, d) ? (_typeof(d.getBoundingClientRect) !== U && (e = d.getBoundingClientRect()), c = Kc(f), { top: e.top + c.pageYOffset - b.clientTop, left: e.left + c.pageXOffset - b.clientLeft }) : e;
    }, position: function position() {
      if (this[0]) {
        var a,
            b,
            c = this[0],
            d = { top: 0, left: 0 };return "fixed" === n.css(c, "position") ? b = c.getBoundingClientRect() : (a = this.offsetParent(), b = this.offset(), n.nodeName(a[0], "html") || (d = a.offset()), d.top += n.css(a[0], "borderTopWidth", !0), d.left += n.css(a[0], "borderLeftWidth", !0)), { top: b.top - d.top - n.css(c, "marginTop", !0), left: b.left - d.left - n.css(c, "marginLeft", !0) };
      }
    }, offsetParent: function offsetParent() {
      return this.map(function () {
        var a = this.offsetParent || Jc;while (a && !n.nodeName(a, "html") && "static" === n.css(a, "position")) {
          a = a.offsetParent;
        }return a || Jc;
      });
    } }), n.each({ scrollLeft: "pageXOffset", scrollTop: "pageYOffset" }, function (b, c) {
    var d = "pageYOffset" === c;n.fn[b] = function (e) {
      return J(this, function (b, e, f) {
        var g = Kc(b);return void 0 === f ? g ? g[c] : b[e] : void (g ? g.scrollTo(d ? a.pageXOffset : f, d ? f : a.pageYOffset) : b[e] = f);
      }, b, e, arguments.length, null);
    };
  }), n.each(["top", "left"], function (a, b) {
    n.cssHooks[b] = yb(k.pixelPosition, function (a, c) {
      return c ? (c = xb(a, b), vb.test(c) ? n(a).position()[b] + "px" : c) : void 0;
    });
  }), n.each({ Height: "height", Width: "width" }, function (a, b) {
    n.each({ padding: "inner" + a, content: b, "": "outer" + a }, function (c, d) {
      n.fn[d] = function (d, e) {
        var f = arguments.length && (c || "boolean" != typeof d),
            g = c || (d === !0 || e === !0 ? "margin" : "border");return J(this, function (b, c, d) {
          var e;return n.isWindow(b) ? b.document.documentElement["client" + a] : 9 === b.nodeType ? (e = b.documentElement, Math.max(b.body["scroll" + a], e["scroll" + a], b.body["offset" + a], e["offset" + a], e["client" + a])) : void 0 === d ? n.css(b, c, g) : n.style(b, c, d, g);
        }, b, f ? d : void 0, f, null);
      };
    });
  }), n.fn.size = function () {
    return this.length;
  }, n.fn.andSelf = n.fn.addBack, "function" == "function" && __webpack_require__(19) && !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = function () {
    return n;
  }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));var Lc = a.jQuery,
      Mc = a.$;return n.noConflict = function (b) {
    return a.$ === n && (a.$ = Mc), b && a.jQuery === n && (a.jQuery = Lc), n;
  }, (typeof b === "undefined" ? "undefined" : _typeof(b)) === U && (a.jQuery = a.$ = n), n;
});
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(10)(module)))

/***/ }),
/* 7 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lib_echarts_theme_vintage__ = __webpack_require__(30);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lib_echarts_theme_vintage___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lib_echarts_theme_vintage__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lib_echarts_theme_roma_js__ = __webpack_require__(28);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lib_echarts_theme_roma_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lib_echarts_theme_roma_js__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lib_echarts_theme_bigshow_js__ = __webpack_require__(27);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lib_echarts_theme_bigshow_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_lib_echarts_theme_bigshow_js__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_lib_echarts_theme_shine_js__ = __webpack_require__(29);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_lib_echarts_theme_shine_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_lib_echarts_theme_shine_js__);
var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var tool = __webpack_require__(5);
var Promise = __webpack_require__(16);
var echarts = __webpack_require__(0);
var config = __webpack_require__(11);
var EchartUtil = __webpack_require__(17);




var theme = 'shine'; // config.chart.theme;
var themeBackgroundColor = '#f2f2f2';
var minMaxMarkPoint = {
    data: [{ type: 'max', name: '' }, { type: 'min', name: '' }]
};
var averageMarkLine = {
    precision: 0,
    data: [{
        type: 'average',
        name: '',
        label: {
            normal: {
                position: 'start'
            }
        }
    }]
};

var lineStyle3 = {
    normal: {
        width: 3
    }
};

var attractionSourceFactor = 1;
var grid = function grid(top, right, bottom, left) {
    var containLabel = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;

    var o = {
        containLabel: containLabel
    };
    if (top !== null) {
        o.top = top;
    }
    if (right !== null) {
        o.right = right;
    }
    if (bottom !== null) {
        o.bottom = bottom;
    }
    if (left !== null) {
        o.left = left;
    }
    return o;
};
var getTitleOption = function getTitleOption(title, subtitle) {
    return {
        text: title,
        subtext: subtitle,
        itemGap: 5,
        textStyle: {
            fontFamily: '',
            fontSize: 19
        }
    };
};
var getTitleOption2 = function getTitleOption2(title, subtitle) {
    return {
        text: title,
        subtext: subtitle,
        textStyle: {
            fontFamily: '',
            fontSize: 16
        }
    };
};

var getTimeCategory = function getTimeCategory(arr) {
    var key = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'calDate';

    arr = arr || [];
    var dateMap = {};
    var process = function process(v) {
        var _v$split = v.split(','),
            _v$split2 = _slicedToArray(_v$split, 6),
            y = _v$split2[0],
            m = _v$split2[1],
            d = _v$split2[2],
            hour = _v$split2[3],
            minite = _v$split2[4],
            second = _v$split2[5];
        // m = parseInt(m, 10);
        // d = parseInt(d, 10);


        var date = '\n' + y + '-' + m + '-' + d;
        if (dateMap[y + m + d]) {
            date = '';
        }
        dateMap[y + m + d] = 1;
        hour = parseInt(hour, 10) || 0;
        // minite = parseInt(minite, 10) || 0;
        return hour + ':' + minite + date;
    };
    var list = arr.map(function (item) {
        var v = item;
        if (key) {
            v = item[key];
        }
        return process(v + '');
    });

    return list;
};

var getCategoryXAxis = function getCategoryXAxis(data) {
    var x = {};
    x.type = 'category';
    x.boundaryGap = false;
    x.data = data;

    return x;
};

var getDateCategoryXAxis = function getDateCategoryXAxis() {
    var list = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
    var key = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'calDate';

    var yearMap = {};
    var process = function process(v) {
        var _v$split3 = v.split('-'),
            _v$split4 = _slicedToArray(_v$split3, 3),
            y = _v$split4[0],
            m = _v$split4[1],
            d = _v$split4[2];

        var yearStr = '\n' + y + '\u5E74';
        if (yearMap[y]) {
            yearStr = '';
        }
        yearMap[y] = 1;
        m = parseInt(m, 10);
        d = parseInt(d, 10);
        var s = m + '\u6708' + d + '\u65E5' + yearStr;
        return s;
    };
    var data = list.map(function (item) {
        var str = item;
        if (key) {
            str = item[key];
        }
        return process(str);
    });
    var x = getCategoryXAxis(data);
    var len = data.length;
    var intervalNum = parseInt(len / 20, 10);
    var curYear = 0;

    x.axisLabel = {
        interval: function interval(index, value) {
            if (len < 20) {
                return true;
            }
            if (~value.indexOf('')) {
                var yearArr = value.match(/(\d+)/);
                var year = parseInt(yearArr ? yearArr[1] : 0, 10);
                if (year) {
                    curYear = year;
                }
                return true;
            }
            if (curYear && yearMap[curYear + 1]) {
                var hasNextYear = true;
            }
            var monthArr = value.match(/(\d+)/);
            var month = parseInt(monthArr ? monthArr[1] : 0, 10);
            var dayArr = value.match(/(\d+)/);
            var day = parseInt(dayArr ? dayArr[1] : 0, 10);

            if (month === 12 && hasNextYear) {}
            if (month === 1 && day > 5) {}
            if (index % intervalNum === 0) {
                return true;
            }
            return false;
        }
    };
    return x;
};

var getAnalysisAllType = function getAnalysisAllType() {
    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

    var male = [];
    var female = [];
    var JSONData = options.data || [];
    JSONData.forEach(function (item) {
        var val = [item['arpuType'], item['ageType']];
        if (item['sexTypeDesc'] === '') {
            female.push(val);
        } else if (item['sexTypeDesc'] === '') {
            male.push(val);
        }
    });
    var tooltipFormatter = function tooltipFormatter(params) {
        if (!params || !params.length) {
            return '';
        }
        var str = [];
        var o = {};
        for (var i = 0; i < params.length; i++) {
            var v = params[i];
            var data = v.data || v.value || [];
            if (!o[v.seriesName]) {
                o[v.seriesName] = {
                    minAge: 100,
                    maxAge: 0,
                    amount: 0
                };
            }
            var item = o[v.seriesName];
            item.amount = data[0];
            item.minAge = Math.min(data[1], item.minAge);
            item.maxAge = Math.max(data[1], item.maxAge);
        }
        for (var _i in o) {
            str.push(_i);
            str.push('' + o[_i].minAge + '-' + o[_i].maxAge + '');
            str.push('' + o[_i].amount);
        }

        return str.join('<br />');
    };
    var markLine = {
        precision: 0,
        data: [{
            type: 'average',
            name: '',
            label: {
                normal: {
                    position: 'middle'
                }
            }
        }]
    };
    var o = {
        title: options.title,
        toolbox: {
            right: 30,
            feature: {
                saveAsImage: {
                    show: true
                },
                dataView: {
                    show: true,
                    readOnly: true
                },
                dataZoom: {},
                brush: {
                    type: ['rect', 'polygon', 'clear']
                }
            }
        },
        brush: {},
        tooltip: {
            formatter: tooltipFormatter
        },
        legend: {
            top: 4,
            data: ['', ''],
            left: 'center'
        },
        xAxis: {
            type: 'value',
            scale: true,
            axisLabel: {
                formatter: '{value} '
            },
            splitLine: {
                lineStyle: {
                    type: 'dashed'
                }
            }
        },
        yAxis: {
            type: 'value',
            scale: true,
            axisLabel: {
                formatter: '{value} '
            },
            splitLine: {
                lineStyle: {
                    type: 'dashed'
                }
            }
        },
        series: [{
            name: '',
            type: 'scatter',
            data: female,
            markPoint: minMaxMarkPoint,
            markLine: markLine
        }, {
            name: '',
            type: 'scatter',
            data: male,
            markPoint: minMaxMarkPoint,
            markLine: markLine
        }]
    };
    var o2 = EchartUtil.getXYOption(o);
    return o2;
};
var getTimeInterval = function getTimeInterval(dayCount) {
    if (!dayCount) {
        return undefined;
    }
    var day = 1;
    if (dayCount >= 1000) {
        day = 120;
    } else if (dayCount >= 700) {
        day = 60;
    } else if (dayCount >= 150) {
        day = 30;
    } else if (dayCount >= 30) {
        day = 7;
    } else if (dayCount >= 12) {
        day = 3;
    }

    return day * 24 * 3600 * 1000;
};

var getTimeItem = function getTimeItem(item) {
    var vKey = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'userNum';
    var dateKey = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'calDate';

    var date = tool.convertDate(item[dateKey]);
    return {
        name: date,
        value: [date, item[vKey] || 0]
    };
};

var getAnalysisToolbox = function getAnalysisToolbox() {
    var feature = {
        saveAsImage: {
            show: true
        },
        dataView: {
            show: true,
            readOnly: true
        }
    };
    return {
        right: 15,
        feature: feature
    };
};

var exports = {};
exports.echartsReady = function (fn) {
    return new Promise(function (resolve) {
        new Promise(function(resolve) { resolve(); }).then((function (require) {
            // mlayer.msg('echartsReady');
            var echarts = __webpack_require__(0);
            fn && fn(echarts);
            resolve(echarts);
        }).bind(null, __webpack_require__)).catch(__webpack_require__.oe);
    });
};
//  
exports.getHumanTrafficOption = function () {
    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

    var data = options.data || [];
    var modeCategory = true;
    data = data.slice(0, data.length - 2);
    var list = data.map(function (item) {
        if (modeCategory) {
            return exports.bigScreenModify(item.userNum);
        }
        var TMP_DATE = tool.convertDate(item['calDate']);
        return {
            name: TMP_DATE,
            value: [TMP_DATE, exports.bigScreenModify(item['userNum'])]
        };
    });
    var xAxis = {
        type: 'time'
    };
    if (modeCategory) {
        xAxis = getCategoryXAxis(getTimeCategory(data));
    }
    var o = {
        toolbox: false,
        title: options.title,
        xAxis: xAxis,
        yAxis: {
            type: 'value',
            scale: true
        },
        series: [{
            name: '',
            type: 'line',
            lineStyle: lineStyle3,
            markPoint: minMaxMarkPoint,
            markLine: averageMarkLine,
            data: list
        }]
    };

    return EchartUtil.getXYOption(o);
};
//  - 
exports.getAttractionInOutOption = function () {
    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

    var modeCategory = true;
    var titleOption = {};
    if (options.titleOption) {
        titleOption = options.titleOption;
    } else if (options.title || options.subtitle) {
        titleOption = getTitleOption(options.title, options.subtitle);
    }
    var data = options.data || [];

    var getSeriesData = function getSeriesData(key) {
        return data.map(function (item) {
            if (modeCategory) {
                return item[key];
            }
            var TMP_DATE = tool.convertDate(item['calDate']);
            return {
                name: TMP_DATE,
                value: [TMP_DATE, item[key]]
            };
        });
    };
    var xAxis = {
        type: 'time'
    };
    if (modeCategory) {
        xAxis = getCategoryXAxis(getTimeCategory(data));
    }
    var o = {
        title: titleOption,
        toolbox: false,
        legend: {
            data: ['', ''],
            itemGap: 10,
            left: 'right'
        },
        grid: EchartUtil.grid(60, 50, 45),
        xAxis: xAxis,
        yAxis: {
            type: 'value',
            scale: true
        },
        series: [{
            name: '',
            type: 'line',
            lineStyle: lineStyle3,
            data: getSeriesData('checkInNum')
        }, {
            name: '',
            type: 'line',
            lineStyle: lineStyle3,
            data: getSeriesData('checkOutNum')
        }]
    };

    return EchartUtil.getXYOption(o, {
        dataZoom: true
    });
};
//  - 
exports.getDynamicLineCityOption = function (data) {
    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

    var o = exports.getAttractionUserRealtime(data);
    o.grid = EchartUtil.grid(10, 30);
    return o;
};
//  -  - 
exports.getAttractionUserRealtime = function (data) {
    data = data || [];
    var modeCategory = true;
    var xData = [];
    if (data[0]) {
        xData = getTimeCategory(data[0].vwSceneryUserCurrentDayList, 'calDate');
        // 
        xData = xData.slice(0, xData.length - 2);
    }
    // xData
    var allX = {};
    if (!modeCategory) {
        data.forEach(function (v) {
            var list = v.vwSceneryUserCurrentDayList || [];
            list = list.slice(0, list.length - 2);
            list.forEach(function (item) {
                allX[item.calDate] = 1;
            });
        });
    }

    var series = data.map(function (item) {
        var list = item['vwSceneryUserCurrentDayList'] || [];
        list = list.slice(0, list.length - 2);
        for (var x in allX) {
            var hasX = false;
            for (var i = 0; i < list.length; i++) {
                if (list[i].calDate === x) {
                    hasX = true;
                    break;
                }
            }
            // 0
            if (!hasX) {
                var newItem = tool.extend({}, list[0]);
                newItem.calDate = x;
                newItem.userNum = 0;
                list.push(newItem);
            }
        }
        list = list.sort(function (a, b) {
            return a.calDate > b.calDate ? 1 : -1;
        });

        var data = list.map(function (v) {
            if (modeCategory) {
                return v.userNum;
            }
            return getTimeItem(v);
        });
        if (modeCategory) {
            while (data.length < xData.length) {
                var _i2 = data.length;
                data[_i2] = 0;
            }
        }
        var o = {
            name: item['sceneryName'],
            showSymbol: false,
            type: 'line',
            stack: '',
            areaStyle: { normal: {} },
            markPoint: minMaxMarkPoint,
            markLine: averageMarkLine,
            data: data
        };
        return o;
    });
    var xAxis = {
        type: 'time'
    };
    if (modeCategory) {
        xAxis = getCategoryXAxis(xData);
    }
    var o = {
        toolbox: false,
        grid: EchartUtil.grid(15),
        xAxis: xAxis,
        yAxis: {
            type: 'value'
        },
        series: series
    };
    return EchartUtil.getXYOption(o);
};
//  , 
exports.getMonitorCityInoutParallelOption = function () {
    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

    var data = options.data || [];
    var schema = [{
        name: 'type',
        index: 0,
        text: ''
    }];
    var schemeArray = data[0] ? data[0]['vwSceneryCurrentDayList'] : [];
    for (var schemeIndex = 0; schemeIndex < schemeArray.length; schemeIndex++) {
        schema.push({
            name: schemeArray[schemeIndex]['dataTime'],
            index: schemeIndex + 1,
            text: schemeArray[schemeIndex]['dataTime']
        });
    }
    var formatter = function formatter(obj) {
        var value = obj[0].value;
        var str = '';
        for (var i = 1; i < 5; i++) {
            if (schema[i]) {
                str += schema[1].text + '\uFF1A' + value[1] + ' <br>';
            }
        }
        return ('\n            <div style="border-bottom: 1px solid rgba(255,255,255,.3); font-size: 18px;padding-bottom: 7px;margin-bottom: 7px">\n                ' + obj[0].seriesName + ' ' + value[0] + '\u65E5\u671F\uFF1A\n                ' + value[7] + '\n            </div>\n            ' + str + '\n        ').trim();
    };
    var convertData = function convertData(data) {
        var checkIn = [''];
        var checkOut = [''];
        data.forEach(function (item) {
            checkIn.push(item['checkInNum']);
            checkOut.push(item['checkOutNum']);
        });
        return [checkIn, checkOut];
    };
    var parallelAxis = [{
        dim: 0,
        name: schema[0].text,
        type: 'category',
        data: ['', '']
    }];
    for (var i = 1; i <= 5; i++) {
        if (schema[i]) {
            parallelAxis.push({
                dim: i,
                name: schema[i].text
            });
        }
    }
    return {
        title: getTitleOption('', ''),
        backgroundColor: '#333',
        legend: {
            bottom: 30,
            data: data.map(function (item) {
                return item.sceneryName;
            }),
            itemGap: 20,
            textStyle: {
                color: '#fff',
                fontSize: 14
            }
        },
        tooltip: {
            padding: 10,
            backgroundColor: '#222',
            borderColor: '#777',
            borderWidth: 1,
            formatter: formatter
        },
        parallelAxis: parallelAxis,
        visualMap: {
            show: true,
            min: 0,
            max: 150,
            dimension: 2,
            inRange: {
                color: ['#50a3ba', '#eac736', '#d94e5d']
            }
        },
        parallel: {
            left: '30',
            right: '8%',
            bottom: 80,
            parallelAxisDefault: {
                type: 'value',
                name: 'AQI',
                nameLocation: 'end',
                nameGap: 20,
                nameTextStyle: {
                    color: '#fff',
                    fontSize: 12
                },
                axisLine: {
                    lineStyle: {
                        color: '#aaa'
                    }
                },
                axisTick: {
                    lineStyle: {
                        color: '#777'
                    }
                },
                splitLine: {
                    show: false
                },
                axisLabel: {
                    textStyle: {
                        color: '#fff'
                    }
                }
            }
        },
        series: data.map(function (item) {
            return {
                name: item['sceneryName'],
                type: 'parallel',
                lineStyle: {
                    normal: {
                        width: 1,
                        opacity: 0.5
                    }
                },
                data: convertData(item['vwSceneryCurrentDayList'])
            };
        })
    };
};

//  - 
exports.getCityStayTimeOption = function () {
    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

    var JSONData = options.data;
    var first = JSONData[0] || {};
    var legendData = JSONData.map(function (item) {
        return item['sceneryName'];
    });
    var o = {
        title: options.title,
        legend: { data: legendData },
        xAxis: {
            type: 'category',
            data: first['rptStayAnalyDayList'] && first['rptStayAnalyDayList'].map(function (item) {
                return item['stayDateTime'];
            })
        },
        yAxis: {
            type: 'value'
        },
        series: JSONData.map(function (item) {
            return {
                name: item['sceneryName'],
                type: 'bar',
                barGap: 0,
                label: {
                    normal: {
                        show: false,
                        position: 'top'
                    }
                },
                data: item['rptStayAnalyDayList'].map(function (item) {
                    return item['userNum'];
                })
            };
        })
    };

    return EchartUtil.getXYOption(o);
};
//  - 
exports.getCityAnalysisUserCommon = function () {
    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

    var JSON_DATA = options.data || [];
    var first = JSON_DATA[0] || {};
    var len = first.scenAreaUserItemList ? first.scenAreaUserItemList.length : 0;
    var interval = getTimeInterval(len);
    var modeCategory = false;
    var xAxis = {
        type: 'time',
        interval: interval
    };
    if (modeCategory) {
        xAxis = getDateCategoryXAxis(first.scenAreaUserItemList);
    }
    var o = {
        title: options.title,
        legend: {
            data: JSON_DATA.map(function (item) {
                return item['sceneryName'];
            })
        },
        xAxis: xAxis,
        yAxis: {
            type: 'value',
            scale: true
        },
        series: JSON_DATA.map(function (item) {
            return {
                name: item['sceneryName'],
                type: 'line',
                data: item['scenAreaUserItemList'].map(function (_item) {
                    if (modeCategory) {
                        return _item.userNum;
                    }
                    return {
                        name: _item['calDate'],
                        value: [_item['calDate'], _item['userNum']]
                    };
                })
            };
        })
    };

    return EchartUtil.getXYOption(o);
};
//  -  - 
exports.getCityAnalysisUserAllType = function (options) {
    return getAnalysisAllType(options);
};

//  - 
exports.getAttractionStayTimeOption = function () {
    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

    var JSON_DATA = options.data;
    var first = JSON_DATA[0] || {};
    var datalist = first.sceneryPeopleStayDateList || [];
    var interval = getTimeInterval(datalist.length);

    var o = {
        title: options.title,
        legend: {
            top: 15,
            left: 'center',
            data: JSON_DATA.map(function (item) {
                return item['stayDateTime'];
            })
        },
        xAxis: {
            type: 'time',
            interval: interval
        },
        yAxis: {
            type: 'value'
        },
        series: JSON_DATA.map(function (item) {
            return {
                name: item['stayDateTime'],
                type: 'line',
                data: item['sceneryPeopleStayDateList'].map(function (list) {
                    return {
                        name: list['calDate'],
                        value: [list['calDate'], list['userNum']]
                    };
                })
            };
        })
    };

    return EchartUtil.getXYOption(o);
};
//  - 
exports.getAttractionCountOption = function () {
    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

    var datalist = options.data || [];
    var modeCategory = false;

    if (modeCategory) {
        var xAxis = getDateCategoryXAxis(datalist);
    } else {
        var interval = getTimeInterval(datalist.length);
        xAxis = {
            type: 'time',
            interval: interval
        };
    }
    var sdata = datalist.map(function (item) {
        if (modeCategory) {
            return item.userNum;
        }
        return {
            name: item['calDate'],
            value: [item['calDate'], item['userNum']]
        };
    });
    var o = {
        title: options.title,
        xAxis: xAxis,
        yAxis: {
            type: 'value',
            scale: true
        },
        series: [{
            name: '',
            type: 'line',
            data: sdata
        }]
    };
    return EchartUtil.getXYOption(o);
};

var getSourceOptionData = function getSourceOptionData(arr) {
    var param = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

    arr = arr || [];
    arr = arr.sort(function (a, b) {
        return a.userNum - b.userNum;
    });
    var list = arr.slice(0);
    if (param.data2) {
        list = arr.concat(param.data2);
    }
    list = list.sort(function (a, b) {
        return a.userNum - b.userNum;
    });

    var dataKey = param.dataKey;
    var dataKey2 = param.dataKey2;
    if (param.maxItemCount) {
        list = list.slice(0, param.maxItemCount);
    }

    var first = list[0] || {};

    var linesData = list.map(function (item) {
        var fromCoord = [item.province_clogiitud, item.province_clatitude];
        var toCoord = [item.scenery_clogiitud, item.scenery_clatitude];

        return [{ coord: fromCoord }, { coord: toCoord }];
    });

    var geoData = list.map(function (item) {
        var userNum = item.userNum;
        if (param.factor) {
            userNum = bigScreenModify(userNum, param.factor);
        }
        return {
            name: item[dataKey] || item[dataKey2],
            value: [item.province_clogiitud, item.province_clatitude, userNum]
        };
    });
    var start = Math.max(0, arr.length - 15);
    arr = arr.slice(start);
    var barData = arr.map(function (item) {
        if (param.factor) {
            return bigScreenModify(item.userNum, param.factor);
        }
        return item.userNum;
    });
    var yData = arr.map(function (item) {
        return item[dataKey];
    });
    return {
        name: first.sceneryName,
        linesData: linesData,
        geoData: geoData,
        barData: barData,
        yData: yData
    };
};

//  - 
exports.getAttractionSourceOption = function () {
    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

    var optionData = getSourceOptionData(options.data, {
        dataKey: 'provinceName',
        maxItemCount: 10
    });
    var title = {
        text: options.title,
        subtext: options.subtitle
    };

    return EchartUtil.getGeoOption({
        title: title
    }, optionData);
};
//  - 
exports.getAttractionSource2Option = function () {
    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

    var optionData = getSourceOptionData(options.data, {
        dataKey: 'cityDesc'
    });
    var title = {
        text: options.title,
        subtext: options.subtitle
    };
    return EchartUtil.getGeoOption({
        title: title,
        geo: {
            map: ''
        }
    }, optionData);
};

//  - for attraction_realtime
exports.getAttractionSource1Option = function (options) {
    var titleOption = {
        text: '',
        subtext: "",
        left: 10,
        top: 10,
        subtextStyle: {
            fontFamily: '',
            fontSize: 30
        },
        itemGap: 5,
        textStyle: {
            fontFamily: '',
            fontSize: 44,
            color: '#fff'
        }
    };
    var hasNMData = options.nmData && options.nmData.length > 0;
    var NEIMENGGU_DATA = (options.nmData || []).sort(function (a, b) {
        return a.userNum - b.userNum;
    });
    var grid = [{
        show: true,
        top: 90,
        height: '68%',
        borderWidth: 0
    }];
    var yData2 = null;
    var barData2 = null;
    if (hasNMData) {
        grid[0].top = 140;
        grid[0].height = '80%';
        yData2 = NEIMENGGU_DATA.map(function (item) {
            return item['cityDesc'];
        });
        barData2 = NEIMENGGU_DATA.map(function (dataItem) {
            return bigScreenModify(dataItem['userNum'], attractionSourceFactor);
        });
    }

    var datalist = options.data || [];

    var optionData = getSourceOptionData(datalist, {
        data2: options.data2,
        dataKey: 'provinceName',
        dataKey2: 'cityDesc',
        factor: attractionSourceFactor
    });

    var sceneryName = optionData.data;

    var o = {
        grid: grid
    };
    var isMini = !!options.mini;
    if (isMini) {
        titleOption.subtextStyle.fontSize = 16;
        titleOption.textStyle.fontSize = 20;
    }
    o.title = titleOption;
    return EchartUtil.getGeoOption(o, {
        withAxisline: true,
        linesData: optionData.linesData,
        name: optionData.name,
        geoData: optionData.geoData,
        yData: optionData.yData,
        yData2: yData2,
        barData: optionData.barData,
        barData2: barData2
    });
};

//  
exports.getAttractionCountAllType = function (options) {
    return getAnalysisAllType(options);
};

//  - 
exports.getAttractionPeopleVisitDate = function () {
    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

    var findVisualMapMax = function findVisualMapMax(data) {
        var result = 0;
        data.forEach(function (object) {
            object.list.forEach(function (item) {
                if (item.userNum > result) {
                    result = item.userNum;
                }
            });
        });
        return result;
    };
    var getAxisXData = function getAxisXData() {
        var xAxisData = [];
        var startHour = 9; // 9:00
        var endHour = 19; // 19:00
        for (var i = startHour; i <= endHour; i++) {
            xAxisData.push(i + ':00');
        }
        return xAxisData;
    };
    var datalist = options.data || [];

    var xAxisData = getAxisXData();

    var emptyList = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];

    var yAxisData = [];
    var serisdata = [];
    datalist.forEach(function (element, index) {
        yAxisData.push(element['calDate'] + "(" + element['dateWeek'] + ")");
        var list = element['list'];
        if (list.length > 0) {
            list.forEach(function (listElement, listIndex) {
                if (listIndex >= xAxisData.length) {
                    return;
                }
                serisdata.push([index, listIndex, listElement['userNum']]);
            });
        } else {
            emptyList.forEach(function (emptyElement, emptyIndex) {
                serisdata.push([index, emptyIndex, emptyElement]);
            });
        }
    });
    var splitArea = {
        show: true
    };
    var o = {
        title: options.title,
        toolbox: getAnalysisToolbox(),
        visualMap: {
            min: 0,
            max: findVisualMapMax(datalist),
            calculable: true,
            orient: 'horizontal',
            left: 'center',
            top: 5
        },
        tooltip: {
            trigger: 'item',
            position: 'top',
            formatter: function formatter(param) {
                var v = param.data || param.value || [];
                // LOG(param);
                return [param.name, '' + v[2]].join('<br />');
            }
        },
        animation: false,
        grid: grid(60, 15, 20, 120),
        xAxis: {
            type: 'category',
            data: xAxisData,
            axisTick: {
                show: false
            },
            splitArea: splitArea
        },
        yAxis: {
            type: 'category',
            data: yAxisData,
            axisTick: {
                show: false
            },
            splitArea: splitArea
        },
        series: [{
            name: '',
            type: 'heatmap',
            data: serisdata.map(function (item) {
                return [item[1], item[0], item[2] || '-'];
            }),
            label: {
                normal: {
                    show: true
                }
            },
            itemStyle: {
                emphasis: {
                    shadowBlur: 10,
                    shadowColor: 'rgba(0, 0, 0, 0.5)'
                }
            }
        }]
    };

    return EchartUtil.getXYOption(o);
};

// 
exports.getAnalysisTerminalPieOption = function (options) {
    var DATA_LIST = options.data || [];
    var pieSeriesData = [];
    var userNumOther = 0;
    DATA_LIST.sort(function (a, b) {
        return b.userNum - a.userNum;
    }).forEach(function (item, index) {
        if (index < 9) {
            pieSeriesData.push({
                name: item['phoneBrand'],
                value: item['userNum']
            });
        } else {
            userNumOther += item['userNum'];
        }
    });
    if (userNumOther) {
        pieSeriesData.push({
            name: '',
            value: userNumOther
        });
    }

    return EchartUtil.getPieOption({
        title: options.title,
        backgroundColor: themeBackgroundColor,
        series: [{
            name: '',
            data: pieSeriesData
        }]
    });
};

// 
exports.getAnalysisConsumptionPieOption = function (options) {
    var JSONData = options.data || [];
    var data = JSONData.map(function (item) {
        return {
            name: item['arpuTypeDesc'],
            value: item['userNum']
        };
    });
    return EchartUtil.getPieOption({
        title: options.title,
        backgroundColor: themeBackgroundColor,
        series: {
            name: '',
            data: data
        }
    });
};
// 
exports.getAnalysisAgePieOption = function (options) {
    var JSONData = options.data || [];
    var data = JSONData.map(function (item) {
        return {
            name: item['ageTypeDesc'],
            value: item['userNum']
        };
    });
    return EchartUtil.getPieOption({
        title: options.title,
        backgroundColor: themeBackgroundColor,
        series: {
            name: '',
            data: data
        }
    });
};

exports.getTitleOption = getTitleOption;
exports.getTitleOption2 = getTitleOption2;
exports.getLoadingChart = function (elem) {
    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    var pTheme = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : theme;

    var chart = echarts.init(elem, pTheme);
    if (options.title) {
        options.title = tool.extend({}, getTitleOption(), options.title);
    }
    chart.setOption(options);
    chart.showLoading();
    return chart;
};
var bigScreenModify = function bigScreenModify(value, factor) {
    factor = factor || config.factor;
    return Math.ceil(value / factor);
};
exports.bigScreenModify = bigScreenModify;
exports.getThemeColor = function () {
    if (typeof __WEBPACK_IMPORTED_MODULE_3_lib_echarts_theme_shine_js___default.a === 'undefined') {
        return [];
    }
    return __WEBPACK_IMPORTED_MODULE_3_lib_echarts_theme_shine_js___default.a.color;
};
exports.getThemeColorByIndex = function (i, arr) {
    return arr[i % arr.length];
};
exports.getBigShowMapOption = function (data, data2) {
    if (data2) {
        data2 = data2.map(function (v) {
            v.provinceName = v.cityDesc;
            return v;
        });
    }
    var o = exports.getAttractionSource1Option({
        data: data || []
        // data2: data2,
        // nmData: data2 || []
    });
    var geo = {
        left: 1,
        width: '100%',
        itemStyle: {
            normal: {
                // areaColor: '#024CFD',
                // areaColor: '#268DFB',
                areaColor: '#23539B',
                borderColor: '#333'
            },
            emphasis: {
                areaColor: '#4FD4F8'
            }
        }
    };
    var grid = [{
        height: 'auto',
        width: '45%',
        left: 40,
        top: 150,
        bottom: 0,
        containLabel: true
    }, {
        right: 160,
        bottom: 140
    }];
    var barBgColor = '#09E4CD';
    var geoTextColor = '#ffffff';
    var label = {
        normal: {
            textStyle: {
                fontSize: 40
            }
        }
    };
    var barlabel = {
        normal: {
            position: 'right',
            textStyle: {
                fontSize: 40
            }
        }
    };
    var axisLabel = {
        textStyle: {
            fontSize: 40
        }
    };
    var xAxis = [{
        show: false
    }];
    var yAxis = [{
        boundaryGap: true,
        axisTick: {
            show: true,
            alignWithLabel: true
        },
        axisLabel: axisLabel
    }, {
        axisLabel: axisLabel
    }];
    o = tool.extend(o, {
        title: null,
        toolbox: false,
        legend: null,
        backgroundColor: 'transparent',
        grid: grid,
        geo: geo,
        xAxis: xAxis,
        yAxis: yAxis,
        series: [{
            label: label,
            lineStyle: {
                normal: {
                    color: geoTextColor
                }
            }
        }, {
            label: label,
            lineStyle: {
                normal: {
                    color: geoTextColor
                }
            }
        }, {
            label: label,
            itemStyle: {
                normal: {
                    color: geoTextColor
                }
            }
        }, {
            label: barlabel,
            barWidth: 28,
            itemStyle: {
                normal: {
                    color: barBgColor
                }
            }

            /*
            {
                label,
                itemStyle: {
                    normal: {
                        color: barBgColor
                    }
                }
            }
            */
        }]
    });

    return o;
};
exports.getBigShowInOut = function (data) {
    var o = exports.getAttractionInOutOption({ data: data });
    return tool.extend(o, {
        legend: null,
        grid: EchartUtil.grid(10),
        dataZoom: false
    });
};
exports.getBigShowStayTime = function (data) {
    var o = exports.getCityStayTimeOption({ data: data });
    return tool.extend(o, {
        legend: false,
        toolbox: false,
        grid: EchartUtil.grid(10)
    });
};
exports.getBigShowAllType = function (data) {
    var o = exports.getCityAnalysisUserAllType({ data: data });
    return tool.extend(o, {
        toolbox: false,
        legend: false,
        brush: null,
        grid: EchartUtil.grid(20)
    });
};
exports.getBigShowAllType1 = function (data) {
    var o = exports.getCityAnalysisUserAllType({ data: data });
    var series = [o.series[0]];
    o.series = series;
    return tool.extend(o, {
        toolbox: false,
        legend: false,
        brush: null,
        grid: EchartUtil.grid(20)
    });
};
exports.getBigShowAllType2 = function (data) {
    var o = exports.getCityAnalysisUserAllType({ data: data });
    var series = [o.series[1]];
    o.series = series;
    return tool.extend(o, {
        toolbox: false,
        legend: false,
        brush: null,
        grid: EchartUtil.grid(20),
        color: ['#23539B', '#09E4CD', '#3C9DE4', '#005EFF', '#FFFFFF', '#8dc1a9', '#ea7e53', '#eedd78', '#73a373', '#73b9bc', '#7289ab']
    });
};
exports.getBigShowPieChartOption = function (o) {
    o = tool.extend(o, {
        toolbox: false,
        backgroundColor: 'tranparent',
        series: [{
            radius: [30, 60],
            center: ['50%', '50%']
        }]
    });
    return o;
};

/* harmony default export */ __webpack_exports__["a"] = (exports);

/***/ }),
/* 8 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var asap = __webpack_require__(15);

function noop() {}

// States:
//
// 0 - pending
// 1 - fulfilled with _value
// 2 - rejected with _value
// 3 - adopted the state of another promise, _value
//
// once the state is no longer pending (0) it is immutable

// All `_` prefixed properties will be reduced to `_{random number}`
// at build time to obfuscate them and discourage their use.
// We don't use symbols or Object.defineProperty to fully hide them
// because the performance isn't good enough.


// to avoid using try/catch inside critical functions, we
// extract them to here.
var LAST_ERROR = null;
var IS_ERROR = {};
function getThen(obj) {
  try {
    return obj.then;
  } catch (ex) {
    LAST_ERROR = ex;
    return IS_ERROR;
  }
}

function tryCallOne(fn, a) {
  try {
    return fn(a);
  } catch (ex) {
    LAST_ERROR = ex;
    return IS_ERROR;
  }
}
function tryCallTwo(fn, a, b) {
  try {
    fn(a, b);
  } catch (ex) {
    LAST_ERROR = ex;
    return IS_ERROR;
  }
}

module.exports = Promise;

function Promise(fn) {
  if (typeof this !== 'object') {
    throw new TypeError('Promises must be constructed via new');
  }
  if (typeof fn !== 'function') {
    throw new TypeError('not a function');
  }
  this._45 = 0;
  this._81 = 0;
  this._65 = null;
  this._54 = null;
  if (fn === noop) return;
  doResolve(fn, this);
}
Promise._10 = null;
Promise._97 = null;
Promise._61 = noop;

Promise.prototype.then = function(onFulfilled, onRejected) {
  if (this.constructor !== Promise) {
    return safeThen(this, onFulfilled, onRejected);
  }
  var res = new Promise(noop);
  handle(this, new Handler(onFulfilled, onRejected, res));
  return res;
};

function safeThen(self, onFulfilled, onRejected) {
  return new self.constructor(function (resolve, reject) {
    var res = new Promise(noop);
    res.then(resolve, reject);
    handle(self, new Handler(onFulfilled, onRejected, res));
  });
};
function handle(self, deferred) {
  while (self._81 === 3) {
    self = self._65;
  }
  if (Promise._10) {
    Promise._10(self);
  }
  if (self._81 === 0) {
    if (self._45 === 0) {
      self._45 = 1;
      self._54 = deferred;
      return;
    }
    if (self._45 === 1) {
      self._45 = 2;
      self._54 = [self._54, deferred];
      return;
    }
    self._54.push(deferred);
    return;
  }
  handleResolved(self, deferred);
}

function handleResolved(self, deferred) {
  asap(function() {
    var cb = self._81 === 1 ? deferred.onFulfilled : deferred.onRejected;
    if (cb === null) {
      if (self._81 === 1) {
        resolve(deferred.promise, self._65);
      } else {
        reject(deferred.promise, self._65);
      }
      return;
    }
    var ret = tryCallOne(cb, self._65);
    if (ret === IS_ERROR) {
      reject(deferred.promise, LAST_ERROR);
    } else {
      resolve(deferred.promise, ret);
    }
  });
}
function resolve(self, newValue) {
  // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure
  if (newValue === self) {
    return reject(
      self,
      new TypeError('A promise cannot be resolved with itself.')
    );
  }
  if (
    newValue &&
    (typeof newValue === 'object' || typeof newValue === 'function')
  ) {
    var then = getThen(newValue);
    if (then === IS_ERROR) {
      return reject(self, LAST_ERROR);
    }
    if (
      then === self.then &&
      newValue instanceof Promise
    ) {
      self._81 = 3;
      self._65 = newValue;
      finale(self);
      return;
    } else if (typeof then === 'function') {
      doResolve(then.bind(newValue), self);
      return;
    }
  }
  self._81 = 1;
  self._65 = newValue;
  finale(self);
}

function reject(self, newValue) {
  self._81 = 2;
  self._65 = newValue;
  if (Promise._97) {
    Promise._97(self, newValue);
  }
  finale(self);
}
function finale(self) {
  if (self._45 === 1) {
    handle(self, self._54);
    self._54 = null;
  }
  if (self._45 === 2) {
    for (var i = 0; i < self._54.length; i++) {
      handle(self, self._54[i]);
    }
    self._54 = null;
  }
}

function Handler(onFulfilled, onRejected, promise){
  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;
  this.onRejected = typeof onRejected === 'function' ? onRejected : null;
  this.promise = promise;
}

/**
 * Take a potentially misbehaving resolver function and make sure
 * onFulfilled and onRejected are only called once.
 *
 * Makes no guarantees about asynchrony.
 */
function doResolve(fn, promise) {
  var done = false;
  var res = tryCallTwo(fn, function (value) {
    if (done) return;
    done = true;
    resolve(promise, value);
  }, function (reason) {
    if (done) return;
    done = true;
    reject(promise, reason);
  })
  if (!done && res === IS_ERROR) {
    done = true;
    reject(promise, LAST_ERROR);
  }
}


/***/ }),
/* 9 */
/***/ (function(module, exports, __webpack_require__) {

var created = function created() {};
var mounted = function mounted() {
    var _this = this;

    setTimeout(function () {
        _this.fetchRender();
    }, 3000);
};
var activated = function activated() {};
var deactivated = function deactivated() {};
var beforeDestroy = function beforeDestroy() {
    if (this.loopTimer) {
        clearTimeout(this.loopTimer);
        this.loopTimer = null;
    }
};

var loopInterval = 9 * 1000;
var echarts = __webpack_require__(0);
var methods = {};
methods.getChartInstance = function () {
    return this.chart || echarts.init(this.$refs.chart, 'bigshow');
};
methods.loopNext = function () {
    var _this2 = this;

    this.loopTimer = setTimeout(function () {
        _this2.fetchRender();
    }, loopInterval);
};
var computed = {};
computed.chartOption = function () {
    return {
        animationDurationUpdate: 1000
    };
};
module.exports = {
    props: [],
    data: function data() {
        var o = {};
        return o;
    },
    methods: methods,
    computed: computed,
    created: created,
    mounted: mounted,
    activated: activated,
    deactivated: deactivated,
    beforeDestroy: beforeDestroy
};

/***/ }),
/* 10 */
/***/ (function(module, exports) {

module.exports = function(module) {
	if(!module.webpackPolyfill) {
		module.deprecate = function() {};
		module.paths = [];
		// module.parent = undefined by default
		if(!module.children) module.children = [];
		Object.defineProperty(module, "loaded", {
			enumerable: true,
			get: function() {
				return module.l;
			}
		});
		Object.defineProperty(module, "id", {
			enumerable: true,
			get: function() {
				return module.i;
			}
		});
		module.webpackPolyfill = 1;
	}
	return module;
};


/***/ }),
/* 11 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = function () {
    var chart = {
        theme: 'vintage'
    };
    var getNetType = function getNetType() {
        var host = location.hostname;
        if (host.indexOf('218.202') >= 0) {
            return 'internet';
        }

        if (host.indexOf('nm139') >= 0) {
            return 'internet';
        }
        return 'oa';
    };
    var getUserFlag = function getUserFlag() {
        if (!userCode) {
            return 'undefined';
        }
        if (isNaN(userCode)) {
            return userCode;
        }
        var len = userCode.length;
        if (len === 3) {
            return 'city';
        } else if (len === 4) {
            return 'scenery';
        }
        return 'unknown';
    };
    var global = window.global || {};
    var webroot = global.basePath || '/TD-nmtravel-web';
    var dev = location.port === '8899';
    var gisWebUrlBase = 'http://218.202.107.162:9106/TouristMnt';
    var nettype = getNetType();
    var userCode = global.operatorCode;
    var gisUrlBase = gisWebUrlBase;
    if (nettype === 'oa') {
        gisUrlBase = 'http://10.221.137.131:9106/TouristMnt';
    }
    var user = {
        flag: getUserFlag(),
        code: userCode || ''
    };
    return {
        dev: dev,
        nettype: nettype,
        gisWebUrlBase: gisWebUrlBase,
        gisUrlBase: gisUrlBase,
        user: user,
        loopRenderInterval: 15,
        root: webroot,
        ajaxlocal: false,
        ajaxPath: webroot + '/InnerGate',
        factor: 1.0,
        chart: chart,
        mainColor: '#eee',
        bigShowDate: '2017-05-15',
        bigShowRatio: 0.75
    };
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(13)))

/***/ }),
/* 12 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

/*!
 * Vue.js v2.1.8
 * (c) 2014-2016 Evan You
 * Released under the MIT License.
 */
!function (e, t) {
  "object" == ( false ? "undefined" : _typeof(exports)) && "undefined" != typeof module ? module.exports = t() :  true ? !(__WEBPACK_AMD_DEFINE_FACTORY__ = (t),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :
				__WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)) : e.Vue = t();
}(this, function () {
  "use strict";
  function e(e) {
    return null == e ? "" : "object" == (typeof e === "undefined" ? "undefined" : _typeof(e)) ? JSON.stringify(e, null, 2) : String(e);
  }function t(e) {
    var t = parseFloat(e, 10);return t || 0 === t ? t : e;
  }function n(e, t) {
    for (var n = Object.create(null), r = e.split(","), i = 0; i < r.length; i++) {
      n[r[i]] = !0;
    }return t ? function (e) {
      return n[e.toLowerCase()];
    } : function (e) {
      return n[e];
    };
  }function r(e, t) {
    if (e.length) {
      var n = e.indexOf(t);if (n > -1) return e.splice(n, 1);
    }
  }function i(e, t) {
    return ni.call(e, t);
  }function a(e) {
    return "string" == typeof e || "number" == typeof e;
  }function o(e) {
    var t = Object.create(null);return function (n) {
      var r = t[n];return r || (t[n] = e(n));
    };
  }function s(e, t) {
    function n(n) {
      var r = arguments.length;return r ? r > 1 ? e.apply(t, arguments) : e.call(t, n) : e.call(t);
    }return n._length = e.length, n;
  }function c(e, t) {
    t = t || 0;for (var n = e.length - t, r = new Array(n); n--;) {
      r[n] = e[n + t];
    }return r;
  }function l(e, t) {
    for (var n in t) {
      e[n] = t[n];
    }return e;
  }function u(e) {
    return null !== e && "object" == (typeof e === "undefined" ? "undefined" : _typeof(e));
  }function f(e) {
    return ci.call(e) === li;
  }function d(e) {
    for (var t = {}, n = 0; n < e.length; n++) {
      e[n] && l(t, e[n]);
    }return t;
  }function p() {}function v(e) {
    return e.reduce(function (e, t) {
      return e.concat(t.staticKeys || []);
    }, []).join(",");
  }function h(e, t) {
    var n = u(e),
        r = u(t);return n && r ? JSON.stringify(e) === JSON.stringify(t) : !n && !r && String(e) === String(t);
  }function m(e, t) {
    for (var n = 0; n < e.length; n++) {
      if (h(e[n], t)) return n;
    }return -1;
  }function g(e) {
    var t = (e + "").charCodeAt(0);return 36 === t || 95 === t;
  }function y(e, t, n, r) {
    Object.defineProperty(e, t, { value: n, enumerable: !!r, writable: !0, configurable: !0 });
  }function _(e) {
    if (!pi.test(e)) {
      var t = e.split(".");return function (e) {
        for (var n = 0; n < t.length; n++) {
          if (!e) return;e = e[t[n]];
        }return e;
      };
    }
  }function b(e) {
    return (/native code/.test(e.toString())
    );
  }function $(e) {
    Si.target && Ti.push(Si.target), Si.target = e;
  }function w() {
    Si.target = Ti.pop();
  }function C(e, t) {
    e.__proto__ = t;
  }function x(e, t, n) {
    for (var r = 0, i = n.length; r < i; r++) {
      var a = n[r];y(e, a, t[a]);
    }
  }function k(e, t) {
    if (u(e)) {
      var n;return i(e, "__ob__") && e.__ob__ instanceof Di ? n = e.__ob__ : Li.shouldConvert && !wi() && (Array.isArray(e) || f(e)) && Object.isExtensible(e) && !e._isVue && (n = new Di(e)), t && n && n.vmCount++, n;
    }
  }function A(e, t, n, r) {
    var i = new Si(),
        a = Object.getOwnPropertyDescriptor(e, t);if (!a || a.configurable !== !1) {
      var o = a && a.get,
          s = a && a.set,
          c = k(n);Object.defineProperty(e, t, { enumerable: !0, configurable: !0, get: function get() {
          var t = o ? o.call(e) : n;return Si.target && (i.depend(), c && c.dep.depend(), Array.isArray(t) && T(t)), t;
        }, set: function set(t) {
          var r = o ? o.call(e) : n;t === r || t !== t && r !== r || (s ? s.call(e, t) : n = t, c = k(t), i.notify());
        } });
    }
  }function O(e, t, n) {
    if (Array.isArray(e)) return e.length = Math.max(e.length, t), e.splice(t, 1, n), n;if (i(e, t)) return void (e[t] = n);var r = e.__ob__;if (!(e._isVue || r && r.vmCount)) return r ? (A(r.value, t, n), r.dep.notify(), n) : void (e[t] = n);
  }function S(e, t) {
    var n = e.__ob__;e._isVue || n && n.vmCount || i(e, t) && (delete e[t], n && n.dep.notify());
  }function T(e) {
    for (var t = void 0, n = 0, r = e.length; n < r; n++) {
      t = e[n], t && t.__ob__ && t.__ob__.dep.depend(), Array.isArray(t) && T(t);
    }
  }function E(e, t) {
    if (!t) return e;for (var n, r, a, o = Object.keys(t), s = 0; s < o.length; s++) {
      n = o[s], r = e[n], a = t[n], i(e, n) ? f(r) && f(a) && E(r, a) : O(e, n, a);
    }return e;
  }function j(e, t) {
    return t ? e ? e.concat(t) : Array.isArray(t) ? t : [t] : e;
  }function N(e, t) {
    var n = Object.create(e || null);return t ? l(n, t) : n;
  }function L(e) {
    var t = e.props;if (t) {
      var n,
          r,
          i,
          a = {};if (Array.isArray(t)) for (n = t.length; n--;) {
        r = t[n], "string" == typeof r && (i = ii(r), a[i] = { type: null });
      } else if (f(t)) for (var o in t) {
        r = t[o], i = ii(o), a[i] = f(r) ? r : { type: r };
      }e.props = a;
    }
  }function D(e) {
    var t = e.directives;if (t) for (var n in t) {
      var r = t[n];"function" == typeof r && (t[n] = { bind: r, update: r });
    }
  }function M(e, t, n) {
    function r(r) {
      var i = Mi[r] || Pi;u[r] = i(e[r], t[r], n, r);
    }L(t), D(t);var a = t.extends;if (a && (e = "function" == typeof a ? M(e, a.options, n) : M(e, a, n)), t.mixins) for (var o = 0, s = t.mixins.length; o < s; o++) {
      var c = t.mixins[o];c.prototype instanceof Be && (c = c.options), e = M(e, c, n);
    }var l,
        u = {};for (l in e) {
      r(l);
    }for (l in t) {
      i(e, l) || r(l);
    }return u;
  }function P(e, t, n, r) {
    if ("string" == typeof n) {
      var a = e[t];if (i(a, n)) return a[n];var o = ii(n);if (i(a, o)) return a[o];var s = ai(o);if (i(a, s)) return a[s];var c = a[n] || a[o] || a[s];return c;
    }
  }function R(e, t, n, r) {
    var a = t[e],
        o = !i(n, e),
        s = n[e];if (H(Boolean, a.type) && (o && !i(a, "default") ? s = !1 : H(String, a.type) || "" !== s && s !== si(e) || (s = !0)), void 0 === s) {
      s = I(r, a, e);var c = Li.shouldConvert;Li.shouldConvert = !0, k(s), Li.shouldConvert = c;
    }return s;
  }function I(e, t, n) {
    if (i(t, "default")) {
      var r = t.default;return u(r), e && e.$options.propsData && void 0 === e.$options.propsData[n] && void 0 !== e[n] ? e[n] : "function" == typeof r && t.type !== Function ? r.call(e) : r;
    }
  }function F(e) {
    var t = e && e.toString().match(/^\s*function (\w+)/);return t && t[1];
  }function H(e, t) {
    if (!Array.isArray(t)) return F(t) === F(e);for (var n = 0, r = t.length; n < r; n++) {
      if (F(t[n]) === F(e)) return !0;
    }return !1;
  }function U() {
    Ii.length = 0, Fi = {}, Hi = Ui = !1;
  }function B() {
    for (Ui = !0, Ii.sort(function (e, t) {
      return e.id - t.id;
    }), Bi = 0; Bi < Ii.length; Bi++) {
      var e = Ii[Bi],
          t = e.id;Fi[t] = null, e.run();
    }Ci && di.devtools && Ci.emit("flush"), U();
  }function z(e) {
    var t = e.id;if (null == Fi[t]) {
      if (Fi[t] = !0, Ui) {
        for (var n = Ii.length - 1; n >= 0 && Ii[n].id > e.id;) {
          n--;
        }Ii.splice(Math.max(n, Bi) + 1, 0, e);
      } else Ii.push(e);Hi || (Hi = !0, xi(B));
    }
  }function V(e) {
    Ki.clear(), J(e, Ki);
  }function J(e, t) {
    var n,
        r,
        i = Array.isArray(e);if ((i || u(e)) && Object.isExtensible(e)) {
      if (e.__ob__) {
        var a = e.__ob__.dep.id;if (t.has(a)) return;t.add(a);
      }if (i) for (n = e.length; n--;) {
        J(e[n], t);
      } else for (r = Object.keys(e), n = r.length; n--;) {
        J(e[r[n]], t);
      }
    }
  }function K(e) {
    e._watchers = [];var t = e.$options;t.props && q(e, t.props), t.methods && Y(e, t.methods), t.data ? W(e) : k(e._data = {}, !0), t.computed && Z(e, t.computed), t.watch && Q(e, t.watch);
  }function q(e, t) {
    var n = e.$options.propsData || {},
        r = e.$options._propKeys = Object.keys(t),
        i = !e.$parent;Li.shouldConvert = i;for (var a = function a(i) {
      var a = r[i];A(e, a, R(a, t, n, e));
    }, o = 0; o < r.length; o++) {
      a(o);
    }Li.shouldConvert = !0;
  }function W(e) {
    var t = e.$options.data;t = e._data = "function" == typeof t ? t.call(e) : t || {}, f(t) || (t = {});for (var n = Object.keys(t), r = e.$options.props, a = n.length; a--;) {
      r && i(r, n[a]) || te(e, n[a]);
    }k(t, !0);
  }function Z(e, t) {
    for (var n in t) {
      var r = t[n];"function" == typeof r ? (qi.get = G(r, e), qi.set = p) : (qi.get = r.get ? r.cache !== !1 ? G(r.get, e) : s(r.get, e) : p, qi.set = r.set ? s(r.set, e) : p), Object.defineProperty(e, n, qi);
    }
  }function G(e, t) {
    var n = new Vi(t, e, p, { lazy: !0 });return function () {
      return n.dirty && n.evaluate(), Si.target && n.depend(), n.value;
    };
  }function Y(e, t) {
    for (var n in t) {
      e[n] = null == t[n] ? p : s(t[n], e);
    }
  }function Q(e, t) {
    for (var n in t) {
      var r = t[n];if (Array.isArray(r)) for (var i = 0; i < r.length; i++) {
        X(e, n, r[i]);
      } else X(e, n, r);
    }
  }function X(e, t, n) {
    var r;f(n) && (r = n, n = n.handler), "string" == typeof n && (n = e[n]), e.$watch(t, n, r);
  }function ee(e) {
    var t = {};t.get = function () {
      return this._data;
    }, Object.defineProperty(e.prototype, "$data", t), e.prototype.$set = O, e.prototype.$delete = S, e.prototype.$watch = function (e, t, n) {
      var r = this;n = n || {}, n.user = !0;var i = new Vi(r, e, t, n);return n.immediate && t.call(r, i.value), function () {
        i.teardown();
      };
    };
  }function te(e, t) {
    g(t) || Object.defineProperty(e, t, { configurable: !0, enumerable: !0, get: function get() {
        return e._data[t];
      }, set: function set(n) {
        e._data[t] = n;
      } });
  }function ne(e) {
    return new Wi(void 0, void 0, void 0, String(e));
  }function re(e) {
    var t = new Wi(e.tag, e.data, e.children, e.text, e.elm, e.context, e.componentOptions);return t.ns = e.ns, t.isStatic = e.isStatic, t.key = e.key, t.isCloned = !0, t;
  }function ie(e) {
    for (var t = new Array(e.length), n = 0; n < e.length; n++) {
      t[n] = re(e[n]);
    }return t;
  }function ae(e, t, n, r) {
    r += t;var i = e.__injected || (e.__injected = {});if (!i[r]) {
      i[r] = !0;var a = e[t];a ? e[t] = function () {
        a.apply(this, arguments), n.apply(this, arguments);
      } : e[t] = n;
    }
  }function oe(e, t, n, r, i) {
    var a, o, s, c, l, u, f;for (a in e) {
      if (o = e[a], s = t[a], o) {
        if (s) {
          if (o !== s) if (Array.isArray(s)) {
            s.length = o.length;for (var d = 0; d < s.length; d++) {
              s[d] = o[d];
            }e[a] = s;
          } else s.fn = o, e[a] = s;
        } else f = "~" === a.charAt(0), l = f ? a.slice(1) : a, u = "!" === l.charAt(0), l = u ? l.slice(1) : l, Array.isArray(o) ? n(l, o.invoker = se(o), f, u) : (o.invoker || (c = o, o = e[a] = {}, o.fn = c, o.invoker = ce(o)), n(l, o.invoker, f, u));
      } else ;
    }for (a in t) {
      e[a] || (f = "~" === a.charAt(0), l = f ? a.slice(1) : a, u = "!" === l.charAt(0), l = u ? l.slice(1) : l, r(l, t[a].invoker, u));
    }
  }function se(e) {
    return function (t) {
      for (var n = arguments, r = 1 === arguments.length, i = 0; i < e.length; i++) {
        r ? e[i](t) : e[i].apply(null, n);
      }
    };
  }function ce(e) {
    return function (t) {
      var n = 1 === arguments.length;n ? e.fn(t) : e.fn.apply(null, arguments);
    };
  }function le(e) {
    for (var t = 0; t < e.length; t++) {
      if (Array.isArray(e[t])) return Array.prototype.concat.apply([], e);
    }return e;
  }function ue(e) {
    return a(e) ? [ne(e)] : Array.isArray(e) ? fe(e) : void 0;
  }function fe(e, t) {
    var n,
        r,
        i,
        o = [];for (n = 0; n < e.length; n++) {
      r = e[n], null != r && "boolean" != typeof r && (i = o[o.length - 1], Array.isArray(r) ? o.push.apply(o, fe(r, (t || "") + "_" + n)) : a(r) ? i && i.text ? i.text += String(r) : "" !== r && o.push(ne(r)) : r.text && i && i.text ? o[o.length - 1] = ne(i.text + r.text) : (r.tag && null == r.key && null != t && (r.key = "__vlist" + t + "_" + n + "__"), o.push(r)));
    }return o;
  }function de(e) {
    return e && e.filter(function (e) {
      return e && e.componentOptions;
    })[0];
  }function pe(e) {
    e._events = Object.create(null), e._hasHookEvent = !1;var t = e.$options._parentListeners;t && me(e, t);
  }function ve(e, t, n) {
    n ? Ji.$once(e, t) : Ji.$on(e, t);
  }function he(e, t) {
    Ji.$off(e, t);
  }function me(e, t, n) {
    Ji = e, oe(t, n || {}, ve, he, e);
  }function ge(e) {
    var t = /^hook:/;e.prototype.$on = function (e, n) {
      var r = this;return (r._events[e] || (r._events[e] = [])).push(n), t.test(e) && (r._hasHookEvent = !0), r;
    }, e.prototype.$once = function (e, t) {
      function n() {
        r.$off(e, n), t.apply(r, arguments);
      }var r = this;return n.fn = t, r.$on(e, n), r;
    }, e.prototype.$off = function (e, t) {
      var n = this;if (!arguments.length) return n._events = Object.create(null), n;var r = n._events[e];if (!r) return n;if (1 === arguments.length) return n._events[e] = null, n;for (var i, a = r.length; a--;) {
        if (i = r[a], i === t || i.fn === t) {
          r.splice(a, 1);break;
        }
      }return n;
    }, e.prototype.$emit = function (e) {
      var t = this,
          n = t._events[e];if (n) {
        n = n.length > 1 ? c(n) : n;for (var r = c(arguments, 1), i = 0, a = n.length; i < a; i++) {
          n[i].apply(t, r);
        }
      }return t;
    };
  }function ye(e) {
    var t = e.$options,
        n = t.parent;if (n && !t.abstract) {
      for (; n.$options.abstract && n.$parent;) {
        n = n.$parent;
      }n.$children.push(e);
    }e.$parent = n, e.$root = n ? n.$root : e, e.$children = [], e.$refs = {}, e._watcher = null, e._inactive = !1, e._isMounted = !1, e._isDestroyed = !1, e._isBeingDestroyed = !1;
  }function _e(e) {
    e.prototype._mount = function (e, t) {
      var n = this;return n.$el = e, n.$options.render || (n.$options.render = Zi), be(n, "beforeMount"), n._watcher = new Vi(n, function () {
        n._update(n._render(), t);
      }, p), t = !1, null == n.$vnode && (n._isMounted = !0, be(n, "mounted")), n;
    }, e.prototype._update = function (e, t) {
      var n = this;n._isMounted && be(n, "beforeUpdate");var r = n.$el,
          i = n._vnode,
          a = Gi;Gi = n, n._vnode = e, i ? n.$el = n.__patch__(i, e) : n.$el = n.__patch__(n.$el, e, t, !1, n.$options._parentElm, n.$options._refElm), Gi = a, r && (r.__vue__ = null), n.$el && (n.$el.__vue__ = n), n.$vnode && n.$parent && n.$vnode === n.$parent._vnode && (n.$parent.$el = n.$el), n._isMounted && be(n, "updated");
    }, e.prototype._updateFromParent = function (e, t, n, r) {
      var i = this,
          a = !(!i.$options._renderChildren && !r);if (i.$options._parentVnode = n, i.$vnode = n, i._vnode && (i._vnode.parent = n), i.$options._renderChildren = r, e && i.$options.props) {
        Li.shouldConvert = !1;for (var o = i.$options._propKeys || [], s = 0; s < o.length; s++) {
          var c = o[s];i[c] = R(c, i.$options.props, e, i);
        }Li.shouldConvert = !0, i.$options.propsData = e;
      }if (t) {
        var l = i.$options._parentListeners;i.$options._parentListeners = t, me(i, t, l);
      }a && (i.$slots = Ie(r, n.context), i.$forceUpdate());
    }, e.prototype.$forceUpdate = function () {
      var e = this;e._watcher && e._watcher.update();
    }, e.prototype.$destroy = function () {
      var e = this;if (!e._isBeingDestroyed) {
        be(e, "beforeDestroy"), e._isBeingDestroyed = !0;var t = e.$parent;!t || t._isBeingDestroyed || e.$options.abstract || r(t.$children, e), e._watcher && e._watcher.teardown();for (var n = e._watchers.length; n--;) {
          e._watchers[n].teardown();
        }e._data.__ob__ && e._data.__ob__.vmCount--, e._isDestroyed = !0, be(e, "destroyed"), e.$off(), e.$el && (e.$el.__vue__ = null), e.__patch__(e._vnode, null);
      }
    };
  }function be(e, t) {
    var n = e.$options[t];if (n) for (var r = 0, i = n.length; r < i; r++) {
      n[r].call(e);
    }e._hasHookEvent && e.$emit("hook:" + t);
  }function $e(e, t, n, r, i) {
    if (e) {
      var a = n.$options._base;if (u(e) && (e = a.extend(e)), "function" == typeof e) {
        if (!e.cid) if (e.resolved) e = e.resolved;else if (e = Se(e, a, function () {
          n.$forceUpdate();
        }), !e) return;Ue(e), t = t || {};var o = Te(t, e);if (e.options.functional) return we(e, o, t, n, r);var s = t.on;t.on = t.nativeOn, e.options.abstract && (t = {}), je(t);var c = e.options.name || i,
            l = new Wi("vue-component-" + e.cid + (c ? "-" + c : ""), t, void 0, void 0, void 0, n, { Ctor: e, propsData: o, listeners: s, tag: i, children: r });return l;
      }
    }
  }function we(e, t, n, r, i) {
    var a = {},
        o = e.options.props;if (o) for (var s in o) {
      a[s] = R(s, o, t);
    }var c = Object.create(r),
        l = function l(e, t, n, r) {
      return Le(c, e, t, n, r, !0);
    },
        u = e.options.render.call(null, l, { props: a, data: n, parent: r, children: i, slots: function slots() {
        return Ie(i, r);
      } });return u instanceof Wi && (u.functionalContext = r, n.slot && ((u.data || (u.data = {})).slot = n.slot)), u;
  }function Ce(e, t, n, r) {
    var i = e.componentOptions,
        a = { _isComponent: !0, parent: t, propsData: i.propsData, _componentTag: i.tag, _parentVnode: e, _parentListeners: i.listeners, _renderChildren: i.children, _parentElm: n || null, _refElm: r || null },
        o = e.data.inlineTemplate;return o && (a.render = o.render, a.staticRenderFns = o.staticRenderFns), new i.Ctor(a);
  }function xe(e, t, n, r) {
    if (!e.child || e.child._isDestroyed) {
      var i = e.child = Ce(e, Gi, n, r);i.$mount(t ? e.elm : void 0, t);
    } else if (e.data.keepAlive) {
      var a = e;ke(a, a);
    }
  }function ke(e, t) {
    var n = t.componentOptions,
        r = t.child = e.child;r._updateFromParent(n.propsData, n.listeners, t, n.children);
  }function Ae(e) {
    e.child._isMounted || (e.child._isMounted = !0, be(e.child, "mounted")), e.data.keepAlive && (e.child._inactive = !1, be(e.child, "activated"));
  }function Oe(e) {
    e.child._isDestroyed || (e.data.keepAlive ? (e.child._inactive = !0, be(e.child, "deactivated")) : e.child.$destroy());
  }function Se(e, t, n) {
    if (!e.requested) {
      e.requested = !0;var r = e.pendingCallbacks = [n],
          i = !0,
          a = function a(n) {
        if (u(n) && (n = t.extend(n)), e.resolved = n, !i) for (var a = 0, o = r.length; a < o; a++) {
          r[a](n);
        }
      },
          o = function o(e) {},
          s = e(a, o);return s && "function" == typeof s.then && !e.resolved && s.then(a, o), i = !1, e.resolved;
    }e.pendingCallbacks.push(n);
  }function Te(e, t) {
    var n = t.options.props;if (n) {
      var r = {},
          i = e.attrs,
          a = e.props,
          o = e.domProps;if (i || a || o) for (var s in n) {
        var c = si(s);Ee(r, a, s, c, !0) || Ee(r, i, s, c) || Ee(r, o, s, c);
      }return r;
    }
  }function Ee(e, t, n, r, a) {
    if (t) {
      if (i(t, n)) return e[n] = t[n], a || delete t[n], !0;if (i(t, r)) return e[n] = t[r], a || delete t[r], !0;
    }return !1;
  }function je(e) {
    e.hook || (e.hook = {});for (var t = 0; t < Qi.length; t++) {
      var n = Qi[t],
          r = e.hook[n],
          i = Yi[n];e.hook[n] = r ? Ne(i, r) : i;
    }
  }function Ne(e, t) {
    return function (n, r, i, a) {
      e(n, r, i, a), t(n, r, i, a);
    };
  }function Le(e, t, n, r, i, o) {
    return (Array.isArray(n) || a(n)) && (i = r, r = n, n = void 0), o && (i = ea), De(e, t, n, r, i);
  }function De(e, t, n, r, i) {
    if (n && n.__ob__) return Zi();if (!t) return Zi();Array.isArray(r) && "function" == typeof r[0] && (n = n || {}, n.scopedSlots = { default: r[0] }, r.length = 0), i === ea ? r = ue(r) : i === Xi && (r = le(r));var a, o;if ("string" == typeof t) {
      var s;o = di.getTagNamespace(t), a = di.isReservedTag(t) ? new Wi(di.parsePlatformTagName(t), n, r, void 0, void 0, e) : (s = P(e.$options, "components", t)) ? $e(s, n, e, r, t) : new Wi(t, n, r, void 0, void 0, e);
    } else a = $e(t, n, e, r);return a ? (o && Me(a, o), a) : Zi();
  }function Me(e, t) {
    if (e.ns = t, "foreignObject" !== e.tag && e.children) for (var n = 0, r = e.children.length; n < r; n++) {
      var i = e.children[n];i.tag && !i.ns && Me(i, t);
    }
  }function Pe(e) {
    e.$vnode = null, e._vnode = null, e._staticTrees = null;var t = e.$options._parentVnode,
        n = t && t.context;e.$slots = Ie(e.$options._renderChildren, n), e.$scopedSlots = {}, e._c = function (t, n, r, i) {
      return Le(e, t, n, r, i, !1);
    }, e.$createElement = function (t, n, r, i) {
      return Le(e, t, n, r, i, !0);
    }, e.$options.el && e.$mount(e.$options.el);
  }function Re(n) {
    function r(e, t, n) {
      if (Array.isArray(e)) for (var r = 0; r < e.length; r++) {
        e[r] && "string" != typeof e[r] && i(e[r], t + "_" + r, n);
      } else i(e, t, n);
    }function i(e, t, n) {
      e.isStatic = !0, e.key = t, e.isOnce = n;
    }n.prototype.$nextTick = function (e) {
      return xi(e, this);
    }, n.prototype._render = function () {
      var e = this,
          t = e.$options,
          n = t.render,
          r = t.staticRenderFns,
          i = t._parentVnode;if (e._isMounted) for (var a in e.$slots) {
        e.$slots[a] = ie(e.$slots[a]);
      }i && i.data.scopedSlots && (e.$scopedSlots = i.data.scopedSlots), r && !e._staticTrees && (e._staticTrees = []), e.$vnode = i;var o;try {
        o = n.call(e._renderProxy, e.$createElement);
      } catch (t) {
        if (!di.errorHandler) throw t;di.errorHandler.call(null, t, e), o = e._vnode;
      }return o instanceof Wi || (o = Zi()), o.parent = i, o;
    }, n.prototype._s = e, n.prototype._v = ne, n.prototype._n = t, n.prototype._e = Zi, n.prototype._q = h, n.prototype._i = m, n.prototype._m = function (e, t) {
      var n = this._staticTrees[e];return n && !t ? Array.isArray(n) ? ie(n) : re(n) : (n = this._staticTrees[e] = this.$options.staticRenderFns[e].call(this._renderProxy), r(n, "__static__" + e, !1), n);
    }, n.prototype._o = function (e, t, n) {
      return r(e, "__once__" + t + (n ? "_" + n : ""), !0), e;
    }, n.prototype._f = function (e) {
      return P(this.$options, "filters", e, !0) || fi;
    }, n.prototype._l = function (e, t) {
      var n, r, i, a, o;if (Array.isArray(e) || "string" == typeof e) for (n = new Array(e.length), r = 0, i = e.length; r < i; r++) {
        n[r] = t(e[r], r);
      } else if ("number" == typeof e) for (n = new Array(e), r = 0; r < e; r++) {
        n[r] = t(r + 1, r);
      } else if (u(e)) for (a = Object.keys(e), n = new Array(a.length), r = 0, i = a.length; r < i; r++) {
        o = a[r], n[r] = t(e[o], o, r);
      }return n;
    }, n.prototype._t = function (e, t, n, r) {
      var i = this.$scopedSlots[e];if (i) return n = n || {}, r && l(n, r), i(n) || t;var a = this.$slots[e];return a || t;
    }, n.prototype._b = function (e, t, n, r) {
      if (n) if (u(n)) {
        Array.isArray(n) && (n = d(n));for (var i in n) {
          if ("class" === i || "style" === i) e[i] = n[i];else {
            var a = r || di.mustUseProp(t, i) ? e.domProps || (e.domProps = {}) : e.attrs || (e.attrs = {});a[i] = n[i];
          }
        }
      } else ;return e;
    }, n.prototype._k = function (e, t, n) {
      var r = di.keyCodes[t] || n;return Array.isArray(r) ? r.indexOf(e) === -1 : r !== e;
    };
  }function Ie(e, t) {
    var n = {};if (!e) return n;for (var r, i, a = [], o = 0, s = e.length; o < s; o++) {
      if (i = e[o], (i.context === t || i.functionalContext === t) && i.data && (r = i.data.slot)) {
        var c = n[r] || (n[r] = []);"template" === i.tag ? c.push.apply(c, i.children) : c.push(i);
      } else a.push(i);
    }return a.length && (1 !== a.length || " " !== a[0].text && !a[0].isComment) && (n.default = a), n;
  }function Fe(e) {
    e.prototype._init = function (e) {
      var t = this;t._uid = ta++, t._isVue = !0, e && e._isComponent ? He(t, e) : t.$options = M(Ue(t.constructor), e || {}, t), t._renderProxy = t, t._self = t, ye(t), pe(t), be(t, "beforeCreate"), K(t), be(t, "created"), Pe(t);
    };
  }function He(e, t) {
    var n = e.$options = Object.create(e.constructor.options);n.parent = t.parent, n.propsData = t.propsData, n._parentVnode = t._parentVnode, n._parentListeners = t._parentListeners, n._renderChildren = t._renderChildren, n._componentTag = t._componentTag, n._parentElm = t._parentElm, n._refElm = t._refElm, t.render && (n.render = t.render, n.staticRenderFns = t.staticRenderFns);
  }function Ue(e) {
    var t = e.options;if (e.super) {
      var n = e.super.options,
          r = e.superOptions,
          i = e.extendOptions;n !== r && (e.superOptions = n, i.render = t.render, i.staticRenderFns = t.staticRenderFns, i._scopeId = t._scopeId, t = e.options = M(n, i), t.name && (t.components[t.name] = e));
    }return t;
  }function Be(e) {
    this._init(e);
  }function ze(e) {
    e.use = function (e) {
      if (!e.installed) {
        var t = c(arguments, 1);return t.unshift(this), "function" == typeof e.install ? e.install.apply(e, t) : e.apply(null, t), e.installed = !0, this;
      }
    };
  }function Ve(e) {
    e.mixin = function (e) {
      this.options = M(this.options, e);
    };
  }function Je(e) {
    e.cid = 0;var t = 1;e.extend = function (e) {
      e = e || {};var n = this,
          r = n.cid,
          i = e._Ctor || (e._Ctor = {});if (i[r]) return i[r];var a = e.name || n.options.name,
          o = function o(e) {
        this._init(e);
      };return o.prototype = Object.create(n.prototype), o.prototype.constructor = o, o.cid = t++, o.options = M(n.options, e), o.super = n, o.extend = n.extend, o.mixin = n.mixin, o.use = n.use, di._assetTypes.forEach(function (e) {
        o[e] = n[e];
      }), a && (o.options.components[a] = o), o.superOptions = n.options, o.extendOptions = e, i[r] = o, o;
    };
  }function Ke(e) {
    di._assetTypes.forEach(function (t) {
      e[t] = function (e, n) {
        return n ? ("component" === t && f(n) && (n.name = n.name || e, n = this.options._base.extend(n)), "directive" === t && "function" == typeof n && (n = { bind: n, update: n }), this.options[t + "s"][e] = n, n) : this.options[t + "s"][e];
      };
    });
  }function qe(e, t) {
    return "string" == typeof e ? e.split(",").indexOf(t) > -1 : e.test(t);
  }function We(e) {
    var t = {};t.get = function () {
      return di;
    }, Object.defineProperty(e, "config", t), e.util = Ri, e.set = O, e.delete = S, e.nextTick = xi, e.options = Object.create(null), di._assetTypes.forEach(function (t) {
      e.options[t + "s"] = Object.create(null);
    }), e.options._base = e, l(e.options.components, ia), ze(e), Ve(e), Je(e), Ke(e);
  }function Ze(e) {
    for (var t = e.data, n = e, r = e; r.child;) {
      r = r.child._vnode, r.data && (t = Ge(r.data, t));
    }for (; n = n.parent;) {
      n.data && (t = Ge(t, n.data));
    }return Ye(t);
  }function Ge(e, t) {
    return { staticClass: Qe(e.staticClass, t.staticClass), class: e.class ? [e.class, t.class] : t.class };
  }function Ye(e) {
    var t = e.class,
        n = e.staticClass;return n || t ? Qe(n, Xe(t)) : "";
  }function Qe(e, t) {
    return e ? t ? e + " " + t : e : t || "";
  }function Xe(e) {
    var t = "";if (!e) return t;if ("string" == typeof e) return e;if (Array.isArray(e)) {
      for (var n, r = 0, i = e.length; r < i; r++) {
        e[r] && (n = Xe(e[r])) && (t += n + " ");
      }return t.slice(0, -1);
    }if (u(e)) {
      for (var a in e) {
        e[a] && (t += a + " ");
      }return t.slice(0, -1);
    }return t;
  }function et(e) {
    return ga(e) ? "svg" : "math" === e ? "math" : void 0;
  }function tt(e) {
    if (!hi) return !0;if (_a(e)) return !1;if (e = e.toLowerCase(), null != ba[e]) return ba[e];var t = document.createElement(e);return e.indexOf("-") > -1 ? ba[e] = t.constructor === window.HTMLUnknownElement || t.constructor === window.HTMLElement : ba[e] = /HTMLUnknownElement/.test(t.toString());
  }function nt(e) {
    if ("string" == typeof e) {
      if (e = document.querySelector(e), !e) return document.createElement("div");
    }return e;
  }function rt(e, t) {
    var n = document.createElement(e);return "select" !== e ? n : (t.data && t.data.attrs && "multiple" in t.data.attrs && n.setAttribute("multiple", "multiple"), n);
  }function it(e, t) {
    return document.createElementNS(ha[e], t);
  }function at(e) {
    return document.createTextNode(e);
  }function ot(e) {
    return document.createComment(e);
  }function st(e, t, n) {
    e.insertBefore(t, n);
  }function ct(e, t) {
    e.removeChild(t);
  }function lt(e, t) {
    e.appendChild(t);
  }function ut(e) {
    return e.parentNode;
  }function ft(e) {
    return e.nextSibling;
  }function dt(e) {
    return e.tagName;
  }function pt(e, t) {
    e.textContent = t;
  }function vt(e, t, n) {
    e.setAttribute(t, n);
  }function ht(e, t) {
    var n = e.data.ref;if (n) {
      var i = e.context,
          a = e.child || e.elm,
          o = i.$refs;t ? Array.isArray(o[n]) ? r(o[n], a) : o[n] === a && (o[n] = void 0) : e.data.refInFor ? Array.isArray(o[n]) && o[n].indexOf(a) < 0 ? o[n].push(a) : o[n] = [a] : o[n] = a;
    }
  }function mt(e) {
    return null == e;
  }function gt(e) {
    return null != e;
  }function yt(e, t) {
    return e.key === t.key && e.tag === t.tag && e.isComment === t.isComment && !e.data == !t.data;
  }function _t(e, t, n) {
    var r,
        i,
        a = {};for (r = t; r <= n; ++r) {
      i = e[r].key, gt(i) && (a[i] = r);
    }return a;
  }function bt(e) {
    function t(e) {
      return new Wi(O.tagName(e).toLowerCase(), {}, [], void 0, e);
    }function r(e, t) {
      function n() {
        0 === --n.listeners && i(e);
      }return n.listeners = t, n;
    }function i(e) {
      var t = O.parentNode(e);t && O.removeChild(t, e);
    }function o(e, t, n, r, i) {
      if (e.isRootInsert = !i, !s(e, t, n, r)) {
        var a = e.data,
            o = e.children,
            c = e.tag;gt(c) ? (e.elm = e.ns ? O.createElementNS(e.ns, c) : O.createElement(c, e), v(e), u(e, o, t), gt(a) && d(e, t), l(n, e.elm, r)) : e.isComment ? (e.elm = O.createComment(e.text), l(n, e.elm, r)) : (e.elm = O.createTextNode(e.text), l(n, e.elm, r));
      }
    }function s(e, t, n, r) {
      var i = e.data;if (gt(i)) {
        var a = gt(e.child) && i.keepAlive;if (gt(i = i.hook) && gt(i = i.init) && i(e, !1, n, r), gt(e.child)) return p(e, t), a && c(e, t, n, r), !0;
      }
    }function c(e, t, n, r) {
      for (var i, a = e; a.child;) {
        if (a = a.child._vnode, gt(i = a.data) && gt(i = i.transition)) {
          for (i = 0; i < k.activate.length; ++i) {
            k.activate[i](Ca, a);
          }t.push(a);break;
        }
      }l(n, e.elm, r);
    }function l(e, t, n) {
      e && (n ? O.insertBefore(e, t, n) : O.appendChild(e, t));
    }function u(e, t, n) {
      if (Array.isArray(t)) for (var r = 0; r < t.length; ++r) {
        o(t[r], n, e.elm, null, !0);
      } else a(e.text) && O.appendChild(e.elm, O.createTextNode(e.text));
    }function f(e) {
      for (; e.child;) {
        e = e.child._vnode;
      }return gt(e.tag);
    }function d(e, t) {
      for (var n = 0; n < k.create.length; ++n) {
        k.create[n](Ca, e);
      }C = e.data.hook, gt(C) && (C.create && C.create(Ca, e), C.insert && t.push(e));
    }function p(e, t) {
      e.data.pendingInsert && t.push.apply(t, e.data.pendingInsert), e.elm = e.child.$el, f(e) ? (d(e, t), v(e)) : (ht(e), t.push(e));
    }function v(e) {
      var t;gt(t = e.context) && gt(t = t.$options._scopeId) && O.setAttribute(e.elm, t, ""), gt(t = Gi) && t !== e.context && gt(t = t.$options._scopeId) && O.setAttribute(e.elm, t, "");
    }function h(e, t, n, r, i, a) {
      for (; r <= i; ++r) {
        o(n[r], a, e, t);
      }
    }function m(e) {
      var t,
          n,
          r = e.data;if (gt(r)) for (gt(t = r.hook) && gt(t = t.destroy) && t(e), t = 0; t < k.destroy.length; ++t) {
        k.destroy[t](e);
      }if (gt(t = e.children)) for (n = 0; n < e.children.length; ++n) {
        m(e.children[n]);
      }
    }function g(e, t, n, r) {
      for (; n <= r; ++n) {
        var a = t[n];gt(a) && (gt(a.tag) ? (y(a), m(a)) : i(a.elm));
      }
    }function y(e, t) {
      if (t || gt(e.data)) {
        var n = k.remove.length + 1;for (t ? t.listeners += n : t = r(e.elm, n), gt(C = e.child) && gt(C = C._vnode) && gt(C.data) && y(C, t), C = 0; C < k.remove.length; ++C) {
          k.remove[C](e, t);
        }gt(C = e.data.hook) && gt(C = C.remove) ? C(e, t) : t();
      } else i(e.elm);
    }function _(e, t, n, r, i) {
      for (var a, s, c, l, u = 0, f = 0, d = t.length - 1, p = t[0], v = t[d], m = n.length - 1, y = n[0], _ = n[m], $ = !i; u <= d && f <= m;) {
        mt(p) ? p = t[++u] : mt(v) ? v = t[--d] : yt(p, y) ? (b(p, y, r), p = t[++u], y = n[++f]) : yt(v, _) ? (b(v, _, r), v = t[--d], _ = n[--m]) : yt(p, _) ? (b(p, _, r), $ && O.insertBefore(e, p.elm, O.nextSibling(v.elm)), p = t[++u], _ = n[--m]) : yt(v, y) ? (b(v, y, r), $ && O.insertBefore(e, v.elm, p.elm), v = t[--d], y = n[++f]) : (mt(a) && (a = _t(t, u, d)), s = gt(y.key) ? a[y.key] : null, mt(s) ? (o(y, r, e, p.elm), y = n[++f]) : (c = t[s], yt(c, y) ? (b(c, y, r), t[s] = void 0, $ && O.insertBefore(e, y.elm, p.elm), y = n[++f]) : (o(y, r, e, p.elm), y = n[++f])));
      }u > d ? (l = mt(n[m + 1]) ? null : n[m + 1].elm, h(e, l, n, f, m, r)) : f > m && g(e, t, u, d);
    }function b(e, t, n, r) {
      if (e !== t) {
        if (t.isStatic && e.isStatic && t.key === e.key && (t.isCloned || t.isOnce)) return t.elm = e.elm, void (t.child = e.child);var i,
            a = t.data,
            o = gt(a);o && gt(i = a.hook) && gt(i = i.prepatch) && i(e, t);var s = t.elm = e.elm,
            c = e.children,
            l = t.children;if (o && f(t)) {
          for (i = 0; i < k.update.length; ++i) {
            k.update[i](e, t);
          }gt(i = a.hook) && gt(i = i.update) && i(e, t);
        }mt(t.text) ? gt(c) && gt(l) ? c !== l && _(s, c, l, n, r) : gt(l) ? (gt(e.text) && O.setTextContent(s, ""), h(s, null, l, 0, l.length - 1, n)) : gt(c) ? g(s, c, 0, c.length - 1) : gt(e.text) && O.setTextContent(s, "") : e.text !== t.text && O.setTextContent(s, t.text), o && gt(i = a.hook) && gt(i = i.postpatch) && i(e, t);
      }
    }function $(e, t, n) {
      if (n && e.parent) e.parent.data.pendingInsert = t;else for (var r = 0; r < t.length; ++r) {
        t[r].data.hook.insert(t[r]);
      }
    }function w(e, t, n) {
      t.elm = e;var r = t.tag,
          i = t.data,
          a = t.children;if (gt(i) && (gt(C = i.hook) && gt(C = C.init) && C(t, !0), gt(C = t.child))) return p(t, n), !0;if (gt(r)) {
        if (gt(a)) if (e.hasChildNodes()) {
          for (var o = !0, s = e.firstChild, c = 0; c < a.length; c++) {
            if (!s || !w(s, a[c], n)) {
              o = !1;break;
            }s = s.nextSibling;
          }if (!o || s) return !1;
        } else u(t, a, n);if (gt(i)) for (var l in i) {
          if (!S(l)) {
            d(t, n);break;
          }
        }
      } else e.data !== t.text && (e.data = t.text);return !0;
    }var C,
        x,
        k = {},
        A = e.modules,
        O = e.nodeOps;for (C = 0; C < xa.length; ++C) {
      for (k[xa[C]] = [], x = 0; x < A.length; ++x) {
        void 0 !== A[x][xa[C]] && k[xa[C]].push(A[x][xa[C]]);
      }
    }var S = n("attrs,style,class,staticClass,staticStyle,key");return function (e, n, r, i, a, s) {
      if (!n) return void (e && m(e));var c,
          l,
          u = !1,
          d = [];if (e) {
        var p = gt(e.nodeType);if (!p && yt(e, n)) b(e, n, d, i);else {
          if (p) {
            if (1 === e.nodeType && e.hasAttribute("server-rendered") && (e.removeAttribute("server-rendered"), r = !0), r && w(e, n, d)) return $(n, d, !0), e;e = t(e);
          }if (c = e.elm, l = O.parentNode(c), o(n, d, l, O.nextSibling(c)), n.parent) {
            for (var v = n.parent; v;) {
              v.elm = n.elm, v = v.parent;
            }if (f(n)) for (var h = 0; h < k.create.length; ++h) {
              k.create[h](Ca, n.parent);
            }
          }null !== l ? g(l, [e], 0, 0) : gt(e.tag) && m(e);
        }
      } else u = !0, o(n, d, a, s);return $(n, d, u), n.elm;
    };
  }function $t(e, t) {
    (e.data.directives || t.data.directives) && wt(e, t);
  }function wt(e, t) {
    var n,
        r,
        i,
        a = e === Ca,
        o = t === Ca,
        s = Ct(e.data.directives, e.context),
        c = Ct(t.data.directives, t.context),
        l = [],
        u = [];for (n in c) {
      r = s[n], i = c[n], r ? (i.oldValue = r.value, kt(i, "update", t, e), i.def && i.def.componentUpdated && u.push(i)) : (kt(i, "bind", t, e), i.def && i.def.inserted && l.push(i));
    }if (l.length) {
      var f = function f() {
        for (var n = 0; n < l.length; n++) {
          kt(l[n], "inserted", t, e);
        }
      };a ? ae(t.data.hook || (t.data.hook = {}), "insert", f, "dir-insert") : f();
    }if (u.length && ae(t.data.hook || (t.data.hook = {}), "postpatch", function () {
      for (var n = 0; n < u.length; n++) {
        kt(u[n], "componentUpdated", t, e);
      }
    }, "dir-postpatch"), !a) for (n in s) {
      c[n] || kt(s[n], "unbind", e, e, o);
    }
  }function Ct(e, t) {
    var n = Object.create(null);if (!e) return n;var r, i;for (r = 0; r < e.length; r++) {
      i = e[r], i.modifiers || (i.modifiers = Aa), n[xt(i)] = i, i.def = P(t.$options, "directives", i.name, !0);
    }return n;
  }function xt(e) {
    return e.rawName || e.name + "." + Object.keys(e.modifiers || {}).join(".");
  }function kt(e, t, n, r, i) {
    var a = e.def && e.def[t];a && a(n.elm, e, n, r, i);
  }function At(e, t) {
    if (e.data.attrs || t.data.attrs) {
      var n,
          r,
          i,
          a = t.elm,
          o = e.data.attrs || {},
          s = t.data.attrs || {};s.__ob__ && (s = t.data.attrs = l({}, s));for (n in s) {
        r = s[n], i = o[n], i !== r && Ot(a, n, r);
      }yi && s.value !== o.value && Ot(a, "value", s.value);for (n in o) {
        null == s[n] && (da(n) ? a.removeAttributeNS(fa, pa(n)) : la(n) || a.removeAttribute(n));
      }
    }
  }function Ot(e, t, n) {
    ua(t) ? va(n) ? e.removeAttribute(t) : e.setAttribute(t, t) : la(t) ? e.setAttribute(t, va(n) || "false" === n ? "false" : "true") : da(t) ? va(n) ? e.removeAttributeNS(fa, pa(t)) : e.setAttributeNS(fa, t, n) : va(n) ? e.removeAttribute(t) : e.setAttribute(t, n);
  }function St(e, t) {
    var n = t.elm,
        r = t.data,
        i = e.data;if (r.staticClass || r.class || i && (i.staticClass || i.class)) {
      var a = Ze(t),
          o = n._transitionClasses;o && (a = Qe(a, Xe(o))), a !== n._prevClass && (n.setAttribute("class", a), n._prevClass = a);
    }
  }function Tt(e, _t2, n, r) {
    if (n) {
      var i = _t2;_t2 = function t(n) {
        Et(e, _t2, r), 1 === arguments.length ? i(n) : i.apply(null, arguments);
      };
    }aa.addEventListener(e, _t2, r);
  }function Et(e, t, n) {
    aa.removeEventListener(e, t, n);
  }function jt(e, t) {
    if (e.data.on || t.data.on) {
      var n = t.data.on || {},
          r = e.data.on || {};aa = t.elm, oe(n, r, Tt, Et, t.context);
    }
  }function Nt(e, t) {
    if (e.data.domProps || t.data.domProps) {
      var n,
          r,
          i = t.elm,
          a = e.data.domProps || {},
          o = t.data.domProps || {};o.__ob__ && (o = t.data.domProps = l({}, o));for (n in a) {
        null == o[n] && (i[n] = "");
      }for (n in o) {
        if (r = o[n], ("textContent" !== n && "innerHTML" !== n || (t.children && (t.children.length = 0), r !== a[n])) && ("checked" !== n || Dt(i, r))) if ("value" === n) {
          i._value = r;var s = null == r ? "" : String(r);Lt(i, t, s) && (i.value = s);
        } else i[n] = r;
      }
    }
  }function Lt(e, t, n) {
    return !(e.composing || "option" !== t.tag && !Dt(e, n) && !Mt(t, n));
  }function Dt(e, t) {
    return document.activeElement !== e && e.value !== t;
  }function Mt(e, n) {
    var r = e.elm.value,
        i = e.elm._vModifiers;return i && i.number || "number" === e.elm.type ? t(r) !== t(n) : i && i.trim ? r.trim() !== n.trim() : r !== n;
  }function Pt(e) {
    var t = Rt(e.style);return e.staticStyle ? l(e.staticStyle, t) : t;
  }function Rt(e) {
    return Array.isArray(e) ? d(e) : "string" == typeof e ? Na(e) : e;
  }function It(e, t) {
    var n,
        r = {};if (t) for (var i = e; i.child;) {
      i = i.child._vnode, i.data && (n = Pt(i.data)) && l(r, n);
    }(n = Pt(e.data)) && l(r, n);for (var a = e; a = a.parent;) {
      a.data && (n = Pt(a.data)) && l(r, n);
    }return r;
  }function Ft(e, t) {
    var n = t.data,
        r = e.data;if (n.staticStyle || n.style || r.staticStyle || r.style) {
      var i,
          a,
          o = t.elm,
          s = e.data.staticStyle,
          c = e.data.style || {},
          u = s || c,
          f = Rt(t.data.style) || {};t.data.style = f.__ob__ ? l({}, f) : f;var d = It(t, !0);for (a in u) {
        null == d[a] && Ma(o, a, "");
      }for (a in d) {
        i = d[a], i !== u[a] && Ma(o, a, null == i ? "" : i);
      }
    }
  }function Ht(e, t) {
    if (t && t.trim()) if (e.classList) t.indexOf(" ") > -1 ? t.split(/\s+/).forEach(function (t) {
      return e.classList.add(t);
    }) : e.classList.add(t);else {
      var n = " " + e.getAttribute("class") + " ";n.indexOf(" " + t + " ") < 0 && e.setAttribute("class", (n + t).trim());
    }
  }function Ut(e, t) {
    if (t && t.trim()) if (e.classList) t.indexOf(" ") > -1 ? t.split(/\s+/).forEach(function (t) {
      return e.classList.remove(t);
    }) : e.classList.remove(t);else {
      for (var n = " " + e.getAttribute("class") + " ", r = " " + t + " "; n.indexOf(r) >= 0;) {
        n = n.replace(r, " ");
      }e.setAttribute("class", n.trim());
    }
  }function Bt(e) {
    Ka(function () {
      Ka(e);
    });
  }function zt(e, t) {
    (e._transitionClasses || (e._transitionClasses = [])).push(t), Ht(e, t);
  }function Vt(e, t) {
    e._transitionClasses && r(e._transitionClasses, t), Ut(e, t);
  }function Jt(e, t, n) {
    var r = Kt(e, t),
        i = r.type,
        a = r.timeout,
        o = r.propCount;if (!i) return n();var s = i === Ha ? za : Ja,
        c = 0,
        l = function l() {
      e.removeEventListener(s, u), n();
    },
        u = function u(t) {
      t.target === e && ++c >= o && l();
    };setTimeout(function () {
      c < o && l();
    }, a + 1), e.addEventListener(s, u);
  }function Kt(e, t) {
    var n,
        r = window.getComputedStyle(e),
        i = r[Ba + "Delay"].split(", "),
        a = r[Ba + "Duration"].split(", "),
        o = qt(i, a),
        s = r[Va + "Delay"].split(", "),
        c = r[Va + "Duration"].split(", "),
        l = qt(s, c),
        u = 0,
        f = 0;t === Ha ? o > 0 && (n = Ha, u = o, f = a.length) : t === Ua ? l > 0 && (n = Ua, u = l, f = c.length) : (u = Math.max(o, l), n = u > 0 ? o > l ? Ha : Ua : null, f = n ? n === Ha ? a.length : c.length : 0);var d = n === Ha && qa.test(r[Ba + "Property"]);return { type: n, timeout: u, propCount: f, hasTransform: d };
  }function qt(e, t) {
    for (; e.length < t.length;) {
      e = e.concat(e);
    }return Math.max.apply(null, t.map(function (t, n) {
      return Wt(t) + Wt(e[n]);
    }));
  }function Wt(e) {
    return 1e3 * Number(e.slice(0, -1));
  }function Zt(e, t) {
    var n = e.elm;n._leaveCb && (n._leaveCb.cancelled = !0, n._leaveCb());var r = Yt(e.data.transition);if (r && !n._enterCb && 1 === n.nodeType) {
      for (var i = r.css, a = r.type, o = r.enterClass, s = r.enterToClass, c = r.enterActiveClass, l = r.appearClass, u = r.appearToClass, f = r.appearActiveClass, d = r.beforeEnter, p = r.enter, v = r.afterEnter, h = r.enterCancelled, m = r.beforeAppear, g = r.appear, y = r.afterAppear, _ = r.appearCancelled, b = Gi, $ = Gi.$vnode; $ && $.parent;) {
        $ = $.parent, b = $.context;
      }var w = !b._isMounted || !e.isRootInsert;if (!w || g || "" === g) {
        var C = w ? l : o,
            x = w ? f : c,
            k = w ? u : s,
            A = w ? m || d : d,
            O = w && "function" == typeof g ? g : p,
            S = w ? y || v : v,
            T = w ? _ || h : h,
            E = i !== !1 && !yi,
            j = O && (O._length || O.length) > 1,
            N = n._enterCb = Qt(function () {
          E && (Vt(n, k), Vt(n, x)), N.cancelled ? (E && Vt(n, C), T && T(n)) : S && S(n), n._enterCb = null;
        });e.data.show || ae(e.data.hook || (e.data.hook = {}), "insert", function () {
          var t = n.parentNode,
              r = t && t._pending && t._pending[e.key];r && r.context === e.context && r.tag === e.tag && r.elm._leaveCb && r.elm._leaveCb(), O && O(n, N);
        }, "transition-insert"), A && A(n), E && (zt(n, C), zt(n, x), Bt(function () {
          zt(n, k), Vt(n, C), N.cancelled || j || Jt(n, a, N);
        })), e.data.show && (t && t(), O && O(n, N)), E || j || N();
      }
    }
  }function Gt(e, t) {
    function n() {
      g.cancelled || (e.data.show || ((r.parentNode._pending || (r.parentNode._pending = {}))[e.key] = e), u && u(r), h && (zt(r, s), zt(r, l), Bt(function () {
        zt(r, c), Vt(r, s), g.cancelled || m || Jt(r, o, g);
      })), f && f(r, g), h || m || g());
    }var r = e.elm;r._enterCb && (r._enterCb.cancelled = !0, r._enterCb());var i = Yt(e.data.transition);if (!i) return t();if (!r._leaveCb && 1 === r.nodeType) {
      var a = i.css,
          o = i.type,
          s = i.leaveClass,
          c = i.leaveToClass,
          l = i.leaveActiveClass,
          u = i.beforeLeave,
          f = i.leave,
          d = i.afterLeave,
          p = i.leaveCancelled,
          v = i.delayLeave,
          h = a !== !1 && !yi,
          m = f && (f._length || f.length) > 1,
          g = r._leaveCb = Qt(function () {
        r.parentNode && r.parentNode._pending && (r.parentNode._pending[e.key] = null), h && (Vt(r, c), Vt(r, l)), g.cancelled ? (h && Vt(r, s), p && p(r)) : (t(), d && d(r)), r._leaveCb = null;
      });v ? v(n) : n();
    }
  }function Yt(e) {
    if (e) {
      if ("object" == (typeof e === "undefined" ? "undefined" : _typeof(e))) {
        var t = {};return e.css !== !1 && l(t, Wa(e.name || "v")), l(t, e), t;
      }return "string" == typeof e ? Wa(e) : void 0;
    }
  }function Qt(e) {
    var t = !1;return function () {
      t || (t = !0, e());
    };
  }function Xt(e, t) {
    t.data.show || Zt(t);
  }function en(e, t, n) {
    var r = t.value,
        i = e.multiple;if (!i || Array.isArray(r)) {
      for (var a, o, s = 0, c = e.options.length; s < c; s++) {
        if (o = e.options[s], i) a = m(r, nn(o)) > -1, o.selected !== a && (o.selected = a);else if (h(nn(o), r)) return void (e.selectedIndex !== s && (e.selectedIndex = s));
      }i || (e.selectedIndex = -1);
    }
  }function tn(e, t) {
    for (var n = 0, r = t.length; n < r; n++) {
      if (h(nn(t[n]), e)) return !1;
    }return !0;
  }function nn(e) {
    return "_value" in e ? e._value : e.value;
  }function rn(e) {
    e.target.composing = !0;
  }function an(e) {
    e.target.composing = !1, on(e.target, "input");
  }function on(e, t) {
    var n = document.createEvent("HTMLEvents");n.initEvent(t, !0, !0), e.dispatchEvent(n);
  }function sn(e) {
    return !e.child || e.data && e.data.transition ? e : sn(e.child._vnode);
  }function cn(e) {
    var t = e && e.componentOptions;return t && t.Ctor.options.abstract ? cn(de(t.children)) : e;
  }function ln(e) {
    var t = {},
        n = e.$options;for (var r in n.propsData) {
      t[r] = e[r];
    }var i = n._parentListeners;for (var a in i) {
      t[ii(a)] = i[a].fn;
    }return t;
  }function un(e, t) {
    return (/\d-keep-alive$/.test(t.tag) ? e("keep-alive") : null
    );
  }function fn(e) {
    for (; e = e.parent;) {
      if (e.data.transition) return !0;
    }
  }function dn(e, t) {
    return t.key === e.key && t.tag === e.tag;
  }function pn(e) {
    e.elm._moveCb && e.elm._moveCb(), e.elm._enterCb && e.elm._enterCb();
  }function vn(e) {
    e.data.newPos = e.elm.getBoundingClientRect();
  }function hn(e) {
    var t = e.data.pos,
        n = e.data.newPos,
        r = t.left - n.left,
        i = t.top - n.top;if (r || i) {
      e.data.moved = !0;var a = e.elm.style;a.transform = a.WebkitTransform = "translate(" + r + "px," + i + "px)", a.transitionDuration = "0s";
    }
  }function mn(e, t) {
    var n = document.createElement("div");return n.innerHTML = '<div a="' + e + '">', n.innerHTML.indexOf(t) > 0;
  }function gn(e) {
    return so = so || document.createElement("div"), so.innerHTML = e, so.textContent;
  }function yn(e, t) {
    return t && (e = e.replace(rs, "\n")), e.replace(ts, "<").replace(ns, ">").replace(is, "&").replace(as, '"');
  }function _n(e, t) {
    function n(t) {
      f += t, e = e.substring(t);
    }function r() {
      var t = e.match(_o);if (t) {
        var r = { tagName: t[1], attrs: [], start: f };n(t[0].length);for (var i, a; !(i = e.match(bo)) && (a = e.match(mo));) {
          n(a[0].length), r.attrs.push(a);
        }if (i) return r.unarySlash = i[1], n(i[0].length), r.end = f, r;
      }
    }function i(e) {
      var n = e.tagName,
          r = e.unarySlash;l && ("p" === s && fo(n) && a("", s), uo(n) && s === n && a("", n));for (var i = u(n) || "html" === n && "head" === s || !!r, o = e.attrs.length, f = new Array(o), d = 0; d < o; d++) {
        var p = e.attrs[d];ko && p[0].indexOf('""') === -1 && ("" === p[3] && delete p[3], "" === p[4] && delete p[4], "" === p[5] && delete p[5]);var v = p[3] || p[4] || p[5] || "";f[d] = { name: p[1], value: yn(v, t.shouldDecodeNewlines) };
      }i || (c.push({ tag: n, attrs: f }), s = n, r = ""), t.start && t.start(n, f, i, e.start, e.end);
    }function a(e, n, r, i) {
      var a;if (null == r && (r = f), null == i && (i = f), n) {
        var o = n.toLowerCase();for (a = c.length - 1; a >= 0 && c[a].tag.toLowerCase() !== o; a--) {}
      } else a = 0;if (a >= 0) {
        for (var l = c.length - 1; l >= a; l--) {
          t.end && t.end(c[l].tag, r, i);
        }c.length = a, s = a && c[a - 1].tag;
      } else "br" === n.toLowerCase() ? t.start && t.start(n, [], !0, r, i) : "p" === n.toLowerCase() && (t.start && t.start(n, [], !1, r, i), t.end && t.end(n, r, i));
    }for (var o, s, c = [], l = t.expectHTML, u = t.isUnaryTag || ui, f = 0; e;) {
      if (o = e, s && Xo(s, t.sfc, c)) {
        var d = s.toLowerCase(),
            p = es[d] || (es[d] = new RegExp("([\\s\\S]*?)(</" + d + "[^>]*>)", "i")),
            v = 0,
            h = e.replace(p, function (e, n, r) {
          return v = r.length, "script" !== d && "style" !== d && "noscript" !== d && (n = n.replace(/<!--([\s\S]*?)-->/g, "$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g, "$1")), t.chars && t.chars(n), "";
        });f += e.length - h.length, e = h, a("</" + d + ">", d, f - v, f);
      } else {
        var m = e.indexOf("<");if (0 === m) {
          if (Co.test(e)) {
            var g = e.indexOf("-->");if (g >= 0) {
              n(g + 3);continue;
            }
          }if (xo.test(e)) {
            var y = e.indexOf("]>");if (y >= 0) {
              n(y + 2);continue;
            }
          }var _ = e.match(wo);if (_) {
            n(_[0].length);continue;
          }var b = e.match($o);if (b) {
            var $ = f;n(b[0].length), a(b[0], b[1], $, f);continue;
          }var w = r();if (w) {
            i(w);continue;
          }
        }var C = void 0,
            x = void 0,
            k = void 0;if (m > 0) {
          for (x = e.slice(m); !($o.test(x) || _o.test(x) || Co.test(x) || xo.test(x) || (k = x.indexOf("<", 1), k < 0));) {
            m += k, x = e.slice(m);
          }C = e.substring(0, m), n(m);
        }m < 0 && (C = e, e = ""), t.chars && C && t.chars(C);
      }if (e === o && t.chars) {
        t.chars(e);break;
      }
    }a();
  }function bn(e) {
    function t() {
      (o || (o = [])).push(e.slice(v, i).trim()), v = i + 1;
    }var n,
        r,
        i,
        a,
        o,
        s = !1,
        c = !1,
        l = !1,
        u = !1,
        f = 0,
        d = 0,
        p = 0,
        v = 0;for (i = 0; i < e.length; i++) {
      if (r = n, n = e.charCodeAt(i), s) 39 === n && 92 !== r && (s = !1);else if (c) 34 === n && 92 !== r && (c = !1);else if (l) 96 === n && 92 !== r && (l = !1);else if (u) 47 === n && 92 !== r && (u = !1);else if (124 !== n || 124 === e.charCodeAt(i + 1) || 124 === e.charCodeAt(i - 1) || f || d || p) {
        switch (n) {case 34:
            c = !0;break;case 39:
            s = !0;break;case 96:
            l = !0;break;case 40:
            p++;break;case 41:
            p--;break;case 91:
            d++;break;case 93:
            d--;break;case 123:
            f++;break;case 125:
            f--;}if (47 === n) {
          for (var h = i - 1, m = void 0; h >= 0 && (m = e.charAt(h), " " === m); h--) {}m && /[\w$]/.test(m) || (u = !0);
        }
      } else void 0 === a ? (v = i + 1, a = e.slice(0, i).trim()) : t();
    }if (void 0 === a ? a = e.slice(0, i).trim() : 0 !== v && t(), o) for (i = 0; i < o.length; i++) {
      a = $n(a, o[i]);
    }return a;
  }function $n(e, t) {
    var n = t.indexOf("(");if (n < 0) return '_f("' + t + '")(' + e + ")";var r = t.slice(0, n),
        i = t.slice(n + 1);return '_f("' + r + '")(' + e + "," + i;
  }function wn(e, t) {
    var n = t ? cs(t) : os;if (n.test(e)) {
      for (var r, i, a = [], o = n.lastIndex = 0; r = n.exec(e);) {
        i = r.index, i > o && a.push(JSON.stringify(e.slice(o, i)));var s = bn(r[1].trim());a.push("_s(" + s + ")"), o = i + r[0].length;
      }return o < e.length && a.push(JSON.stringify(e.slice(o))), a.join("+");
    }
  }function Cn(e) {
    console.error("[Vue parser]: " + e);
  }function xn(e, t) {
    return e ? e.map(function (e) {
      return e[t];
    }).filter(function (e) {
      return e;
    }) : [];
  }function kn(e, t, n) {
    (e.props || (e.props = [])).push({ name: t, value: n });
  }function An(e, t, n) {
    (e.attrs || (e.attrs = [])).push({ name: t, value: n });
  }function On(e, t, n, r, i, a) {
    (e.directives || (e.directives = [])).push({ name: t, rawName: n, value: r, arg: i, modifiers: a });
  }function Sn(e, t, n, r, i) {
    r && r.capture && (delete r.capture, t = "!" + t), r && r.once && (delete r.once, t = "~" + t);var a;r && r.native ? (delete r.native, a = e.nativeEvents || (e.nativeEvents = {})) : a = e.events || (e.events = {});var o = { value: n, modifiers: r },
        s = a[t];Array.isArray(s) ? i ? s.unshift(o) : s.push(o) : s ? a[t] = i ? [o, s] : [s, o] : a[t] = o;
  }function Tn(e, t, n) {
    var r = En(e, ":" + t) || En(e, "v-bind:" + t);if (null != r) return bn(r);if (n !== !1) {
      var i = En(e, t);if (null != i) return JSON.stringify(i);
    }
  }function En(e, t) {
    var n;if (null != (n = e.attrsMap[t])) for (var r = e.attrsList, i = 0, a = r.length; i < a; i++) {
      if (r[i].name === t) {
        r.splice(i, 1);break;
      }
    }return n;
  }function jn(e) {
    if (Oo = e, Ao = Oo.length, To = Eo = jo = 0, e.indexOf("[") < 0 || e.lastIndexOf("]") < Ao - 1) return { exp: e, idx: null };for (; !Ln();) {
      So = Nn(), Dn(So) ? Pn(So) : 91 === So && Mn(So);
    }return { exp: e.substring(0, Eo), idx: e.substring(Eo + 1, jo) };
  }function Nn() {
    return Oo.charCodeAt(++To);
  }function Ln() {
    return To >= Ao;
  }function Dn(e) {
    return 34 === e || 39 === e;
  }function Mn(e) {
    var t = 1;for (Eo = To; !Ln();) {
      if (e = Nn(), Dn(e)) Pn(e);else if (91 === e && t++, 93 === e && t--, 0 === t) {
        jo = To;break;
      }
    }
  }function Pn(e) {
    for (var t = e; !Ln() && (e = Nn(), e !== t);) {}
  }function Rn(e, t) {
    No = t.warn || Cn, Lo = t.getTagNamespace || ui, Do = t.mustUseProp || ui, Mo = t.isPreTag || ui, Po = xn(t.modules, "preTransformNode"), Ro = xn(t.modules, "transformNode"), Io = xn(t.modules, "postTransformNode"), Fo = t.delimiters;var n,
        r,
        i = [],
        a = t.preserveWhitespace !== !1,
        o = !1,
        s = !1;return _n(e, { expectHTML: t.expectHTML, isUnaryTag: t.isUnaryTag, shouldDecodeNewlines: t.shouldDecodeNewlines, start: function start(e, a, c) {
        function l(e) {}var u = r && r.ns || Lo(e);gi && "svg" === u && (a = tr(a));var f = { type: 1, tag: e, attrsList: a, attrsMap: Xn(a), parent: r, children: [] };u && (f.ns = u), er(f) && !wi() && (f.forbidden = !0);for (var d = 0; d < Po.length; d++) {
          Po[d](f, t);
        }if (o || (In(f), f.pre && (o = !0)), Mo(f.tag) && (s = !0), o) Fn(f);else {
          Bn(f), zn(f), qn(f), Hn(f), f.plain = !f.key && !a.length, Un(f), Wn(f), Zn(f);for (var p = 0; p < Ro.length; p++) {
            Ro[p](f, t);
          }Gn(f);
        }if (n ? i.length || n.if && (f.elseif || f.else) && (l(f), Kn(n, { exp: f.elseif, block: f })) : (n = f, l(n)), r && !f.forbidden) if (f.elseif || f.else) Vn(f, r);else if (f.slotScope) {
          r.plain = !1;var v = f.slotTarget || "default";(r.scopedSlots || (r.scopedSlots = {}))[v] = f;
        } else r.children.push(f), f.parent = r;c || (r = f, i.push(f));for (var h = 0; h < Io.length; h++) {
          Io[h](f, t);
        }
      }, end: function end() {
        var e = i[i.length - 1],
            t = e.children[e.children.length - 1];t && 3 === t.type && " " === t.text && e.children.pop(), i.length -= 1, r = i[i.length - 1], e.pre && (o = !1), Mo(e.tag) && (s = !1);
      }, chars: function chars(e) {
        if (r && (!gi || "textarea" !== r.tag || r.attrsMap.placeholder !== e)) {
          var t = r.children;if (e = s || e.trim() ? ms(e) : a && t.length ? " " : "") {
            var n;!o && " " !== e && (n = wn(e, Fo)) ? t.push({ type: 2, expression: n, text: e }) : " " === e && " " === t[t.length - 1].text || r.children.push({ type: 3, text: e });
          }
        }
      } }), n;
  }function In(e) {
    null != En(e, "v-pre") && (e.pre = !0);
  }function Fn(e) {
    var t = e.attrsList.length;if (t) for (var n = e.attrs = new Array(t), r = 0; r < t; r++) {
      n[r] = { name: e.attrsList[r].name, value: JSON.stringify(e.attrsList[r].value) };
    } else e.pre || (e.plain = !0);
  }function Hn(e) {
    var t = Tn(e, "key");t && (e.key = t);
  }function Un(e) {
    var t = Tn(e, "ref");t && (e.ref = t, e.refInFor = Yn(e));
  }function Bn(e) {
    var t;if (t = En(e, "v-for")) {
      var n = t.match(us);if (!n) return;e.for = n[2].trim();var r = n[1].trim(),
          i = r.match(fs);i ? (e.alias = i[1].trim(), e.iterator1 = i[2].trim(), i[3] && (e.iterator2 = i[3].trim())) : e.alias = r;
    }
  }function zn(e) {
    var t = En(e, "v-if");if (t) e.if = t, Kn(e, { exp: t, block: e });else {
      null != En(e, "v-else") && (e.else = !0);var n = En(e, "v-else-if");n && (e.elseif = n);
    }
  }function Vn(e, t) {
    var n = Jn(t.children);n && n.if && Kn(n, { exp: e.elseif, block: e });
  }function Jn(e) {
    for (var t = e.length; t--;) {
      if (1 === e[t].type) return e[t];e.pop();
    }
  }function Kn(e, t) {
    e.ifConditions || (e.ifConditions = []), e.ifConditions.push(t);
  }function qn(e) {
    var t = En(e, "v-once");null != t && (e.once = !0);
  }function Wn(e) {
    if ("slot" === e.tag) e.slotName = Tn(e, "name");else {
      var t = Tn(e, "slot");t && (e.slotTarget = '""' === t ? '"default"' : t), "template" === e.tag && (e.slotScope = En(e, "scope"));
    }
  }function Zn(e) {
    var t;(t = Tn(e, "is")) && (e.component = t), null != En(e, "inline-template") && (e.inlineTemplate = !0);
  }function Gn(e) {
    var t,
        n,
        r,
        i,
        a,
        o,
        s,
        c,
        l = e.attrsList;for (t = 0, n = l.length; t < n; t++) {
      if (r = i = l[t].name, a = l[t].value, ls.test(r)) {
        if (e.hasBindings = !0, s = Qn(r), s && (r = r.replace(hs, "")), ds.test(r)) r = r.replace(ds, ""), a = bn(a), c = !1, s && (s.prop && (c = !0, r = ii(r), "innerHtml" === r && (r = "innerHTML")), s.camel && (r = ii(r))), c || Do(e.tag, r) ? kn(e, r, a) : An(e, r, a);else if (ps.test(r)) r = r.replace(ps, ""), Sn(e, r, a, s);else {
          r = r.replace(ls, "");var u = r.match(vs);u && (o = u[1]) && (r = r.slice(0, -(o.length + 1))), On(e, r, i, a, o, s);
        }
      } else An(e, r, JSON.stringify(a)), Do(e.tag, r) && ("value" === r ? kn(e, r, JSON.stringify(a)) : kn(e, r, "true"));
    }
  }function Yn(e) {
    for (var t = e; t;) {
      if (void 0 !== t.for) return !0;t = t.parent;
    }return !1;
  }function Qn(e) {
    var t = e.match(hs);if (t) {
      var n = {};return t.forEach(function (e) {
        n[e.slice(1)] = !0;
      }), n;
    }
  }function Xn(e) {
    for (var t = {}, n = 0, r = e.length; n < r; n++) {
      t[e[n].name] = e[n].value;
    }return t;
  }function er(e) {
    return "style" === e.tag || "script" === e.tag && (!e.attrsMap.type || "text/javascript" === e.attrsMap.type);
  }function tr(e) {
    for (var t = [], n = 0; n < e.length; n++) {
      var r = e[n];gs.test(r.name) || (r.name = r.name.replace(ys, ""), t.push(r));
    }return t;
  }function nr(e, t) {
    e && (Ho = _s(t.staticKeys || ""), Uo = t.isReservedTag || ui, ir(e), ar(e, !1));
  }function rr(e) {
    return n("type,tag,attrsList,attrsMap,plain,parent,children,attrs" + (e ? "," + e : ""));
  }function ir(e) {
    if (e.static = sr(e), 1 === e.type) {
      if (!Uo(e.tag) && "slot" !== e.tag && null == e.attrsMap["inline-template"]) return;for (var t = 0, n = e.children.length; t < n; t++) {
        var r = e.children[t];ir(r), r.static || (e.static = !1);
      }
    }
  }function ar(e, t) {
    if (1 === e.type) {
      if ((e.static || e.once) && (e.staticInFor = t), e.static && e.children.length && (1 !== e.children.length || 3 !== e.children[0].type)) return void (e.staticRoot = !0);if (e.staticRoot = !1, e.children) for (var n = 0, r = e.children.length; n < r; n++) {
        ar(e.children[n], t || !!e.for);
      }e.ifConditions && or(e.ifConditions, t);
    }
  }function or(e, t) {
    for (var n = 1, r = e.length; n < r; n++) {
      ar(e[n].block, t);
    }
  }function sr(e) {
    return 2 !== e.type && (3 === e.type || !(!e.pre && (e.hasBindings || e.if || e.for || ti(e.tag) || !Uo(e.tag) || cr(e) || !Object.keys(e).every(Ho))));
  }function cr(e) {
    for (; e.parent;) {
      if (e = e.parent, "template" !== e.tag) return !1;if (e.for) return !0;
    }return !1;
  }function lr(e, t) {
    var n = t ? "nativeOn:{" : "on:{";for (var r in e) {
      n += '"' + r + '":' + ur(r, e[r]) + ",";
    }return n.slice(0, -1) + "}";
  }function ur(e, t) {
    if (t) {
      if (Array.isArray(t)) return "[" + t.map(function (t) {
        return ur(e, t);
      }).join(",") + "]";if (t.modifiers) {
        var n = "",
            r = [];for (var i in t.modifiers) {
          Cs[i] ? n += Cs[i] : r.push(i);
        }r.length && (n = fr(r) + n);var a = $s.test(t.value) ? t.value + "($event)" : t.value;return "function($event){" + n + a + "}";
      }return bs.test(t.value) || $s.test(t.value) ? t.value : "function($event){" + t.value + "}";
    }return "function(){}";
  }function fr(e) {
    return "if(" + e.map(dr).join("&&") + ")return;";
  }function dr(e) {
    var t = parseInt(e, 10);if (t) return "$event.keyCode!==" + t;var n = ws[e];return "_k($event.keyCode," + JSON.stringify(e) + (n ? "," + JSON.stringify(n) : "") + ")";
  }function pr(e, t) {
    e.wrapData = function (n) {
      return "_b(" + n + ",'" + e.tag + "'," + t.value + (t.modifiers && t.modifiers.prop ? ",true" : "") + ")";
    };
  }function vr(e, t) {
    var n = qo,
        r = qo = [],
        i = Wo;Wo = 0, Zo = t, Bo = t.warn || Cn, zo = xn(t.modules, "transformCode"), Vo = xn(t.modules, "genData"), Jo = t.directives || {}, Ko = t.isReservedTag || ui;var a = e ? hr(e) : '_c("div")';return qo = n, Wo = i, { render: "with(this){return " + a + "}", staticRenderFns: r };
  }function hr(e) {
    if (e.staticRoot && !e.staticProcessed) return mr(e);if (e.once && !e.onceProcessed) return gr(e);if (e.for && !e.forProcessed) return br(e);if (e.if && !e.ifProcessed) return yr(e);if ("template" !== e.tag || e.slotTarget) {
      if ("slot" === e.tag) return Nr(e);var t;if (e.component) t = Lr(e.component, e);else {
        var n = e.plain ? void 0 : $r(e),
            r = e.inlineTemplate ? null : Ar(e, !0);t = "_c('" + e.tag + "'" + (n ? "," + n : "") + (r ? "," + r : "") + ")";
      }for (var i = 0; i < zo.length; i++) {
        t = zo[i](e, t);
      }return t;
    }return Ar(e) || "void 0";
  }function mr(e) {
    return e.staticProcessed = !0, qo.push("with(this){return " + hr(e) + "}"), "_m(" + (qo.length - 1) + (e.staticInFor ? ",true" : "") + ")";
  }function gr(e) {
    if (e.onceProcessed = !0, e.if && !e.ifProcessed) return yr(e);if (e.staticInFor) {
      for (var t = "", n = e.parent; n;) {
        if (n.for) {
          t = n.key;break;
        }n = n.parent;
      }return t ? "_o(" + hr(e) + "," + Wo++ + (t ? "," + t : "") + ")" : hr(e);
    }return mr(e);
  }function yr(e) {
    return e.ifProcessed = !0, _r(e.ifConditions.slice());
  }function _r(e) {
    function t(e) {
      return e.once ? gr(e) : hr(e);
    }if (!e.length) return "_e()";var n = e.shift();return n.exp ? "(" + n.exp + ")?" + t(n.block) + ":" + _r(e) : "" + t(n.block);
  }function br(e) {
    var t = e.for,
        n = e.alias,
        r = e.iterator1 ? "," + e.iterator1 : "",
        i = e.iterator2 ? "," + e.iterator2 : "";return e.forProcessed = !0, "_l((" + t + "),function(" + n + r + i + "){return " + hr(e) + "})";
  }function $r(e) {
    var t = "{",
        n = wr(e);n && (t += n + ","), e.key && (t += "key:" + e.key + ","), e.ref && (t += "ref:" + e.ref + ","), e.refInFor && (t += "refInFor:true,"), e.pre && (t += "pre:true,"), e.component && (t += 'tag:"' + e.tag + '",');for (var r = 0; r < Vo.length; r++) {
      t += Vo[r](e);
    }if (e.attrs && (t += "attrs:{" + Dr(e.attrs) + "},"), e.props && (t += "domProps:{" + Dr(e.props) + "},"), e.events && (t += lr(e.events) + ","), e.nativeEvents && (t += lr(e.nativeEvents, !0) + ","), e.slotTarget && (t += "slot:" + e.slotTarget + ","), e.scopedSlots && (t += xr(e.scopedSlots) + ","), e.inlineTemplate) {
      var i = Cr(e);i && (t += i + ",");
    }return t = t.replace(/,$/, "") + "}", e.wrapData && (t = e.wrapData(t)), t;
  }function wr(e) {
    var t = e.directives;if (t) {
      var n,
          r,
          i,
          a,
          o = "directives:[",
          s = !1;for (n = 0, r = t.length; n < r; n++) {
        i = t[n], a = !0;var c = Jo[i.name] || xs[i.name];c && (a = !!c(e, i, Bo)), a && (s = !0, o += '{name:"' + i.name + '",rawName:"' + i.rawName + '"' + (i.value ? ",value:(" + i.value + "),expression:" + JSON.stringify(i.value) : "") + (i.arg ? ',arg:"' + i.arg + '"' : "") + (i.modifiers ? ",modifiers:" + JSON.stringify(i.modifiers) : "") + "},");
      }return s ? o.slice(0, -1) + "]" : void 0;
    }
  }function Cr(e) {
    var t = e.children[0];if (1 === t.type) {
      var n = vr(t, Zo);return "inlineTemplate:{render:function(){" + n.render + "},staticRenderFns:[" + n.staticRenderFns.map(function (e) {
        return "function(){" + e + "}";
      }).join(",") + "]}";
    }
  }function xr(e) {
    return "scopedSlots:{" + Object.keys(e).map(function (t) {
      return kr(t, e[t]);
    }).join(",") + "}";
  }function kr(e, t) {
    return e + ":function(" + String(t.attrsMap.scope) + "){return " + ("template" === t.tag ? Ar(t) || "void 0" : hr(t)) + "}";
  }function Ar(e, t) {
    var n = e.children;if (n.length) {
      var r = n[0];if (1 === n.length && r.for && "template" !== r.tag && "slot" !== r.tag) return hr(r);var i = Or(n);return "[" + n.map(Er).join(",") + "]" + (t && i ? "," + i : "");
    }
  }function Or(e) {
    for (var t = 0, n = 0; n < e.length; n++) {
      var r = e[n];if (Sr(r) || r.if && r.ifConditions.some(function (e) {
        return Sr(e.block);
      })) {
        t = 2;break;
      }(Tr(r) || r.if && r.ifConditions.some(function (e) {
        return Tr(e.block);
      })) && (t = 1);
    }return t;
  }function Sr(e) {
    return e.for || "template" === e.tag || "slot" === e.tag;
  }function Tr(e) {
    return 1 === e.type && !Ko(e.tag);
  }function Er(e) {
    return 1 === e.type ? hr(e) : jr(e);
  }function jr(e) {
    return "_v(" + (2 === e.type ? e.expression : Mr(JSON.stringify(e.text))) + ")";
  }function Nr(e) {
    var t = e.slotName || '"default"',
        n = Ar(e),
        r = "_t(" + t + (n ? "," + n : ""),
        i = e.attrs && "{" + e.attrs.map(function (e) {
      return ii(e.name) + ":" + e.value;
    }).join(",") + "}",
        a = e.attrsMap["v-bind"];return !i && !a || n || (r += ",null"), i && (r += "," + i), a && (r += (i ? "" : ",null") + "," + a), r + ")";
  }function Lr(e, t) {
    var n = t.inlineTemplate ? null : Ar(t, !0);return "_c(" + e + "," + $r(t) + (n ? "," + n : "") + ")";
  }function Dr(e) {
    for (var t = "", n = 0; n < e.length; n++) {
      var r = e[n];t += '"' + r.name + '":' + Mr(r.value) + ",";
    }return t.slice(0, -1);
  }function Mr(e) {
    return e.replace(/\u2028/g, "\\u2028").replace(/\u2029/g, "\\u2029");
  }function Pr(e, t) {
    var n = Rn(e.trim(), t);nr(n, t);var r = vr(n, t);return { ast: n, render: r.render, staticRenderFns: r.staticRenderFns };
  }function Rr(e, t) {
    var n = (t.warn || Cn, En(e, "class"));n && (e.staticClass = JSON.stringify(n));var r = Tn(e, "class", !1);r && (e.classBinding = r);
  }function Ir(e) {
    var t = "";return e.staticClass && (t += "staticClass:" + e.staticClass + ","), e.classBinding && (t += "class:" + e.classBinding + ","), t;
  }function Fr(e, t) {
    var n = (t.warn || Cn, En(e, "style"));n && (e.staticStyle = JSON.stringify(Na(n)));var r = Tn(e, "style", !1);r && (e.styleBinding = r);
  }function Hr(e) {
    var t = "";return e.staticStyle && (t += "staticStyle:" + e.staticStyle + ","), e.styleBinding && (t += "style:(" + e.styleBinding + "),"), t;
  }function Ur(e, t, n) {
    Go = n;var r = t.value,
        i = t.modifiers,
        a = e.tag,
        o = e.attrsMap.type;return "select" === a ? Jr(e, r, i) : "input" === a && "checkbox" === o ? Br(e, r, i) : "input" === a && "radio" === o ? zr(e, r, i) : Vr(e, r, i), !0;
  }function Br(e, t, n) {
    var r = n && n.number,
        i = Tn(e, "value") || "null",
        a = Tn(e, "true-value") || "true",
        o = Tn(e, "false-value") || "false";kn(e, "checked", "Array.isArray(" + t + ")?_i(" + t + "," + i + ")>-1" + ("true" === a ? ":(" + t + ")" : ":_q(" + t + "," + a + ")")), Sn(e, "change", "var $$a=" + t + ",$$el=$event.target,$$c=$$el.checked?(" + a + "):(" + o + ");if(Array.isArray($$a)){var $$v=" + (r ? "_n(" + i + ")" : i) + ",$$i=_i($$a,$$v);if($$c){$$i<0&&(" + t + "=$$a.concat($$v))}else{$$i>-1&&(" + t + "=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{" + t + "=$$c}", null, !0);
  }function zr(e, t, n) {
    var r = n && n.number,
        i = Tn(e, "value") || "null";i = r ? "_n(" + i + ")" : i, kn(e, "checked", "_q(" + t + "," + i + ")"), Sn(e, "change", Kr(t, i), null, !0);
  }function Vr(e, t, n) {
    var r = e.attrsMap.type,
        i = n || {},
        a = i.lazy,
        o = i.number,
        s = i.trim,
        c = a || gi && "range" === r ? "change" : "input",
        l = !a && "range" !== r,
        u = "input" === e.tag || "textarea" === e.tag,
        f = u ? "$event.target.value" + (s ? ".trim()" : "") : s ? "(typeof $event === 'string' ? $event.trim() : $event)" : "$event";f = o || "number" === r ? "_n(" + f + ")" : f;var d = Kr(t, f);u && l && (d = "if($event.target.composing)return;" + d), kn(e, "value", u ? "_s(" + t + ")" : "(" + t + ")"), Sn(e, c, d, null, !0), (s || o || "number" === r) && Sn(e, "blur", "$forceUpdate()");
  }function Jr(e, t, n) {
    var r = n && n.number,
        i = 'Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return ' + (r ? "_n(val)" : "val") + "})" + (null == e.attrsMap.multiple ? "[0]" : ""),
        a = Kr(t, i);Sn(e, "change", a, null, !0);
  }function Kr(e, t) {
    var n = jn(e);return null === n.idx ? e + "=" + t : "var $$exp = " + n.exp + ", $$idx = " + n.idx + ";if (!Array.isArray($$exp)){" + e + "=" + t + "}else{$$exp.splice($$idx, 1, " + t + ")}";
  }function qr(e, t) {
    t.value && kn(e, "textContent", "_s(" + t.value + ")");
  }function Wr(e, t) {
    t.value && kn(e, "innerHTML", "_s(" + t.value + ")");
  }function Zr(e, t) {
    return t = t ? l(l({}, Es), t) : Es, Pr(e, t);
  }function Gr(e, t, n) {
    var r = (t && t.warn || Ai, t && t.delimiters ? String(t.delimiters) + e : e);if (Ts[r]) return Ts[r];var i = {},
        a = Zr(e, t);i.render = Yr(a.render);var o = a.staticRenderFns.length;i.staticRenderFns = new Array(o);for (var s = 0; s < o; s++) {
      i.staticRenderFns[s] = Yr(a.staticRenderFns[s]);
    }return Ts[r] = i;
  }function Yr(e) {
    try {
      return new Function(e);
    } catch (e) {
      return p;
    }
  }function Qr(e) {
    if (e.outerHTML) return e.outerHTML;var t = document.createElement("div");return t.appendChild(e.cloneNode(!0)), t.innerHTML;
  }var Xr,
      ei,
      ti = n("slot,component", !0),
      ni = Object.prototype.hasOwnProperty,
      ri = /-(\w)/g,
      ii = o(function (e) {
    return e.replace(ri, function (e, t) {
      return t ? t.toUpperCase() : "";
    });
  }),
      ai = o(function (e) {
    return e.charAt(0).toUpperCase() + e.slice(1);
  }),
      oi = /([^-])([A-Z])/g,
      si = o(function (e) {
    return e.replace(oi, "$1-$2").replace(oi, "$1-$2").toLowerCase();
  }),
      ci = Object.prototype.toString,
      li = "[object Object]",
      ui = function ui() {
    return !1;
  },
      fi = function fi(e) {
    return e;
  },
      di = { optionMergeStrategies: Object.create(null), silent: !1, devtools: !1, errorHandler: null, ignoredElements: [], keyCodes: Object.create(null), isReservedTag: ui, isUnknownElement: ui, getTagNamespace: p, parsePlatformTagName: fi, mustUseProp: ui, _assetTypes: ["component", "directive", "filter"], _lifecycleHooks: ["beforeCreate", "created", "beforeMount", "mounted", "beforeUpdate", "updated", "beforeDestroy", "destroyed", "activated", "deactivated"], _maxUpdateCount: 100 },
      pi = /[^\w.$]/,
      vi = "__proto__" in {},
      hi = "undefined" != typeof window,
      mi = hi && window.navigator.userAgent.toLowerCase(),
      gi = mi && /msie|trident/.test(mi),
      yi = mi && mi.indexOf("msie 9.0") > 0,
      _i = mi && mi.indexOf("edge/") > 0,
      bi = mi && mi.indexOf("android") > 0,
      $i = mi && /iphone|ipad|ipod|ios/.test(mi),
      wi = function wi() {
    return void 0 === Xr && (Xr = !hi && "undefined" != typeof global && "server" === global.process.env.VUE_ENV), Xr;
  },
      Ci = hi && window.__VUE_DEVTOOLS_GLOBAL_HOOK__,
      xi = function () {
    function e() {
      r = !1;var e = n.slice(0);n.length = 0;for (var t = 0; t < e.length; t++) {
        e[t]();
      }
    }var t,
        n = [],
        r = !1;if ("undefined" != typeof Promise && b(Promise)) {
      var i = Promise.resolve(),
          a = function a(e) {
        console.error(e);
      };t = function t() {
        i.then(e).catch(a), $i && setTimeout(p);
      };
    } else if ("undefined" == typeof MutationObserver || !b(MutationObserver) && "[object MutationObserverConstructor]" !== MutationObserver.toString()) t = function t() {
      setTimeout(e, 0);
    };else {
      var o = 1,
          s = new MutationObserver(e),
          c = document.createTextNode(String(o));s.observe(c, { characterData: !0 }), t = function t() {
        o = (o + 1) % 2, c.data = String(o);
      };
    }return function (e, i) {
      var a;if (n.push(function () {
        e && e.call(i), a && a(i);
      }), r || (r = !0, t()), !e && "undefined" != typeof Promise) return new Promise(function (e) {
        a = e;
      });
    };
  }();ei = "undefined" != typeof Set && b(Set) ? Set : function () {
    function e() {
      this.set = Object.create(null);
    }return e.prototype.has = function (e) {
      return this.set[e] === !0;
    }, e.prototype.add = function (e) {
      this.set[e] = !0;
    }, e.prototype.clear = function () {
      this.set = Object.create(null);
    }, e;
  }();var ki,
      Ai = p,
      Oi = 0,
      Si = function Si() {
    this.id = Oi++, this.subs = [];
  };Si.prototype.addSub = function (e) {
    this.subs.push(e);
  }, Si.prototype.removeSub = function (e) {
    r(this.subs, e);
  }, Si.prototype.depend = function () {
    Si.target && Si.target.addDep(this);
  }, Si.prototype.notify = function () {
    for (var e = this.subs.slice(), t = 0, n = e.length; t < n; t++) {
      e[t].update();
    }
  }, Si.target = null;var Ti = [],
      Ei = Array.prototype,
      ji = Object.create(Ei);["push", "pop", "shift", "unshift", "splice", "sort", "reverse"].forEach(function (e) {
    var t = Ei[e];y(ji, e, function () {
      for (var n = arguments, r = arguments.length, i = new Array(r); r--;) {
        i[r] = n[r];
      }var a,
          o = t.apply(this, i),
          s = this.__ob__;switch (e) {case "push":
          a = i;break;case "unshift":
          a = i;break;case "splice":
          a = i.slice(2);}return a && s.observeArray(a), s.dep.notify(), o;
    });
  });var Ni = Object.getOwnPropertyNames(ji),
      Li = { shouldConvert: !0, isSettingProps: !1 },
      Di = function Di(e) {
    if (this.value = e, this.dep = new Si(), this.vmCount = 0, y(e, "__ob__", this), Array.isArray(e)) {
      var t = vi ? C : x;t(e, ji, Ni), this.observeArray(e);
    } else this.walk(e);
  };Di.prototype.walk = function (e) {
    for (var t = Object.keys(e), n = 0; n < t.length; n++) {
      A(e, t[n], e[t[n]]);
    }
  }, Di.prototype.observeArray = function (e) {
    for (var t = 0, n = e.length; t < n; t++) {
      k(e[t]);
    }
  };var Mi = di.optionMergeStrategies;Mi.data = function (e, t, n) {
    return n ? e || t ? function () {
      var r = "function" == typeof t ? t.call(n) : t,
          i = "function" == typeof e ? e.call(n) : void 0;return r ? E(r, i) : i;
    } : void 0 : t ? "function" != typeof t ? e : e ? function () {
      return E(t.call(this), e.call(this));
    } : t : e;
  }, di._lifecycleHooks.forEach(function (e) {
    Mi[e] = j;
  }), di._assetTypes.forEach(function (e) {
    Mi[e + "s"] = N;
  }), Mi.watch = function (e, t) {
    if (!t) return e;if (!e) return t;var n = {};l(n, e);for (var r in t) {
      var i = n[r],
          a = t[r];i && !Array.isArray(i) && (i = [i]), n[r] = i ? i.concat(a) : [a];
    }return n;
  }, Mi.props = Mi.methods = Mi.computed = function (e, t) {
    if (!t) return e;if (!e) return t;var n = Object.create(null);return l(n, e), l(n, t), n;
  };var Pi = function Pi(e, t) {
    return void 0 === t ? e : t;
  },
      Ri = Object.freeze({ defineReactive: A, _toString: e, toNumber: t, makeMap: n, isBuiltInTag: ti, remove: r, hasOwn: i, isPrimitive: a, cached: o, camelize: ii, capitalize: ai, hyphenate: si, bind: s, toArray: c, extend: l, isObject: u, isPlainObject: f, toObject: d, noop: p, no: ui, identity: fi, genStaticKeys: v, looseEqual: h, looseIndexOf: m, isReserved: g, def: y, parsePath: _, hasProto: vi, inBrowser: hi, UA: mi, isIE: gi, isIE9: yi, isEdge: _i, isAndroid: bi, isIOS: $i, isServerRendering: wi, devtools: Ci, nextTick: xi, get _Set() {
      return ei;
    }, mergeOptions: M, resolveAsset: P, warn: Ai, formatComponentName: ki, validateProp: R }),
      Ii = [],
      Fi = {},
      Hi = !1,
      Ui = !1,
      Bi = 0,
      zi = 0,
      Vi = function Vi(e, t, n, r) {
    this.vm = e, e._watchers.push(this), r ? (this.deep = !!r.deep, this.user = !!r.user, this.lazy = !!r.lazy, this.sync = !!r.sync) : this.deep = this.user = this.lazy = this.sync = !1, this.cb = n, this.id = ++zi, this.active = !0, this.dirty = this.lazy, this.deps = [], this.newDeps = [], this.depIds = new ei(), this.newDepIds = new ei(), this.expression = "", "function" == typeof t ? this.getter = t : (this.getter = _(t), this.getter || (this.getter = function () {})), this.value = this.lazy ? void 0 : this.get();
  };Vi.prototype.get = function () {
    $(this);var e = this.getter.call(this.vm, this.vm);return this.deep && V(e), w(), this.cleanupDeps(), e;
  }, Vi.prototype.addDep = function (e) {
    var t = e.id;this.newDepIds.has(t) || (this.newDepIds.add(t), this.newDeps.push(e), this.depIds.has(t) || e.addSub(this));
  }, Vi.prototype.cleanupDeps = function () {
    for (var e = this, t = this.deps.length; t--;) {
      var n = e.deps[t];e.newDepIds.has(n.id) || n.removeSub(e);
    }var r = this.depIds;this.depIds = this.newDepIds, this.newDepIds = r, this.newDepIds.clear(), r = this.deps, this.deps = this.newDeps, this.newDeps = r, this.newDeps.length = 0;
  }, Vi.prototype.update = function () {
    this.lazy ? this.dirty = !0 : this.sync ? this.run() : z(this);
  }, Vi.prototype.run = function () {
    if (this.active) {
      var e = this.get();if (e !== this.value || u(e) || this.deep) {
        var t = this.value;if (this.value = e, this.user) try {
          this.cb.call(this.vm, e, t);
        } catch (e) {
          if (!di.errorHandler) throw e;di.errorHandler.call(null, e, this.vm);
        } else this.cb.call(this.vm, e, t);
      }
    }
  }, Vi.prototype.evaluate = function () {
    this.value = this.get(), this.dirty = !1;
  }, Vi.prototype.depend = function () {
    for (var e = this, t = this.deps.length; t--;) {
      e.deps[t].depend();
    }
  }, Vi.prototype.teardown = function () {
    var e = this;if (this.active) {
      this.vm._isBeingDestroyed || r(this.vm._watchers, this);for (var t = this.deps.length; t--;) {
        e.deps[t].removeSub(e);
      }this.active = !1;
    }
  };var Ji,
      Ki = new ei(),
      qi = { enumerable: !0, configurable: !0, get: p, set: p },
      Wi = function Wi(e, t, n, r, i, a, o) {
    this.tag = e, this.data = t, this.children = n, this.text = r, this.elm = i, this.ns = void 0, this.context = a, this.functionalContext = void 0, this.key = t && t.key, this.componentOptions = o, this.child = void 0, this.parent = void 0, this.raw = !1, this.isStatic = !1, this.isRootInsert = !0, this.isComment = !1, this.isCloned = !1, this.isOnce = !1;
  },
      Zi = function Zi() {
    var e = new Wi();return e.text = "", e.isComment = !0, e;
  },
      Gi = null,
      Yi = { init: xe, prepatch: ke, insert: Ae, destroy: Oe },
      Qi = Object.keys(Yi),
      Xi = 1,
      ea = 2,
      ta = 0;Fe(Be), ee(Be), ge(Be), _e(Be), Re(Be);var na = [String, RegExp],
      ra = { name: "keep-alive", abstract: !0, props: { include: na, exclude: na }, created: function created() {
      this.cache = Object.create(null);
    }, render: function render() {
      var e = de(this.$slots.default);if (e && e.componentOptions) {
        var t = e.componentOptions,
            n = t.Ctor.options.name || t.tag;if (n && (this.include && !qe(this.include, n) || this.exclude && qe(this.exclude, n))) return e;var r = null == e.key ? t.Ctor.cid + (t.tag ? "::" + t.tag : "") : e.key;this.cache[r] ? e.child = this.cache[r].child : this.cache[r] = e, e.data.keepAlive = !0;
      }return e;
    }, destroyed: function destroyed() {
      var e = this;for (var t in this.cache) {
        var n = e.cache[t];be(n.child, "deactivated"), n.child.$destroy();
      }
    } },
      ia = { KeepAlive: ra };We(Be), Object.defineProperty(Be.prototype, "$isServer", { get: wi }), Be.version = "2.1.8";var aa,
      oa,
      sa = n("input,textarea,option,select"),
      ca = function ca(e, t) {
    return "value" === t && sa(e) || "selected" === t && "option" === e || "checked" === t && "input" === e || "muted" === t && "video" === e;
  },
      la = n("contenteditable,draggable,spellcheck"),
      ua = n("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),
      fa = "http://www.w3.org/1999/xlink",
      da = function da(e) {
    return ":" === e.charAt(5) && "xlink" === e.slice(0, 5);
  },
      pa = function pa(e) {
    return da(e) ? e.slice(6, e.length) : "";
  },
      va = function va(e) {
    return null == e || e === !1;
  },
      ha = { svg: "http://www.w3.org/2000/svg", math: "http://www.w3.org/1998/Math/MathML" },
      ma = n("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template"),
      ga = n("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view", !0),
      ya = function ya(e) {
    return "pre" === e;
  },
      _a = function _a(e) {
    return ma(e) || ga(e);
  },
      ba = Object.create(null),
      $a = Object.freeze({ createElement: rt, createElementNS: it, createTextNode: at, createComment: ot, insertBefore: st, removeChild: ct, appendChild: lt, parentNode: ut, nextSibling: ft, tagName: dt, setTextContent: pt, setAttribute: vt }),
      wa = { create: function create(e, t) {
      ht(t);
    }, update: function update(e, t) {
      e.data.ref !== t.data.ref && (ht(e, !0), ht(t));
    }, destroy: function destroy(e) {
      ht(e, !0);
    } },
      Ca = new Wi("", {}, []),
      xa = ["create", "activate", "update", "remove", "destroy"],
      ka = { create: $t, update: $t, destroy: function destroy(e) {
      $t(e, Ca);
    } },
      Aa = Object.create(null),
      Oa = [wa, ka],
      Sa = { create: At, update: At },
      Ta = { create: St, update: St },
      Ea = { create: jt, update: jt },
      ja = { create: Nt, update: Nt },
      Na = o(function (e) {
    var t = {},
        n = /;(?![^(]*\))/g,
        r = /:(.+)/;return e.split(n).forEach(function (e) {
      if (e) {
        var n = e.split(r);n.length > 1 && (t[n[0].trim()] = n[1].trim());
      }
    }), t;
  }),
      La = /^--/,
      Da = /\s*!important$/,
      Ma = function Ma(e, t, n) {
    La.test(t) ? e.style.setProperty(t, n) : Da.test(n) ? e.style.setProperty(t, n.replace(Da, ""), "important") : e.style[Ra(t)] = n;
  },
      Pa = ["Webkit", "Moz", "ms"],
      Ra = o(function (e) {
    if (oa = oa || document.createElement("div"), e = ii(e), "filter" !== e && e in oa.style) return e;for (var t = e.charAt(0).toUpperCase() + e.slice(1), n = 0; n < Pa.length; n++) {
      var r = Pa[n] + t;if (r in oa.style) return r;
    }
  }),
      Ia = { create: Ft, update: Ft },
      Fa = hi && !yi,
      Ha = "transition",
      Ua = "animation",
      Ba = "transition",
      za = "transitionend",
      Va = "animation",
      Ja = "animationend";
  Fa && (void 0 === window.ontransitionend && void 0 !== window.onwebkittransitionend && (Ba = "WebkitTransition", za = "webkitTransitionEnd"), void 0 === window.onanimationend && void 0 !== window.onwebkitanimationend && (Va = "WebkitAnimation", Ja = "webkitAnimationEnd"));var Ka = hi && window.requestAnimationFrame || setTimeout,
      qa = /\b(transform|all)(,|$)/,
      Wa = o(function (e) {
    return { enterClass: e + "-enter", leaveClass: e + "-leave", appearClass: e + "-enter", enterToClass: e + "-enter-to", leaveToClass: e + "-leave-to", appearToClass: e + "-enter-to", enterActiveClass: e + "-enter-active", leaveActiveClass: e + "-leave-active", appearActiveClass: e + "-enter-active" };
  }),
      Za = hi ? { create: Xt, activate: Xt, remove: function remove(e, t) {
      e.data.show ? t() : Gt(e, t);
    } } : {},
      Ga = [Sa, Ta, Ea, ja, Ia, Za],
      Ya = Ga.concat(Oa),
      Qa = bt({ nodeOps: $a, modules: Ya });yi && document.addEventListener("selectionchange", function () {
    var e = document.activeElement;e && e.vmodel && on(e, "input");
  });var Xa = { inserted: function inserted(e, t, n) {
      if ("select" === n.tag) {
        var r = function r() {
          en(e, t, n.context);
        };r(), (gi || _i) && setTimeout(r, 0);
      } else "textarea" !== n.tag && "text" !== e.type || (e._vModifiers = t.modifiers, t.modifiers.lazy || (bi || (e.addEventListener("compositionstart", rn), e.addEventListener("compositionend", an)), yi && (e.vmodel = !0)));
    }, componentUpdated: function componentUpdated(e, t, n) {
      if ("select" === n.tag) {
        en(e, t, n.context);var r = e.multiple ? t.value.some(function (t) {
          return tn(t, e.options);
        }) : t.value !== t.oldValue && tn(t.value, e.options);r && on(e, "change");
      }
    } },
      eo = { bind: function bind(e, t, n) {
      var r = t.value;n = sn(n);var i = n.data && n.data.transition,
          a = e.__vOriginalDisplay = "none" === e.style.display ? "" : e.style.display;r && i && !yi ? (n.data.show = !0, Zt(n, function () {
        e.style.display = a;
      })) : e.style.display = r ? a : "none";
    }, update: function update(e, t, n) {
      var r = t.value,
          i = t.oldValue;if (r !== i) {
        n = sn(n);var a = n.data && n.data.transition;a && !yi ? (n.data.show = !0, r ? Zt(n, function () {
          e.style.display = e.__vOriginalDisplay;
        }) : Gt(n, function () {
          e.style.display = "none";
        })) : e.style.display = r ? e.__vOriginalDisplay : "none";
      }
    }, unbind: function unbind(e, t, n, r, i) {
      i || (e.style.display = e.__vOriginalDisplay);
    } },
      to = { model: Xa, show: eo },
      no = { name: String, appear: Boolean, css: Boolean, mode: String, type: String, enterClass: String, leaveClass: String, enterToClass: String, leaveToClass: String, enterActiveClass: String, leaveActiveClass: String, appearClass: String, appearActiveClass: String, appearToClass: String },
      ro = { name: "transition", props: no, abstract: !0, render: function render(e) {
      var t = this,
          n = this.$slots.default;if (n && (n = n.filter(function (e) {
        return e.tag;
      }), n.length)) {
        var r = this.mode,
            i = n[0];if (fn(this.$vnode)) return i;var a = cn(i);if (!a) return i;if (this._leaving) return un(e, i);var o = a.key = null == a.key || a.isStatic ? "__v" + (a.tag + this._uid) + "__" : a.key,
            s = (a.data || (a.data = {})).transition = ln(this),
            c = this._vnode,
            u = cn(c);if (a.data.directives && a.data.directives.some(function (e) {
          return "show" === e.name;
        }) && (a.data.show = !0), u && u.data && !dn(a, u)) {
          var f = u && (u.data.transition = l({}, s));if ("out-in" === r) return this._leaving = !0, ae(f, "afterLeave", function () {
            t._leaving = !1, t.$forceUpdate();
          }, o), un(e, i);if ("in-out" === r) {
            var d,
                p = function p() {
              d();
            };ae(s, "afterEnter", p, o), ae(s, "enterCancelled", p, o), ae(f, "delayLeave", function (e) {
              d = e;
            }, o);
          }
        }return i;
      }
    } },
      io = l({ tag: String, moveClass: String }, no);delete io.mode;var ao = { props: io, render: function render(e) {
      for (var t = this.tag || this.$vnode.data.tag || "span", n = Object.create(null), r = this.prevChildren = this.children, i = this.$slots.default || [], a = this.children = [], o = ln(this), s = 0; s < i.length; s++) {
        var c = i[s];c.tag && null != c.key && 0 !== String(c.key).indexOf("__vlist") && (a.push(c), n[c.key] = c, (c.data || (c.data = {})).transition = o);
      }if (r) {
        for (var l = [], u = [], f = 0; f < r.length; f++) {
          var d = r[f];d.data.transition = o, d.data.pos = d.elm.getBoundingClientRect(), n[d.key] ? l.push(d) : u.push(d);
        }this.kept = e(t, null, l), this.removed = u;
      }return e(t, null, a);
    }, beforeUpdate: function beforeUpdate() {
      this.__patch__(this._vnode, this.kept, !1, !0), this._vnode = this.kept;
    }, updated: function updated() {
      var e = this.prevChildren,
          t = this.moveClass || (this.name || "v") + "-move";if (e.length && this.hasMove(e[0].elm, t)) {
        e.forEach(pn), e.forEach(vn), e.forEach(hn);document.body.offsetHeight;e.forEach(function (e) {
          if (e.data.moved) {
            var n = e.elm,
                r = n.style;zt(n, t), r.transform = r.WebkitTransform = r.transitionDuration = "", n.addEventListener(za, n._moveCb = function e(r) {
              r && !/transform$/.test(r.propertyName) || (n.removeEventListener(za, e), n._moveCb = null, Vt(n, t));
            });
          }
        });
      }
    }, methods: { hasMove: function hasMove(e, t) {
        if (!Fa) return !1;if (null != this._hasMove) return this._hasMove;zt(e, t);var n = Kt(e);return Vt(e, t), this._hasMove = n.hasTransform;
      } } },
      oo = { Transition: ro, TransitionGroup: ao };Be.config.isUnknownElement = tt, Be.config.isReservedTag = _a, Be.config.getTagNamespace = et, Be.config.mustUseProp = ca, l(Be.options.directives, to), l(Be.options.components, oo), Be.prototype.__patch__ = hi ? Qa : p, Be.prototype.$mount = function (e, t) {
    return e = e && hi ? nt(e) : void 0, this._mount(e, t);
  }, setTimeout(function () {
    di.devtools && Ci && Ci.emit("init", Be);
  }, 0);var so,
      co = !!hi && mn("\n", "&#10;"),
      lo = n("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr", !0),
      uo = n("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source", !0),
      fo = n("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track", !0),
      po = /([^\s"'<>\/=]+)/,
      vo = /(?:=)/,
      ho = [/"([^"]*)"+/.source, /'([^']*)'+/.source, /([^\s"'=<>`]+)/.source],
      mo = new RegExp("^\\s*" + po.source + "(?:\\s*(" + vo.source + ")\\s*(?:" + ho.join("|") + "))?"),
      go = "[a-zA-Z_][\\w\\-\\.]*",
      yo = "((?:" + go + "\\:)?" + go + ")",
      _o = new RegExp("^<" + yo),
      bo = /^\s*(\/?)>/,
      $o = new RegExp("^<\\/" + yo + "[^>]*>"),
      wo = /^<!DOCTYPE [^>]+>/i,
      Co = /^<!--/,
      xo = /^<!\[/,
      ko = !1;"x".replace(/x(.)?/g, function (e, t) {
    ko = "" === t;
  });var Ao,
      Oo,
      So,
      To,
      Eo,
      jo,
      No,
      Lo,
      Do,
      Mo,
      Po,
      Ro,
      Io,
      Fo,
      Ho,
      Uo,
      Bo,
      zo,
      Vo,
      Jo,
      Ko,
      qo,
      Wo,
      Zo,
      Go,
      Yo = n("script,style", !0),
      Qo = function Qo(e) {
    return "lang" === e.name && "html" !== e.value;
  },
      Xo = function Xo(e, t, n) {
    return !!Yo(e) || !(!t || 1 !== n.length) && !("template" === e && !n[0].attrs.some(Qo));
  },
      es = {},
      ts = /&lt;/g,
      ns = /&gt;/g,
      rs = /&#10;/g,
      is = /&amp;/g,
      as = /&quot;/g,
      os = /\{\{((?:.|\n)+?)\}\}/g,
      ss = /[-.*+?^${}()|[\]\/\\]/g,
      cs = o(function (e) {
    var t = e[0].replace(ss, "\\$&"),
        n = e[1].replace(ss, "\\$&");return new RegExp(t + "((?:.|\\n)+?)" + n, "g");
  }),
      ls = /^v-|^@|^:/,
      us = /(.*?)\s+(?:in|of)\s+(.*)/,
      fs = /\((\{[^}]*\}|[^,]*),([^,]*)(?:,([^,]*))?\)/,
      ds = /^:|^v-bind:/,
      ps = /^@|^v-on:/,
      vs = /:(.*)$/,
      hs = /\.[^.]+/g,
      ms = o(gn),
      gs = /^xmlns:NS\d+/,
      ys = /^NS\d+:/,
      _s = o(rr),
      bs = /^\s*([\w$_]+|\([^)]*?\))\s*=>|^function\s*\(/,
      $s = /^\s*[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['.*?']|\[".*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*\s*$/,
      ws = { esc: 27, tab: 9, enter: 13, space: 32, up: 38, left: 37, right: 39, down: 40, delete: [8, 46] },
      Cs = { stop: "$event.stopPropagation();", prevent: "$event.preventDefault();", self: "if($event.target !== $event.currentTarget)return;", ctrl: "if(!$event.ctrlKey)return;", shift: "if(!$event.shiftKey)return;", alt: "if(!$event.altKey)return;", meta: "if(!$event.metaKey)return;" },
      xs = { bind: pr, cloak: p },
      ks = { staticKeys: ["staticClass"], transformNode: Rr, genData: Ir },
      As = { staticKeys: ["staticStyle"], transformNode: Fr, genData: Hr },
      Os = [ks, As],
      Ss = { model: Ur, text: qr, html: Wr },
      Ts = Object.create(null),
      Es = { expectHTML: !0, modules: Os, staticKeys: v(Os), directives: Ss, isReservedTag: _a, isUnaryTag: lo, mustUseProp: ca, getTagNamespace: et, isPreTag: ya },
      js = o(function (e) {
    var t = nt(e);return t && t.innerHTML;
  }),
      Ns = Be.prototype.$mount;return Be.prototype.$mount = function (e, t) {
    if (e = e && nt(e), e === document.body || e === document.documentElement) return this;var n = this.$options;if (!n.render) {
      var r = n.template;if (r) {
        if ("string" == typeof r) "#" === r.charAt(0) && (r = js(r));else {
          if (!r.nodeType) return this;r = r.innerHTML;
        }
      } else e && (r = Qr(e));if (r) {
        var i = Gr(r, { warn: Ai, shouldDecodeNewlines: co, delimiters: n.delimiters }, this),
            a = i.render,
            o = i.staticRenderFns;n.render = a, n.staticRenderFns = o;
      }
    }return Ns.call(this, e, t);
  }, Be.compile = Gr, Be;
});
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(13)))

/***/ }),
/* 13 */
/***/ (function(module, exports) {

var g;

// This works in non-strict mode
g = (function() {
	return this;
})();

try {
	// This works if eval is allowed (see CSP)
	g = g || Function("return this")() || (1,eval)("this");
} catch(e) {
	// This works if the window reference is available
	if(typeof window === "object")
		g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;


/***/ }),
/* 14 */
/***/ (function(module, exports) {

var created = function created() {};
var mounted = function mounted() {
    var _this = this;

    setTimeout(function () {
        _this.fetchRender();
    }, 2000);
};
var activated = function activated() {};
var deactivated = function deactivated() {};
var beforeDestroy = function beforeDestroy() {
    if (this.loopChartPieTimer) {
        clearTimeout(this.loopChartPieTimer);
        this.loopChartPieTimer = null;
    }
};
var interval = 12 * 1000;
var methods = {};
methods.getRandomInterval = function () {
    var second = parseInt(Math.random() * 12) + 1;
    return second * 1000;
};
methods.loopNext = function () {
    var _this2 = this;

    this.loopChartPieTimer = setTimeout(function () {
        _this2.fetchRender();
    }, this.getRandomInterval());
};
var computed = {};
module.exports = {
    props: [],
    data: function data() {
        var o = {};
        return o;
    },
    methods: methods,
    computed: computed,
    created: created,
    mounted: mounted,
    activated: activated,
    deactivated: deactivated,
    beforeDestroy: beforeDestroy
};

/***/ }),
/* 15 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {

// Use the fastest means possible to execute a task in its own turn, with
// priority over other events including IO, animation, reflow, and redraw
// events in browsers.
//
// An exception thrown by a task will permanently interrupt the processing of
// subsequent tasks. The higher level `asap` function ensures that if an
// exception is thrown by a task, that the task queue will continue flushing as
// soon as possible, but if you use `rawAsap` directly, you are responsible to
// either ensure that no exceptions are thrown from your task, or to manually
// call `rawAsap.requestFlush` if an exception is thrown.
module.exports = rawAsap;
function rawAsap(task) {
    if (!queue.length) {
        requestFlush();
        flushing = true;
    }
    // Equivalent to push, but avoids a function call.
    queue[queue.length] = task;
}

var queue = [];
// Once a flush has been requested, no further calls to `requestFlush` are
// necessary until the next `flush` completes.
var flushing = false;
// `requestFlush` is an implementation-specific method that attempts to kick
// off a `flush` event as quickly as possible. `flush` will attempt to exhaust
// the event queue before yielding to the browser's own event loop.
var requestFlush;
// The position of the next task to execute in the task queue. This is
// preserved between calls to `flush` so that it can be resumed if
// a task throws an exception.
var index = 0;
// If a task schedules additional tasks recursively, the task queue can grow
// unbounded. To prevent memory exhaustion, the task queue will periodically
// truncate already-completed tasks.
var capacity = 1024;

// The flush function processes all tasks that have been scheduled with
// `rawAsap` unless and until one of those tasks throws an exception.
// If a task throws an exception, `flush` ensures that its state will remain
// consistent and will resume where it left off when called again.
// However, `flush` does not make any arrangements to be called again if an
// exception is thrown.
function flush() {
    while (index < queue.length) {
        var currentIndex = index;
        // Advance the index before calling the task. This ensures that we will
        // begin flushing on the next task the task throws an error.
        index = index + 1;
        queue[currentIndex].call();
        // Prevent leaking memory for long chains of recursive calls to `asap`.
        // If we call `asap` within tasks scheduled by `asap`, the queue will
        // grow, but to avoid an O(n) walk for every task we execute, we don't
        // shift tasks off the queue after they have been executed.
        // Instead, we periodically shift 1024 tasks off the queue.
        if (index > capacity) {
            // Manually shift all values starting at the index back to the
            // beginning of the queue.
            for (var scan = 0, newLength = queue.length - index; scan < newLength; scan++) {
                queue[scan] = queue[scan + index];
            }
            queue.length -= index;
            index = 0;
        }
    }
    queue.length = 0;
    index = 0;
    flushing = false;
}

// `requestFlush` is implemented using a strategy based on data collected from
// every available SauceLabs Selenium web driver worker at time of writing.
// https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593

// Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that
// have WebKitMutationObserver but not un-prefixed MutationObserver.
// Must use `global` or `self` instead of `window` to work in both frames and web
// workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.

/* globals self */
var scope = typeof global !== "undefined" ? global : self;
var BrowserMutationObserver = scope.MutationObserver || scope.WebKitMutationObserver;

// MutationObservers are desirable because they have high priority and work
// reliably everywhere they are implemented.
// They are implemented in all modern browsers.
//
// - Android 4-4.3
// - Chrome 26-34
// - Firefox 14-29
// - Internet Explorer 11
// - iPad Safari 6-7.1
// - iPhone Safari 7-7.1
// - Safari 6-7
if (typeof BrowserMutationObserver === "function") {
    requestFlush = makeRequestCallFromMutationObserver(flush);

// MessageChannels are desirable because they give direct access to the HTML
// task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera
// 11-12, and in web workers in many engines.
// Although message channels yield to any queued rendering and IO tasks, they
// would be better than imposing the 4ms delay of timers.
// However, they do not work reliably in Internet Explorer or Safari.

// Internet Explorer 10 is the only browser that has setImmediate but does
// not have MutationObservers.
// Although setImmediate yields to the browser's renderer, it would be
// preferrable to falling back to setTimeout since it does not have
// the minimum 4ms penalty.
// Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and
// Desktop to a lesser extent) that renders both setImmediate and
// MessageChannel useless for the purposes of ASAP.
// https://github.com/kriskowal/q/issues/396

// Timers are implemented universally.
// We fall back to timers in workers in most engines, and in foreground
// contexts in the following browsers.
// However, note that even this simple case requires nuances to operate in a
// broad spectrum of browsers.
//
// - Firefox 3-13
// - Internet Explorer 6-9
// - iPad Safari 4.3
// - Lynx 2.8.7
} else {
    requestFlush = makeRequestCallFromTimer(flush);
}

// `requestFlush` requests that the high priority event queue be flushed as
// soon as possible.
// This is useful to prevent an error thrown in a task from stalling the event
// queue if the exception handled by Node.jss
// `process.on("uncaughtException")` or by a domain.
rawAsap.requestFlush = requestFlush;

// To request a high priority event, we induce a mutation observer by toggling
// the text of a text node between "1" and "-1".
function makeRequestCallFromMutationObserver(callback) {
    var toggle = 1;
    var observer = new BrowserMutationObserver(callback);
    var node = document.createTextNode("");
    observer.observe(node, {characterData: true});
    return function requestCall() {
        toggle = -toggle;
        node.data = toggle;
    };
}

// The message channel technique was discovered by Malte Ubl and was the
// original foundation for this library.
// http://www.nonblocking.io/2011/06/windownexttick.html

// Safari 6.0.5 (at least) intermittently fails to create message ports on a
// page's first load. Thankfully, this version of Safari supports
// MutationObservers, so we don't need to fall back in that case.

// function makeRequestCallFromMessageChannel(callback) {
//     var channel = new MessageChannel();
//     channel.port1.onmessage = callback;
//     return function requestCall() {
//         channel.port2.postMessage(0);
//     };
// }

// For reasons explained above, we are also unable to use `setImmediate`
// under any circumstances.
// Even if we were, there is another bug in Internet Explorer 10.
// It is not sufficient to assign `setImmediate` to `requestFlush` because
// `setImmediate` must be called *by name* and therefore must be wrapped in a
// closure.
// Never forget.

// function makeRequestCallFromSetImmediate(callback) {
//     return function requestCall() {
//         setImmediate(callback);
//     };
// }

// Safari 6.0 has a problem where timers will get lost while the user is
// scrolling. This problem does not impact ASAP because Safari 6.0 supports
// mutation observers, so that implementation is used instead.
// However, if we ever elect to use timers in Safari, the prevalent work-around
// is to add a scroll event listener that calls for a flush.

// `setTimeout` does not call the passed callback if the delay is less than
// approximately 7 in web workers in Firefox 8 through 18, and sometimes not
// even then.

function makeRequestCallFromTimer(callback) {
    return function requestCall() {
        // We dispatch a timeout with a specified delay of 0 for engines that
        // can reliably accommodate that request. This will usually be snapped
        // to a 4 milisecond delay, but once we're flushing, there's no delay
        // between events.
        var timeoutHandle = setTimeout(handleTimer, 0);
        // However, since this timer gets frequently dropped in Firefox
        // workers, we enlist an interval handle that will try to fire
        // an event 20 times per second until it succeeds.
        var intervalHandle = setInterval(handleTimer, 50);

        function handleTimer() {
            // Whichever timer succeeds will cancel both timers and
            // execute the callback.
            clearTimeout(timeoutHandle);
            clearInterval(intervalHandle);
            callback();
        }
    };
}

// This is for `asap.js` only.
// Its name will be periodically randomized to break any code that depends on
// its existence.
rawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer;

// ASAP was originally a nextTick shim included in Q. This was factored out
// into this ASAP package. It was later adapted to RSVP which made further
// amendments. These decisions, particularly to marginalize MessageChannel and
// to capture the MutationObserver implementation in a closure, were integrated
// back into ASAP proper.
// https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js

/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(13)))

/***/ }),
/* 16 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;

/**
 * @  Promise polyfill
 * @  new Promise(fn, fn);
 */

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

(function (name, factory) {
    if (true) {
        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
    } else {
        window[name] = factory();
    }
})('Promise', function () {
    var nativePromise = window.Promise;
    if (/native code/.test(nativePromise)) {
        //Promise
        return nativePromise;
    }
    var RESOLVED = 0;
    var REJECTED = 1;
    var PENDING = 2;

    //Promise
    function Promise(executor) {

        this.state = PENDING;
        this.value = undefined;
        this.deferred = [];

        var promise = this;

        try {
            executor(function (x) {
                promise.resolve(x);
            }, function (r) {
                promise.reject(r);
            });
        } catch (e) {
            promise.reject(e);
        }
    }

    //Promise,
    Promise.resolve = function (x) {
        return new Promise(function (resolve, reject) {
            resolve(x);
        });
    };
    //Promise,
    Promise.reject = function (r) {
        return new Promise(function (resolve, reject) {
            reject(r);
        });
    };
    //Promise.all  promise
    //promiseresolvereject
    // .then 
    Promise.all = function (iterable) {
        return new Promise(function (resolve, reject) {
            var count = 0,
                result = [];

            if (iterable.length === 0) {
                resolve(result);
            }

            function resolver(i) {
                return function (x) {
                    result[i] = x;
                    count += 1;

                    if (count === iterable.length) {
                        resolve(result);
                    }
                };
            }

            for (var i = 0; i < iterable.length; i += 1) {
                Promise.resolve(iterable[i]).then(resolver(i), reject);
            }
        });
    };
    //Promise.race promise FulFilled  Rejected 
    //,,.
    Promise.race = function (iterable) {
        return new Promise(function (resolve, reject) {
            for (var i = 0; i < iterable.length; i += 1) {
                Promise.resolve(iterable[i]).then(resolve, reject);
            }
        });
    };

    var p = Promise.prototype;
    //Promise,Promise.deferred
    p.then = function then(onResolved, onRejected) {
        var promise = this;
        //onResolved, onRejectedPromise
        //,resolve, rejectPromise
        return new Promise(function (resolve, reject) {
            promise.deferred.push([onResolved, onRejected, resolve, reject]);
            promise.notify //
            ();
        });
    };
    //p.then
    p['catch'] = function (onRejected) {
        return this.then(undefined, onRejected);
    };
    p.resolve = function resolve(x) {
        var promise = this;

        if (promise.state === PENDING) {
            if (x === promise) {
                throw new TypeError('Promise settled with itself.');
            }

            var called = false;

            try {
                var then = x && x['then'];
                //Promisethenable,
                //Promise resolve /rejcet
                if (x !== null && (typeof x === 'undefined' ? 'undefined' : _typeof(x)) === 'object' && typeof then === 'function') {
                    then.call(x, function (x) {
                        if (!called) {
                            promise.resolve(x);
                        }
                        called = true;
                    }, function (r) {
                        if (!called) {
                            promise.reject(r);
                        }
                        called = true;
                    });
                    return;
                }
            } catch (e) {
                if (!called) {
                    promise.reject(e);
                }
                return;
            }

            promise.state = RESOLVED;
            promise.value = x;
            promise.notify();
        }
    };

    p.reject = function reject(reason) {
        var promise = this;

        if (promise.state === PENDING) {
            if (reason === promise) {
                throw new TypeError('Promise settled with itself.');
            }

            promise.state = REJECTED;
            promise.value = reason;
            promise.notify();
        }
    };

    p.notify = function notify() {
        var promise = this;
        //Promise,
        nextTick(function () {
            if (promise.state !== PENDING) {
                //pending -> resloved/rejected
                while (promise.deferred.length) {
                    var deferred = promise.deferred.shift(),
                        onResolved = deferred[0],
                        onRejected = deferred[1],
                        resolve = deferred[2],
                        reject = deferred[3];

                    try {
                        if (promise.state === RESOLVED) {
                            if (typeof onResolved === 'function') {
                                resolve(onResolved.call(undefined, promise.value));
                            } else {
                                resolve(promise.value);
                            }
                        } else if (promise.state === REJECTED) {
                            if (typeof onRejected === 'function') {
                                resolve(onRejected.call(undefined, promise.value));
                            } else {
                                reject(promise.value);
                            }
                        }
                    } catch (e) {
                        reject(e);
                    }
                }
            }
        });
    };

    /**/
    var nextTick = new function () {
        // jshint ignore:line
        var tickImmediate = window.setImmediate;
        var tickObserver = window.MutationObserver;
        if (tickImmediate) {
            return tickImmediate.bind(window);
        }

        var queue = [];
        function callback() {
            var n = queue.length;
            for (var i = 0; i < n; i++) {
                queue[i]();
            }
            queue = queue.slice(n);
        }

        if (tickObserver) {
            var node = document.createTextNode("avalon");
            new tickObserver(callback).observe(node, { characterData: true });
            var bool = false;
            return function (fn) {
                queue.push(fn);
                bool = !bool;
                node.data = bool;
            };
        }

        return function (fn) {
            setTimeout(fn, 4);
        };
    }();

    return Promise;
});

/***/ }),
/* 17 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**
 * @  Echart 
 * @
 */

(function (name, factory) {
    if (true) {
        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
    } else {
        window[name] = factory();
    }
})('EchartUtil', function () {
    "use strict";

    var GRID_TOP = 20;
    var GRID_LEFT = 10;
    var GRID_RIGHT = 20;
    var GRID_BOTTOM = 10;

    var LEGEND_TOP = 50;
    var GRID_TOP_WITH_TITLE = GRID_TOP + 40;
    var GRID_TOP_WITH_LEGEND = GRID_TOP + LEGEND_TOP;
    var GRID_TOP_WITH_TITLE_LEGEND = GRID_TOP_WITH_TITLE + LEGEND_TOP;

    var allTitle = {
        // text: '',
        // subtext: '',
        show: true,
        left: GRID_LEFT,
        top: 3,
        itemGap: 5,
        textStyle: {
            fontWeight: 'normal',
            fontFamily: '',
            fontSize: 19
        }
    };
    var allBasicOption = {
        title: allTitle
    };

    var extend = function extend(target, obj) {
        if (arguments.length > 2) {
            for (i = 1; i < arguments.length; i++) {
                target = extend(target, arguments[i]);
            }
            return target;
        }
        target = target || {};
        obj = obj || {};
        var toStr = Object.prototype.toString;
        for (var i in obj) {
            if (!obj.hasOwnProperty(i)) {
                continue;
            }
            if (obj[i] === target) {
                continue;
            }
            var type = toStr.call(obj[i]);
            if (type === '[object Array]') {
                target[i] = extend(target[i] || [], obj[i]);
            } else if (type === '[object Object]') {
                target[i] = extend(target[i], obj[i]);
            } else {
                target[i] = obj[i];
            }
        }

        return target;
    };

    var isArray = function isArray(vArg) {
        return Object.prototype.toString.call(vArg) === "[object Array]";
    };

    var exports = {
        GRID_TOP_WITH_TITLE: GRID_TOP_WITH_TITLE,
        GRID_TOP_WITH_LEGEND: GRID_TOP_WITH_LEGEND,
        GRID_TOP_WITH_TITLE_LEGEND: GRID_TOP_WITH_TITLE_LEGEND
    };
    var getNullUndefined = function getNullUndefined(v, backup) {
        if (v === null || v === undefined) {
            return backup;
        }
        return v;
    };
    /**
     * grid
     * 
     */
    var grid = function grid(top, right, bottom, left, containLabel) {
        var o = {
            // true
            containLabel: getNullUndefined(containLabel, true)
        };
        o.top = getNullUndefined(top, GRID_TOP);
        o.right = getNullUndefined(right, GRID_RIGHT);
        o.left = getNullUndefined(left, GRID_LEFT);
        o.bottom = getNullUndefined(bottom, GRID_BOTTOM);
        return o;
    };

    exports.grid = grid;

    var parseType = function parseType(options) {
        var series = options.series || [];
        if (series.type) {
            return series.type;
        }
        if (series[0] && series[0].type) {
            return series[0].type;
        }

        return null;
    };

    var getToolbox = function getToolbox() {
        var feature = {
            saveAsImage: {
                show: true
            },
            dataView: {
                show: true,
                readOnly: true
            }
        };
        return {
            right: 15,
            feature: feature
        };
    };

    var getXYDataZoom = function getXYDataZoom() {
        return [{
            show: true,
            start: 0,
            end: 100,
            handleSize: '100%',
            bottom: 10
        }, {
            type: 'inside',
            start: 0,
            end: 100
        }, {
            show: true,
            yAxisIndex: 0,
            filterMode: 'empty',
            height: '60%',
            handleSize: '100%',
            showDataShadow: false,
            right: 10
        }];
    };

    /**
     * 
     */
    exports.getXYOption = function (options, param) {
        options = options || {};
        param = param || {};
        if (options.series && !isArray(options.series)) {
            options.series = [options.series];
        }
        var type = parseType(options);
        if (type === 'line') {
            options.series.forEach(function (s) {
                s.showSymbol = false;
            });
        }
        var titleLeft = GRID_LEFT - 5;
        var legendLeft = GRID_LEFT - 4;

        // tooltip
        var tooltip = {
            trigger: 'axis'
        };

        if (type === 'bar') {
            tooltip.axisPointer = {
                type: 'shadow'
            };
        } else if (type === 'scatter') {
            tooltip.axisPointer = {
                show: true,
                type: 'cross',
                lineStyle: {
                    type: 'dashed',
                    width: 1
                }
            };
        }
        var defaults = {
            title: {
                left: titleLeft
            },
            legend: {},
            tooltip: tooltip,
            toolbox: getToolbox()
        };
        if (param.dataZoom === true) {
            defaults.dataZoom = getXYDataZoom();
        }

        // grid top
        var top = GRID_TOP;

        if (options.title) {
            top += 40;
        }

        // legend
        if (options.legend) {
            defaults.legend = {
                top: LEGEND_TOP,
                left: legendLeft
            };
            if (options.legend.left === 'right') {
                defaults.legend.top = 7;
            }
            if (options.legend.left !== 'center' && options.legend.left !== 'right') {
                top += LEGEND_TOP;
            }
        }

        // grid
        options.grid = extend(grid(top), options.grid);

        // yAxis
        if (options.yAxis && options.yAxis.type === 'value') {
            defaults.yAxis = {
                boundaryGap: [0, 0.1]
            };
        }

        //  ->  -> 
        var o = extend({}, allBasicOption, defaults, options);

        return o;
    };

    exports.getPieOption = function (options) {
        options = options || {};
        var series = [{
            name: '',
            type: 'pie',
            radius: [35, 70],
            center: ['50%', '55%'],
            itemStyle: {
                emphasis: {
                    shadowBlur: 10,
                    shadowOffsetX: 0,
                    shadowColor: 'rgba(0, 0, 0, 0.5)'
                }
            }
        }];
        if (options.series && !isArray(options.series)) {
            options.series = [options.series];
        }
        var defaults = {
            toolbox: getToolbox(),
            tooltip: {
                trigger: 'item',
                formatter: "{a} <br/>{b}: {c} ({d}%)"
            },
            series: series
        };
        //  ->  -> 
        var o = extend({}, allBasicOption, defaults, options);
        return o;
    };

    var geoBackgroundColor = '#404a59';
    var planePath = 'path://M1705.06,1318.313v-89.254l-319.9-221.799l0.073-208.063c0.521-84.662-26.629-121.796-63.961-121.491c-37.332-0.305-64.482,36.829-63.961,121.491l0.073,208.063l-319.9,221.799v89.254l330.343-157.288l12.238,241.308l-134.449,92.931l0.531,42.034l175.125-42.917l175.125,42.917l0.531-42.034l-134.449-92.931l12.238-241.308L1705.06,1318.313z';
    var xiaoyuFunc = function xiaoyuFunc(val) {
        return Math.log(val[2]) * 3;
    };

    var getGeoSeries1 = function getGeoSeries1(name, data) {
        var o = {
            type: 'lines',
            zlevel: 1,
            effect: {
                show: true,
                period: 6,
                trailLength: 0.7,
                color: '#fff',
                symbolSize: 3
            },
            lineStyle: {
                normal: {
                    color: '#a6c84c',
                    width: 0,
                    curveness: 0.2
                }
            }
        };
        if (name) {
            o.name = name;
        }
        if (data) {
            o.data = data;
        }
        return o;
    };

    var getGeoSeries2 = function getGeoSeries2(name, data) {
        var o = {
            type: 'lines',
            zlevel: 2,
            effect: {
                show: true,
                period: 6,
                trailLength: 0,
                symbol: planePath,
                symbolSize: 15
            },
            lineStyle: {
                normal: {
                    color: '#a6c84c',
                    width: 1,
                    opacity: 0.4,
                    curveness: 0.2
                }
            }
        };
        if (name) {
            o.name = name;
        }
        if (data) {
            o.data = data;
        }
        return o;
    };

    var getGeoSeries3 = function getGeoSeries3(name, data) {
        var formatter = function formatter(value) {
            if (value.name === '') {
                return ' ';
            }
            return '';
        };
        return {
            name: name || '',
            data: data || [],
            type: 'effectScatter',
            coordinateSystem: 'geo',
            zlevel: 2,
            rippleEffect: {
                brushType: 'stroke'
            },
            label: {
                normal: {
                    show: true,
                    position: 'right',
                    formatter: '{b}'
                }
            },
            symbolSize: xiaoyuFunc,
            itemStyle: {
                normal: {
                    color: '#a6c84c'
                }
            }
        };
    };

    var getGeoSeries4 = function getGeoSeries4(name, data, index) {
        index = index || 0;
        var o = {
            name: name || '',
            data: data || [],
            type: 'bar',
            itemStyle: {
                normal: {
                    label: {
                        show: true,
                        position: 'right'
                    },
                    color: '#a6c84c'
                }
            },
            xAxisIndex: index,
            yAxisIndex: index,
            barWidth: 15,
            center: ['35%', '35%']
        };
        if (index === 1) {
            o.label = {
                normal: {
                    position: 'left'
                }
            };
        }
        return o;
    };

    var getGeoXOption = function getGeoXOption(index, withLine) {
        index = index || 0;
        var o = {
            type: 'value',
            gridIndex: index,
            position: 'top',
            axisLine: { show: false },
            axisTick: { show: false },
            axisLabel: { show: false },
            splitLine: { show: false }
        };
        if (index === 1) {
            o.inverse = true;
        }
        if (withLine === true) {
            o = setAxisLine(o);
        }
        return o;
    };

    var getGeoYOption = function getGeoYOption(data, index) {
        index = index || 0;
        var o = {
            data: data || [],
            type: 'category',
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
            axisLabel: {
                textStyle: {
                    color: '#fff'
                }
            },
            gridIndex: index
        };
        if (index === 1) {
            o.position = 'right';
        }
        return o;
    };

    var setAxisLine = function setAxisLine(x) {
        x = x || {};
        var style = { color: '#fff' };
        x.axisLine = {
            show: true,
            lineStyle: style
        };
        x.axisTick = {
            show: true,
            lineStyle: style
        };
        x.axisLabel = {
            show: true,
            textStyle: style
        };
        return x;
    };
    var getGeoToolbox = function getGeoToolbox() {
        var feature = {
            dataView: {
                show: true,
                readOnly: true
            }
        };
        var iconStyle = {
            normal: {
                color: '#fff'
            }
        };
        return {
            right: 15,
            feature: feature,
            iconStyle: iconStyle
        };
    };

    exports.getGeoOption = function (options, param) {
        options = options || {};
        param = param || {};
        var name = param.name;

        var title = {
            top: GRID_TOP - 5,
            left: GRID_LEFT,
            textStyle: {
                color: '#fff'
            },
            subtextStyle: {
                color: '#eee'
            }
        };
        var grid = [{
            top: 80,
            left: 20,
            width: '40%',
            height: '80%',
            containLabel: true
        }];
        if (param.yData2) {
            grid.push({
                show: true,
                bottom: 80,
                right: 80,
                width: '15%',
                height: '40%',
                borderWidth: 0
            });
        }
        var legend = {
            orient: 'vertical',
            top: 'bottom',
            left: 'right',
            textStyle: {
                color: '#fff'
            },
            selectedMode: 'single'
        };
        if (name) {
            legend.data = [name];
        }
        var geo = {
            map: 'china',
            height: '100%',
            label: {
                emphasis: {
                    show: true,
                    textStyle: {
                        color: '#fff'
                    }
                }
            },
            itemStyle: {
                normal: {
                    areaColor: '#323c48',
                    borderColor: '#404a59'
                },
                emphasis: {
                    areaColor: '#2a333d'
                }
            }
        };
        var xAxis = [getGeoXOption(0, param.withAxisline)];
        if (param.yData2) {
            xAxis.push(getGeoXOption(1, param.withAxisline));
        }

        var yAxis = [getGeoYOption(param.yData)];
        if (param.yData2) {
            yAxis.push(getGeoYOption(param.yData2, 1));
        }
        var series = [getGeoSeries1(name, param.linesData), getGeoSeries2(name, param.linesData), getGeoSeries3(name, param.geoData), getGeoSeries4(name, param.barData)];
        if (param.barData2) {
            series.push(getGeoSeries4(name, param.barData2, 1));
        }
        var defaults = {
            title: title,
            toolbox: getGeoToolbox(),
            backgroundColor: geoBackgroundColor,
            tooltip: {
                trigger: 'item'
            },
            legend: legend,
            grid: grid,
            geo: geo,
            xAxis: xAxis,
            yAxis: yAxis,
            series: series
        };
        //  ->  -> 
        var o = extend({}, allBasicOption, defaults, options);
        return o;
    };

    return exports;
});

/***/ }),
/* 18 */
/***/ (function(module, exports, __webpack_require__) {


/* styles */
__webpack_require__(129)

var Component = __webpack_require__(2)(
  /* script */
  __webpack_require__(49),
  /* template */
  __webpack_require__(111),
  /* scopeId */
  "data-v-67e533b6",
  /* cssModules */
  null
)
Component.options.__file = "D:\\wamp\\www\\meepo3927.github.io\\bigshow\\js\\comp\\bigshow\\main.vue"
if (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== "default" && key !== "__esModule"})) {console.error("named exports are not supported in *.vue files.")}
if (Component.options.functional) {console.error("[vue-loader] main.vue: functional components are not supported with templates, they should use render functions.")}

/* hot reload */
if (false) {(function () {
  var hotAPI = require("vue-hot-reload-api")
  hotAPI.install(require("vue"), false)
  if (!hotAPI.compatible) return
  module.hot.accept()
  if (!module.hot.data) {
    hotAPI.createRecord("data-v-67e533b6", Component.options)
  } else {
    hotAPI.reload("data-v-67e533b6", Component.options)
  }
})()}

module.exports = Component.exports


/***/ }),
/* 19 */
/***/ (function(module, exports) {

/* WEBPACK VAR INJECTION */(function(__webpack_amd_options__) {/* globals __webpack_amd_options__ */
module.exports = __webpack_amd_options__;

/* WEBPACK VAR INJECTION */}.call(exports, {}))

/***/ }),
/* 20 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


// rawAsap provides everything we need except exception management.
var rawAsap = __webpack_require__(15);
// RawTasks are recycled to reduce GC churn.
var freeTasks = [];
// We queue errors to ensure they are thrown in right order (FIFO).
// Array-as-queue is good enough here, since we are just dealing with exceptions.
var pendingErrors = [];
var requestErrorThrow = rawAsap.makeRequestCallFromTimer(throwFirstError);

function throwFirstError() {
    if (pendingErrors.length) {
        throw pendingErrors.shift();
    }
}

/**
 * Calls a task as soon as possible after returning, in its own event, with priority
 * over other events like animation, reflow, and repaint. An error thrown from an
 * event will not interrupt, nor even substantially slow down the processing of
 * other events, but will be rather postponed to a lower priority event.
 * @param {{call}} task A callable object, typically a function that takes no
 * arguments.
 */
module.exports = asap;
function asap(task) {
    var rawTask;
    if (freeTasks.length) {
        rawTask = freeTasks.pop();
    } else {
        rawTask = new RawTask();
    }
    rawTask.task = task;
    rawAsap(rawTask);
}

// We wrap tasks with recyclable task objects.  A task object implements
// `call`, just like a function.
function RawTask() {
    this.task = null;
}

// The sole purpose of wrapping the task is to catch the exception and recycle
// the task object after its single use.
RawTask.prototype.call = function () {
    try {
        this.task.call();
    } catch (error) {
        if (asap.onerror) {
            // This hook exists purely for testing purposes.
            // Its name will be periodically randomized to break any code that
            // depends on its existence.
            asap.onerror(error);
        } else {
            // In a web browser, exceptions are not fatal. However, to avoid
            // slowing down the queue of pending tasks, we rethrow the error in a
            // lower priority turn.
            pendingErrors.push(error);
            requestErrorThrow();
        }
    } finally {
        this.task = null;
        freeTasks[freeTasks.length] = this;
    }
};


/***/ }),
/* 21 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export mlayer */
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lib_ie8__ = __webpack_require__(31);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lib_ie8___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lib_ie8__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_global_config__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_global_config___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_global_config__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vue__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_jquery__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_jquery___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_jquery__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_extend_vue_marquee_js__ = __webpack_require__(24);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_extend_vue_marquee_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_extend_vue_marquee_js__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_util_request__ = __webpack_require__(4);
/* unused harmony reexport Vue */
/* unused harmony reexport config */
/* harmony reexport (default from non-hamory) */ __webpack_require__.d(__webpack_exports__, "a", function() { return __WEBPACK_IMPORTED_MODULE_3_jquery___default.a; });
/* unused harmony reexport request */
// 




// vue 


// Reg Vue Component

__WEBPACK_IMPORTED_MODULE_2_vue___default.a.use(__webpack_require__(23));
var global = window.global || {};
var _basePath = global.basePath || '';
var _staticPath = global.staticPath || _basePath;
var imgPath = _staticPath + '/images';
var urlExt = __WEBPACK_IMPORTED_MODULE_1_global_config___default.a.dev ? 'html' : 'jsp';
var methods = {};
methods.getStaticUrl = function (path) {
    var param = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';

    var url = this.staticPath + '/views' + path + '.' + urlExt;
    if (param) {
        url += '?' + param;
    }
    return url;
};
__WEBPACK_IMPORTED_MODULE_2_vue___default.a.mixin({
    methods: methods,
    computed: {
        vImgPath: function vImgPath() {
            return imgPath;
        },
        basePath: function basePath() {
            return _basePath;
        },
        staticPath: function staticPath() {
            return _staticPath;
        }
    }
});
// Hack For mlayer
window.xPath = _staticPath + '/';
var mlayer = __webpack_require__(32);
// Global Injection
window.$ = __WEBPACK_IMPORTED_MODULE_3_jquery___default.a;
if (__WEBPACK_IMPORTED_MODULE_1_global_config___default.a.dev) {
    __webpack_require__.p = './dist/';
}
// Hack IE
var IE = window.getIEVersion();
// Hack Echarts
if (IE === 10 || IE === 11) {
    window.Float32Array = undefined;
}



/***/ }),
/* 22 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(Vue) {var methods = {};

var computed = {};

var data = {};
var mounted = function mounted() {};
var vm = new Vue({
    el: '#main',
    methods: methods,
    computed: computed,
    data: data,
    mounted: mounted,
    components: {
        'v-main': __webpack_require__(18)
    }
});
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(12)))

/***/ }),
/* 23 */
/***/ (function(module, exports) {

var Plugin = {};
Plugin.install = function (Vue, options) {
    var methods = {};
    methods.handleEvent = function (e) {
        var eventName = 'handle-' + e.type.toLowerCase();
        this.$emit(eventName, e);

        var type = e.type.charAt(0).toUpperCase() + e.type.substr(1);
        var methodsName = 'handle' + type;
        if (typeof this[methodsName] === 'function') {
            this[methodsName](e);
        }
    };
    Vue.mixin({
        methods: methods
    });
};

module.exports = Plugin;

/***/ }),
/* 24 */
/***/ (function(module, exports, __webpack_require__) {


var Vue = __webpack_require__(12);

var WIDTH_DIFF_MIN = 5;

var FAKE_GAP = 10;

var vendors = ['ms', 'moz', 'webkit', 'o'];
for (var i = 0; i < vendors.length && !window.requestAnimationFrame; ++i) {
    var vp = vendors[i];
    window.requestAnimationFrame = window[vp + 'RequestAnimationFrame'];
    window.cancelAnimationFrame = window[vp + 'CancelAnimationFrame'] || window[vp + 'CancelRequestAnimationFrame'];
}

function Marquee(el) {
    if (!el) {
        return;
    }
    this.el = el;

    var parent = el.parentNode || el.parentElement;

    this.parent = parent;
}
var proto = Marquee.prototype;
proto.getElemWidth = function () {
    return this.el.scrollWidth || this.el.clientWidth;
};
proto.getWidthDiff = function () {
    var parent = this.parent;

    var parentWidth = parent.clientWidth || parent.offsetWidth;
    var elemWidth = this.getElemWidth();
    return elemWidth - parentWidth;
};
proto.init = function () {
    if (!this.el) {
        return;
    }
    this.start();
};
proto.start = function () {
    var diff = this.getWidthDiff();
    if (diff < WIDTH_DIFF_MIN) {
        return;
    }
    this.widthDiff = diff;
    this.elemWidth = this.getElemWidth();
    this.loop();
};
proto.reset = function () {
    this.setOffset('0');
    this.start();
};
proto.update = function () {
    if (!this.el) {
        return;
    }
};
proto.getElemOffset = function () {
    var left = this.el.style.marginLeft;
    if (left) {
        return parseInt(left, 10);
    }
    return 0;
};
proto.setOffset = function (v) {
    this.el.style.marginLeft = v + 'px';
};
proto.loop = function () {
    var _this = this;

    if (this.stoped) {
        return false;
    }
    var left = this.getElemOffset();
    this.setOffset(left - 1);

    // fakeElem
    if (Math.abs(left) === this.widthDiff) {
        this.appendFakeElem();
    }
    if (Math.abs(left) === FAKE_GAP + this.elemWidth) {
        this.removeFakeElem();
        return this.reset();
    }
    this.timer = requestAnimationFrame(function () {
        _this.loop();
    });
};
proto.appendFakeElem = function () {
    if (this.fakeElem) {
        return false;
    }
    var elem = this.el.cloneNode(true);
    elem.style.marginLeft = FAKE_GAP + 'px';
    this.parent.appendChild(elem);

    this.fakeElem = elem;
};
proto.removeFakeElem = function () {
    if (this.fakeElem) {
        this.parent.removeChild(this.fakeElem);
        this.fakeElem = null;
    }
};
proto.dispose = function () {
    if (this.timer) {
        cancelAnimationFrame(this.timer);
        this.timer = null;
    }
    this.stoped = true;
    this.removeFakeElem();
    this.setOffset('0');
};

var bind = function bind() {};
var inserted = function inserted(el, binding) {
    if (!el.MarqueeInstance) {
        el.MarqueeInstance = new Marquee(el);
    }
    el.MarqueeInstance.init();
};

var updated = function updated(el, binding) {
    if (!el.MarqueeInstance) {
        el.MarqueeInstance = new Marquee(el);
    }
    el.MarqueeInstance.update();
};

var unbind = function unbind(el, binding) {
    if (el.MarqueeInstance) {
        el.MarqueeInstance.dispose();
        el.MarqueeInstance = null;
    }
};

module.exports = Vue.directive('marquee', {
    bind: bind,
    inserted: inserted,
    componentUpdated: updated,
    unbind: unbind
});

/***/ }),
/* 25 */,
/* 26 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};!function(e,t){"object"==( false?"undefined":_typeof(exports))&&"object"==( false?"undefined":_typeof(module))?module.exports=t(__webpack_require__(0)): true?!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(0)], __WEBPACK_AMD_DEFINE_FACTORY__ = (t),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)):"object"==(typeof exports==="undefined"?"undefined":_typeof(exports))?exports["echarts-gl"]=t(require("echarts")):e["echarts-gl"]=t(e.echarts);}(this,function(e){return function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports;}var r={};return t.m=e,t.c=r,t.i=function(e){return e;},t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n});},t.n=function(e){var r=e&&e.__esModule?function(){return e.default;}:function(){return e;};return t.d(r,"a",r),r;},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t);},t.p="",t(t.s=97);}([function(t,r){t.exports=e;},function(e,t,r){!function(e){"use strict";var r={};r.exports=t,function(e){if(!t)var t=1e-6;if(!r)var r="undefined"!=typeof Float32Array?Float32Array:Array;if(!n)var n=Math.random;var i={};i.setMatrixArrayType=function(e){r=e;},void 0!==e&&(e.glMatrix=i);var a=Math.PI/180;i.toRadian=function(e){return e*a;};var o={};o.create=function(){var e=new r(2);return e[0]=0,e[1]=0,e;},o.clone=function(e){var t=new r(2);return t[0]=e[0],t[1]=e[1],t;},o.fromValues=function(e,t){var n=new r(2);return n[0]=e,n[1]=t,n;},o.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e;},o.set=function(e,t,r){return e[0]=t,e[1]=r,e;},o.add=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e;},o.subtract=function(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e;},o.sub=o.subtract,o.multiply=function(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e;},o.mul=o.multiply,o.divide=function(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e;},o.div=o.divide,o.min=function(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e;},o.max=function(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e;},o.scale=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e;},o.scaleAndAdd=function(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e;},o.distance=function(e,t){var r=t[0]-e[0],n=t[1]-e[1];return Math.sqrt(r*r+n*n);},o.dist=o.distance,o.squaredDistance=function(e,t){var r=t[0]-e[0],n=t[1]-e[1];return r*r+n*n;},o.sqrDist=o.squaredDistance,o.length=function(e){var t=e[0],r=e[1];return Math.sqrt(t*t+r*r);},o.len=o.length,o.squaredLength=function(e){var t=e[0],r=e[1];return t*t+r*r;},o.sqrLen=o.squaredLength,o.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e;},o.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e;},o.normalize=function(e,t){var r=t[0],n=t[1],i=r*r+n*n;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i),e;},o.dot=function(e,t){return e[0]*t[0]+e[1]*t[1];},o.cross=function(e,t,r){var n=t[0]*r[1]-t[1]*r[0];return e[0]=e[1]=0,e[2]=n,e;},o.lerp=function(e,t,r,n){var i=t[0],a=t[1];return e[0]=i+n*(r[0]-i),e[1]=a+n*(r[1]-a),e;},o.random=function(e,t){t=t||1;var r=2*n()*Math.PI;return e[0]=Math.cos(r)*t,e[1]=Math.sin(r)*t,e;},o.transformMat2=function(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i,e[1]=r[1]*n+r[3]*i,e;},o.transformMat2d=function(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i+r[4],e[1]=r[1]*n+r[3]*i+r[5],e;},o.transformMat3=function(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[3]*i+r[6],e[1]=r[1]*n+r[4]*i+r[7],e;},o.transformMat4=function(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[4]*i+r[12],e[1]=r[1]*n+r[5]*i+r[13],e;},o.forEach=function(){var e=o.create();return function(t,r,n,i,a,o){var s,u;for(r||(r=2),n||(n=0),u=i?Math.min(i*r+n,t.length):t.length,s=n;s<u;s+=r){e[0]=t[s],e[1]=t[s+1],a(e,e,o),t[s]=e[0],t[s+1]=e[1];}return t;};}(),o.str=function(e){return"vec2("+e[0]+", "+e[1]+")";},void 0!==e&&(e.vec2=o);var s={};s.create=function(){var e=new r(3);return e[0]=0,e[1]=0,e[2]=0,e;},s.clone=function(e){var t=new r(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t;},s.fromValues=function(e,t,n){var i=new r(3);return i[0]=e,i[1]=t,i[2]=n,i;},s.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e;},s.set=function(e,t,r,n){return e[0]=t,e[1]=r,e[2]=n,e;},s.add=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e;},s.subtract=function(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e;},s.sub=s.subtract,s.multiply=function(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e;},s.mul=s.multiply,s.divide=function(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e;},s.div=s.divide,s.min=function(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e;},s.max=function(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e;},s.scale=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e;},s.scaleAndAdd=function(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e;},s.distance=function(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2];return Math.sqrt(r*r+n*n+i*i);},s.dist=s.distance,s.squaredDistance=function(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2];return r*r+n*n+i*i;},s.sqrDist=s.squaredDistance,s.length=function(e){var t=e[0],r=e[1],n=e[2];return Math.sqrt(t*t+r*r+n*n);},s.len=s.length,s.squaredLength=function(e){var t=e[0],r=e[1],n=e[2];return t*t+r*r+n*n;},s.sqrLen=s.squaredLength,s.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e;},s.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e;},s.normalize=function(e,t){var r=t[0],n=t[1],i=t[2],a=r*r+n*n+i*i;return a>0&&(a=1/Math.sqrt(a),e[0]=t[0]*a,e[1]=t[1]*a,e[2]=t[2]*a),e;},s.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2];},s.cross=function(e,t,r){var n=t[0],i=t[1],a=t[2],o=r[0],s=r[1],u=r[2];return e[0]=i*u-a*s,e[1]=a*o-n*u,e[2]=n*s-i*o,e;},s.lerp=function(e,t,r,n){var i=t[0],a=t[1],o=t[2];return e[0]=i+n*(r[0]-i),e[1]=a+n*(r[1]-a),e[2]=o+n*(r[2]-o),e;},s.random=function(e,t){t=t||1;var r=2*n()*Math.PI,i=2*n()-1,a=Math.sqrt(1-i*i)*t;return e[0]=Math.cos(r)*a,e[1]=Math.sin(r)*a,e[2]=i*t,e;},s.transformMat4=function(e,t,r){var n=t[0],i=t[1],a=t[2],o=r[3]*n+r[7]*i+r[11]*a+r[15];return o=o||1,e[0]=(r[0]*n+r[4]*i+r[8]*a+r[12])/o,e[1]=(r[1]*n+r[5]*i+r[9]*a+r[13])/o,e[2]=(r[2]*n+r[6]*i+r[10]*a+r[14])/o,e;},s.transformMat3=function(e,t,r){var n=t[0],i=t[1],a=t[2];return e[0]=n*r[0]+i*r[3]+a*r[6],e[1]=n*r[1]+i*r[4]+a*r[7],e[2]=n*r[2]+i*r[5]+a*r[8],e;},s.transformQuat=function(e,t,r){var n=t[0],i=t[1],a=t[2],o=r[0],s=r[1],u=r[2],l=r[3],h=l*n+s*a-u*i,c=l*i+u*n-o*a,d=l*a+o*i-s*n,f=-o*n-s*i-u*a;return e[0]=h*l+f*-o+c*-u-d*-s,e[1]=c*l+f*-s+d*-o-h*-u,e[2]=d*l+f*-u+h*-s-c*-o,e;},s.rotateX=function(e,t,r,n){var i=[],a=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],a[0]=i[0],a[1]=i[1]*Math.cos(n)-i[2]*Math.sin(n),a[2]=i[1]*Math.sin(n)+i[2]*Math.cos(n),e[0]=a[0]+r[0],e[1]=a[1]+r[1],e[2]=a[2]+r[2],e;},s.rotateY=function(e,t,r,n){var i=[],a=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],a[0]=i[2]*Math.sin(n)+i[0]*Math.cos(n),a[1]=i[1],a[2]=i[2]*Math.cos(n)-i[0]*Math.sin(n),e[0]=a[0]+r[0],e[1]=a[1]+r[1],e[2]=a[2]+r[2],e;},s.rotateZ=function(e,t,r,n){var i=[],a=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],a[0]=i[0]*Math.cos(n)-i[1]*Math.sin(n),a[1]=i[0]*Math.sin(n)+i[1]*Math.cos(n),a[2]=i[2],e[0]=a[0]+r[0],e[1]=a[1]+r[1],e[2]=a[2]+r[2],e;},s.forEach=function(){var e=s.create();return function(t,r,n,i,a,o){var s,u;for(r||(r=3),n||(n=0),u=i?Math.min(i*r+n,t.length):t.length,s=n;s<u;s+=r){e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],a(e,e,o),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2];}return t;};}(),s.angle=function(e,t){var r=s.fromValues(e[0],e[1],e[2]),n=s.fromValues(t[0],t[1],t[2]);s.normalize(r,r),s.normalize(n,n);var i=s.dot(r,n);return i>1?0:Math.acos(i);},s.str=function(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")";},void 0!==e&&(e.vec3=s);var u={};u.create=function(){var e=new r(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e;},u.clone=function(e){var t=new r(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t;},u.fromValues=function(e,t,n,i){var a=new r(4);return a[0]=e,a[1]=t,a[2]=n,a[3]=i,a;},u.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e;},u.set=function(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e;},u.add=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e;},u.subtract=function(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e;},u.sub=u.subtract,u.multiply=function(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e[3]=t[3]*r[3],e;},u.mul=u.multiply,u.divide=function(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e[3]=t[3]/r[3],e;},u.div=u.divide,u.min=function(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.min(t[3],r[3]),e;},u.max=function(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e[3]=Math.max(t[3],r[3]),e;},u.scale=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e;},u.scaleAndAdd=function(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e;},u.distance=function(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2],a=t[3]-e[3];return Math.sqrt(r*r+n*n+i*i+a*a);},u.dist=u.distance,u.squaredDistance=function(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2],a=t[3]-e[3];return r*r+n*n+i*i+a*a;},u.sqrDist=u.squaredDistance,u.length=function(e){var t=e[0],r=e[1],n=e[2],i=e[3];return Math.sqrt(t*t+r*r+n*n+i*i);},u.len=u.length,u.squaredLength=function(e){var t=e[0],r=e[1],n=e[2],i=e[3];return t*t+r*r+n*n+i*i;},u.sqrLen=u.squaredLength,u.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e;},u.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e;},u.normalize=function(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=r*r+n*n+i*i+a*a;return o>0&&(o=1/Math.sqrt(o),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e[3]=t[3]*o),e;},u.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3];},u.lerp=function(e,t,r,n){var i=t[0],a=t[1],o=t[2],s=t[3];return e[0]=i+n*(r[0]-i),e[1]=a+n*(r[1]-a),e[2]=o+n*(r[2]-o),e[3]=s+n*(r[3]-s),e;},u.random=function(e,t){return t=t||1,e[0]=n(),e[1]=n(),e[2]=n(),e[3]=n(),u.normalize(e,e),u.scale(e,e,t),e;},u.transformMat4=function(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3];return e[0]=r[0]*n+r[4]*i+r[8]*a+r[12]*o,e[1]=r[1]*n+r[5]*i+r[9]*a+r[13]*o,e[2]=r[2]*n+r[6]*i+r[10]*a+r[14]*o,e[3]=r[3]*n+r[7]*i+r[11]*a+r[15]*o,e;},u.transformQuat=function(e,t,r){var n=t[0],i=t[1],a=t[2],o=r[0],s=r[1],u=r[2],l=r[3],h=l*n+s*a-u*i,c=l*i+u*n-o*a,d=l*a+o*i-s*n,f=-o*n-s*i-u*a;return e[0]=h*l+f*-o+c*-u-d*-s,e[1]=c*l+f*-s+d*-o-h*-u,e[2]=d*l+f*-u+h*-s-c*-o,e;},u.forEach=function(){var e=u.create();return function(t,r,n,i,a,o){var s,u;for(r||(r=4),n||(n=0),u=i?Math.min(i*r+n,t.length):t.length,s=n;s<u;s+=r){e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],e[3]=t[s+3],a(e,e,o),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2],t[s+3]=e[3];}return t;};}(),u.str=function(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")";},void 0!==e&&(e.vec4=u);var l={};l.create=function(){var e=new r(4);return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e;},l.clone=function(e){var t=new r(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t;},l.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e;},l.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e;},l.transpose=function(e,t){if(e===t){var r=t[1];e[1]=t[2],e[2]=r;}else e[0]=t[0],e[1]=t[2],e[2]=t[1],e[3]=t[3];return e;},l.invert=function(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=r*a-i*n;return o?(o=1/o,e[0]=a*o,e[1]=-n*o,e[2]=-i*o,e[3]=r*o,e):null;},l.adjoint=function(e,t){var r=t[0];return e[0]=t[3],e[1]=-t[1],e[2]=-t[2],e[3]=r,e;},l.determinant=function(e){return e[0]*e[3]-e[2]*e[1];},l.multiply=function(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=r[0],u=r[1],l=r[2],h=r[3];return e[0]=n*s+a*u,e[1]=i*s+o*u,e[2]=n*l+a*h,e[3]=i*l+o*h,e;},l.mul=l.multiply,l.rotate=function(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=Math.sin(r),u=Math.cos(r);return e[0]=n*u+a*s,e[1]=i*u+o*s,e[2]=n*-s+a*u,e[3]=i*-s+o*u,e;},l.scale=function(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=r[0],u=r[1];return e[0]=n*s,e[1]=i*s,e[2]=a*u,e[3]=o*u,e;},l.str=function(e){return"mat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")";},l.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2));},l.LDU=function(e,t,r,n){return e[2]=n[2]/n[0],r[0]=n[0],r[1]=n[1],r[3]=n[3]-e[2]*r[1],[e,t,r];},void 0!==e&&(e.mat2=l);var h={};h.create=function(){var e=new r(6);return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e;},h.clone=function(e){var t=new r(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t;},h.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e;},h.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e;},h.invert=function(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=r*a-n*i;return u?(u=1/u,e[0]=a*u,e[1]=-n*u,e[2]=-i*u,e[3]=r*u,e[4]=(i*s-a*o)*u,e[5]=(n*o-r*s)*u,e):null;},h.determinant=function(e){return e[0]*e[3]-e[1]*e[2];},h.multiply=function(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=r[0],h=r[1],c=r[2],d=r[3],f=r[4],p=r[5];return e[0]=n*l+a*h,e[1]=i*l+o*h,e[2]=n*c+a*d,e[3]=i*c+o*d,e[4]=n*f+a*p+s,e[5]=i*f+o*p+u,e;},h.mul=h.multiply,h.rotate=function(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=Math.sin(r),h=Math.cos(r);return e[0]=n*h+a*l,e[1]=i*h+o*l,e[2]=n*-l+a*h,e[3]=i*-l+o*h,e[4]=s,e[5]=u,e;},h.scale=function(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=r[0],h=r[1];return e[0]=n*l,e[1]=i*l,e[2]=a*h,e[3]=o*h,e[4]=s,e[5]=u,e;},h.translate=function(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=r[0],h=r[1];return e[0]=n,e[1]=i,e[2]=a,e[3]=o,e[4]=n*l+a*h+s,e[5]=i*l+o*h+u,e;},h.str=function(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")";},h.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+1);},void 0!==e&&(e.mat2d=h);var c={};c.create=function(){var e=new r(9);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e;},c.fromMat4=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e;},c.clone=function(e){var t=new r(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t;},c.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e;},c.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e;},c.transpose=function(e,t){if(e===t){var r=t[1],n=t[2],i=t[5];e[1]=t[3],e[2]=t[6],e[3]=r,e[5]=t[7],e[6]=n,e[7]=i;}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e;},c.invert=function(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=t[6],l=t[7],h=t[8],c=h*o-s*l,d=-h*a+s*u,f=l*a-o*u,p=r*c+n*d+i*f;return p?(p=1/p,e[0]=c*p,e[1]=(-h*n+i*l)*p,e[2]=(s*n-i*o)*p,e[3]=d*p,e[4]=(h*r-i*u)*p,e[5]=(-s*r+i*a)*p,e[6]=f*p,e[7]=(-l*r+n*u)*p,e[8]=(o*r-n*a)*p,e):null;},c.adjoint=function(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=t[6],l=t[7],h=t[8];return e[0]=o*h-s*l,e[1]=i*l-n*h,e[2]=n*s-i*o,e[3]=s*u-a*h,e[4]=r*h-i*u,e[5]=i*a-r*s,e[6]=a*l-o*u,e[7]=n*u-r*l,e[8]=r*o-n*a,e;},c.determinant=function(e){var t=e[0],r=e[1],n=e[2],i=e[3],a=e[4],o=e[5],s=e[6],u=e[7],l=e[8];return t*(l*a-o*u)+r*(-l*i+o*s)+n*(u*i-a*s);},c.multiply=function(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=t[6],h=t[7],c=t[8],d=r[0],f=r[1],p=r[2],_=r[3],m=r[4],g=r[5],v=r[6],y=r[7],x=r[8];return e[0]=d*n+f*o+p*l,e[1]=d*i+f*s+p*h,e[2]=d*a+f*u+p*c,e[3]=_*n+m*o+g*l,e[4]=_*i+m*s+g*h,e[5]=_*a+m*u+g*c,e[6]=v*n+y*o+x*l,e[7]=v*i+y*s+x*h,e[8]=v*a+y*u+x*c,e;},c.mul=c.multiply,c.translate=function(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=t[6],h=t[7],c=t[8],d=r[0],f=r[1];return e[0]=n,e[1]=i,e[2]=a,e[3]=o,e[4]=s,e[5]=u,e[6]=d*n+f*o+l,e[7]=d*i+f*s+h,e[8]=d*a+f*u+c,e;},c.rotate=function(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=t[6],h=t[7],c=t[8],d=Math.sin(r),f=Math.cos(r);return e[0]=f*n+d*o,e[1]=f*i+d*s,e[2]=f*a+d*u,e[3]=f*o-d*n,e[4]=f*s-d*i,e[5]=f*u-d*a,e[6]=l,e[7]=h,e[8]=c,e;},c.scale=function(e,t,r){var n=r[0],i=r[1];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e;},c.fromMat2d=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e;},c.fromQuat=function(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=r+r,s=n+n,u=i+i,l=r*o,h=n*o,c=n*s,d=i*o,f=i*s,p=i*u,_=a*o,m=a*s,g=a*u;return e[0]=1-c-p,e[3]=h-g,e[6]=d+m,e[1]=h+g,e[4]=1-l-p,e[7]=f-_,e[2]=d-m,e[5]=f+_,e[8]=1-l-c,e;},c.normalFromMat4=function(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=t[6],l=t[7],h=t[8],c=t[9],d=t[10],f=t[11],p=t[12],_=t[13],m=t[14],g=t[15],v=r*s-n*o,y=r*u-i*o,x=r*l-a*o,T=n*u-i*s,b=n*l-a*s,w=i*l-a*u,E=h*_-c*p,S=h*m-d*p,A=h*g-f*p,M=c*m-d*_,C=c*g-f*_,L=d*g-f*m,N=v*L-y*C+x*M+T*A-b*S+w*E;return N?(N=1/N,e[0]=(s*L-u*C+l*M)*N,e[1]=(u*A-o*L-l*S)*N,e[2]=(o*C-s*A+l*E)*N,e[3]=(i*C-n*L-a*M)*N,e[4]=(r*L-i*A+a*S)*N,e[5]=(n*A-r*C-a*E)*N,e[6]=(_*w-m*b+g*T)*N,e[7]=(m*x-p*w-g*y)*N,e[8]=(p*b-_*x+g*v)*N,e):null;},c.str=function(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")";},c.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2));},void 0!==e&&(e.mat3=c);var d={};d.create=function(){var e=new r(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e;},d.clone=function(e){var t=new r(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t;},d.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e;},d.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e;},d.transpose=function(e,t){if(e===t){var r=t[1],n=t[2],i=t[3],a=t[6],o=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=n,e[9]=a,e[11]=t[14],e[12]=i,e[13]=o,e[14]=s;}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e;},d.invert=function(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=t[6],l=t[7],h=t[8],c=t[9],d=t[10],f=t[11],p=t[12],_=t[13],m=t[14],g=t[15],v=r*s-n*o,y=r*u-i*o,x=r*l-a*o,T=n*u-i*s,b=n*l-a*s,w=i*l-a*u,E=h*_-c*p,S=h*m-d*p,A=h*g-f*p,M=c*m-d*_,C=c*g-f*_,L=d*g-f*m,N=v*L-y*C+x*M+T*A-b*S+w*E;return N?(N=1/N,e[0]=(s*L-u*C+l*M)*N,e[1]=(i*C-n*L-a*M)*N,e[2]=(_*w-m*b+g*T)*N,e[3]=(d*b-c*w-f*T)*N,e[4]=(u*A-o*L-l*S)*N,e[5]=(r*L-i*A+a*S)*N,e[6]=(m*x-p*w-g*y)*N,e[7]=(h*w-d*x+f*y)*N,e[8]=(o*C-s*A+l*E)*N,e[9]=(n*A-r*C-a*E)*N,e[10]=(p*b-_*x+g*v)*N,e[11]=(c*x-h*b-f*v)*N,e[12]=(s*S-o*M-u*E)*N,e[13]=(r*M-n*S+i*E)*N,e[14]=(_*y-p*T-m*v)*N,e[15]=(h*T-c*y+d*v)*N,e):null;},d.adjoint=function(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=t[6],l=t[7],h=t[8],c=t[9],d=t[10],f=t[11],p=t[12],_=t[13],m=t[14],g=t[15];return e[0]=s*(d*g-f*m)-c*(u*g-l*m)+_*(u*f-l*d),e[1]=-(n*(d*g-f*m)-c*(i*g-a*m)+_*(i*f-a*d)),e[2]=n*(u*g-l*m)-s*(i*g-a*m)+_*(i*l-a*u),e[3]=-(n*(u*f-l*d)-s*(i*f-a*d)+c*(i*l-a*u)),e[4]=-(o*(d*g-f*m)-h*(u*g-l*m)+p*(u*f-l*d)),e[5]=r*(d*g-f*m)-h*(i*g-a*m)+p*(i*f-a*d),e[6]=-(r*(u*g-l*m)-o*(i*g-a*m)+p*(i*l-a*u)),e[7]=r*(u*f-l*d)-o*(i*f-a*d)+h*(i*l-a*u),e[8]=o*(c*g-f*_)-h*(s*g-l*_)+p*(s*f-l*c),e[9]=-(r*(c*g-f*_)-h*(n*g-a*_)+p*(n*f-a*c)),e[10]=r*(s*g-l*_)-o*(n*g-a*_)+p*(n*l-a*s),e[11]=-(r*(s*f-l*c)-o*(n*f-a*c)+h*(n*l-a*s)),e[12]=-(o*(c*m-d*_)-h*(s*m-u*_)+p*(s*d-u*c)),e[13]=r*(c*m-d*_)-h*(n*m-i*_)+p*(n*d-i*c),e[14]=-(r*(s*m-u*_)-o*(n*m-i*_)+p*(n*u-i*s)),e[15]=r*(s*d-u*c)-o*(n*d-i*c)+h*(n*u-i*s),e;},d.determinant=function(e){var t=e[0],r=e[1],n=e[2],i=e[3],a=e[4],o=e[5],s=e[6],u=e[7],l=e[8],h=e[9],c=e[10],d=e[11],f=e[12],p=e[13],_=e[14],m=e[15];return(t*o-r*a)*(c*m-d*_)-(t*s-n*a)*(h*m-d*p)+(t*u-i*a)*(h*_-c*p)+(r*s-n*o)*(l*m-d*f)-(r*u-i*o)*(l*_-c*f)+(n*u-i*s)*(l*p-h*f);},d.multiply=function(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=t[6],h=t[7],c=t[8],d=t[9],f=t[10],p=t[11],_=t[12],m=t[13],g=t[14],v=t[15],y=r[0],x=r[1],T=r[2],b=r[3];return e[0]=y*n+x*s+T*c+b*_,e[1]=y*i+x*u+T*d+b*m,e[2]=y*a+x*l+T*f+b*g,e[3]=y*o+x*h+T*p+b*v,y=r[4],x=r[5],T=r[6],b=r[7],e[4]=y*n+x*s+T*c+b*_,e[5]=y*i+x*u+T*d+b*m,e[6]=y*a+x*l+T*f+b*g,e[7]=y*o+x*h+T*p+b*v,y=r[8],x=r[9],T=r[10],b=r[11],e[8]=y*n+x*s+T*c+b*_,e[9]=y*i+x*u+T*d+b*m,e[10]=y*a+x*l+T*f+b*g,e[11]=y*o+x*h+T*p+b*v,y=r[12],x=r[13],T=r[14],b=r[15],e[12]=y*n+x*s+T*c+b*_,e[13]=y*i+x*u+T*d+b*m,e[14]=y*a+x*l+T*f+b*g,e[15]=y*o+x*h+T*p+b*v,e;},d.multiplyAffine=function(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[4],s=t[5],u=t[6],l=t[8],h=t[9],c=t[10],d=t[12],f=t[13],p=t[14],_=r[0],m=r[1],g=r[2];return e[0]=_*n+m*o+g*l,e[1]=_*i+m*s+g*h,e[2]=_*a+m*u+g*c,_=r[4],m=r[5],g=r[6],e[4]=_*n+m*o+g*l,e[5]=_*i+m*s+g*h,e[6]=_*a+m*u+g*c,_=r[8],m=r[9],g=r[10],e[8]=_*n+m*o+g*l,e[9]=_*i+m*s+g*h,e[10]=_*a+m*u+g*c,_=r[12],m=r[13],g=r[14],e[12]=_*n+m*o+g*l+d,e[13]=_*i+m*s+g*h+f,e[14]=_*a+m*u+g*c+p,e;},d.mul=d.multiply,d.mulAffine=d.multiplyAffine,d.translate=function(e,t,r){var n,i,a,o,s,u,l,h,c,d,f,p,_=r[0],m=r[1],g=r[2];return t===e?(e[12]=t[0]*_+t[4]*m+t[8]*g+t[12],e[13]=t[1]*_+t[5]*m+t[9]*g+t[13],e[14]=t[2]*_+t[6]*m+t[10]*g+t[14],e[15]=t[3]*_+t[7]*m+t[11]*g+t[15]):(n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=t[6],h=t[7],c=t[8],d=t[9],f=t[10],p=t[11],e[0]=n,e[1]=i,e[2]=a,e[3]=o,e[4]=s,e[5]=u,e[6]=l,e[7]=h,e[8]=c,e[9]=d,e[10]=f,e[11]=p,e[12]=n*_+s*m+c*g+t[12],e[13]=i*_+u*m+d*g+t[13],e[14]=a*_+l*m+f*g+t[14],e[15]=o*_+h*m+p*g+t[15]),e;},d.scale=function(e,t,r){var n=r[0],i=r[1],a=r[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*a,e[9]=t[9]*a,e[10]=t[10]*a,e[11]=t[11]*a,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e;},d.rotate=function(e,r,n,i){var a,o,s,u,l,h,c,d,f,p,_,m,g,v,y,x,T,b,w,E,S,A,M,C,L=i[0],N=i[1],R=i[2],D=Math.sqrt(L*L+N*N+R*R);return Math.abs(D)<t?null:(D=1/D,L*=D,N*=D,R*=D,a=Math.sin(n),o=Math.cos(n),s=1-o,u=r[0],l=r[1],h=r[2],c=r[3],d=r[4],f=r[5],p=r[6],_=r[7],m=r[8],g=r[9],v=r[10],y=r[11],x=L*L*s+o,T=N*L*s+R*a,b=R*L*s-N*a,w=L*N*s-R*a,E=N*N*s+o,S=R*N*s+L*a,A=L*R*s+N*a,M=N*R*s-L*a,C=R*R*s+o,e[0]=u*x+d*T+m*b,e[1]=l*x+f*T+g*b,e[2]=h*x+p*T+v*b,e[3]=c*x+_*T+y*b,e[4]=u*w+d*E+m*S,e[5]=l*w+f*E+g*S,e[6]=h*w+p*E+v*S,e[7]=c*w+_*E+y*S,e[8]=u*A+d*M+m*C,e[9]=l*A+f*M+g*C,e[10]=h*A+p*M+v*C,e[11]=c*A+_*M+y*C,r!==e&&(e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e);},d.rotateX=function(e,t,r){var n=Math.sin(r),i=Math.cos(r),a=t[4],o=t[5],s=t[6],u=t[7],l=t[8],h=t[9],c=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=a*i+l*n,e[5]=o*i+h*n,e[6]=s*i+c*n,e[7]=u*i+d*n,e[8]=l*i-a*n,e[9]=h*i-o*n,e[10]=c*i-s*n,e[11]=d*i-u*n,e;},d.rotateY=function(e,t,r){var n=Math.sin(r),i=Math.cos(r),a=t[0],o=t[1],s=t[2],u=t[3],l=t[8],h=t[9],c=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i-l*n,e[1]=o*i-h*n,e[2]=s*i-c*n,e[3]=u*i-d*n,e[8]=a*n+l*i,e[9]=o*n+h*i,e[10]=s*n+c*i,e[11]=u*n+d*i,e;},d.rotateZ=function(e,t,r){var n=Math.sin(r),i=Math.cos(r),a=t[0],o=t[1],s=t[2],u=t[3],l=t[4],h=t[5],c=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i+l*n,e[1]=o*i+h*n,e[2]=s*i+c*n,e[3]=u*i+d*n,e[4]=l*i-a*n,e[5]=h*i-o*n,e[6]=c*i-s*n,e[7]=d*i-u*n,e;},d.fromRotationTranslation=function(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=n+n,u=i+i,l=a+a,h=n*s,c=n*u,d=n*l,f=i*u,p=i*l,_=a*l,m=o*s,g=o*u,v=o*l;return e[0]=1-(f+_),e[1]=c+v,e[2]=d-g,e[3]=0,e[4]=c-v,e[5]=1-(h+_),e[6]=p+m,e[7]=0,e[8]=d+g,e[9]=p-m,e[10]=1-(h+f),e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e;},d.fromQuat=function(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=r+r,s=n+n,u=i+i,l=r*o,h=n*o,c=n*s,d=i*o,f=i*s,p=i*u,_=a*o,m=a*s,g=a*u;return e[0]=1-c-p,e[1]=h+g,e[2]=d-m,e[3]=0,e[4]=h-g,e[5]=1-l-p,e[6]=f+_,e[7]=0,e[8]=d+m,e[9]=f-_,e[10]=1-l-c,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e;},d.frustum=function(e,t,r,n,i,a,o){var s=1/(r-t),u=1/(i-n),l=1/(a-o);return e[0]=2*a*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*a*u,e[6]=0,e[7]=0,e[8]=(r+t)*s,e[9]=(i+n)*u,e[10]=(o+a)*l,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*a*2*l,e[15]=0,e;},d.perspective=function(e,t,r,n,i){var a=1/Math.tan(t/2),o=1/(n-i);return e[0]=a/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(i+n)*o,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*i*n*o,e[15]=0,e;},d.ortho=function(e,t,r,n,i,a,o){var s=1/(t-r),u=1/(n-i),l=1/(a-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*l,e[11]=0,e[12]=(t+r)*s,e[13]=(i+n)*u,e[14]=(o+a)*l,e[15]=1,e;},d.lookAt=function(e,r,n,i){var a,o,s,u,l,h,c,f,p,_,m=r[0],g=r[1],v=r[2],y=i[0],x=i[1],T=i[2],b=n[0],w=n[1],E=n[2];return Math.abs(m-b)<t&&Math.abs(g-w)<t&&Math.abs(v-E)<t?d.identity(e):(c=m-b,f=g-w,p=v-E,_=1/Math.sqrt(c*c+f*f+p*p),c*=_,f*=_,p*=_,a=x*p-T*f,o=T*c-y*p,s=y*f-x*c,_=Math.sqrt(a*a+o*o+s*s),_?(_=1/_,a*=_,o*=_,s*=_):(a=0,o=0,s=0),u=f*s-p*o,l=p*a-c*s,h=c*o-f*a,_=Math.sqrt(u*u+l*l+h*h),_?(_=1/_,u*=_,l*=_,h*=_):(u=0,l=0,h=0),e[0]=a,e[1]=u,e[2]=c,e[3]=0,e[4]=o,e[5]=l,e[6]=f,e[7]=0,e[8]=s,e[9]=h,e[10]=p,e[11]=0,e[12]=-(a*m+o*g+s*v),e[13]=-(u*m+l*g+h*v),e[14]=-(c*m+f*g+p*v),e[15]=1,e);},d.str=function(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")";},d.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2)+Math.pow(e[9],2)+Math.pow(e[10],2)+Math.pow(e[11],2)+Math.pow(e[12],2)+Math.pow(e[13],2)+Math.pow(e[14],2)+Math.pow(e[15],2));},void 0!==e&&(e.mat4=d);var f={};f.create=function(){var e=new r(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e;},f.rotationTo=function(){var e=s.create(),t=s.fromValues(1,0,0),r=s.fromValues(0,1,0);return function(n,i,a){var o=s.dot(i,a);return o<-.999999?(s.cross(e,t,i),s.length(e)<1e-6&&s.cross(e,r,i),s.normalize(e,e),f.setAxisAngle(n,e,Math.PI),n):o>.999999?(n[0]=0,n[1]=0,n[2]=0,n[3]=1,n):(s.cross(e,i,a),n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=1+o,f.normalize(n,n));};}(),f.setAxes=function(){var e=c.create();return function(t,r,n,i){return e[0]=n[0],e[3]=n[1],e[6]=n[2],e[1]=i[0],e[4]=i[1],e[7]=i[2],e[2]=-r[0],e[5]=-r[1],e[8]=-r[2],f.normalize(t,f.fromMat3(t,e));};}(),f.clone=u.clone,f.fromValues=u.fromValues,f.copy=u.copy,f.set=u.set,f.identity=function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e;},f.setAxisAngle=function(e,t,r){r*=.5;var n=Math.sin(r);return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=Math.cos(r),e;},f.add=u.add,f.multiply=function(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=r[0],u=r[1],l=r[2],h=r[3];return e[0]=n*h+o*s+i*l-a*u,e[1]=i*h+o*u+a*s-n*l,e[2]=a*h+o*l+n*u-i*s,e[3]=o*h-n*s-i*u-a*l,e;},f.mul=f.multiply,f.scale=u.scale,f.rotateX=function(e,t,r){r*=.5;var n=t[0],i=t[1],a=t[2],o=t[3],s=Math.sin(r),u=Math.cos(r);return e[0]=n*u+o*s,e[1]=i*u+a*s,e[2]=a*u-i*s,e[3]=o*u-n*s,e;},f.rotateY=function(e,t,r){r*=.5;var n=t[0],i=t[1],a=t[2],o=t[3],s=Math.sin(r),u=Math.cos(r);return e[0]=n*u-a*s,e[1]=i*u+o*s,e[2]=a*u+n*s,e[3]=o*u-i*s,e;},f.rotateZ=function(e,t,r){r*=.5;var n=t[0],i=t[1],a=t[2],o=t[3],s=Math.sin(r),u=Math.cos(r);return e[0]=n*u+i*s,e[1]=i*u-n*s,e[2]=a*u+o*s,e[3]=o*u-a*s,e;},f.calculateW=function(e,t){var r=t[0],n=t[1],i=t[2];return e[0]=r,e[1]=n,e[2]=i,e[3]=Math.sqrt(Math.abs(1-r*r-n*n-i*i)),e;},f.dot=u.dot,f.lerp=u.lerp,f.slerp=function(e,t,r,n){var i,a,o,s,u,l=t[0],h=t[1],c=t[2],d=t[3],f=r[0],p=r[1],_=r[2],m=r[3];return a=l*f+h*p+c*_+d*m,a<0&&(a=-a,f=-f,p=-p,_=-_,m=-m),1-a>1e-6?(i=Math.acos(a),o=Math.sin(i),s=Math.sin((1-n)*i)/o,u=Math.sin(n*i)/o):(s=1-n,u=n),e[0]=s*l+u*f,e[1]=s*h+u*p,e[2]=s*c+u*_,e[3]=s*d+u*m,e;},f.invert=function(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=r*r+n*n+i*i+a*a,s=o?1/o:0;return e[0]=-r*s,e[1]=-n*s,e[2]=-i*s,e[3]=a*s,e;},f.conjugate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e;},f.length=u.length,f.len=f.length,f.squaredLength=u.squaredLength,f.sqrLen=f.squaredLength,f.normalize=u.normalize,f.fromMat3=function(e,t){var r,n=t[0]+t[4]+t[8];if(n>0)r=Math.sqrt(n+1),e[3]=.5*r,r=.5/r,e[0]=(t[5]-t[7])*r,e[1]=(t[6]-t[2])*r,e[2]=(t[1]-t[3])*r;else{var i=0;t[4]>t[0]&&(i=1),t[8]>t[3*i+i]&&(i=2);var a=(i+1)%3,o=(i+2)%3;r=Math.sqrt(t[3*i+i]-t[3*a+a]-t[3*o+o]+1),e[i]=.5*r,r=.5/r,e[3]=(t[3*a+o]-t[3*o+a])*r,e[a]=(t[3*a+i]+t[3*i+a])*r,e[o]=(t[3*o+i]+t[3*i+o])*r;}return e;},f.str=function(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")";},void 0!==e&&(e.quat=f);}(r.exports);}();},function(e,t,r){function n(e){return!e||"none"===e;}function i(e){return e instanceof HTMLCanvasElement||e instanceof HTMLImageElement||e instanceof Image;}function a(e){return e.getZr&&e.setOption;}var o=r(29),s=r(51),u=r(6),l=r(5),h=r(8),c=r(17),d=r(30),f=r(12),p=r(0),_=r(31),m=r(84),g=r(44),v=r(156),y=r(187),x=r(188),T=r(217),b=r(4),w=r(158);p.util.extend(d.prototype,w),h.import(r(213)),h.import(r(81)),h.import(r(166)),h.import(r(165)),h.import(r(168)),h.import(r(171)),h.import(r(172));var E=_.prototype.addToScene,S=_.prototype.removeFromScene;_.prototype.addToScene=function(e){if(E.call(this,e),this.__zr){var t=this.__zr;e.traverse(function(e){e.__zr=t,e.addAnimatorsToZr&&e.addAnimatorsToZr(t);});}},_.prototype.removeFromScene=function(e){S.call(this,e),e.traverse(function(e){var t=e.__zr;e.__zr=null,t&&e.removeAnimatorsFromZr&&e.removeAnimatorsFromZr(t);});},c.prototype.setTextureImage=function(e,t,r,i){if(null==r&&(r=i),this.shader){var a,o=r.getZr(),s=this;return s.shader.disableTexture(e),n(t)||(a=A.loadTexture(t,r,i,function(t){s.shader.enableTexture(e),s.set(e,t),o&&o.refresh();})),a;}};var A={};A.Renderer=s,A.Node=d,A.Mesh=o,A.Shader=h,A.Material=c,A.Texture=l,A.Texture2D=u,A.Geometry=f,A.SphereGeometry=r(74),A.PlaneGeometry=r(53),A.CubeGeometry=r(73),A.AmbientLight=r(186),A.DirectionalLight=r(75),A.PointLight=r(76),A.SpotLight=r(77),A.PerspectiveCamera=r(42),A.OrthographicCamera=r(41),A.Vector2=r(24),A.Vector3=r(3),A.Vector4=r(193),A.Quaternion=r(55),A.Matrix2=r(190),A.Matrix2d=r(191),A.Matrix3=r(192),A.Matrix4=r(10),A.Plane=r(78),A.Ray=r(56),A.BoundingBox=r(13),A.Frustum=r(54);var M=g.createBlank("rgba(255,255,255,0)").image;A.loadTexture=function(e,t,r,n){"function"==typeof r&&(n=r,r={}),r=r||{};for(var o=Object.keys(r).sort(),s="",u=0;u<o.length;u++){s+=o[u]+"_"+r[o[u]]+"_";}var l=t.__textureCache=t.__textureCache||new m(20);if(a(e)){var h=e.__textureid__,c=l.get(s+h);if(c)c.texture.surface.setECharts(e),n&&n(c.texture);else{var d=new v(e);d.onupdate=function(){t.getZr().refresh();},c={texture:d.getTexture()};for(var u=0;u<o.length;u++){c.texture[o[u]]=r[o[u]];}h=e.__textureid__||"__ecgl_ec__"+c.texture.__GUID__,e.__textureid__=h,l.put(s+h,c),n&&n(c.texture);}return c.texture;}if(i(e)){var h=e.__textureid__,c=l.get(s+h);if(!c){c={texture:new A.Texture2D({image:e})};for(var u=0;u<o.length;u++){c.texture[o[u]]=r[o[u]];}h=e.__textureid__||"__ecgl_image__"+c.texture.__GUID__,e.__textureid__=h,l.put(s+h,c),n&&n(c.texture);}return c.texture;}var c=l.get(s+e);if(c)c.callbacks?c.callbacks.push(n):n&&n(c.texture);else if(e.match(/.hdr$|^data:application\/octet-stream/)){c={callbacks:[n]};var f=g.loadTexture(e,{exposure:r.exposure,fileType:"hdr"},function(){f.dirty(),c.callbacks.forEach(function(e){e&&e(f);}),c.callbacks=null;});c.texture=f,l.put(s+e,c);}else{for(var f=new A.Texture2D({image:new Image()}),u=0;u<o.length;u++){f[o[u]]=r[o[u]];}c={texture:f,callbacks:[n]};var p=f.image;p.onload=function(){f.image=p,f.dirty(),c.callbacks.forEach(function(e){e&&e(f);}),c.callbacks=null;},p.src=e,f.image=M,l.put(s+e,c);}return c.texture;},A.createAmbientCubemap=function(e,t,r,n){e=e||{};var i=e.texture,a=b.firstNotNull(e.exposure,1),o=new y({intensity:b.firstNotNull(e.specularIntensity,1)}),s=new x({intensity:b.firstNotNull(e.diffuseIntensity,1),coefficients:[.844,.712,.691,-.037,.083,.167,.343,.288,.299,-.041,-.021,-.009,-.003,-.041,-.064,-.011,-.007,-.004,-.031,.034,.081,-.06,-.049,-.06,.046,.056,.05]});return o.cubemap=A.loadTexture(i,r,{exposure:a},function(){o.cubemap.flipY=!1,o.prefilter(t,32),s.coefficients=T.projectEnvironmentMap(t,o.cubemap,{lod:1}),n&&n();}),{specular:o,diffuse:s};},A.createBlankTexture=g.createBlank,A.isImage=i,A.additiveBlend=function(e){e.blendEquation(e.FUNC_ADD),e.blendFunc(e.SRC_ALPHA,e.ONE);},A.parseColor=function(e,t){return e instanceof Array?(t||(t=[]),t[0]=e[0],t[1]=e[1],t[2]=e[2],e.length>3?t[3]=e[3]:t[3]=1,t):(t=p.color.parse(e||"#000",t)||[0,0,0,0],t[0]/=255,t[1]/=255,t[2]/=255,t);},A.directionFromAlphaBeta=function(e,t){var r=e/180*Math.PI+Math.PI/2,n=-t/180*Math.PI+Math.PI/2,i=[],a=Math.sin(r);return i[0]=a*Math.cos(n),i[1]=-Math.cos(r),i[2]=a*Math.sin(n),i;},A.getShadowResolution=function(e){var t=1024;switch(e){case"low":t=512;break;case"medium":break;case"high":t=2048;break;case"ultra":t=4096;}return t;},A.COMMON_SHADERS=["lambert","color","realistic"],A.createShader=function(e){var t=h.source(e+".vertex"),r=h.source(e+".fragment");return t||console.error("Vertex shader of '%s' not exits",e),r||console.error("Fragment shader of '%s' not exits",e),new h({name:e,vertex:t,fragment:r});},A.setMaterialFromModel=function(e,t,r,n){var i=r.getModel(e+"Material"),a=i.get("baseTexture"),o=b.firstNotNull(i.get("textureTiling"),1),s=b.firstNotNull(i.get("textureOffset"),1);"number"==typeof o&&(o=[o,o]),"number"==typeof s&&(s=[s,s]);var u={anisotropic:8,wrapS:A.Texture.REPEAT,wrapT:A.Texture.REPEAT};if("realistic"===e){var l=b.firstNotNull(i.get("roughness"),.5),h=i.get("metalness")||0,c=i.get("roughnessTexture"),d=i.get("metalnessTexture");null==h&&(h=null==d?0:.5),null==l&&(l=.5),t.setTextureImage("diffuseMap",a,n,u),t.setTextureImage("roughnessMap",c,n,u),t.setTextureImage("metalnessMap",d,n,u),t.set({roughness:l,metalness:h,uvRepeat:o,uvOffset:s});}else"lambert"===e?(t.setTextureImage("diffuseMap",a,n,u),t.set({uvRepeat:o,uvOffset:s})):"color"===e&&(t.setTextureImage("diffuseMap",a,n,u),t.set({uvRepeat:o,uvOffset:s}));},A.updateVertexAnimation=function(e,t,r,n){var i=n.get("animation"),a=n.get("animationDurationUpdate"),o=n.get("animationEasingUpdate"),s=r.shadowDepthMaterial;if(i&&t&&a>0&&t.geometry.vertexCount===r.geometry.vertexCount){r.material.shader.define("vertex","VERTEX_ANIMATION"),s&&s.shader.define("vertex","VERTEX_ANIMATION");for(var u=0;u<e.length;u++){r.geometry.attributes[e[u][0]].value=t.geometry.attributes[e[u][1]].value;}r.geometry.dirty(),r.__percent=0,r.material.set("percent",0),r.stopAnimation(),r.animate().when(a,{__percent:1}).during(function(){r.material.set("percent",r.__percent),s&&s.set("percent",r.__percent);}).done(function(){r.material.shader.undefine("vertex","VERTEX_ANIMATION"),s&&s.shader.undefine("vertex","VERTEX_ANIMATION");}).start(o);}else r.material.shader.undefine("vertex","VERTEX_ANIMATION"),s&&s.shader.undefine("vertex","VERTEX_ANIMATION");},e.exports=A;},function(e,t,r){"use strict";function n(e,t,r){return e<t?t:e>r?r:e;}var i=r(1),a=i.vec3,o=function o(e,t,r){e=e||0,t=t||0,r=r||0,this._array=a.fromValues(e,t,r),this._dirty=!0;};o.prototype={constructor:o,add:function add(e){return a.add(this._array,this._array,e._array),this._dirty=!0,this;},set:function set(e,t,r){return this._array[0]=e,this._array[1]=t,this._array[2]=r,this._dirty=!0,this;},setArray:function setArray(e){return this._array[0]=e[0],this._array[1]=e[1],this._array[2]=e[2],this._dirty=!0,this;},clone:function clone(){return new o(this.x,this.y,this.z);},copy:function copy(e){return a.copy(this._array,e._array),this._dirty=!0,this;},cross:function cross(e,t){return a.cross(this._array,e._array,t._array),this._dirty=!0,this;},dist:function dist(e){return a.dist(this._array,e._array);},distance:function distance(e){return a.distance(this._array,e._array);},div:function div(e){return a.div(this._array,this._array,e._array),this._dirty=!0,this;},divide:function divide(e){return a.divide(this._array,this._array,e._array),this._dirty=!0,this;},dot:function dot(e){return a.dot(this._array,e._array);},len:function len(){return a.len(this._array);},length:function length(){return a.length(this._array);},lerp:function lerp(e,t,r){return a.lerp(this._array,e._array,t._array,r),this._dirty=!0,this;},min:function min(e){return a.min(this._array,this._array,e._array),this._dirty=!0,this;},max:function max(e){return a.max(this._array,this._array,e._array),this._dirty=!0,this;},mul:function mul(e){return a.mul(this._array,this._array,e._array),this._dirty=!0,this;},multiply:function multiply(e){return a.multiply(this._array,this._array,e._array),this._dirty=!0,this;},negate:function negate(){return a.negate(this._array,this._array),this._dirty=!0,this;},normalize:function normalize(){return a.normalize(this._array,this._array),this._dirty=!0,this;},random:function random(e){return a.random(this._array,e),this._dirty=!0,this;},scale:function scale(e){return a.scale(this._array,this._array,e),this._dirty=!0,this;},scaleAndAdd:function scaleAndAdd(e,t){return a.scaleAndAdd(this._array,this._array,e._array,t),this._dirty=!0,this;},sqrDist:function sqrDist(e){return a.sqrDist(this._array,e._array);},squaredDistance:function squaredDistance(e){return a.squaredDistance(this._array,e._array);},sqrLen:function sqrLen(){return a.sqrLen(this._array);},squaredLength:function squaredLength(){return a.squaredLength(this._array);},sub:function sub(e){return a.sub(this._array,this._array,e._array),this._dirty=!0,this;},subtract:function subtract(e){return a.subtract(this._array,this._array,e._array),this._dirty=!0,this;},transformMat3:function transformMat3(e){return a.transformMat3(this._array,this._array,e._array),this._dirty=!0,this;},transformMat4:function transformMat4(e){return a.transformMat4(this._array,this._array,e._array),this._dirty=!0,this;},transformQuat:function transformQuat(e){return a.transformQuat(this._array,this._array,e._array),this._dirty=!0,this;},applyProjection:function applyProjection(e){var t=this._array;if(e=e._array,0===e[15]){var r=-1/t[2];t[0]=e[0]*t[0]*r,t[1]=e[5]*t[1]*r,t[2]=(e[10]*t[2]+e[14])*r;}else t[0]=e[0]*t[0]+e[12],t[1]=e[5]*t[1]+e[13],t[2]=e[10]*t[2]+e[14];return this._dirty=!0,this;},eulerFromQuat:function eulerFromQuat(e,t){o.eulerFromQuat(this,e,t);},eulerFromMat3:function eulerFromMat3(e,t){o.eulerFromMat3(this,e,t);},toString:function toString(){return"["+Array.prototype.join.call(this._array,",")+"]";},toArray:function toArray(){return Array.prototype.slice.call(this._array);}};var s=Object.defineProperty;if(s){var u=o.prototype;s(u,"x",{get:function get(){return this._array[0];},set:function set(e){this._array[0]=e,this._dirty=!0;}}),s(u,"y",{get:function get(){return this._array[1];},set:function set(e){this._array[1]=e,this._dirty=!0;}}),s(u,"z",{get:function get(){return this._array[2];},set:function set(e){this._array[2]=e,this._dirty=!0;}});}o.add=function(e,t,r){return a.add(e._array,t._array,r._array),e._dirty=!0,e;},o.set=function(e,t,r,n){a.set(e._array,t,r,n),e._dirty=!0;},o.copy=function(e,t){return a.copy(e._array,t._array),e._dirty=!0,e;},o.cross=function(e,t,r){return a.cross(e._array,t._array,r._array),e._dirty=!0,e;},o.dist=function(e,t){return a.distance(e._array,t._array);},o.distance=o.dist,o.div=function(e,t,r){return a.divide(e._array,t._array,r._array),e._dirty=!0,e;},o.divide=o.div,o.dot=function(e,t){return a.dot(e._array,t._array);},o.len=function(e){return a.length(e._array);},o.lerp=function(e,t,r,n){return a.lerp(e._array,t._array,r._array,n),e._dirty=!0,e;},o.min=function(e,t,r){return a.min(e._array,t._array,r._array),e._dirty=!0,e;},o.max=function(e,t,r){return a.max(e._array,t._array,r._array),e._dirty=!0,e;},o.mul=function(e,t,r){return a.multiply(e._array,t._array,r._array),e._dirty=!0,e;},o.multiply=o.mul,o.negate=function(e,t){return a.negate(e._array,t._array),e._dirty=!0,e;},o.normalize=function(e,t){return a.normalize(e._array,t._array),e._dirty=!0,e;},o.random=function(e,t){return a.random(e._array,t),e._dirty=!0,e;},o.scale=function(e,t,r){return a.scale(e._array,t._array,r),e._dirty=!0,e;},o.scaleAndAdd=function(e,t,r,n){return a.scaleAndAdd(e._array,t._array,r._array,n),e._dirty=!0,e;},o.sqrDist=function(e,t){return a.sqrDist(e._array,t._array);},o.squaredDistance=o.sqrDist,o.sqrLen=function(e){return a.sqrLen(e._array);},o.squaredLength=o.sqrLen,o.sub=function(e,t,r){return a.subtract(e._array,t._array,r._array),e._dirty=!0,e;},o.subtract=o.sub,o.transformMat3=function(e,t,r){return a.transformMat3(e._array,t._array,r._array),e._dirty=!0,e;},o.transformMat4=function(e,t,r){return a.transformMat4(e._array,t._array,r._array),e._dirty=!0,e;},o.transformQuat=function(e,t,r){return a.transformQuat(e._array,t._array,r._array),e._dirty=!0,e;};var l=Math.atan2,h=Math.asin,c=Math.abs;o.eulerFromQuat=function(e,t,r){e._dirty=!0,t=t._array;var i=e._array,a=t[0],o=t[1],s=t[2],u=t[3],c=a*a,d=o*o,f=s*s,p=u*u,r=(r||"XYZ").toUpperCase();switch(r){case"XYZ":i[0]=l(2*(a*u-o*s),p-c-d+f),i[1]=h(n(2*(a*s+o*u),-1,1)),i[2]=l(2*(s*u-a*o),p+c-d-f);break;case"YXZ":i[0]=h(n(2*(a*u-o*s),-1,1)),i[1]=l(2*(a*s+o*u),p-c-d+f),i[2]=l(2*(a*o+s*u),p-c+d-f);break;case"ZXY":i[0]=h(n(2*(a*u+o*s),-1,1)),i[1]=l(2*(o*u-s*a),p-c-d+f),i[2]=l(2*(s*u-a*o),p-c+d-f);break;case"ZYX":i[0]=l(2*(a*u+s*o),p-c-d+f),i[1]=h(n(2*(o*u-a*s),-1,1)),i[2]=l(2*(a*o+s*u),p+c-d-f);break;case"YZX":i[0]=l(2*(a*u-s*o),p-c+d-f),i[1]=l(2*(o*u-a*s),p+c-d-f),i[2]=h(n(2*(a*o+s*u),-1,1));break;case"XZY":i[0]=l(2*(a*u+o*s),p-c+d-f),i[1]=l(2*(a*s+o*u),p+c-d-f),i[2]=h(n(2*(s*u-a*o),-1,1));break;default:console.warn("Unkown order: "+r);}return e;},o.eulerFromMat3=function(e,t,r){var i=t._array,a=i[0],o=i[3],s=i[6],u=i[1],d=i[4],f=i[7],p=i[2],_=i[5],m=i[8],g=e._array,r=(r||"XYZ").toUpperCase();switch(r){case"XYZ":g[1]=h(n(s,-1,1)),c(s)<.99999?(g[0]=l(-f,m),g[2]=l(-o,a)):(g[0]=l(_,d),g[2]=0);break;case"YXZ":g[0]=h(-n(f,-1,1)),c(f)<.99999?(g[1]=l(s,m),g[2]=l(u,d)):(g[1]=l(-p,a),g[2]=0);break;case"ZXY":g[0]=h(n(_,-1,1)),c(_)<.99999?(g[1]=l(-p,m),g[2]=l(-o,d)):(g[1]=0,g[2]=l(u,a));break;case"ZYX":g[1]=h(-n(p,-1,1)),c(p)<.99999?(g[0]=l(_,m),g[2]=l(u,a)):(g[0]=0,g[2]=l(-o,d));break;case"YZX":g[2]=h(n(u,-1,1)),c(u)<.99999?(g[0]=l(-f,d),g[1]=l(-p,a)):(g[0]=0,g[1]=l(s,m));break;case"XZY":g[2]=h(-n(o,-1,1)),c(o)<.99999?(g[0]=l(_,d),g[1]=l(s,a)):(g[0]=l(-f,m),g[1]=0);break;default:console.warn("Unkown order: "+r);}return e._dirty=!0,e;},o.POSITIVE_X=new o(1,0,0),o.NEGATIVE_X=new o(-1,0,0),o.POSITIVE_Y=new o(0,1,0),o.NEGATIVE_Y=new o(0,-1,0),o.POSITIVE_Z=new o(0,0,1),o.NEGATIVE_Z=new o(0,0,-1),o.UP=new o(0,1,0),o.ZERO=new o(0,0,0),e.exports=o;},function(e,t){var r={firstNotNull:function firstNotNull(){for(var e=0,t=arguments.length;e<t;e++){if(null!=arguments[e])return arguments[e];}}};e.exports=r;},function(e,t,r){"use strict";var n=r(7),i=r(9),a=r(43),o=n.extend({width:512,height:512,type:i.UNSIGNED_BYTE,format:i.RGBA,wrapS:i.CLAMP_TO_EDGE,wrapT:i.CLAMP_TO_EDGE,minFilter:i.LINEAR_MIPMAP_LINEAR,magFilter:i.LINEAR,useMipmap:!0,anisotropic:1,flipY:!0,unpackAlignment:4,premultiplyAlpha:!1,dynamic:!1,NPOT:!1},function(){this._cache=new a();},{getWebGLTexture:function getWebGLTexture(e){var t=this._cache;return t.use(e.__GLID__),t.miss("webgl_texture")&&t.put("webgl_texture",e.createTexture()),this.dynamic?this.update(e):t.isDirty()&&(this.update(e),t.fresh()),t.get("webgl_texture");},bind:function bind(){},unbind:function unbind(){},dirty:function dirty(){this._cache&&this._cache.dirtyAll();},update:function update(e){},beforeUpdate:function beforeUpdate(e){e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,this.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,this.unpackAlignment),this.fallBack();},fallBack:function fallBack(){var e=this.isPowerOfTwo();this.format===i.DEPTH_COMPONENT&&(this.useMipmap=!1),e&&this.useMipmap?(this.NPOT=!1,this._minFilterOriginal&&(this.minFilter=this._minFilterOriginal),this._magFilterOriginal&&(this.magFilter=this._magFilterOriginal),this._wrapSOriginal&&(this.wrapS=this._wrapSOriginal),this._wrapTOriginal&&(this.wrapT=this._wrapTOriginal)):(this.NPOT=!0,this._minFilterOriginal=this.minFilter,this._magFilterOriginal=this.magFilter,this._wrapSOriginal=this.wrapS,this._wrapTOriginal=this.wrapT,this.minFilter==i.NEAREST_MIPMAP_NEAREST||this.minFilter==i.NEAREST_MIPMAP_LINEAR?this.minFilter=i.NEAREST:this.minFilter!=i.LINEAR_MIPMAP_LINEAR&&this.minFilter!=i.LINEAR_MIPMAP_NEAREST||(this.minFilter=i.LINEAR),this.wrapS=i.CLAMP_TO_EDGE,this.wrapT=i.CLAMP_TO_EDGE);},nextHighestPowerOfTwo:function nextHighestPowerOfTwo(e){--e;for(var t=1;t<32;t<<=1){e|=e>>t;}return e+1;},dispose:function dispose(e){var t=this._cache;t.use(e.__GLID__);var r=t.get("webgl_texture");r&&e.deleteTexture(r),t.deleteContext(e.__GLID__);},isRenderable:function isRenderable(){},isPowerOfTwo:function isPowerOfTwo(){}});Object.defineProperty(o.prototype,"width",{get:function get(){return this._width;},set:function set(e){this._width=e;}}),Object.defineProperty(o.prototype,"height",{get:function get(){return this._height;},set:function set(e){this._height=e;}}),o.BYTE=i.BYTE,o.UNSIGNED_BYTE=i.UNSIGNED_BYTE,o.SHORT=i.SHORT,o.UNSIGNED_SHORT=i.UNSIGNED_SHORT,o.INT=i.INT,o.UNSIGNED_INT=i.UNSIGNED_INT,o.FLOAT=i.FLOAT,o.HALF_FLOAT=36193,o.UNSIGNED_INT_24_8_WEBGL=34042,o.DEPTH_COMPONENT=i.DEPTH_COMPONENT,o.DEPTH_STENCIL=i.DEPTH_STENCIL,o.ALPHA=i.ALPHA,o.RGB=i.RGB,o.RGBA=i.RGBA,o.LUMINANCE=i.LUMINANCE,o.LUMINANCE_ALPHA=i.LUMINANCE_ALPHA,o.COMPRESSED_RGB_S3TC_DXT1_EXT=33776,o.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777,o.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778,o.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779,o.NEAREST=i.NEAREST,o.LINEAR=i.LINEAR,o.NEAREST_MIPMAP_NEAREST=i.NEAREST_MIPMAP_NEAREST,o.LINEAR_MIPMAP_NEAREST=i.LINEAR_MIPMAP_NEAREST,o.NEAREST_MIPMAP_LINEAR=i.NEAREST_MIPMAP_LINEAR,o.LINEAR_MIPMAP_LINEAR=i.LINEAR_MIPMAP_LINEAR,o.REPEAT=i.REPEAT,o.CLAMP_TO_EDGE=i.CLAMP_TO_EDGE,o.MIRRORED_REPEAT=i.MIRRORED_REPEAT,e.exports=o;},function(e,t,r){var n=r(5),i=r(18),a=r(9),o=r(79),s=o.isPowerOfTwo,u=n.extend(function(){return{image:null,pixels:null,mipmaps:[]};},{update:function update(e){e.bindTexture(e.TEXTURE_2D,this._cache.get("webgl_texture")),this.beforeUpdate(e);var t=this.format,r=this.type;e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,this.wrapS),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,this.wrapT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,this.magFilter),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,this.minFilter);var n=i.getExtension(e,"EXT_texture_filter_anisotropic");if(n&&this.anisotropic>1&&e.texParameterf(e.TEXTURE_2D,n.TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropic),36193===r){i.getExtension(e,"OES_texture_half_float")||(r=a.FLOAT);}if(this.mipmaps.length)for(var o=this.width,s=this.height,u=0;u<this.mipmaps.length;u++){var l=this.mipmaps[u];this._updateTextureData(e,l,u,o,s,t,r),o/=2,s/=2;}else this._updateTextureData(e,this,0,this.width,this.height,t,r),this.useMipmap&&!this.NPOT&&e.generateMipmap(e.TEXTURE_2D);e.bindTexture(e.TEXTURE_2D,null);},_updateTextureData:function _updateTextureData(e,t,r,i,a,o,s){t.image?e.texImage2D(e.TEXTURE_2D,r,o,o,s,t.image):o<=n.COMPRESSED_RGBA_S3TC_DXT5_EXT&&o>=n.COMPRESSED_RGB_S3TC_DXT1_EXT?e.compressedTexImage2D(e.TEXTURE_2D,r,o,i,a,0,t.pixels):e.texImage2D(e.TEXTURE_2D,r,o,i,a,0,o,s,t.pixels);},generateMipmap:function generateMipmap(e){this.useMipmap&&!this.NPOT&&(e.bindTexture(e.TEXTURE_2D,this._cache.get("webgl_texture")),e.generateMipmap(e.TEXTURE_2D));},isPowerOfTwo:function isPowerOfTwo(){var e,t;return this.image?(e=this.image.width,t=this.image.height):(e=this.width,t=this.height),s(e)&&s(t);},isRenderable:function isRenderable(){return this.image?"CANVAS"===this.image.nodeName||"VIDEO"===this.image.nodeName||this.image.complete:!(!this.width||!this.height);},bind:function bind(e){e.bindTexture(e.TEXTURE_2D,this.getWebGLTexture(e));},unbind:function unbind(e){e.bindTexture(e.TEXTURE_2D,null);},load:function load(e){var t=new Image(),r=this;return t.onload=function(){r.dirty(),r.trigger("success",r),t.onload=null;},t.onerror=function(){r.trigger("error",r),t.onerror=null;},t.src=e,this.image=t,this;}});Object.defineProperty(u.prototype,"width",{get:function get(){return this.image?this.image.width:this._width;},set:function set(e){this.image?console.warn("Texture from image can't set width"):(this._width!==e&&this.dirty(),this._width=e);}}),Object.defineProperty(u.prototype,"height",{get:function get(){return this.image?this.image.height:this._height;},set:function set(e){this.image?console.warn("Texture from image can't set height"):(this._height!==e&&this.dirty(),this._height=e);}}),e.exports=u;},function(e,t,r){"use strict";var n=r(185),i=r(52),a=r(23),o=function o(){this.__GUID__=a.genGUID();};o.__initializers__=[function(e){a.extend(this,e);}],a.extend(o,n),a.extend(o.prototype,i),e.exports=o;},function(e,t,r){"use strict";function n(){return{locations:{},attriblocations:{}};}function i(e,t,r){if(!e.getShaderParameter(t,e.COMPILE_STATUS))return[e.getShaderInfoLog(t),a(r)].join("\n");}function a(e){for(var t=e.split("\n"),r=0,n=t.length;r<n;r++){t[r]=r+1+": "+t[r];}return t.join("\n");}var o=r(7),s=r(23),u=r(43),l=r(19),h=r(1),c=(r(18),h.mat2),d=h.mat3,f=h.mat4,p=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\w\,]+)?(\[.*?\])?\s*(:\s*([\S\s]+?))?;/g,_=/#define\s+(\w+)?(\s+[\w-.]+)?\s*;?\s*\n/g,m={bool:"1i",int:"1i",sampler2D:"t",samplerCube:"t",float:"1f",vec2:"2f",vec3:"3f",vec4:"4f",ivec2:"2i",ivec3:"3i",ivec4:"4i",mat2:"m2",mat3:"m3",mat4:"m4"},g={bool:function bool(){return!0;},int:function int(){return 0;},float:function float(){return 0;},sampler2D:function sampler2D(){return null;},samplerCube:function samplerCube(){return null;},vec2:function vec2(){return[0,0];},vec3:function vec3(){return[0,0,0];},vec4:function vec4(){return[0,0,0,0];},ivec2:function ivec2(){return[0,0];},ivec3:function ivec3(){return[0,0,0];},ivec4:function ivec4(){return[0,0,0,0];},mat2:function mat2(){return c.create();},mat3:function mat3(){return d.create();},mat4:function mat4(){return f.create();},array:function array(){return[];}},v=["POSITION","NORMAL","BINORMAL","TANGENT","TEXCOORD","TEXCOORD_0","TEXCOORD_1","COLOR","JOINT","WEIGHT"],y=["SKIN_MATRIX","VIEWPORT_SIZE","VIEWPORT","DEVICEPIXELRATIO","WINDOW_SIZE","NEAR","FAR","TIME"],x=["WORLD","VIEW","PROJECTION","WORLDVIEW","VIEWPROJECTION","WORLDVIEWPROJECTION","WORLDINVERSE","VIEWINVERSE","PROJECTIONINVERSE","WORLDVIEWINVERSE","VIEWPROJECTIONINVERSE","WORLDVIEWPROJECTIONINVERSE","WORLDTRANSPOSE","VIEWTRANSPOSE","PROJECTIONTRANSPOSE","WORLDVIEWTRANSPOSE","VIEWPROJECTIONTRANSPOSE","WORLDVIEWPROJECTIONTRANSPOSE","WORLDINVERSETRANSPOSE","VIEWINVERSETRANSPOSE","PROJECTIONINVERSETRANSPOSE","WORLDVIEWINVERSETRANSPOSE","VIEWPROJECTIONINVERSETRANSPOSE","WORLDVIEWPROJECTIONINVERSETRANSPOSE"],T={},b=o.extend(function(){return{vertex:"",fragment:"",precision:"highp",attribSemantics:{},matrixSemantics:{},uniformSemantics:{},matrixSemanticKeys:[],uniformTemplates:{},attributeTemplates:{},vertexDefines:{},fragmentDefines:{},extensions:["OES_standard_derivatives","EXT_shader_texture_lod"],lightGroup:0,lightNumber:{},_textureSlot:0,_attacheMaterialNumber:0,_uniformList:[],_textureStatus:{},_vertexProcessed:"",_fragmentProcessed:"",_currentLocationsMap:{}};},function(){this._cache=new u(),this._codeDirty=!0,this._updateShaderString();},{isEqual:function isEqual(e){return!!e&&(this===e?!this._codeDirty:(e._codeDirty&&e._updateShaderString(),this._codeDirty&&this._updateShaderString(),!(e._vertexProcessed!==this._vertexProcessed||e._fragmentProcessed!==this._fragmentProcessed)));},setVertex:function setVertex(e){this.vertex=e,this._updateShaderString(),this.dirty();},setFragment:function setFragment(e){this.fragment=e,this._updateShaderString(),this.dirty();},bind:function bind(e){var t=this._cache;if(t.use(e.__GLID__,n),this._currentLocationsMap=t.get("locations"),this._textureSlot=0,this._codeDirty&&this._updateShaderString(),t.isDirty("program")){var r=this._buildProgram(e,this._vertexProcessed,this._fragmentProcessed);if(t.fresh("program"),r)return r;}e.useProgram(t.get("program"));},dirty:function dirty(){var e=this._cache;this._codeDirty=!0,e.dirtyAll("program");for(var t=0;t<e._caches.length;t++){if(e._caches[t]){var r=e._caches[t];r.locations={},r.attriblocations={};}}},_updateShaderString:function _updateShaderString(e){this.vertex===this._vertexPrev&&this.fragment===this._fragmentPrev||(this._parseImport(),this.attribSemantics={},this.matrixSemantics={},this._textureStatus={},this._parseUniforms(),this._parseAttributes(),this._parseDefines(),this._vertexPrev=this.vertex,this._fragmentPrev=this.fragment),this._addDefineExtensionAndPrecision(e),this._vertexProcessed=this._unrollLoop(this._vertexProcessed,this.vertexDefines),this._fragmentProcessed=this._unrollLoop(this._fragmentProcessed,this.fragmentDefines),this._codeDirty=!1;},define:function define(e,t,r){var n=this.vertexDefines,i=this.fragmentDefines;"vertex"!==e&&"fragment"!==e&&"both"!==e&&arguments.length<3&&(r=t,t=e,e="both"),r=null!=r?r:null,"vertex"!==e&&"both"!==e||n[t]!==r&&(n[t]=r,this.dirty()),"fragment"!==e&&"both"!==e||i[t]!==r&&(i[t]=r,"both"!==e&&this.dirty());},undefine:function undefine(e,t){"vertex"!==e&&"fragment"!==e&&"both"!==e&&arguments.length<2&&(t=e,e="both"),"vertex"!==e&&"both"!==e||this.isDefined("vertex",t)&&(delete this.vertexDefines[t],this.dirty()),"fragment"!==e&&"both"!==e||this.isDefined("fragment",t)&&(delete this.fragmentDefines[t],"both"!==e&&this.dirty());},isDefined:function isDefined(e,t){switch(e){case"vertex":return void 0!==this.vertexDefines[t];case"fragment":return void 0!==this.fragmentDefines[t];}},getDefine:function getDefine(e,t){switch(e){case"vertex":return this.vertexDefines[t];case"fragment":return this.fragmentDefines[t];}},enableTexture:function enableTexture(e){if(e instanceof Array)for(var t=0;t<e.length;t++){this.enableTexture(e[t]);}else{var r=this._textureStatus[e];if(r){r.enabled||(r.enabled=!0,this.dirty());}}},enableTexturesAll:function enableTexturesAll(){var e=this._textureStatus;for(var t in e){e[t].enabled=!0;}this.dirty();},disableTexture:function disableTexture(e){if(e instanceof Array)for(var t=0;t<e.length;t++){this.disableTexture(e[t]);}else{var r=this._textureStatus[e];if(r){!r.enabled||(r.enabled=!1,this.dirty());}}},disableTexturesAll:function disableTexturesAll(){var e=this._textureStatus;for(var t in e){e[t].enabled=!1;}this.dirty();},isTextureEnabled:function isTextureEnabled(e){var t=this._textureStatus;return t[e]&&t[e].enabled;},getEnabledTextures:function getEnabledTextures(){var e=[],t=this._textureStatus;for(var r in t){t[r].enabled&&e.push(r);}return e;},hasUniform:function hasUniform(e){var t=this._currentLocationsMap[e];return null!==t&&void 0!==t;},currentTextureSlot:function currentTextureSlot(){return this._textureSlot;},resetTextureSlot:function resetTextureSlot(e){this._textureSlot=e||0;},useCurrentTextureSlot:function useCurrentTextureSlot(e,t){var r=this._textureSlot;return this.useTextureSlot(e,t,r),this._textureSlot++,r;},useTextureSlot:function useTextureSlot(e,t,r){t&&(e.activeTexture(e.TEXTURE0+r),t.isRenderable()?t.bind(e):t.unbind(e));},setUniform:function setUniform(e,t,r,n){var i=this._currentLocationsMap,a=i[r];if(null===a||void 0===a)return!1;switch(t){case"m4":e.uniformMatrix4fv(a,!1,n);break;case"2i":e.uniform2i(a,n[0],n[1]);break;case"2f":e.uniform2f(a,n[0],n[1]);break;case"3i":e.uniform3i(a,n[0],n[1],n[2]);break;case"3f":e.uniform3f(a,n[0],n[1],n[2]);break;case"4i":e.uniform4i(a,n[0],n[1],n[2],n[3]);break;case"4f":e.uniform4f(a,n[0],n[1],n[2],n[3]);break;case"1i":e.uniform1i(a,n);break;case"1f":e.uniform1f(a,n);break;case"1fv":e.uniform1fv(a,n);break;case"1iv":e.uniform1iv(a,n);break;case"2iv":e.uniform2iv(a,n);break;case"2fv":e.uniform2fv(a,n);break;case"3iv":e.uniform3iv(a,n);break;case"3fv":e.uniform3fv(a,n);break;case"4iv":e.uniform4iv(a,n);break;case"4fv":e.uniform4fv(a,n);break;case"m2":case"m2v":e.uniformMatrix2fv(a,!1,n);break;case"m3":case"m3v":e.uniformMatrix3fv(a,!1,n);break;case"m4v":if(n instanceof Array){for(var o=new l.Float32Array(16*n.length),s=0,u=0;u<n.length;u++){for(var h=n[u],c=0;c<16;c++){o[s++]=h[c];}}e.uniformMatrix4fv(a,!1,o);}else n instanceof l.Float32Array&&e.uniformMatrix4fv(a,!1,n);}return!0;},setUniformOfSemantic:function setUniformOfSemantic(e,t,r){var n=this.uniformSemantics[t];return!!n&&this.setUniform(e,n.type,n.symbol,r);},enableAttributes:function enableAttributes(e,t,r){var n,i=this._cache.get("program"),a=this._cache.get("attriblocations");(n=r?r.__enabledAttributeList:T[e.__GLID__])||(n=r?r.__enabledAttributeList=[]:T[e.__GLID__]=[]);for(var o=[],s=0;s<t.length;s++){var u=t[s];if(this.attributeTemplates[u]){var l=a[u];if(void 0===l){if(-1===(l=e.getAttribLocation(i,u))){o[s]=-1;continue;}a[u]=l;}o[s]=l,n[l]?n[l]=2:n[l]=1;}else o[s]=-1;}for(var s=0;s<n.length;s++){switch(n[s]){case 1:e.enableVertexAttribArray(s),n[s]=3;break;case 2:n[s]=3;break;case 3:e.disableVertexAttribArray(s),n[s]=0;}}return o;},_parseImport:function _parseImport(){this._vertexProcessedWithoutDefine=b.parseImport(this.vertex),this._fragmentProcessedWithoutDefine=b.parseImport(this.fragment);},_addDefineExtensionAndPrecision:function _addDefineExtensionAndPrecision(e){e=e||this.extensions;for(var t=[],r=0;r<e.length;r++){t.push("#extension GL_"+e[r]+" : enable");}var n=this._getDefineStr(this.vertexDefines);this._vertexProcessed=n+"\n"+this._vertexProcessedWithoutDefine;var n=this._getDefineStr(this.fragmentDefines),i=n+"\n"+this._fragmentProcessedWithoutDefine;this._fragmentProcessed=t.join("\n")+"\n"+["precision",this.precision,"float"].join(" ")+";\n"+["precision",this.precision,"int"].join(" ")+";\n"+["precision",this.precision,"sampler2D"].join(" ")+";\n"+i;},_getDefineStr:function _getDefineStr(e){var t=this.lightNumber,r=this._textureStatus,n=[];for(var i in t){var a=t[i];a>0&&n.push("#define "+i.toUpperCase()+"_COUNT "+a);}for(var o in r){r[o].enabled&&n.push("#define "+o.toUpperCase()+"_ENABLED");}for(var o in e){var s=e[o];null===s?n.push("#define "+o):n.push("#define "+o+" "+s.toString());}return n.join("\n");},_unrollLoop:function _unrollLoop(e,t){function r(e,r,i,a){var o="";isNaN(r)&&(r=r in t?t[r]:n[r]),isNaN(i)&&(i=i in t?t[i]:n[i]);for(var s=parseInt(r);s<parseInt(i);s++){o+="{"+a.replace(/float\s*\(\s*_idx_\s*\)/g,s.toFixed(1)).replace(/_idx_/g,s)+"}";}return o;}var n={};for(var i in this.lightNumber){n[i+"_COUNT"]=this.lightNumber[i];}return e.replace(/for\s*?\(int\s*?_idx_\s*\=\s*([\w-]+)\;\s*_idx_\s*<\s*([\w-]+);\s*_idx_\s*\+\+\s*\)\s*\{\{([\s\S]+?)(?=\}\})\}\}/g,r);},_parseUniforms:function _parseUniforms(){function e(e,i,a,o,s,u){if(i&&a){var l,h=m[i],c=!0;if(h){if(r._uniformList.push(a),"sampler2D"!==i&&"samplerCube"!==i||(r._textureStatus[a]={enabled:!1,shaderType:n}),o&&(h+="v"),u)if(v.indexOf(u)>=0)r.attribSemantics[u]={symbol:a,type:h},c=!1;else if(x.indexOf(u)>=0){var d=!1,f=u;u.match(/TRANSPOSE$/)&&(d=!0,f=u.slice(0,-9)),r.matrixSemantics[u]={symbol:a,type:h,isTranspose:d,semanticNoTranspose:f},c=!1;}else if(y.indexOf(u)>=0)r.uniformSemantics[u]={symbol:a,type:h},c=!1;else if("unconfigurable"===u)c=!1;else{if(!(l=r._parseDefaultValue(i,u)))throw new Error('Unkown semantic "'+u+'"');u="";}c&&(t[a]={type:h,value:o?g.array:l||g[i],semantic:u||null});}return["uniform",i,a,o].join(" ")+";\n";}}var t={},r=this,n="vertex";this._uniformList=[],this._vertexProcessedWithoutDefine=this._vertexProcessedWithoutDefine.replace(p,e),n="fragment",this._fragmentProcessedWithoutDefine=this._fragmentProcessedWithoutDefine.replace(p,e),r.matrixSemanticKeys=Object.keys(this.matrixSemantics),this.uniformTemplates=t;},_parseDefaultValue:function _parseDefaultValue(e,t){var r=/\[\s*(.*)\s*\]/;{if("vec2"!==e&&"vec3"!==e&&"vec4"!==e)return"bool"===e?function(){return"true"===t.toLowerCase();}:"float"===e?function(){return parseFloat(t);}:"int"===e?function(){return parseInt(t);}:void 0;var n=r.exec(t)[1];if(n){var i=n.split(/\s*,\s*/);return function(){return new l.Float32Array(i);};}}},createUniforms:function createUniforms(){var e={};for(var t in this.uniformTemplates){var r=this.uniformTemplates[t];e[t]={type:r.type,value:r.value()};}return e;},attached:function attached(){this._attacheMaterialNumber++;},detached:function detached(){this._attacheMaterialNumber--;},isAttachedToAny:function isAttachedToAny(){return 0!==this._attacheMaterialNumber;},_parseAttributes:function _parseAttributes(){function e(e,n,i,a,o){if(n&&i){var s=1;switch(n){case"vec4":s=4;break;case"vec3":s=3;break;case"vec2":s=2;break;case"float":s=1;}if(t[i]={type:"float",size:s,semantic:o||null},o){if(v.indexOf(o)<0)throw new Error('Unkown semantic "'+o+'"');r.attribSemantics[o]={symbol:i,type:n};}}return["attribute",n,i].join(" ")+";\n";}var t={},r=this;this._vertexProcessedWithoutDefine=this._vertexProcessedWithoutDefine.replace(/attribute\s+(float|int|vec2|vec3|vec4)\s+(\w*)\s*(:\s*(\w+))?;/g,e),this.attributeTemplates=t;},_parseDefines:function _parseDefines(){function e(e,n,i){var a="vertex"===r?t.vertexDefines:t.fragmentDefines;return a[n]||(a[n]="false"!=i&&("true"==i||(i?parseFloat(i):null))),"";}var t=this,r="vertex";this._vertexProcessedWithoutDefine=this._vertexProcessedWithoutDefine.replace(_,e),r="fragment",this._fragmentProcessedWithoutDefine=this._fragmentProcessedWithoutDefine.replace(_,e);},_buildProgram:function _buildProgram(e,t,r){var n=this._cache;n.get("program")&&e.deleteProgram(n.get("program"));var a=e.createProgram(),o=e.createShader(e.VERTEX_SHADER);e.shaderSource(o,t),e.compileShader(o);var s=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(s,r),e.compileShader(s);var u=i(e,o,t);if(u)return u;if(u=i(e,s,r))return u;if(e.attachShader(a,o),e.attachShader(a,s),this.attribSemantics.POSITION)e.bindAttribLocation(a,0,this.attribSemantics.POSITION.symbol);else{var l=Object.keys(this.attributeTemplates);e.bindAttribLocation(a,0,l[0]);}if(e.linkProgram(a),!e.getProgramParameter(a,e.LINK_STATUS))return"Could not link program\nVALIDATE_STATUS: "+e.getProgramParameter(a,e.VALIDATE_STATUS)+", gl error ["+e.getError()+"]";for(var h=0;h<this._uniformList.length;h++){var c=this._uniformList[h];n.get("locations")[c]=e.getUniformLocation(a,c);}e.deleteShader(o),e.deleteShader(s),n.put("program",a);},clone:function clone(){var e=new b({vertex:this.vertex,fragment:this.fragment,vertexDefines:s.clone(this.vertexDefines),fragmentDefines:s.clone(this.fragmentDefines)});for(var t in this._textureStatus){e._textureStatus[t]=s.clone(this._textureStatus[t]);}return e;},dispose:function dispose(e){var t=this._cache;t.use(e.__GLID__);var r=t.get("program");r&&e.deleteProgram(r),t.deleteContext(e.__GLID__),this._locations={};}});b.parseImport=function(e){return e=e.replace(/(@import)\s*([0-9a-zA-Z_\-\.]*)/g,function(e,t,r){var e=b.source(r);return e?b.parseImport(e):(console.error('Shader chunk "'+r+'" not existed in library'),"");});};b.import=function(e){e.replace(/(@export)\s*([0-9a-zA-Z_\-\.]*)\s*\n([\s\S]*?)@end/g,function(e,t,r,n){var n=n.replace(/(^[\s\t\xa0\u3000]+)|([\u3000\xa0\s\t]+\x24)/g,"");if(n){for(var i,a=r.split("."),o=b.codes,s=0;s<a.length-1;){i=a[s++],o[i]||(o[i]={}),o=o[i];}i=a[s],o[i]=n;}return n;});},b.codes={},b.source=function(e){for(var t=e.split("."),r=b.codes,n=0;r&&n<t.length;){r=r[t[n++]];}return"string"!=typeof r?(console.error('Shader "'+e+'" not existed in library'),""):r;},e.exports=b;},function(e,t){e.exports={DEPTH_BUFFER_BIT:256,STENCIL_BUFFER_BIT:1024,COLOR_BUFFER_BIT:16384,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,ZERO:0,ONE:1,SRC_COLOR:768,ONE_MINUS_SRC_COLOR:769,SRC_ALPHA:770,ONE_MINUS_SRC_ALPHA:771,DST_ALPHA:772,ONE_MINUS_DST_ALPHA:773,DST_COLOR:774,ONE_MINUS_DST_COLOR:775,SRC_ALPHA_SATURATE:776,FUNC_ADD:32774,BLEND_EQUATION:32777,BLEND_EQUATION_RGB:32777,BLEND_EQUATION_ALPHA:34877,FUNC_SUBTRACT:32778,FUNC_REVERSE_SUBTRACT:32779,BLEND_DST_RGB:32968,BLEND_SRC_RGB:32969,BLEND_DST_ALPHA:32970,BLEND_SRC_ALPHA:32971,CONSTANT_COLOR:32769,ONE_MINUS_CONSTANT_COLOR:32770,CONSTANT_ALPHA:32771,ONE_MINUS_CONSTANT_ALPHA:32772,BLEND_COLOR:32773,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,ARRAY_BUFFER_BINDING:34964,ELEMENT_ARRAY_BUFFER_BINDING:34965,STREAM_DRAW:35040,STATIC_DRAW:35044,DYNAMIC_DRAW:35048,BUFFER_SIZE:34660,BUFFER_USAGE:34661,CURRENT_VERTEX_ATTRIB:34342,FRONT:1028,BACK:1029,FRONT_AND_BACK:1032,CULL_FACE:2884,BLEND:3042,DITHER:3024,STENCIL_TEST:2960,DEPTH_TEST:2929,SCISSOR_TEST:3089,POLYGON_OFFSET_FILL:32823,SAMPLE_ALPHA_TO_COVERAGE:32926,SAMPLE_COVERAGE:32928,NO_ERROR:0,INVALID_ENUM:1280,INVALID_VALUE:1281,INVALID_OPERATION:1282,OUT_OF_MEMORY:1285,CW:2304,CCW:2305,LINE_WIDTH:2849,ALIASED_POINT_SIZE_RANGE:33901,ALIASED_LINE_WIDTH_RANGE:33902,CULL_FACE_MODE:2885,FRONT_FACE:2886,DEPTH_RANGE:2928,DEPTH_WRITEMASK:2930,DEPTH_CLEAR_VALUE:2931,DEPTH_FUNC:2932,STENCIL_CLEAR_VALUE:2961,STENCIL_FUNC:2962,STENCIL_FAIL:2964,STENCIL_PASS_DEPTH_FAIL:2965,STENCIL_PASS_DEPTH_PASS:2966,STENCIL_REF:2967,STENCIL_VALUE_MASK:2963,STENCIL_WRITEMASK:2968,STENCIL_BACK_FUNC:34816,STENCIL_BACK_FAIL:34817,STENCIL_BACK_PASS_DEPTH_FAIL:34818,STENCIL_BACK_PASS_DEPTH_PASS:34819,STENCIL_BACK_REF:36003,STENCIL_BACK_VALUE_MASK:36004,STENCIL_BACK_WRITEMASK:36005,VIEWPORT:2978,SCISSOR_BOX:3088,COLOR_CLEAR_VALUE:3106,COLOR_WRITEMASK:3107,UNPACK_ALIGNMENT:3317,PACK_ALIGNMENT:3333,MAX_TEXTURE_SIZE:3379,MAX_VIEWPORT_DIMS:3386,SUBPIXEL_BITS:3408,RED_BITS:3410,GREEN_BITS:3411,BLUE_BITS:3412,ALPHA_BITS:3413,DEPTH_BITS:3414,STENCIL_BITS:3415,POLYGON_OFFSET_UNITS:10752,POLYGON_OFFSET_FACTOR:32824,TEXTURE_BINDING_2D:32873,SAMPLE_BUFFERS:32936,SAMPLES:32937,SAMPLE_COVERAGE_VALUE:32938,SAMPLE_COVERAGE_INVERT:32939,COMPRESSED_TEXTURE_FORMATS:34467,DONT_CARE:4352,FASTEST:4353,NICEST:4354,GENERATE_MIPMAP_HINT:33170,BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,DEPTH_COMPONENT:6402,ALPHA:6406,RGB:6407,RGBA:6408,LUMINANCE:6409,LUMINANCE_ALPHA:6410,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,FRAGMENT_SHADER:35632,VERTEX_SHADER:35633,MAX_VERTEX_ATTRIBS:34921,MAX_VERTEX_UNIFORM_VECTORS:36347,MAX_VARYING_VECTORS:36348,MAX_COMBINED_TEXTURE_IMAGE_UNITS:35661,MAX_VERTEX_TEXTURE_IMAGE_UNITS:35660,MAX_TEXTURE_IMAGE_UNITS:34930,MAX_FRAGMENT_UNIFORM_VECTORS:36349,SHADER_TYPE:35663,DELETE_STATUS:35712,LINK_STATUS:35714,VALIDATE_STATUS:35715,ATTACHED_SHADERS:35717,ACTIVE_UNIFORMS:35718,ACTIVE_ATTRIBUTES:35721,SHADING_LANGUAGE_VERSION:35724,CURRENT_PROGRAM:35725,NEVER:512,LESS:513,EQUAL:514,LEQUAL:515,GREATER:516,NOTEQUAL:517,GEQUAL:518,ALWAYS:519,KEEP:7680,REPLACE:7681,INCR:7682,DECR:7683,INVERT:5386,INCR_WRAP:34055,DECR_WRAP:34056,VENDOR:7936,RENDERER:7937,VERSION:7938,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TEXTURE_2D:3553,TEXTURE:5890,TEXTURE_CUBE_MAP:34067,TEXTURE_BINDING_CUBE_MAP:34068,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074,MAX_CUBE_MAP_TEXTURE_SIZE:34076,TEXTURE0:33984,TEXTURE1:33985,TEXTURE2:33986,TEXTURE3:33987,TEXTURE4:33988,TEXTURE5:33989,TEXTURE6:33990,TEXTURE7:33991,TEXTURE8:33992,TEXTURE9:33993,TEXTURE10:33994,TEXTURE11:33995,TEXTURE12:33996,TEXTURE13:33997,TEXTURE14:33998,TEXTURE15:33999,TEXTURE16:34e3,TEXTURE17:34001,TEXTURE18:34002,TEXTURE19:34003,TEXTURE20:34004,TEXTURE21:34005,TEXTURE22:34006,TEXTURE23:34007,TEXTURE24:34008,TEXTURE25:34009,TEXTURE26:34010,TEXTURE27:34011,TEXTURE28:34012,TEXTURE29:34013,TEXTURE30:34014,TEXTURE31:34015,ACTIVE_TEXTURE:34016,REPEAT:10497,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,SAMPLER_2D:35678,SAMPLER_CUBE:35680,VERTEX_ATTRIB_ARRAY_ENABLED:34338,VERTEX_ATTRIB_ARRAY_SIZE:34339,VERTEX_ATTRIB_ARRAY_STRIDE:34340,VERTEX_ATTRIB_ARRAY_TYPE:34341,VERTEX_ATTRIB_ARRAY_NORMALIZED:34922,VERTEX_ATTRIB_ARRAY_POINTER:34373,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:34975,COMPILE_STATUS:35713,LOW_FLOAT:36336,MEDIUM_FLOAT:36337,HIGH_FLOAT:36338,LOW_INT:36339,MEDIUM_INT:36340,HIGH_INT:36341,FRAMEBUFFER:36160,RENDERBUFFER:36161,RGBA4:32854,RGB5_A1:32855,RGB565:36194,DEPTH_COMPONENT16:33189,STENCIL_INDEX:6401,STENCIL_INDEX8:36168,DEPTH_STENCIL:34041,RENDERBUFFER_WIDTH:36162,RENDERBUFFER_HEIGHT:36163,RENDERBUFFER_INTERNAL_FORMAT:36164,RENDERBUFFER_RED_SIZE:36176,RENDERBUFFER_GREEN_SIZE:36177,RENDERBUFFER_BLUE_SIZE:36178,RENDERBUFFER_ALPHA_SIZE:36179,RENDERBUFFER_DEPTH_SIZE:36180,RENDERBUFFER_STENCIL_SIZE:36181,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:36048,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:36049,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:36050,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:36051,COLOR_ATTACHMENT0:36064,DEPTH_ATTACHMENT:36096,STENCIL_ATTACHMENT:36128,DEPTH_STENCIL_ATTACHMENT:33306,NONE:0,FRAMEBUFFER_COMPLETE:36053,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:36054,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:36055,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:36057,FRAMEBUFFER_UNSUPPORTED:36061,FRAMEBUFFER_BINDING:36006,RENDERBUFFER_BINDING:36007,MAX_RENDERBUFFER_SIZE:34024,INVALID_FRAMEBUFFER_OPERATION:1286,UNPACK_FLIP_Y_WEBGL:37440,UNPACK_PREMULTIPLY_ALPHA_WEBGL:37441,CONTEXT_LOST_WEBGL:37442,UNPACK_COLORSPACE_CONVERSION_WEBGL:37443,BROWSER_DEFAULT_WEBGL:37444};},function(e,t,r){"use strict";var n=r(1),i=r(3),a=n.mat4,o=n.vec3,s=n.mat3,u=n.quat,l=function l(){this._axisX=new i(),this._axisY=new i(),this._axisZ=new i(),this._array=a.create(),this._dirty=!0;};l.prototype={constructor:l,setArray:function setArray(e){for(var t=0;t<this._array.length;t++){this._array[t]=e[t];}return this._dirty=!0,this;},adjoint:function adjoint(){return a.adjoint(this._array,this._array),this._dirty=!0,this;},clone:function clone(){return new l().copy(this);},copy:function copy(e){return a.copy(this._array,e._array),this._dirty=!0,this;},determinant:function determinant(){return a.determinant(this._array);},fromQuat:function fromQuat(e){return a.fromQuat(this._array,e._array),this._dirty=!0,this;},fromRotationTranslation:function fromRotationTranslation(e,t){return a.fromRotationTranslation(this._array,e._array,t._array),this._dirty=!0,this;},fromMat2d:function fromMat2d(e){return l.fromMat2d(this,e),this;},frustum:function frustum(e,t,r,n,i,o){return a.frustum(this._array,e,t,r,n,i,o),this._dirty=!0,this;},identity:function identity(){return a.identity(this._array),this._dirty=!0,this;},invert:function invert(){return a.invert(this._array,this._array),this._dirty=!0,this;},lookAt:function lookAt(e,t,r){return a.lookAt(this._array,e._array,t._array,r._array),this._dirty=!0,this;},mul:function mul(e){return a.mul(this._array,this._array,e._array),this._dirty=!0,this;},mulLeft:function mulLeft(e){return a.mul(this._array,e._array,this._array),this._dirty=!0,this;},multiply:function multiply(e){return a.multiply(this._array,this._array,e._array),this._dirty=!0,this;},multiplyLeft:function multiplyLeft(e){return a.multiply(this._array,e._array,this._array),this._dirty=!0,this;},ortho:function ortho(e,t,r,n,i,o){return a.ortho(this._array,e,t,r,n,i,o),this._dirty=!0,this;},perspective:function perspective(e,t,r,n){return a.perspective(this._array,e,t,r,n),this._dirty=!0,this;},rotate:function rotate(e,t){return a.rotate(this._array,this._array,e,t._array),this._dirty=!0,this;},rotateX:function rotateX(e){return a.rotateX(this._array,this._array,e),this._dirty=!0,this;},rotateY:function rotateY(e){return a.rotateY(this._array,this._array,e),this._dirty=!0,this;},rotateZ:function rotateZ(e){return a.rotateZ(this._array,this._array,e),this._dirty=!0,this;},scale:function scale(e){return a.scale(this._array,this._array,e._array),this._dirty=!0,this;},translate:function translate(e){return a.translate(this._array,this._array,e._array),this._dirty=!0,this;},transpose:function transpose(){return a.transpose(this._array,this._array),this._dirty=!0,this;},decomposeMatrix:function(){var e=o.create(),t=o.create(),r=o.create(),n=s.create();return function(i,a,l){var h=this._array;o.set(e,h[0],h[1],h[2]),o.set(t,h[4],h[5],h[6]),o.set(r,h[8],h[9],h[10]);var c=o.length(e),d=o.length(t),f=o.length(r);i&&(i.x=c,i.y=d,i.z=f,i._dirty=!0),l.set(h[12],h[13],h[14]),s.fromMat4(n,h),n[0]/=c,n[1]/=c,n[2]/=c,n[3]/=d,n[4]/=d,n[5]/=d,n[6]/=f,n[7]/=f,n[8]/=f,u.fromMat3(a._array,n),u.normalize(a._array,a._array),a._dirty=!0,l._dirty=!0;};}(),toString:function toString(){return"["+Array.prototype.join.call(this._array,",")+"]";},toArray:function toArray(){return Array.prototype.slice.call(this._array);}};var h=Object.defineProperty;if(h){var c=l.prototype;h(c,"z",{get:function get(){var e=this._array;return this._axisZ.set(e[8],e[9],e[10]),this._axisZ;},set:function set(e){var t=this._array;e=e._array,t[8]=e[0],t[9]=e[1],t[10]=e[2],this._dirty=!0;}}),h(c,"y",{get:function get(){var e=this._array;return this._axisY.set(e[4],e[5],e[6]),this._axisY;},set:function set(e){var t=this._array;e=e._array,t[4]=e[0],t[5]=e[1],t[6]=e[2],this._dirty=!0;}}),h(c,"x",{get:function get(){var e=this._array;return this._axisX.set(e[0],e[1],e[2]),this._axisX;},set:function set(e){var t=this._array;e=e._array,t[0]=e[0],t[1]=e[1],t[2]=e[2],this._dirty=!0;}});}l.adjoint=function(e,t){return a.adjoint(e._array,t._array),e._dirty=!0,e;},l.copy=function(e,t){return a.copy(e._array,t._array),e._dirty=!0,e;},l.determinant=function(e){return a.determinant(e._array);},l.identity=function(e){return a.identity(e._array),e._dirty=!0,e;},l.ortho=function(e,t,r,n,i,o,s){return a.ortho(e._array,t,r,n,i,o,s),e._dirty=!0,e;},l.perspective=function(e,t,r,n,i){return a.perspective(e._array,t,r,n,i),e._dirty=!0,e;},l.lookAt=function(e,t,r,n){return a.lookAt(e._array,t._array,r._array,n._array),e._dirty=!0,e;},l.invert=function(e,t){return a.invert(e._array,t._array),e._dirty=!0,e;},l.mul=function(e,t,r){return a.mul(e._array,t._array,r._array),e._dirty=!0,e;},l.multiply=l.mul,l.fromQuat=function(e,t){return a.fromQuat(e._array,t._array),e._dirty=!0,e;},l.fromRotationTranslation=function(e,t,r){return a.fromRotationTranslation(e._array,t._array,r._array),e._dirty=!0,e;},l.fromMat2d=function(e,t){e._dirty=!0;var t=t._array,e=e._array;return e[0]=t[0],e[4]=t[2],e[12]=t[4],e[1]=t[1],e[5]=t[3],e[13]=t[5],e;},l.rotate=function(e,t,r,n){return a.rotate(e._array,t._array,r,n._array),e._dirty=!0,e;},l.rotateX=function(e,t,r){return a.rotateX(e._array,t._array,r),e._dirty=!0,e;},l.rotateY=function(e,t,r){return a.rotateY(e._array,t._array,r),e._dirty=!0,e;},l.rotateZ=function(e,t,r){return a.rotateZ(e._array,t._array,r),e._dirty=!0,e;},l.scale=function(e,t,r){return a.scale(e._array,t._array,r._array),e._dirty=!0,e;},l.transpose=function(e,t){return a.transpose(e._array,t._array),e._dirty=!0,e;},l.translate=function(e,t,r){return a.translate(e._array,t._array,r._array),e._dirty=!0,e;},e.exports=l;},function(e,t,r){"use strict";var n=r(7),i=r(5),a=r(20),o=r(18),s=r(9),u=r(43),l=s.FRAMEBUFFER,h=s.RENDERBUFFER,c=s.DEPTH_ATTACHMENT,d=s.COLOR_ATTACHMENT0,f=n.extend({depthBuffer:!0,viewport:null,_width:0,_height:0,_textures:null,_boundRenderer:null},function(){this._cache=new u(),this._textures={};},{getTextureWidth:function getTextureWidth(){return this._width;},getTextureHeight:function getTextureHeight(){return this._height;},bind:function bind(e){if(e.__currentFrameBuffer){if(e.__currentFrameBuffer===this)return;console.warn("Renderer already bound with another framebuffer. Unbind it first");}e.__currentFrameBuffer=this;var t=e.gl;t.bindFramebuffer(l,this._getFrameBufferGL(t)),this._boundRenderer=e;var r=this._cache;r.put("viewport",e.viewport);var n,i,a=!1;for(var o in this._textures){a=!0;var s=this._textures[o];s&&(n=s.texture.width,i=s.texture.height,this._doAttach(t,s.texture,o,s.target));}this._width=n,this._height=i,!a&&this.depthBuffer&&console.error("Must attach texture before bind, or renderbuffer may have incorrect width and height."),this.viewport?e.setViewport(this.viewport):e.setViewport(0,0,n,i,1);var u=r.get("attached_textures");if(u)for(var o in u){if(!this._textures[o]){var d=u[o];this._doDetach(t,o,d);}}if(!r.get("depthtexture_attached")&&this.depthBuffer){r.miss("renderbuffer")&&r.put("renderbuffer",t.createRenderbuffer());var f=r.get("renderbuffer");n===r.get("renderbuffer_width")&&i===r.get("renderbuffer_height")||(t.bindRenderbuffer(h,f),t.renderbufferStorage(h,t.DEPTH_COMPONENT16,n,i),r.put("renderbuffer_width",n),r.put("renderbuffer_height",i),t.bindRenderbuffer(h,null)),r.get("renderbuffer_attached")||(t.framebufferRenderbuffer(l,c,h,f),r.put("renderbuffer_attached",!0));}},unbind:function unbind(e){e.__currentFrameBuffer=null;var t=e.gl;t.bindFramebuffer(l,null),this._boundRenderer=null,this._cache.use(t.__GLID__);var r=this._cache.get("viewport");r&&e.setViewport(r),this.updateMipmap(t);},updateMipmap:function updateMipmap(e){for(var t in this._textures){var r=this._textures[t];if(r){var n=r.texture;if(!n.NPOT&&n.useMipmap&&n.minFilter===i.LINEAR_MIPMAP_LINEAR){var o=n instanceof a?s.TEXTURE_CUBE_MAP:s.TEXTURE_2D;e.bindTexture(o,n.getWebGLTexture(e)),e.generateMipmap(o),e.bindTexture(o,null);}}}},checkStatus:function checkStatus(e){return e.checkFramebufferStatus(l);},_getFrameBufferGL:function _getFrameBufferGL(e){var t=this._cache;return t.use(e.__GLID__),t.miss("framebuffer")&&t.put("framebuffer",e.createFramebuffer()),t.get("framebuffer");},attach:function attach(e,t,r){if(!e.width)throw new Error("The texture attached to color buffer is not a valid.");t=t||d,r=r||s.TEXTURE_2D;var n,i=this._boundRenderer,a=i&&i.gl;if(a){var o=this._cache;o.use(a.__GLID__),n=o.get("attached_textures");}var u=this._textures[t];if(!u||u.target!==r||u.texture!==e||!n||null==n[t]){var l=!0;a&&(l=this._doAttach(a,e,t,r),this.viewport||i.setViewport(0,0,e.width,e.height,1)),l&&(this._textures[t]=this._textures[t]||{},this._textures[t].texture=e,this._textures[t].target=r);}},_doAttach:function _doAttach(e,t,r,n){var i=t.getWebGLTexture(e),a=this._cache.get("attached_textures");if(a&&a[r]){var u=a[r];if(u.texture===t&&u.target===n)return;}r=+r;var d=!0;if(r===c||r===s.DEPTH_STENCIL_ATTACHMENT){if(o.getExtension(e,"WEBGL_depth_texture")||(console.error("Depth texture is not supported by the browser"),d=!1),t.format!==s.DEPTH_COMPONENT&&t.format!==s.DEPTH_STENCIL&&(console.error("The texture attached to depth buffer is not a valid."),d=!1),d){var f=this._cache.get("renderbuffer");f&&(e.framebufferRenderbuffer(l,c,h,null),e.deleteRenderbuffer(f),this._cache.put("renderbuffer",!1)),this._cache.put("renderbuffer_attached",!1),this._cache.put("depthtexture_attached",!0);}}return e.framebufferTexture2D(l,r,n,i,0),a||(a={},this._cache.put("attached_textures",a)),a[r]=a[r]||{},a[r].texture=t,a[r].target=n,d;},_doDetach:function _doDetach(e,t,r){e.framebufferTexture2D(l,t,r,null,0);var n=this._cache.get("attached_textures");n&&n[t]&&(n[t]=null),t!==c&&t!==s.DEPTH_STENCIL_ATTACHMENT||this._cache.put("depthtexture_attached",!1);},detach:function detach(e,t){if(this._textures[e]=null,this._boundRenderer){var r=this._boundRenderer.gl;this._cache.use(r.__GLID__),this._doDetach(r,e,t);}},dispose:function dispose(e){var t=this._cache;t.use(e.__GLID__);var r=t.get("renderbuffer");r&&e.deleteRenderbuffer(r);var n=t.get("framebuffer");n&&e.deleteFramebuffer(n),t.deleteContext(e.__GLID__),this._textures={};}});f.DEPTH_ATTACHMENT=c,f.COLOR_ATTACHMENT0=d,f.STENCIL_ATTACHMENT=s.STENCIL_ATTACHMENT,f.DEPTH_STENCIL_ATTACHMENT=s.DEPTH_STENCIL_ATTACHMENT,e.exports=f;},function(e,t,r){"use strict";function n(e){return"attr_"+e;}var i=r(180),a=r(13),o=r(1),s=r(19),u=r(9),l=o.mat4,h=o.vec3,c=i.StaticAttribute,d=h.create,f=h.add,p=h.set,_=i.extend(function(){return{attributes:{position:new c("position","float",3,"POSITION"),texcoord0:new c("texcoord0","float",2,"TEXCOORD_0"),texcoord1:new c("texcoord1","float",2,"TEXCOORD_1"),normal:new c("normal","float",3,"NORMAL"),tangent:new c("tangent","float",4,"TANGENT"),color:new c("color","float",4,"COLOR"),weight:new c("weight","float",3,"WEIGHT"),joint:new c("joint","float",4,"JOINT"),barycentric:new c("barycentric","float",3,null)},hint:u.STATIC_DRAW,indices:null,_normalType:"vertex",_enabledAttributes:null};},{updateBoundingBox:function updateBoundingBox(){var e=this.boundingBox;e||(e=this.boundingBox=new a());var t=this.attributes.position.value;if(t&&t.length){var r=e.min,n=e.max,i=r._array,o=n._array;h.set(i,t[0],t[1],t[2]),h.set(o,t[0],t[1],t[2]);for(var s=3;s<t.length;){var u=t[s++],l=t[s++],c=t[s++];u<i[0]&&(i[0]=u),l<i[1]&&(i[1]=l),c<i[2]&&(i[2]=c),u>o[0]&&(o[0]=u),l>o[1]&&(o[1]=l),c>o[2]&&(o[2]=c);}r._dirty=!0,n._dirty=!0;}},dirty:function dirty(){for(var e=this.getEnabledAttributes(),t=0;t<e.length;t++){this.dirtyAttribute(e[t]);}this.dirtyIndices(),this._enabledAttributes=null;},dirtyIndices:function dirtyIndices(){this._cache.dirtyAll("indices");},dirtyAttribute:function dirtyAttribute(e){this._cache.dirtyAll(n(e)),this._cache.dirtyAll("attributes");},getTriangleIndices:function getTriangleIndices(e,t){if(e<this.triangleCount&&e>=0){t||(t=d());var r=this.indices;return t[0]=r[3*e],t[1]=r[3*e+1],t[2]=r[3*e+2],t;}},setTriangleIndices:function setTriangleIndices(e,t){var r=this.indices;r[3*e]=t[0],r[3*e+1]=t[1],r[3*e+2]=t[2];},isUseIndices:function isUseIndices(){return this.indices;},initIndicesFromArray:function initIndicesFromArray(e){var t,r=this.vertexCount>65535?s.Uint32Array:s.Uint16Array;if(e[0]&&e[0].length){var n=0;t=new r(3*e.length);for(var i=0;i<e.length;i++){for(var a=0;a<3;a++){t[n++]=e[i][a];}}}else t=new r(e);this.indices=t;},createAttribute:function createAttribute(e,t,r,n){var i=new c(e,t,r,n);return this.attributes[e]&&this.removeAttribute(e),this.attributes[e]=i,this._attributeList.push(e),i;},removeAttribute:function removeAttribute(e){var t=this._attributeList,r=t.indexOf(e);return r>=0&&(t.splice(r,1),delete this.attributes[e],!0);},getEnabledAttributes:function getEnabledAttributes(){var e=this._enabledAttributes,t=this._attributeList;if(e)return e;for(var r=[],n=this.vertexCount,i=0;i<t.length;i++){var a=t[i],o=this.attributes[a];o.value&&o.value.length===n*o.size&&r.push(a);}return this._enabledAttributes=r,r;},getBufferChunks:function getBufferChunks(e){var t=this._cache;t.use(e.__GLID__);var r=t.isDirty("attributes"),i=t.isDirty("indices");if(r||i){this._updateBuffer(e,r,i);for(var a=this.getEnabledAttributes(),o=0;o<a.length;o++){t.fresh(n(a[o]));}t.fresh("attributes"),t.fresh("indices");}return t.get("chunks");},_updateBuffer:function _updateBuffer(e,t,r){var a=this._cache,o=a.get("chunks"),s=!1;o||(o=[],o[0]={attributeBuffers:[],indicesBuffer:null},a.put("chunks",o),s=!0);var u=o[0],l=u.attributeBuffers,h=u.indicesBuffer;if(t||s){var c=this.getEnabledAttributes(),d={};if(!s)for(var f=0;f<l.length;f++){d[l[f].name]=l[f];}for(var p=0;p<c.length;p++){var _,m=c[p],g=this.attributes[m];s||(_=d[m]);var v;v=_?_.buffer:e.createBuffer(),a.isDirty(n(m))&&(e.bindBuffer(e.ARRAY_BUFFER,v),e.bufferData(e.ARRAY_BUFFER,g.value,this.hint)),l[p]=new i.AttributeBuffer(m,g.type,v,g.size,g.semantic);}for(var f=p;f<l.length;f++){e.deleteBuffer(l[f].buffer);}l.length=p;}this.isUseIndices()&&(r||s)&&(h||(h=new i.IndicesBuffer(e.createBuffer()),u.indicesBuffer=h),h.count=this.indices.length,e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,h.buffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices,this.hint));},generateVertexNormals:function generateVertexNormals(){if(this.vertexCount){var e=this.indices,t=this.attributes,r=t.position.value,n=t.normal.value;if(n&&n.length===r.length)for(var i=0;i<n.length;i++){n[i]=0;}else n=t.normal.value=new s.Float32Array(r.length);for(var a=d(),o=d(),u=d(),l=d(),c=d(),f=d(),_=0;_<e.length;){var m=e[_++],g=e[_++],v=e[_++];p(a,r[3*m],r[3*m+1],r[3*m+2]),p(o,r[3*g],r[3*g+1],r[3*g+2]),p(u,r[3*v],r[3*v+1],r[3*v+2]),h.sub(l,a,o),h.sub(c,o,u),h.cross(f,l,c);for(var i=0;i<3;i++){n[3*m+i]=n[3*m+i]+f[i],n[3*g+i]=n[3*g+i]+f[i],n[3*v+i]=n[3*v+i]+f[i];}}for(var i=0;i<n.length;){p(f,n[i],n[i+1],n[i+2]),h.normalize(f,f),n[i++]=f[0],n[i++]=f[1],n[i++]=f[2];}this.dirty();}},generateFaceNormals:function generateFaceNormals(){if(this.vertexCount){this.isUniqueVertex()||this.generateUniqueVertex();var e=this.indices,t=this.attributes,r=t.position.value,n=t.normal.value,i=d(),a=d(),o=d(),s=d(),u=d(),l=d();n||(n=t.normal.value=new Float32Array(r.length));for(var c=0;c<e.length;){var f=e[c++],_=e[c++],m=e[c++];p(i,r[3*f],r[3*f+1],r[3*f+2]),p(a,r[3*_],r[3*_+1],r[3*_+2]),p(o,r[3*m],r[3*m+1],r[3*m+2]),h.sub(s,i,a),h.sub(u,a,o),h.cross(l,s,u),h.normalize(l,l);for(var g=0;g<3;g++){n[3*f+g]=l[g],n[3*_+g]=l[g],n[3*m+g]=l[g];}}this.dirty();}},generateTangents:function generateTangents(){if(this.vertexCount){var e=this.vertexCount,t=this.attributes;t.tangent.value||(t.tangent.value=new Float32Array(4*e));for(var r=t.texcoord0.value,n=t.position.value,i=t.tangent.value,a=t.normal.value,o=[],s=[],u=0;u<e;u++){o[u]=[0,0,0],s[u]=[0,0,0];}for(var l=[0,0,0],c=[0,0,0],p=this.indices,u=0;u<p.length;){var _=p[u++],m=p[u++],g=p[u++],v=r[2*_],y=r[2*m],x=r[2*g],T=r[2*_+1],b=r[2*m+1],w=r[2*g+1],E=n[3*_],S=n[3*m],A=n[3*g],M=n[3*_+1],C=n[3*m+1],L=n[3*g+1],N=n[3*_+2],R=n[3*m+2],D=n[3*g+2],I=S-E,P=A-E,O=C-M,F=L-M,B=R-N,U=D-N,z=y-v,G=x-v,k=b-T,V=w-T,H=1/(z*V-k*G);l[0]=(V*I-k*P)*H,l[1]=(V*O-k*F)*H,l[2]=(V*B-k*U)*H,c[0]=(z*P-G*I)*H,c[1]=(z*F-G*O)*H,c[2]=(z*U-G*B)*H,f(o[_],o[_],l),f(o[m],o[m],l),f(o[g],o[g],l),f(s[_],s[_],c),f(s[m],s[m],c),f(s[g],s[g],c);}for(var W=d(),q=d(),X=d(),u=0;u<e;u++){X[0]=a[3*u],X[1]=a[3*u+1],X[2]=a[3*u+2];var j=o[u];h.scale(W,X,h.dot(X,j)),h.sub(W,j,W),h.normalize(W,W),h.cross(q,X,j),i[4*u]=W[0],i[4*u+1]=W[1],i[4*u+2]=W[2],i[4*u+3]=h.dot(q,s[u])<0?-1:1;}this.dirty();}},isUniqueVertex:function isUniqueVertex(){return!this.isUseIndices()||this.vertexCount===this.indices.length;},generateUniqueVertex:function generateUniqueVertex(){if(this.vertexCount){for(var e=[],t=0,r=this.vertexCount;t<r;t++){e[t]=0;}this.indices.length>65535&&(this.indices=new s.Uint32Array(this.indices));for(var n=0,i=this.attributes,a=this.indices,t=0;t<a.length;t++){n=Math.max(n,a[t]+1);}for(var o=this.getEnabledAttributes(),u=0;u<o.length;u++){var l=o[u],h=i[l].value;i[l].init(this.indices.length);for(var c=i[l].value,t=0;t<h.length;t++){c[t]=h[t];}}for(var t=0;t<a.length;t++){var d=a[t];if(e[d]>0){for(var u=0;u<o.length;u++){for(var l=o[u],f=i[l].value,p=i[l].size,_=0;_<p;_++){f[n*p+_]=f[d*p+_];}}a[t]=n,n++;}e[d]++;}this.dirty();}},generateBarycentric:function generateBarycentric(){if(this.vertexCount){this.isUniqueVertex()||this.generateUniqueVertex();var e=this.attributes,t=e.barycentric.value,r=this.indices;if(!t||t.length!==3*r.length){t=e.barycentric.value=new Float32Array(3*r.length);for(var n=0;n<r.length;){for(var i=0;i<3;i++){var a=r[n++];t[3*a+i]=1;}}this.dirty();}}},applyTransform:function applyTransform(e){var t=this.attributes,r=t.position.value,n=t.normal.value,i=t.tangent.value;e=e._array;var a=l.create();l.invert(a,e),l.transpose(a,a);var o=h.transformMat4,s=h.forEach;s(r,3,0,null,o,e),n&&s(n,3,0,null,o,a),i&&s(i,4,0,null,o,a),this.boundingBox&&this.updateBoundingBox();},dispose:function dispose(e){var t=this._cache;t.use(e.__GLID__);var r=t.get("chunks");if(r)for(var n=0;n<r.length;n++){for(var i=r[n],a=0;a<i.attributeBuffers.length;a++){var o=i.attributeBuffers[a];e.deleteBuffer(o.buffer);}}t.deleteContext(e.__GLID__);}});Object.defineProperty&&(Object.defineProperty(_.prototype,"vertexCount",{enumerable:!1,get:function get(){var e=this.attributes[this.mainAttribute];return e&&e.value?e.value.length/e.size:0;}}),Object.defineProperty(_.prototype,"triangleCount",{enumerable:!1,get:function get(){var e=this.indices;return e?e.length/3:0;}})),_.Attribute=i.StaticAttribute,e.exports=_;},function(e,t,r){"use strict";var n=r(3),i=r(1),a=i.vec3,o=a.copy,s=a.set,u=function u(e,t){this.min=e||new n(1/0,1/0,1/0),this.max=t||new n(-1/0,-1/0,-1/0);};u.prototype={constructor:u,updateFromVertices:function updateFromVertices(e){if(e.length>0){var t=this.min,r=this.max,n=t._array,i=r._array;o(n,e[0]),o(i,e[0]);for(var a=1;a<e.length;a++){var s=e[a];s[0]<n[0]&&(n[0]=s[0]),s[1]<n[1]&&(n[1]=s[1]),s[2]<n[2]&&(n[2]=s[2]),s[0]>i[0]&&(i[0]=s[0]),s[1]>i[1]&&(i[1]=s[1]),s[2]>i[2]&&(i[2]=s[2]);}t._dirty=!0,r._dirty=!0;}},union:function union(e){var t=this.min,r=this.max;return a.min(t._array,t._array,e.min._array),a.max(r._array,r._array,e.max._array),t._dirty=!0,r._dirty=!0,this;},intersection:function intersection(e){var t=this.min,r=this.max;return a.max(t._array,t._array,e.min._array),a.min(r._array,r._array,e.max._array),t._dirty=!0,r._dirty=!0,this;},intersectBoundingBox:function intersectBoundingBox(e){var t=this.min._array,r=this.max._array,n=e.min._array,i=e.max._array;return!(t[0]>i[0]||t[1]>i[1]||t[2]>i[2]||r[0]<n[0]||r[1]<n[1]||r[2]<n[2]);},containBoundingBox:function containBoundingBox(e){var t=this.min._array,r=this.max._array,n=e.min._array,i=e.max._array;return t[0]<=n[0]&&t[1]<=n[1]&&t[2]<=n[2]&&r[0]>=i[0]&&r[1]>=i[1]&&r[2]>=i[2];},containPoint:function containPoint(e){var t=this.min._array,r=this.max._array,n=e._array;return t[0]<=n[0]&&t[1]<=n[1]&&t[2]<=n[2]&&r[0]>=n[0]&&r[1]>=n[1]&&r[2]>=n[2];},isFinite:function(_isFinite){function isFinite(){return _isFinite.apply(this,arguments);}isFinite.toString=function(){return _isFinite.toString();};return isFinite;}(function(){var e=this.min._array,t=this.max._array;return isFinite(e[0])&&isFinite(e[1])&&isFinite(e[2])&&isFinite(t[0])&&isFinite(t[1])&&isFinite(t[2]);}),applyTransform:function(){var e=a.create(),t=a.create(),r=a.create(),n=a.create(),i=a.create(),o=a.create();return function(a){var s=this.min._array,u=this.max._array,l=a._array;return e[0]=l[0]*s[0],e[1]=l[1]*s[0],e[2]=l[2]*s[0],t[0]=l[0]*u[0],t[1]=l[1]*u[0],t[2]=l[2]*u[0],r[0]=l[4]*s[1],r[1]=l[5]*s[1],r[2]=l[6]*s[1],n[0]=l[4]*u[1],n[1]=l[5]*u[1],n[2]=l[6]*u[1],i[0]=l[8]*s[2],i[1]=l[9]*s[2],i[2]=l[10]*s[2],o[0]=l[8]*u[2],o[1]=l[9]*u[2],o[2]=l[10]*u[2],s[0]=Math.min(e[0],t[0])+Math.min(r[0],n[0])+Math.min(i[0],o[0])+l[12],s[1]=Math.min(e[1],t[1])+Math.min(r[1],n[1])+Math.min(i[1],o[1])+l[13],s[2]=Math.min(e[2],t[2])+Math.min(r[2],n[2])+Math.min(i[2],o[2])+l[14],u[0]=Math.max(e[0],t[0])+Math.max(r[0],n[0])+Math.max(i[0],o[0])+l[12],u[1]=Math.max(e[1],t[1])+Math.max(r[1],n[1])+Math.max(i[1],o[1])+l[13],u[2]=Math.max(e[2],t[2])+Math.max(r[2],n[2])+Math.max(i[2],o[2])+l[14],this.min._dirty=!0,this.max._dirty=!0,this;};}(),applyProjection:function applyProjection(e){var t=this.min._array,r=this.max._array,n=e._array,i=t[0],a=t[1],o=t[2],s=r[0],u=r[1],l=t[2],h=r[0],c=r[1],d=r[2];if(1===n[15])t[0]=n[0]*i+n[12],t[1]=n[5]*a+n[13],r[2]=n[10]*o+n[14],r[0]=n[0]*h+n[12],r[1]=n[5]*c+n[13],t[2]=n[10]*d+n[14];else{var f=-1/o;t[0]=n[0]*i*f,t[1]=n[5]*a*f,r[2]=(n[10]*o+n[14])*f,f=-1/l,r[0]=n[0]*s*f,r[1]=n[5]*u*f,f=-1/d,t[2]=(n[10]*d+n[14])*f;}return this.min._dirty=!0,this.max._dirty=!0,this;},updateVertices:function updateVertices(){var e=this.vertices;if(!e){for(var e=[],t=0;t<8;t++){e[t]=a.fromValues(0,0,0);}this.vertices=e;}var r=this.min._array,n=this.max._array;return s(e[0],r[0],r[1],r[2]),s(e[1],r[0],n[1],r[2]),s(e[2],n[0],r[1],r[2]),s(e[3],n[0],n[1],r[2]),s(e[4],r[0],r[1],n[2]),s(e[5],r[0],n[1],n[2]),s(e[6],n[0],r[1],n[2]),s(e[7],n[0],n[1],n[2]),this;},copy:function copy(e){var t=this.min,r=this.max;return o(t._array,e.min._array),o(r._array,e.max._array),t._dirty=!0,r._dirty=!0,this;},clone:function clone(){var e=new u();return e.copy(this),e;}},e.exports=u;},function(e,t){function r(e){if(null==e||"object"!=(typeof e==="undefined"?"undefined":_typeof(e)))return e;var t=e,n=B.call(e);if("[object Array]"===n){t=[];for(var i=0,a=e.length;i<a;i++){t[i]=r(e[i]);}}else if(F[n])t=e.constructor.from(e);else if(!O[n]&&!R(e)&&!S(e)){t={};for(var o in e){e.hasOwnProperty(o)&&(t[o]=r(e[o]));}}return t;}function n(e,t,i){if(!w(t)||!w(e))return i?r(t):e;for(var a in t){if(t.hasOwnProperty(a)){var o=e[a],s=t[a];!w(s)||!w(o)||x(s)||x(o)||S(s)||S(o)||E(s)||E(o)||R(s)||R(o)?!i&&a in e||(e[a]=r(t[a],!0)):n(o,s,i);}}return e;}function i(e,t){for(var r=e[0],i=1,a=e.length;i<a;i++){r=n(r,e[i],t);}return r;}function a(e,t){for(var r in t){t.hasOwnProperty(r)&&(e[r]=t[r]);}return e;}function o(e,t,r){for(var n in t){t.hasOwnProperty(n)&&(r?null!=t[n]:null==e[n])&&(e[n]=t[n]);}return e;}function s(){return document.createElement("canvas");}function u(){return P||(P=q.createCanvas().getContext("2d")),P;}function l(e,t){if(e){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++){if(e[r]===t)return r;}}return-1;}function h(e,t){function r(){}var n=e.prototype;r.prototype=t.prototype,e.prototype=new r();for(var i in n){e.prototype[i]=n[i];}e.prototype.constructor=e,e.superClass=t;}function c(e,t,r){e="prototype"in e?e.prototype:e,t="prototype"in t?t.prototype:t,o(e,t,r);}function d(e){if(e)return"string"!=typeof e&&"number"==typeof e.length;}function f(e,t,r){if(e&&t)if(e.forEach&&e.forEach===z)e.forEach(t,r);else if(e.length===+e.length)for(var n=0,i=e.length;n<i;n++){t.call(r,e[n],n,e);}else for(var a in e){e.hasOwnProperty(a)&&t.call(r,e[a],a,e);}}function p(e,t,r){if(e&&t){if(e.map&&e.map===V)return e.map(t,r);for(var n=[],i=0,a=e.length;i<a;i++){n.push(t.call(r,e[i],i,e));}return n;}}function _(e,t,r,n){if(e&&t){if(e.reduce&&e.reduce===H)return e.reduce(t,r,n);for(var i=0,a=e.length;i<a;i++){r=t.call(n,r,e[i],i,e);}return r;}}function m(e,t,r){if(e&&t){if(e.filter&&e.filter===G)return e.filter(t,r);for(var n=[],i=0,a=e.length;i<a;i++){t.call(r,e[i],i,e)&&n.push(e[i]);}return n;}}function g(e,t,r){if(e&&t)for(var n=0,i=e.length;n<i;n++){if(t.call(r,e[n],n,e))return e[n];}}function v(e,t){var r=k.call(arguments,2);return function(){return e.apply(t,r.concat(k.call(arguments)));};}function y(e){var t=k.call(arguments,1);return function(){return e.apply(this,t.concat(k.call(arguments)));};}function x(e){return"[object Array]"===B.call(e);}function T(e){return"function"==typeof e;}function b(e){return"[object String]"===B.call(e);}function w(e){var t=typeof e==="undefined"?"undefined":_typeof(e);return"function"===t||!!e&&"object"==t;}function E(e){return!!O[B.call(e)];}function S(e){return"object"==(typeof e==="undefined"?"undefined":_typeof(e))&&"number"==typeof e.nodeType&&"object"==_typeof(e.ownerDocument);}function A(e){return e!==e;}function M(e){for(var t=0,r=arguments.length;t<r;t++){if(null!=arguments[t])return arguments[t];}}function C(){return Function.call.apply(k,arguments);}function L(e,t){if(!e)throw new Error(t);}function N(e){e[W]=!0;}function R(e){return e[W];}function D(e){e&&a(this,e);}function I(){return new D();}var P,O={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},F={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},B=Object.prototype.toString,U=Array.prototype,z=U.forEach,G=U.filter,k=U.slice,V=U.map,H=U.reduce,W="__ec_primitive__";D.prototype={constructor:D,get:function get(e){return this["_ec_"+e];},set:function set(e,t){return this["_ec_"+e]=t,t;},each:function each(e,t){void 0!==t&&(e=v(e,t));for(var r in this){this.hasOwnProperty(r)&&e(this[r],r.slice(4));}},removeKey:function removeKey(e){delete this[e];}};var q={inherits:h,mixin:c,clone:r,merge:n,mergeAll:i,extend:a,defaults:o,getContext:u,createCanvas:s,indexOf:l,slice:C,find:g,isArrayLike:d,each:f,map:p,reduce:_,filter:m,bind:v,curry:y,isArray:x,isString:b,isObject:w,isFunction:T,isBuiltInObject:E,isDom:S,eqNaN:A,retrieve:M,assert:L,setAsPrimitive:N,createHashMap:I,noop:function noop(){}};e.exports=q;},function(e,t){e.exports=function(e,t,r){t.eachSeriesByType(e,function(e){var t=e.getData(),r=e.visualColorAccessPath.split(".");r[r.length-1]="opacity";var n=e.get(r);t.setVisual("opacity",null==n?1:n),t.hasItemOption&&t.each(function(e){var n=t.getItemModel(e),i=n.get(r);null!=i&&t.setItemVisual(e,"opacity",i);});});};},function(e,t,r){"use strict";var n=r(30),i=n.extend(function(){return{color:[1,1,1],intensity:1,castShadow:!0,shadowResolution:512,group:0};},{type:"",clone:function clone(){var e=n.prototype.clone.call(this);return e.color=Array.prototype.slice.call(this.color),e.intensity=this.intensity,e.castShadow=this.castShadow,e.shadowResolution=this.shadowResolution,e;}});e.exports=i;},function(e,t,r){"use strict";var n=r(7),i=r(5),a=n.extend({name:"",depthTest:!0,depthMask:!0,transparent:!1,blend:null,_enabledUniforms:null},function(){this.name||(this.name="MATERIAL_"+this.__GUID__),this.shader&&this.attachShader(this.shader),this.uniforms||(this.uniforms={});},{bind:function bind(e,t,r,n){for(var t=t||this.shader,a=n===t,o=t.currentTextureSlot(),s=0;s<this._enabledUniforms.length;s++){var u=this._enabledUniforms[s],l=this.uniforms[u],h=l.value;if(!r||!a||r.uniforms[u].value!==h)if(void 0!==h){if(null!==h){if(!(h instanceof Array)||h.length)if(h instanceof i){var c=t.currentTextureSlot(),d=t.setUniform(e,"1i",u,c);if(!d)continue;t.useCurrentTextureSlot(e,h);}else if(h instanceof Array){if(0===h.length)continue;var f=h[0];if(f instanceof i){if(!t.hasUniform(u))continue;for(var p=[],_=0;_<h.length;_++){var m=h[_],c=t.currentTextureSlot();p.push(c),t.useCurrentTextureSlot(e,m);}t.setUniform(e,"1iv",u,p);}else t.setUniform(e,l.type,u,h);}else t.setUniform(e,l.type,u,h);}else if("t"===l.type){var c=t.currentTextureSlot(),d=t.setUniform(e,"1i",u,c);d&&t.useCurrentTextureSlot(e,null);}}else console.warn('Uniform value "'+u+'" is undefined');}t.resetTextureSlot(o);},setUniform:function setUniform(e,t){void 0===t&&console.warn('Uniform value "'+e+'" is undefined');var r=this.uniforms[e];r&&(r.value=t);},setUniforms:function setUniforms(e){for(var t in e){var r=e[t];this.setUniform(t,r);}},isUniformEnabled:function isUniformEnabled(e){return this._enabledUniforms.indexOf(e)>=0;},set:function set(e,t){if("object"==(typeof e==="undefined"?"undefined":_typeof(e)))for(var r in e){var n=e[r];this.set(r,n);}else{var i=this.uniforms[e];i&&(i.value=t);}},get:function get(e){var t=this.uniforms[e];if(t)return t.value;},attachShader:function attachShader(e,t){this.shader&&this.shader.detached();var r=this.uniforms;this.uniforms=e.createUniforms(),this.shader=e;var n=this.uniforms;if(this._enabledUniforms=Object.keys(n),this._enabledUniforms.sort(),t)for(var i in r){n[i]&&(n[i].value=r[i].value);}e.attached();},detachShader:function detachShader(){this.shader.detached(),this.shader=null,this.uniforms={};},clone:function clone(){var e=new this.constructor({name:this.name,shader:this.shader});for(var t in this.uniforms){e.uniforms[t].value=this.uniforms[t].value;}return e.depthTest=this.depthTest,e.depthMask=this.depthMask,e.transparent=this.transparent,e.blend=this.blend,e;},dispose:function dispose(e,t){if(t)for(var r in this.uniforms){var n=this.uniforms[r].value;if(n)if(n instanceof i)n.dispose(e);else if(n instanceof Array)for(var a=0;a<n.length;a++){n[a]instanceof i&&n[a].dispose(e);}}var o=this.shader;o&&(this.detachShader(),o.isAttachedToAny()||o.dispose(e));}});e.exports=a;},function(e,t,r){"use strict";var n=["OES_texture_float","OES_texture_half_float","OES_texture_float_linear","OES_texture_half_float_linear","OES_standard_derivatives","OES_vertex_array_object","OES_element_index_uint","WEBGL_compressed_texture_s3tc","WEBGL_depth_texture","EXT_texture_filter_anisotropic","EXT_shader_texture_lod","WEBGL_draw_buffers","EXT_frag_depth"],i=["MAX_TEXTURE_SIZE","MAX_CUBE_MAP_TEXTURE_SIZE"],a={},o={},s={initialize:function initialize(e){var t=e.__GLID__;if(!a[t]){a[t]={},o[t]={};for(var r=0;r<n.length;r++){var s=n[r];this._createExtension(e,s);}for(var r=0;r<i.length;r++){var u=i[r];o[t][u]=e.getParameter(e[u]);}}},getExtension:function getExtension(e,t){var r=e.__GLID__;if(a[r])return void 0===a[r][t]&&this._createExtension(e,t),a[r][t];},getParameter:function getParameter(e,t){var r=e.__GLID__;if(o[r])return o[r][t];},dispose:function dispose(e){delete a[e.__GLID__],delete o[e.__GLID__];},_createExtension:function _createExtension(e,t){var r=e.getExtension(t);r||(r=e.getExtension("MOZ_"+t)),r||(r=e.getExtension("WEBKIT_"+t)),a[e.__GLID__][t]=r;}};e.exports=s;},function(e,t,r){"use strict";var n=!0;try{var i=document.createElement("canvas");if(!(i.getContext("webgl")||i.getContext("experimental-webgl")))throw new Error();}catch(e){n=!1;}var a={};a.supportWebGL=function(){return n;},a.Int8Array="undefined"==typeof Int8Array?Array:Int8Array,a.Uint8Array="undefined"==typeof Uint8Array?Array:Uint8Array,a.Uint16Array="undefined"==typeof Uint16Array?Array:Uint16Array,a.Uint32Array="undefined"==typeof Uint32Array?Array:Uint32Array,a.Int16Array="undefined"==typeof Int16Array?Array:Int16Array,a.Float32Array="undefined"==typeof Float32Array?Array:Float32Array,a.Float64Array="undefined"==typeof Float64Array?Array:Float64Array,e.exports=a;},function(e,t,r){function n(e){return"CANVAS"===e.nodeName||"VIDEO"===e.nodeName||e.complete;}var i=r(5),a=r(18),o=r(9),s=r(23),u=r(79),l=u.isPowerOfTwo,h=["px","nx","py","ny","pz","nz"],c=i.extend(function(){return{image:{px:null,nx:null,py:null,ny:null,pz:null,nz:null},pixels:{px:null,nx:null,py:null,ny:null,pz:null,nz:null},mipmaps:[]};},{update:function update(e){e.bindTexture(e.TEXTURE_CUBE_MAP,this._cache.get("webgl_texture")),this.beforeUpdate(e);var t=this.format,r=this.type;e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_WRAP_S,this.wrapS),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_WRAP_T,this.wrapT),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,this.magFilter),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,this.minFilter);var n=a.getExtension(e,"EXT_texture_filter_anisotropic");if(n&&this.anisotropic>1&&e.texParameterf(e.TEXTURE_CUBE_MAP,n.TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropic),36193===r){a.getExtension(e,"OES_texture_half_float")||(r=o.FLOAT);}if(this.mipmaps.length)for(var i=this.width,s=this.height,u=0;u<this.mipmaps.length;u++){var l=this.mipmaps[u];this._updateTextureData(e,l,u,i,s,t,r),i/=2,s/=2;}else this._updateTextureData(e,this,0,this.width,this.height,t,r),!this.NPOT&&this.useMipmap&&e.generateMipmap(e.TEXTURE_CUBE_MAP);e.bindTexture(e.TEXTURE_CUBE_MAP,null);},_updateTextureData:function _updateTextureData(e,t,r,n,i,a,o){for(var s=0;s<6;s++){var u=h[s],l=t.image&&t.image[u];l?e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+s,r,a,a,o,l):e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+s,r,a,n,i,0,a,o,t.pixels&&t.pixels[u]);}},generateMipmap:function generateMipmap(e){this.useMipmap&&!this.NPOT&&(e.bindTexture(e.TEXTURE_CUBE_MAP,this._cache.get("webgl_texture")),e.generateMipmap(e.TEXTURE_CUBE_MAP));},bind:function bind(e){e.bindTexture(e.TEXTURE_CUBE_MAP,this.getWebGLTexture(e));},unbind:function unbind(e){e.bindTexture(e.TEXTURE_CUBE_MAP,null);},isPowerOfTwo:function isPowerOfTwo(){return this.image.px?l(this.image.px.width)&&l(this.image.px.height):l(this.width)&&l(this.height);},isRenderable:function isRenderable(){return this.image.px?n(this.image.px)&&n(this.image.nx)&&n(this.image.py)&&n(this.image.ny)&&n(this.image.pz)&&n(this.image.nz):!(!this.width||!this.height);},load:function load(e){var t=0,r=this;return s.each(e,function(e,n){var i=new Image();i.onload=function(){t--,0===t&&(r.dirty(),r.trigger("success",r)),i.onload=null;},i.onerror=function(){t--,i.onerror=null;},t++,i.src=e,r.image[n]=i;}),this;}});Object.defineProperty(c.prototype,"width",{get:function get(){return this.image&&this.image.px?this.image.px.width:this._width;},set:function set(e){this.image&&this.image.px?console.warn("Texture from image can't set width"):(this._width!==e&&this.dirty(),this._width=e);}}),Object.defineProperty(c.prototype,"height",{get:function get(){return this.image&&this.image.px?this.image.px.height:this._height;},set:function set(e){this.image&&this.image.px?console.warn("Texture from image can't set height"):(this._height!==e&&this.dirty(),this._height=e);}}),e.exports=c;},function(e,t,r){"use strict";var n=r(7),i=r(41),a=r(53),o=r(8),s=r(17),u=r(29),l=r(18),h=r(9);o.import(r(208));var c=new a(),d=new u({geometry:c,frustumCulling:!1}),f=new i(),p=n.extend(function(){return{fragment:"",outputs:null,material:null,blendWithPrevious:!1,clearColor:!1,clearDepth:!0};},function(){var e=new o({vertex:o.source("qtek.compositor.vertex"),fragment:this.fragment}),t=new s({shader:e});e.enableTexturesAll(),this.material=t;},{setUniform:function setUniform(e,t){var r=this.material.uniforms[e];r&&(r.value=t);},getUniform:function getUniform(e){var t=this.material.uniforms[e];if(t)return t.value;},attachOutput:function attachOutput(e,t){this.outputs||(this.outputs={}),t=t||h.COLOR_ATTACHMENT0,this.outputs[t]=e;},detachOutput:function detachOutput(e){for(var t in this.outputs){this.outputs[t]===e&&(this.outputs[t]=null);}},bind:function bind(e,t){if(this.outputs)for(var r in this.outputs){var n=this.outputs[r];n&&t.attach(n,r);}t&&t.bind(e);},unbind:function unbind(e,t){t.unbind(e);},render:function render(e,t){var r=e.gl;if(t){this.bind(e,t);var n=l.getExtension(r,"EXT_draw_buffers");if(n&&this.outputs){var i=[];for(var a in this.outputs){(a=+a)>=r.COLOR_ATTACHMENT0&&a<=r.COLOR_ATTACHMENT0+8&&i.push(a);}n.drawBuffersEXT(i);}}this.trigger("beforerender",this,e);var o=this.clearDepth?r.DEPTH_BUFFER_BIT:0;if(r.depthMask(!0),this.clearColor){o|=r.COLOR_BUFFER_BIT,r.colorMask(!0,!0,!0,!0);var s=this.clearColor;s instanceof Array&&r.clearColor(s[0],s[1],s[2],s[3]);}r.clear(o),this.blendWithPrevious?(r.enable(r.BLEND),this.material.transparent=!0):(r.disable(r.BLEND),this.material.transparent=!1),this.renderQuad(e),this.trigger("afterrender",this,e),t&&this.unbind(e,t);},renderQuad:function renderQuad(e){d.material=this.material,e.renderQueue([d],f);},dispose:function dispose(e){this.material.dispose(e);}});e.exports=p;},function(e,t,r){var n=r(12),i=r(1).vec3,a=r(0),o=r(28),s=[[0,0],[1,1]],u=n.extend(function(){return{segmentScale:1,dynamic:!0,useNativeLine:!0,attributes:{position:new n.Attribute("position","float",3,"POSITION"),positionPrev:new n.Attribute("positionPrev","float",3),positionNext:new n.Attribute("positionNext","float",3),prevPositionPrev:new n.Attribute("prevPositionPrev","float",3),prevPosition:new n.Attribute("prevPosition","float",3),prevPositionNext:new n.Attribute("prevPositionNext","float",3),offset:new n.Attribute("offset","float",1),color:new n.Attribute("color","float",4,"COLOR")}};},{resetOffset:function resetOffset(){this._vertexOffset=0,this._triangleOffset=0;},setVertexCount:function setVertexCount(e){var t=this.attributes;this.vertexCount!==e&&(t.position.init(e),t.color.init(e),this.useNativeLine||(t.positionPrev.init(e),t.positionNext.init(e),t.offset.init(e)),e>65535?this.indices instanceof Uint16Array&&(this.indices=new Uint32Array(this.indices)):this.indices instanceof Uint32Array&&(this.indices=new Uint16Array(this.indices)));},setTriangleCount:function setTriangleCount(e){this.triangleCount!==e&&(this.indices=0===e?null:this.vertexCount>65535?new Uint32Array(3*e):new Uint16Array(3*e));},_getCubicCurveApproxStep:function _getCubicCurveApproxStep(e,t,r,n){return 1/(i.dist(e,t)+i.dist(r,t)+i.dist(n,r)+1)*this.segmentScale;},getCubicCurveVertexCount:function getCubicCurveVertexCount(e,t,r,n){var i=this._getCubicCurveApproxStep(e,t,r,n),a=Math.ceil(1/i);return this.useNativeLine?2*a:2*a+2;},getCubicCurveTriangleCount:function getCubicCurveTriangleCount(e,t,r,n){var i=this._getCubicCurveApproxStep(e,t,r,n),a=Math.ceil(1/i);return this.useNativeLine?0:2*a;},getLineVertexCount:function getLineVertexCount(){return this.getPolylineVertexCount(s);},getLineTriangleCount:function getLineTriangleCount(){return this.getPolylineTriangleCount(s);},getPolylineVertexCount:function getPolylineVertexCount(e){var t="number"!=typeof e[0],r=t?e.length:e.length/3;return this.useNativeLine?2*(r-1):2*(r-1)+2;},getPolylineTriangleCount:function getPolylineTriangleCount(e){var t="number"!=typeof e[0],r=t?e.length:e.length/3;return this.useNativeLine?0:2*Math.max(r-1,0);},addCubicCurve:function addCubicCurve(e,t,r,n,i,a){null==a&&(a=1);for(var o=e[0],s=e[1],u=e[2],l=t[0],h=t[1],c=t[2],d=r[0],f=r[1],p=r[2],_=n[0],m=n[1],g=n[2],v=this._getCubicCurveApproxStep(e,t,r,n),y=v*v,x=y*v,T=3*v,b=3*y,w=6*y,E=6*x,S=o-2*l+d,A=s-2*h+f,M=u-2*c+p,C=3*(l-d)-o+_,L=3*(h-f)-s+m,N=3*(c-p)-u+g,R=o,D=s,I=u,P=(l-o)*T+S*b+C*x,O=(h-s)*T+A*b+L*x,F=(c-u)*T+M*b+N*x,B=S*w+C*E,U=A*w+L*E,z=M*w+N*E,G=C*E,k=L*E,V=N*E,H=0,W=0,q=Math.ceil(1/v),X=new Float32Array(3*(q+1)),X=[],j=0,W=0;W<q+1;W++){X[j++]=R,X[j++]=D,X[j++]=I,R+=P,D+=O,I+=F,P+=B,O+=U,F+=z,B+=G,U+=k,z+=V,(H+=v)>1&&(R=P>0?Math.min(R,_):Math.max(R,_),D=O>0?Math.min(D,m):Math.max(D,m),I=F>0?Math.min(I,g):Math.max(I,g));}this.addPolyline(X,i,a,!1);},addLine:function addLine(e,t,r,n){this.addPolyline([e,t],r,n,!1);},addPolyline:function addPolyline(e,t,r,n){if(e.length){var i="number"!=typeof e[0],a=this.attributes.position,o=this.attributes.positionPrev,s=this.attributes.positionNext,u=this.attributes.color,l=this.attributes.offset,h=this.indices;null==r&&(r=1);for(var c,d,f=this._vertexOffset,p=i?e.length:e.length/3,_=p,m=0;m<_;m++){if(i)c=e[m],d=n?t[m]:t;else{var g=3*m;if(c=c||[],c[0]=e[g],c[1]=e[g+1],c[2]=e[g+2],n){var v=4*m;d=d||[],d[0]=t[v],d[1]=t[v+1],d[2]=t[v+2],d[3]=t[v+3];}else d=t;}if(this.useNativeLine?m>1&&(a.copy(f,f-1),u.copy(f,f-1),f++):(m<_-1&&(o.set(f+2,c),o.set(f+3,c)),m>0&&(s.set(f-2,c),s.set(f-1,c)),a.set(f,c),a.set(f+1,c),u.set(f,d),u.set(f+1,d),l.set(f,r/2),l.set(f+1,-r/2),f+=2),this.useNativeLine)u.set(f,d),a.set(f,c),f++;else if(m>0){var y=3*this._triangleOffset,h=this.indices;h[y]=f-4,h[y+1]=f-3,h[y+2]=f-2,h[y+3]=f-3,h[y+4]=f-1,h[y+5]=f-2,this._triangleOffset+=2;}}if(!this.useNativeLine){var x=this._vertexOffset,T=this._vertexOffset+2*p;o.copy(x,x+2),o.copy(x+1,x+3),s.copy(T-1,T-3),s.copy(T-2,T-4);}this._vertexOffset=f;}}});a.util.defaults(u.prototype,o),e.exports=u;},function(e,t,r){"use strict";var n=0,i=Array.prototype,a=i.forEach,o={genGUID:function genGUID(){return++n;},relative2absolute:function relative2absolute(e,t){if(!t||e.match(/^\//))return e;for(var r=e.split("/"),n=t.split("/"),i=r[0];"."===i||".."===i;){".."===i&&n.pop(),r.shift(),i=r[0];}return n.join("/")+"/"+r.join("/");},extend:function extend(e,t){if(t)for(var r in t){t.hasOwnProperty(r)&&(e[r]=t[r]);}return e;},defaults:function defaults(e,t){if(t)for(var r in t){void 0===e[r]&&(e[r]=t[r]);}return e;},extendWithPropList:function extendWithPropList(e,t,r){if(t)for(var n=0;n<r.length;n++){var i=r[n];e[i]=t[i];}return e;},defaultsWithPropList:function defaultsWithPropList(e,t,r){if(t)for(var n=0;n<r.length;n++){var i=r[n];null==e[i]&&(e[i]=t[i]);}return e;},each:function each(e,t,r){if(e&&t)if(e.forEach&&e.forEach===a)e.forEach(t,r);else if(e.length===+e.length)for(var n=0,i=e.length;n<i;n++){t.call(r,e[n],n,e);}else for(var o in e){e.hasOwnProperty(o)&&t.call(r,e[o],o,e);}},isObject:function isObject(e){return e===Object(e);},isArray:function isArray(e){return e instanceof Array;},isArrayLike:function isArrayLike(e){return!!e&&e.length===+e.length;},clone:function clone(e){if(o.isObject(e)){if(o.isArray(e))return e.slice();if(o.isArrayLike(e)){for(var t=new e.constructor(e.length),r=0;r<e.length;r++){t[r]=e[r];}return t;}return o.extend({},e);}return e;}};e.exports=o;},function(e,t,r){"use strict";var n=r(1),i=n.vec2,a=function a(e,t){e=e||0,t=t||0,this._array=i.fromValues(e,t),this._dirty=!0;};if(a.prototype={constructor:a,add:function add(e){return i.add(this._array,this._array,e._array),this._dirty=!0,this;},set:function set(e,t){return this._array[0]=e,this._array[1]=t,this._dirty=!0,this;},setArray:function setArray(e){return this._array[0]=e[0],this._array[1]=e[1],this._dirty=!0,this;},clone:function clone(){return new a(this.x,this.y);},copy:function copy(e){return i.copy(this._array,e._array),this._dirty=!0,this;},cross:function cross(e,t){return i.cross(e._array,this._array,t._array),e._dirty=!0,this;},dist:function dist(e){return i.dist(this._array,e._array);},distance:function distance(e){return i.distance(this._array,e._array);},div:function div(e){return i.div(this._array,this._array,e._array),this._dirty=!0,this;},divide:function divide(e){return i.divide(this._array,this._array,e._array),this._dirty=!0,this;},dot:function dot(e){return i.dot(this._array,e._array);},len:function len(){return i.len(this._array);},length:function length(){return i.length(this._array);},lerp:function lerp(e,t,r){return i.lerp(this._array,e._array,t._array,r),this._dirty=!0,this;},min:function min(e){return i.min(this._array,this._array,e._array),this._dirty=!0,this;},max:function max(e){return i.max(this._array,this._array,e._array),this._dirty=!0,this;},mul:function mul(e){return i.mul(this._array,this._array,e._array),this._dirty=!0,this;},multiply:function multiply(e){return i.multiply(this._array,this._array,e._array),this._dirty=!0,this;},negate:function negate(){return i.negate(this._array,this._array),this._dirty=!0,this;},normalize:function normalize(){return i.normalize(this._array,this._array),this._dirty=!0,this;},random:function random(e){return i.random(this._array,e),this._dirty=!0,this;},scale:function scale(e){return i.scale(this._array,this._array,e),this._dirty=!0,this;},scaleAndAdd:function scaleAndAdd(e,t){return i.scaleAndAdd(this._array,this._array,e._array,t),this._dirty=!0,this;},sqrDist:function sqrDist(e){return i.sqrDist(this._array,e._array);},squaredDistance:function squaredDistance(e){return i.squaredDistance(this._array,e._array);},sqrLen:function sqrLen(){return i.sqrLen(this._array);},squaredLength:function squaredLength(){return i.squaredLength(this._array);},sub:function sub(e){return i.sub(this._array,this._array,e._array),this._dirty=!0,this;},subtract:function subtract(e){return i.subtract(this._array,this._array,e._array),this._dirty=!0,this;},transformMat2:function transformMat2(e){return i.transformMat2(this._array,this._array,e._array),this._dirty=!0,this;},transformMat2d:function transformMat2d(e){return i.transformMat2d(this._array,this._array,e._array),this._dirty=!0,this;},transformMat3:function transformMat3(e){return i.transformMat3(this._array,this._array,e._array),this._dirty=!0,this;},transformMat4:function transformMat4(e){return i.transformMat4(this._array,this._array,e._array),this._dirty=!0,this;},toString:function toString(){return"["+Array.prototype.join.call(this._array,",")+"]";},toArray:function toArray(){return Array.prototype.slice.call(this._array);}},Object.defineProperty){var o=a.prototype;Object.defineProperty(o,"x",{get:function get(){return this._array[0];},set:function set(e){this._array[0]=e,this._dirty=!0;}}),Object.defineProperty(o,"y",{get:function get(){return this._array[1];},set:function set(e){this._array[1]=e,this._dirty=!0;}});}a.add=function(e,t,r){return i.add(e._array,t._array,r._array),e._dirty=!0,e;},a.set=function(e,t,r){return i.set(e._array,t,r),e._dirty=!0,e;},a.copy=function(e,t){return i.copy(e._array,t._array),e._dirty=!0,e;},a.cross=function(e,t,r){return i.cross(e._array,t._array,r._array),e._dirty=!0,e;},a.dist=function(e,t){return i.distance(e._array,t._array);},a.distance=a.dist,a.div=function(e,t,r){return i.divide(e._array,t._array,r._array),e._dirty=!0,e;},a.divide=a.div,a.dot=function(e,t){return i.dot(e._array,t._array);},a.len=function(e){return i.length(e._array);},a.lerp=function(e,t,r,n){return i.lerp(e._array,t._array,r._array,n),e._dirty=!0,e;},a.min=function(e,t,r){return i.min(e._array,t._array,r._array),e._dirty=!0,e;},a.max=function(e,t,r){return i.max(e._array,t._array,r._array),e._dirty=!0,e;},a.mul=function(e,t,r){return i.multiply(e._array,t._array,r._array),e._dirty=!0,e;},a.multiply=a.mul,a.negate=function(e,t){return i.negate(e._array,t._array),e._dirty=!0,e;},a.normalize=function(e,t){return i.normalize(e._array,t._array),e._dirty=!0,e;},a.random=function(e,t){return i.random(e._array,t),e._dirty=!0,e;},a.scale=function(e,t,r){return i.scale(e._array,t._array,r),e._dirty=!0,e;},a.scaleAndAdd=function(e,t,r,n){return i.scaleAndAdd(e._array,t._array,r._array,n),e._dirty=!0,e;},a.sqrDist=function(e,t){return i.sqrDist(e._array,t._array);},a.squaredDistance=a.sqrDist,a.sqrLen=function(e){return i.sqrLen(e._array);},a.squaredLength=a.sqrLen,a.sub=function(e,t,r){return i.subtract(e._array,t._array,r._array),e._dirty=!0,e;},a.subtract=a.sub,a.transformMat2=function(e,t,r){return i.transformMat2(e._array,t._array,r._array),e._dirty=!0,e;},a.transformMat2d=function(e,t,r){return i.transformMat2d(e._array,t._array,r._array),e._dirty=!0,e;},a.transformMat3=function(e,t,r){return i.transformMat3(e._array,t._array,r._array),e._dirty=!0,e;},a.transformMat4=function(e,t,r){return i.transformMat4(e._array,t._array,r._array),e._dirty=!0,e;},e.exports=a;},function(e,t,r){var n=r(0);e.exports=function(e,t){var r=e.getData(),i=e.getRawValue(t),a=n.util.isArray(i)?function(t){var r=e.getData(),i=[],a=e.coordinateSystem,o=e.get("dimensions")||[],s=a&&a.dimensions||[],u=r.dimensions;return n.util.each(t,function(e,t){var a,l=r.getDimensionInfo(t),h=l&&l.type,c=o[t]||s[t]||u[t];(a="ordinal"===h?e+"":"time"===h?n.format.formatTime("yyyy/MM/dd hh:mm:ss",e):n.format.addCommas(e))&&i.push(n.format.encodeHTML(c+": "+a));}),i.join("<br />");}(i):n.format.encodeHTML(n.format.addCommas(i)),o=r.getName(t),s=r.getItemVisual(t,"color");n.util.isObject(s)&&s.colorStops&&(s=(s.colorStops[0]||{}).color),s=s||"transparent";var u='<span style="display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:'+n.format.encodeHTML(s)+'"></span>',l=e.name;return"\0-"===l&&(l=""),(l&&u+n.format.encodeHTML(l)+"<br />")+(o&&o+"<br />")+a;};},function(e,t){e.exports={defaultOption:{shading:null,realisticMaterial:{textureTiling:1,textureOffset:0,baseTexture:null},lambertMaterial:{textureTiling:1,textureOffset:0,baseTexture:null},colorMaterial:{textureTiling:1,textureOffset:0,baseTexture:null}}};},function(e,t,r){function n(e){e=e||"perspective",this.layer=null,this.scene=new a(),this.viewport={x:0,y:0,width:0,height:0},this.setCameraType(e),this._compositor=new f(),this._temporalSS=new p(),this._shadowMapPass=new o();for(var t=[],r=0,n=0;n<30;n++){for(var i=[],s=0;s<6;s++){i.push(4*_(r,2)-2),i.push(4*_(r,3)-2),r++;}t.push(i);}this._pcfKernels=t,this.scene.on("beforerender",function(e,t,r){this.needsTemporalSS()&&this._temporalSS.jitterProjection(e,r);},this);}var i=r(0),a=r(31),o=r(195),s=r(42),u=r(41),l=r(10),h=r(3),c=r(24),d=r(52),f=r(147),p=r(151),_=r(47);n.prototype.setCameraType=function(e){var t=this.camera;t&&t.update(),"perspective"===e?this.camera instanceof s||(this.camera=new s(),t&&this.camera.setLocalTransform(t.localTransform)):this.camera instanceof u||(this.camera=new u(),t&&this.camera.setLocalTransform(t.localTransform));},n.prototype.setViewport=function(e,t,r,n,i){this.camera instanceof s&&(this.camera.aspect=r/n),i=i||1,this.viewport.x=e,this.viewport.y=t,this.viewport.width=r,this.viewport.height=n,this.viewport.devicePixelRatio=i,this._compositor.resize(r*i,n*i),this._temporalSS.resize(r*i,n*i);},n.prototype.containPoint=function(e,t){var r=this.viewport;return t=this.layer.renderer.getHeight()-t,e>=r.x&&t>=r.y&&e<=r.x+r.width&&t<=r.y+r.height;};var m=new c();n.prototype.castRay=function(e,t,r){var n=this.layer.renderer,i=n.viewport;return n.viewport=this.viewport,n.screenToNDC(e,t,m),this.camera.castRay(m,r),n.viewport=i,r;},n.prototype.prepareRender=function(){this.scene.update(),this.camera.update(),this._needsSortProgressively=!1;for(var e=0;e<this.scene.transparentQueue.length;e++){var t=this.scene.transparentQueue[e],r=t.geometry;r.needsSortVerticesProgressively&&r.needsSortVerticesProgressively()&&(this._needsSortProgressively=!0),r.needsSortTrianglesProgressively&&r.needsSortTrianglesProgressively()&&(this._needsSortProgressively=!0);}this._frame=0,this._temporalSS.resetFrame();},n.prototype.render=function(e,t){this._doRender(e,t,this._frame),this._frame++;},n.prototype.needsAccumulate=function(){return this.needsTemporalSS()||this._needsSortProgressively;},n.prototype.needsTemporalSS=function(){var e=this._enableTemporalSS;return"auto"==e&&(e=this._enablePostEffect),e;},n.prototype.hasDOF=function(){return this._enableDOF;},n.prototype.isAccumulateFinished=function(){return this.needsTemporalSS()?this._temporalSS.isFinished():this._frame>30;},n.prototype._doRender=function(e,t,r){var n=this.scene,i=this.camera;if(r=r||0,this._updateTransparent(e,n,i,r),t||(this._shadowMapPass.kernelPCF=this._pcfKernels[0],this._shadowMapPass.render(e,n,i,!0)),this._updateShadowPCFKernel(r),e.gl.clearColor(0,0,0,0),this._enablePostEffect&&(this.needsTemporalSS()&&this._temporalSS.jitterProjection(e,i),this._compositor.updateNormal(e,n,i,this._temporalSS.getFrame())),this._updateSSAO(e,n,i,this._temporalSS.getFrame()),this._enablePostEffect){var a=this._compositor.getSourceFrameBuffer();a.bind(e),e.gl.clear(e.gl.DEPTH_BUFFER_BIT|e.gl.COLOR_BUFFER_BIT),e.render(n,i,!0),a.unbind(e),this.needsTemporalSS()&&t?(this._compositor.composite(e,i,this._temporalSS.getSourceFrameBuffer(),this._temporalSS.getFrame()),e.setViewport(this.viewport),this._temporalSS.render(e)):(e.setViewport(this.viewport),this._compositor.composite(e,i,null,0));}else if(this.needsTemporalSS()&&t){var a=this._temporalSS.getSourceFrameBuffer();a.bind(e),e.saveClear(),e.clearBit=e.gl.DEPTH_BUFFER_BIT|e.gl.COLOR_BUFFER_BIT,e.render(n,i,!0),e.restoreClear(),a.unbind(e),e.setViewport(this.viewport),this._temporalSS.render(e);}else e.setViewport(this.viewport),e.render(n,i,!0);},n.prototype._updateTransparent=function(e,t,r,n){for(var i=new h(),a=new l(),o=r.getWorldPosition(),s=0;s<t.transparentQueue.length;s++){var u=t.transparentQueue[s],c=u.geometry;l.invert(a,u.worldTransform),h.transformMat4(i,o,a),c.needsSortTriangles&&c.needsSortTriangles()&&c.doSortTriangles(i,n),c.needsSortVertices&&c.needsSortVertices()&&c.doSortVertices(i,n);}},n.prototype._updateSSAO=function(e,t,r,n){var i=this._enableSSAO&&this._enablePostEffect;i&&this._compositor.updateSSAO(e,t,r,this._temporalSS.getFrame());for(var a=0;a<t.opaqueQueue.length;a++){var o=t.opaqueQueue[a];o.renderNormal&&o.material.shader[i?"enableTexture":"disableTexture"]("ssaoMap"),i&&o.material.set("ssaoMap",this._compositor.getSSAOTexture());}},n.prototype._updateShadowPCFKernel=function(e){for(var t=this._pcfKernels[e%this._pcfKernels.length],r=this.scene.opaqueQueue,n=0;n<r.length;n++){r[n].receiveShadow&&(r[n].material.set("pcfKernel",t),r[n].material.shader.define("fragment","PCF_KERNEL_SIZE",t.length/2));}},n.prototype.dispose=function(e){this._compositor.dispose(e.gl),this._temporalSS.dispose(e.gl),this._shadowMapPass.dispose(e);},n.prototype.setPostEffect=function(e,t){var r=this._compositor;this._enablePostEffect=e.get("enable");var n=e.getModel("bloom"),i=e.getModel("edge"),a=e.getModel("depthOfField"),o=e.getModel("SSAO"),s=e.getModel("FXAA"),u=e.getModel("colorCorrection");n.get("enable")?r.enableBloom():r.disableBloom(),a.get("enable")?r.enableDOF():r.disableDOF(),u.get("enable")?r.enableColorCorrection():r.disableColorCorrection(),i.get("enable")?r.enableEdge():r.disableEdge(),s.get("enable")?r.enableFXAA():r.disableFXAA(),this._enableDOF=a.get("enable"),this._enableSSAO=o.get("enable"),this._enableSSAO?r.enableSSAO():r.disableSSAO(),r.setBloomIntensity(n.get("intensity")),r.setSSAORadius(o.get("radius")),r.setSSAOQuality(o.get("quality")),r.setSSAOIntensity(o.get("intensity")),r.setDOFBlurQuality(a.get("quality")),r.setDOFFocalDistance(a.get("focalDistance")),r.setDOFFocalRange(a.get("focalRange")),r.setDOFBlurSize(a.get("blurRadius")),r.setDOFFStop(a.get("fstop")),r.setEdgeColor(i.get("color")),r.setColorLookupTexture(u.get("lookupTexture"),t),r.setExposure(u.get("exposure")),["brightness","contrast","saturation"].forEach(function(e){r.setColorCorrection(e,u.get(e));});},n.prototype.setDOFFocusOnPoint=function(e){if(this._enablePostEffect){if(e>this.camera.far||e<this.camera.near)return;return this._compositor.setDOFFocalDistance(e),!0;}},n.prototype.setTemporalSuperSampling=function(e){this._enableTemporalSS=e.get("enable");},n.prototype.isLinearSpace=function(){return this._enablePostEffect;},n.prototype.add=function(e){this.scene.add(e);},n.prototype.remove=function(e){this.scene.remove(e);},n.prototype.removeAll=function(e){this.scene.removeAll(e);},i.util.extend(n.prototype,d),e.exports=n;},function(e,t){e.exports={convertToDynamicArray:function convertToDynamicArray(e){e&&this.resetOffset();var t=this.attributes;for(var r in t){e||!t[r].value?t[r].value=[]:t[r].value=Array.prototype.slice.call(t[r].value);}e||!this.indices?this.indices=[]:this.indices=Array.prototype.slice.call(this.indices);},convertToTypedArray:function convertToTypedArray(){var e=this.attributes;for(var t in e){e[t].value&&e[t].value.length>0?e[t].value=new Float32Array(e[t].value):e[t].value=null;}this.indices&&this.indices.length>0&&(this.indices=this.vertexCount>65535?new Uint32Array(this.indices):new Uint16Array(this.indices)),this.dirty();}};},function(e,t,r){"use strict";var n=r(69),i=r(9),a=n.extend({skeleton:null,joints:null},function(){this.joints||(this.joints=[]);},{render:function render(e,t){if(t=t||this.material.shader,this.skeleton){var r=this.skeleton.getSubSkinMatrices(this.__GUID__,this.joints);t.setUniformOfSemantic(e,"SKIN_MATRIX",r);}return n.prototype.render.call(this,e,t);}});a.POINTS=i.POINTS,a.LINES=i.LINES,a.LINE_LOOP=i.LINE_LOOP,a.LINE_STRIP=i.LINE_STRIP,a.TRIANGLES=i.TRIANGLES,a.TRIANGLE_STRIP=i.TRIANGLE_STRIP,a.TRIANGLE_FAN=i.TRIANGLE_FAN,a.BACK=i.BACK,a.FRONT=i.FRONT,a.FRONT_AND_BACK=i.FRONT_AND_BACK,a.CW=i.CW,a.CCW=i.CCW,e.exports=a;},function(e,t,r){"use strict";var n=r(7),i=r(3),a=r(55),o=r(10),s=r(1),u=r(13),l=s.mat4,h=0,c=n.extend({name:"",position:null,rotation:null,scale:null,worldTransform:null,localTransform:null,autoUpdateLocalTransform:!0,_parent:null,_scene:null,_needsUpdateWorldTransform:!0,_inIterating:!1,__depth:0},function(){this.name||(this.name=(this.type||"NODE")+"_"+h++),this.position||(this.position=new i()),this.rotation||(this.rotation=new a()),this.scale||(this.scale=new i(1,1,1)),this.worldTransform=new o(),this.localTransform=new o(),this._children=[];},{invisible:!1,isRenderable:function isRenderable(){return!1;},setName:function setName(e){var t=this._scene;if(t){var r=t._nodeRepository;delete r[this.name],r[e]=this;}this.name=e;},add:function add(e){this._inIterating&&console.warn("Add operation can cause unpredictable error when in iterating");var t=e._parent;if(t!==this){t&&t.remove(e),e._parent=this,this._children.push(e);var r=this._scene;r&&r!==e.scene&&e.traverse(this._addSelfToScene,this),e._needsUpdateWorldTransform=!0;}},remove:function remove(e){this._inIterating&&console.warn("Remove operation can cause unpredictable error when in iterating");var t=this._children,r=t.indexOf(e);r<0||(t.splice(r,1),e._parent=null,this._scene&&e.traverse(this._removeSelfFromScene,this));},removeAll:function removeAll(){for(var e=this._children,t=0;t<e.length;t++){e[t]._parent=null,this._scene&&e[t].traverse(this._removeSelfFromScene,this);}this._children=[];},getScene:function getScene(){return this._scene;},getParent:function getParent(){return this._parent;},_removeSelfFromScene:function _removeSelfFromScene(e){e._scene.removeFromScene(e),e._scene=null;},_addSelfToScene:function _addSelfToScene(e){this._scene.addToScene(e),e._scene=this._scene;},isAncestor:function isAncestor(e){for(var t=e._parent;t;){if(t===this)return!0;t=t._parent;}return!1;},children:function children(){return this._children.slice();},childAt:function childAt(e){return this._children[e];},getChildByName:function getChildByName(e){for(var t=this._children,r=0;r<t.length;r++){if(t[r].name===e)return t[r];}},getDescendantByName:function getDescendantByName(e){for(var t=this._children,r=0;r<t.length;r++){var n=t[r];if(n.name===e)return n;var i=n.getDescendantByName(e);if(i)return i;}},queryNode:function queryNode(e){if(e){for(var t=e.split("/"),r=this,n=0;n<t.length;n++){var i=t[n];if(i){for(var a=!1,o=r._children,s=0;s<o.length;s++){var u=o[s];if(u.name===i){r=u,a=!0;break;}}if(!a)return;}}return r;}},getPath:function getPath(e){if(!this._parent)return"/";for(var t=this._parent,r=this.name;t._parent&&(r=t.name+"/"+r,t._parent!=e);){t=t._parent;}return!t._parent&&e?null:r;},traverse:function traverse(e,t,r){this._inIterating=!0,null!=r&&this.constructor!==r||e.call(t,this);for(var n=this._children,i=0,a=n.length;i<a;i++){n[i].traverse(e,t,r);}this._inIterating=!1;},eachChild:function eachChild(e,t,r){this._inIterating=!0;for(var n=this._children,i=null==r,a=0,o=n.length;a<o;a++){var s=n[a];(i||s.constructor===r)&&e.call(t,s,a);}this._inIterating=!1;},setLocalTransform:function setLocalTransform(e){l.copy(this.localTransform._array,e._array),this.decomposeLocalTransform();},decomposeLocalTransform:function decomposeLocalTransform(e){var t=e?null:this.scale;this.localTransform.decomposeMatrix(t,this.rotation,this.position);},setWorldTransform:function setWorldTransform(e){l.copy(this.worldTransform._array,e._array),this.decomposeWorldTransform();},decomposeWorldTransform:function(){var e=l.create();return function(t){var r=this.localTransform,n=this.worldTransform;this._parent?(l.invert(e,this._parent.worldTransform._array),l.multiply(r._array,e,n._array)):l.copy(r._array,n._array);var i=t?null:this.scale;r.decomposeMatrix(i,this.rotation,this.position);};}(),transformNeedsUpdate:function transformNeedsUpdate(){return this.position._dirty||this.rotation._dirty||this.scale._dirty;},updateLocalTransform:function updateLocalTransform(){var e=this.position,t=this.rotation,r=this.scale;if(this.transformNeedsUpdate()){var n=this.localTransform._array;l.fromRotationTranslation(n,t._array,e._array),l.scale(n,n,r._array),t._dirty=!1,r._dirty=!1,e._dirty=!1,this._needsUpdateWorldTransform=!0;}},updateWorldTransform:function updateWorldTransform(){var e=this.localTransform._array,t=this.worldTransform._array;this._parent?l.multiplyAffine(t,this._parent.worldTransform._array,e):l.copy(t,e);},update:function update(e){this.autoUpdateLocalTransform?this.updateLocalTransform():e=!0,(e||this._needsUpdateWorldTransform)&&(this.updateWorldTransform(),e=!0,this._needsUpdateWorldTransform=!1);for(var t=this._children,r=0,n=t.length;r<n;r++){t[r].update(e);}},getBoundingBox:function(){function e(e){return!e.invisible;}return function(t,r){r=r||new u(),t=t||e;var n=this._children;0===n.length&&(r.max.set(-1/0,-1/0,-1/0),r.min.set(1/0,1/0,1/0));for(var i=new u(),a=0;a<n.length;a++){var o=n[a];t(o)&&(o.getBoundingBox(t,i),o.updateLocalTransform(),i.isFinite()&&i.applyTransform(o.localTransform),0===a?r.copy(i):r.union(i));}return r;};}(),getWorldPosition:function getWorldPosition(e){if(this.transformNeedsUpdate()){for(var t=this;t&&t.getParent()&&t.getParent().transformNeedsUpdate();){t=t.getParent();}t.update();}var r=this.worldTransform._array;if(e){var n=e._array;return n[0]=r[12],n[1]=r[13],n[2]=r[14],e;}return new i(r[12],r[13],r[14]);},clone:function clone(){var e=new this.constructor(),t=this._children;e.setName(this.name),e.position.copy(this.position),e.rotation.copy(this.rotation),e.scale.copy(this.scale);for(var r=0;r<t.length;r++){e.add(t[r].clone());}return e;},rotateAround:function(){var e=new i(),t=new o();return function(r,n,i){e.copy(this.position).subtract(r);var a=this.localTransform;a.identity(),a.translate(r),a.rotate(i,n),t.fromRotationTranslation(this.rotation,e),a.multiply(t),a.scale(this.scale),this.decomposeLocalTransform(),this._needsUpdateWorldTransform=!0;};}(),lookAt:function(){var e=new o();return function(t,r){e.lookAt(this.position,t,r||this.localTransform.y).invert(),this.setLocalTransform(e);};}()});e.exports=c;},function(e,t,r){"use strict";function n(e,t){if(t.castShadow&&!e.castShadow)return!0;}var i=r(30),a=r(16),o=r(13),s=i.extend(function(){return{material:null,autoUpdate:!0,opaqueQueue:[],transparentQueue:[],lights:[],viewBoundingBoxLastFrame:new o(),_lightUniforms:{},_lightNumber:{},_opaqueObjectCount:0,_transparentObjectCount:0,_nodeRepository:{}};},function(){this._scene=this;},{addToScene:function addToScene(e){e.name&&(this._nodeRepository[e.name]=e);},removeFromScene:function removeFromScene(e){e.name&&delete this._nodeRepository[e.name];},getNode:function getNode(e){return this._nodeRepository[e];},cloneNode:function cloneNode(e){var t=e.clone(),r={},n=function n(i,a){i.skeleton&&(a.skeleton=i.skeleton.clone(e,t),a.joints=i.joints.slice()),i.material&&(r[i.material.__GUID__]={oldMat:i.material});for(var o=0;o<i._children.length;o++){n(i._children[o],a._children[o]);}};n(e,t);for(var i in r){r[i].newMat=r[i].oldMat.clone();}return t.traverse(function(e){e.material&&(e.material=r[e.material.__GUID__].newMat);}),t;},update:function update(e,t){if(this.autoUpdate||e){i.prototype.update.call(this,e);var r=this.lights,n=this.material&&this.material.transparent;if(this._opaqueObjectCount=0,this._transparentObjectCount=0,r.length=0,this._updateRenderQueue(this,n),this.opaqueQueue.length=this._opaqueObjectCount,this.transparentQueue.length=this._transparentObjectCount,!t){var a=this._lightNumber;for(var o in a){for(var s in a[o]){a[o][s]=0;}}for(var u=0;u<r.length;u++){var l=r[u],o=l.group;a[o]||(a[o]={}),a[o][l.type]=a[o][l.type]||0,a[o][l.type]++;}this._updateLightUniforms();}}},_updateRenderQueue:function _updateRenderQueue(e,t){if(!e.invisible)for(var r=0;r<e._children.length;r++){var n=e._children[r];n instanceof a&&this.lights.push(n),n.isRenderable()&&(n.material.transparent||t?this.transparentQueue[this._transparentObjectCount++]=n:this.opaqueQueue[this._opaqueObjectCount++]=n),n._children.length>0&&this._updateRenderQueue(n);}},_updateLightUniforms:function _updateLightUniforms(){var e=this.lights;e.sort(n);var t=this._lightUniforms;for(var r in t){for(var i in t[r]){t[r][i].value.length=0;}}for(var a=0;a<e.length;a++){var o=e[a],r=o.group;for(var i in o.uniformTemplates){var s=o.uniformTemplates[i];t[r]||(t[r]={}),t[r][i]||(t[r][i]={type:"",value:[]});var u=s.value(o),l=t[r][i];switch(l.type=s.type+"v",s.type){case"1i":case"1f":case"t":l.value.push(u);break;case"2f":case"3f":case"4f":for(var h=0;h<u.length;h++){l.value.push(u[h]);}break;default:console.error("Unkown light uniform type "+s.type);}}}},isShaderLightNumberChanged:function isShaderLightNumberChanged(e){var t=e.lightGroup;for(var r in this._lightNumber[t]){if(this._lightNumber[t][r]!==e.lightNumber[r])return!0;}for(var r in e.lightNumber){if(this._lightNumber[t][r]!==e.lightNumber[r])return!0;}return!1;},setShaderLightNumber:function setShaderLightNumber(e){var t=e.lightGroup;for(var r in this._lightNumber[t]){e.lightNumber[r]=this._lightNumber[t][r];}e.dirty();},setLightUniforms:function setLightUniforms(e,t){var r=e.lightGroup;for(var n in this._lightUniforms[r]){var i=this._lightUniforms[r][n];if("tv"===i.type)for(var a=0;a<i.value.length;a++){var o=i.value[a],s=e.currentTextureSlot(),u=e.setUniform(t,"1i",n,s);u&&e.useCurrentTextureSlot(t,o);}else e.setUniform(t,i.type,n,i.value);}},dispose:function dispose(){this.material=null,this.opaqueQueue=[],this.transparentQueue=[],this.lights=[],this._lightUniforms={},this._lightNumber={},this._nodeRepository={};}});e.exports=s;},function(e,t,r){"use strict";var n=r(7),i=n.extend(function(){return{name:"",inputLinks:{},outputLinks:{},_prevOutputTextures:{},_outputTextures:{},_outputReferences:{},_rendering:!1,_rendered:!1,_compositor:null};},{updateParameter:function updateParameter(e,t){var r=this.outputs[e],n=r.parameters,i=r._parametersCopy;if(i||(i=r._parametersCopy={}),n)for(var a in n){"width"!==a&&"height"!==a&&(i[a]=n[a]);}var o,s;return o=n.width instanceof Function?n.width.call(this,t):n.width,s=n.height instanceof Function?n.height.call(this,t):n.height,i.width===o&&i.height===s||this._outputTextures[e]&&this._outputTextures[e].dispose(t.gl),i.width=o,i.height=s,i;},setParameter:function setParameter(e,t){},getParameter:function getParameter(e){},setParameters:function setParameters(e){for(var t in e){this.setParameter(t,e[t]);}},render:function render(){},getOutput:function getOutput(e,t){if(null==t)return t=e,this._outputTextures[t];var r=this.outputs[t];if(r)return this._rendered?r.outputLastFrame?this._prevOutputTextures[t]:this._outputTextures[t]:this._rendering?(this._prevOutputTextures[t]||(this._prevOutputTextures[t]=this._compositor.allocateTexture(r.parameters||{})),this._prevOutputTextures[t]):(this.render(e),this._outputTextures[t]);},removeReference:function removeReference(e){if(0===--this._outputReferences[e]){this.outputs[e].keepLastFrame?(this._prevOutputTextures[e]&&this._compositor.releaseTexture(this._prevOutputTextures[e]),this._prevOutputTextures[e]=this._outputTextures[e]):this._compositor.releaseTexture(this._outputTextures[e]);}},link:function link(e,t,r){this.inputLinks[e]={node:t,pin:r},t.outputLinks[r]||(t.outputLinks[r]=[]),t.outputLinks[r].push({node:this,pin:e}),this.pass.material.shader.enableTexture(e);},clear:function clear(){this.inputLinks={},this.outputLinks={};},updateReference:function updateReference(e){if(!this._rendering){this._rendering=!0;for(var t in this.inputLinks){var r=this.inputLinks[t];r.node.updateReference(r.pin);}this._rendering=!1;}e&&this._outputReferences[e]++;},beforeFrame:function beforeFrame(){this._rendered=!1;for(var e in this.outputLinks){this._outputReferences[e]=0;}},afterFrame:function afterFrame(){for(var e in this.outputLinks){if(this._outputReferences[e]>0){var t=this.outputs[e];t.keepLastFrame?(this._prevOutputTextures[e]&&this._compositor.releaseTexture(this._prevOutputTextures[e]),this._prevOutputTextures[e]=this._outputTextures[e]):this._compositor.releaseTexture(this._outputTextures[e]);}}}});e.exports=i;},function(e,t,r){function n(){}var i=r(2),a=r(57),o=r(58),s=r(0);n.prototype={constructor:n,setScene:function setScene(e){this._scene=e,this._skybox&&this._skybox.attachScene(this._scene);},initLight:function initLight(e){this._lightRoot=e,this.mainLight=new i.DirectionalLight({shadowBias:.005}),this.ambientLight=new i.AmbientLight(),e.add(this.mainLight),e.add(this.ambientLight);},updateLight:function updateLight(e){var t=this.mainLight,r=this.ambientLight,n=e.getModel("light"),a=n.getModel("main"),o=n.getModel("ambient");t.intensity=a.get("intensity"),r.intensity=o.get("intensity"),t.color=i.parseColor(a.get("color")).slice(0,3),r.color=i.parseColor(o.get("color")).slice(0,3);var s=a.get("alpha")||0,u=a.get("beta")||0;t.position.setArray(i.directionFromAlphaBeta(s,u)),t.lookAt(i.Vector3.ZERO),t.castShadow=a.get("shadow"),t.shadowResolution=i.getShadowResolution(a.get("shadowQuality"));},updateAmbientCubemap:function updateAmbientCubemap(e,t,r){var n=t.getModel("light.ambientCubemap"),o=n.get("texture");if(o){this._cubemapLightsCache=this._cubemapLightsCache||{};var s=this._cubemapLightsCache[o];if(!s){var u=this;s=this._cubemapLightsCache[o]=i.createAmbientCubemap(n.option,e,r,function(){u._skybox instanceof a&&u._skybox.setEnvironmentMap(s.specular.cubemap),r.getZr().refresh();});}this._lightRoot.add(s.diffuse),this._lightRoot.add(s.specular),this._currentCubemapLights=s;}else this._currentCubemapLights&&(this._lightRoot.remove(this._currentCubemapLights.diffuse),this._lightRoot.remove(this._currentCubemapLights.specular),this._currentCubemapLights=null);},updateSkybox:function updateSkybox(e,t,r){function n(){return l._skybox instanceof o||(l._skybox&&l._skybox.dispose(e.gl),l._skybox=new o()),l._skybox;}var u=t.get("environment"),l=this;if(u&&"none"!==u){if("auto"===u){if(this._currentCubemapLights){var h=function(){return l._skybox instanceof a||(l._skybox&&l._skybox.dispose(e.gl),l._skybox=new a()),l._skybox;}(),c=this._currentCubemapLights.specular.cubemap;h.setEnvironmentMap(c),this._scene&&h.attachScene(this._scene),h.material.set("lod",2);}else this._skybox&&this._skybox.detachScene();}else if("object"==(typeof u==="undefined"?"undefined":_typeof(u))&&u.colorStops||"string"==typeof u&&s.color.parse(u)){var d=n(),f=new i.Texture2D({anisotropic:8,flipY:!1});d.setEnvironmentMap(f);var p=f.image=document.createElement("canvas");p.width=p.height=16;var _=p.getContext("2d"),m=new s.graphic.Rect({shape:{x:0,y:0,width:16,height:16},style:{fill:u}});m.brush(_),d.attachScene(this._scene);}else{var d=n(),f=i.loadTexture(u,r,{anisotropic:8,flipY:!1});d.setEnvironmentMap(f),d.attachScene(this._scene);}}else this._skybox&&this._skybox.detachScene(this._scene),this._skybox=null;var g=t.coordinateSystem;if(this._skybox)if(!g||!g.viewGL||"auto"===u||u.match&&u.match(/.hdr$/))this._skybox.material.shader.undefine("fragment","SRGB_DECODE");else{var v=g.viewGL.isLinearSpace()?"define":"undefine";this._skybox.material.shader[v]("fragment","SRGB_DECODE");}}},e.exports=n;},function(e,t){e.exports={defaultOption:{light:{main:{shadow:!1,shadowQuality:"high",color:"#fff",intensity:1,alpha:0,beta:0},ambient:{color:"#fff",intensity:.2},ambientCubemap:{texture:null,exposure:1,diffuseIntensity:.5,specularIntensity:.5}}}};},function(e,t){e.exports={defaultOption:{postEffect:{enable:!1,bloom:{enable:!0,intensity:.1},depthOfField:{enable:!1,focalRange:20,focalDistance:50,blurRadius:10,fstop:2.8,quality:"medium"},SSAO:{enable:!1,radius:2,quality:"medium",intensity:1},colorCorrection:{enable:!0,exposure:0,brightness:0,contrast:1,saturation:1,lookupTexture:""},edge:{enable:!1},FXAA:{enable:!1}},temporalSuperSampling:{enable:"auto"}}};},function(e,t){e.exports={defaultOption:{viewControl:{autoRotate:!1,damping:.8,rotateSensitivity:1,zoomSensitivity:1,panSensitivity:1,autoRotateAfterStill:3,distance:150,minDistance:40,maxDistance:400,center:[0,0,0],alpha:0,beta:0,minAlpha:-90,maxAlpha:90}},setView:function setView(e){e=e||{},this.option.viewControl=this.option.viewControl||{},null!=e.alpha&&(this.option.viewControl.alpha=e.alpha),null!=e.beta&&(this.option.viewControl.beta=e.beta),null!=e.distance&&(this.option.viewControl.distance=e.distance),null!=e.center&&(this.option.viewControl.center=e.center);}};},function(e,t,r){var n=r(7),i=r(24),a=r(3),o=(r(55),r(4)),s=o.firstNotNull,u=n.extend(function(){return{zr:null,viewGL:null,_center:new a(),minDistance:.5,maxDistance:1.5,minAlpha:-90,maxAlpha:90,minBeta:-1/0,maxBeta:1/0,autoRotateAfterStill:0,_mode:"rotate",damping:.8,rotateSensitivity:1,zoomSensitivity:1,panSensitivity:1,_camera:null,_needsUpdate:!1,_rotating:!1,_phi:0,_theta:0,_mouseX:0,_mouseY:0,_rotateVelocity:new i(),_panVelocity:new i(),_distance:500,_zoomSpeed:0,_stillTimeout:0,_animators:[]};},function(){this._mouseDownHandler=this._mouseDownHandler.bind(this),this._mouseWheelHandler=this._mouseWheelHandler.bind(this),this._mouseMoveHandler=this._mouseMoveHandler.bind(this),this._mouseUpHandler=this._mouseUpHandler.bind(this),this._pinchHandler=this._pinchHandler.bind(this),this._update=this._update.bind(this);},{init:function init(){var e=this.zr;e&&(e.on("mousedown",this._mouseDownHandler),e.on("globalout",this._mouseUpHandler),e.on("mousewheel",this._mouseWheelHandler),e.on("pinch",this._pinchHandler),e.animation.on("frame",this._update));},dispose:function dispose(){var e=this.zr;e&&(e.off("mousedown",this._mouseDownHandler),e.off("mousemove",this._mouseMoveHandler),e.off("mouseup",this._mouseUpHandler),e.off("mousewheel",this._mouseWheelHandler),e.off("pinch",this._pinchHandler),e.off("globalout",this._mouseUpHandler),e.animation.off("frame",this._update)),this.stopAllAnimation();},getDistance:function getDistance(){return this._distance;},setDistance:function setDistance(e){this._distance=e,this._needsUpdate=!0;},getAlpha:function getAlpha(){return this._theta/Math.PI*180;},getBeta:function getBeta(){return-this._phi/Math.PI*180;},getCenter:function getCenter(){return this._center.toArray();},setAlpha:function setAlpha(e){e=Math.max(Math.min(this.maxAlpha,e),this.minAlpha),this._theta=e/180*Math.PI,this._needsUpdate=!0;},setBeta:function setBeta(e){e=Math.max(Math.min(this.maxBeta,e),this.minBeta),this._phi=-e/180*Math.PI,this._needsUpdate=!0;},setCenter:function setCenter(e){this._center.setArray(e);},setCamera:function setCamera(e){this._camera=e,this._needsUpdate=!0;},setViewGL:function setViewGL(e){this.viewGL=e;},getCamera:function getCamera(){return this._camera;},setFromViewControlModel:function setFromViewControlModel(e,t){t=t||{};var r=t.baseDistance||0;this.autoRotate=e.get("autoRotate"),this.autoRotateAfterStill=e.get("autoRotateAfterStill"),this.damping=e.get("damping"),this.minDistance=e.get("minDistance")+r,this.maxDistance=e.get("maxDistance")+r;var n=e.get("distance")+r;this.minAlpha=s(e.get("minAlpha"),-90),this.maxAlpha=s(e.get("maxAlpha"),90),this.minBeta=s(e.get("minBeta"),-1/0),this.maxBeta=s(e.get("maxBeta"),1/0),this.rotateSensitivity=s(e.get("rotateSensitivity"),1),this.zoomSensitivity=s(e.get("zoomSensitivity"),1),this.panSensitivity=s(e.get("panSensitivity"),1);var i=e.ecModel,a={};["animation","animationDurationUpdate","animationEasingUpdate"].forEach(function(t){a[t]=s(e.get(t),i&&i.get(t));});var o=s(t.alpha,e.get("alpha"))||0,u=s(t.beta,e.get("beta"))||0,l=s(t.center,e.get("center"))||[0,0,0];a.animation&&a.animationDurationUpdate>0&&this._notFirst?this.animateTo({alpha:o,beta:u,center:l,distance:n,easing:a.animationEasingUpdate,duration:a.animationDurationUpdate}):(this.setDistance(n),this.setAlpha(o),this.setBeta(u),this.setCenter(l)),this._notFirst=!0;},animateTo:function animateTo(e){var t=this.zr,r=this,n={},i={};return null!=e.distance&&(n.distance=this.getDistance(),i.distance=e.distance),null!=e.alpha&&(n.alpha=this.getAlpha(),i.alpha=e.alpha),null!=e.beta&&(n.beta=this.getBeta(),i.beta=e.beta),null!=e.center&&(n.center=this.getCenter(),i.center=e.center),this._addAnimator(t.animation.animate(n).when(e.duration||1e3,i).during(function(){null!=n.alpha&&r.setAlpha(n.alpha),null!=n.beta&&r.setBeta(n.beta),null!=n.distance&&r.setDistance(n.distance),null!=n.center&&r.setCenter(n.center),r._needsUpdate=!0;})).start(e.easing||"linear");},stopAllAnimation:function stopAllAnimation(){for(var e=0;e<this._animators.length;e++){this._animators[e].stop();}this._animators.length=0;},_isAnimating:function _isAnimating(){return this._animators.length>0;},_update:function _update(e){this._rotating?(this._phi-=1e-4*e,this._needsUpdate=!0):this._rotateVelocity.len()>0&&(this._needsUpdate=!0),(Math.abs(this._zoomSpeed)>.1||this._panVelocity.len()>0)&&(this._needsUpdate=!0),this._needsUpdate&&(this._updateDistance(Math.min(e,50)),this._updatePan(Math.min(e,50)),this._updateRotate(Math.min(e,50)),this._updateTransform(),this._camera.update(),this.zr&&this.zr.refresh(),this.trigger("update"),this._needsUpdate=!1);},_updateRotate:function _updateRotate(e){var t=this._rotateVelocity;this._phi=t.y*e/20+this._phi,this._theta=t.x*e/20+this._theta,this.setAlpha(this.getAlpha()),this.setBeta(this.getBeta()),this._vectorDamping(t,Math.pow(this.damping,e/16));},_updateDistance:function _updateDistance(e){this._setDistance(this._distance+this._zoomSpeed*e/20),this._zoomSpeed*=Math.pow(this.damping,e/16);},_setDistance:function _setDistance(e){this._distance=Math.max(Math.min(e,this.maxDistance),this.minDistance);},_updatePan:function _updatePan(e){var t=this._panVelocity,r=this._distance,n=this._camera,i=n.worldTransform.y,a=n.worldTransform.x;this._center.scaleAndAdd(a,-t.x*r/200).scaleAndAdd(i,-t.y*r/200),this._vectorDamping(t,0);},_updateTransform:function _updateTransform(){var e=this._camera,t=new a(),r=this._theta+Math.PI/2,n=this._phi+Math.PI/2,i=Math.sin(r);t.x=i*Math.cos(n),t.y=-Math.cos(r),t.z=i*Math.sin(n),e.position.copy(this._center).scaleAndAdd(t,this._distance),e.rotation.identity().rotateY(-this._phi).rotateX(-this._theta);},_startCountingStill:function _startCountingStill(){clearTimeout(this._stillTimeout);var e=this.autoRotateAfterStill,t=this;!isNaN(e)&&e>0&&(this._stillTimeout=setTimeout(function(){t._rotating=!0;},1e3*e));},_vectorDamping:function _vectorDamping(e,t){var r=e.len();r*=t,r<1e-4&&(r=0),e.normalize().scale(r);},_decomposeTransform:function _decomposeTransform(){if(this._camera){var e=new a();e.eulerFromQuat(this._camera.rotation.normalize(),"ZYX"),this._theta=-e.x,this._phi=-e.y,this.setBeta(this.getBeta()),this.setAlpha(this.getAlpha()),this._setDistance(this._camera.position.dist(this._center));}},_mouseDownHandler:function _mouseDownHandler(e){if(!e.target&&!this._isAnimating()){var t=e.offsetX,r=e.offsetY;this.viewGL&&!this.viewGL.containPoint(t,r)||(this.zr.on("mousemove",this._mouseMoveHandler),this.zr.on("mouseup",this._mouseUpHandler),0===e.event.button?this._mode="rotate":1===e.event.button&&(this._mode="pan"),this._rotateVelocity.set(0,0),this._rotating=!1,this.autoRotate&&this._startCountingStill(),this._mouseX=e.offsetX,this._mouseY=e.offsetY);}},_mouseMoveHandler:function _mouseMoveHandler(e){e.target&&e.target.__isGLToZRProxy||this._isAnimating()||("rotate"===this._mode?(this._rotateVelocity.y=(e.offsetX-this._mouseX)/this.zr.getHeight()*2*this.rotateSensitivity,this._rotateVelocity.x=(e.offsetY-this._mouseY)/this.zr.getWidth()*2*this.rotateSensitivity):"pan"===this._mode&&(this._panVelocity.x=(e.offsetX-this._mouseX)/this.zr.getWidth()*this.panSensitivity*400,this._panVelocity.y=(-e.offsetY+this._mouseY)/this.zr.getHeight()*this.panSensitivity*400),this._mouseX=e.offsetX,this._mouseY=e.offsetY,e.event.preventDefault());},_mouseWheelHandler:function _mouseWheelHandler(e){if(!this._isAnimating()){var t=e.event.wheelDelta||-e.event.detail;this._zoomHandler(e,t);}},_pinchHandler:function _pinchHandler(e){this._isAnimating()||this._zoomHandler(e,e.pinchScale>1?1:-1);},_zoomHandler:function _zoomHandler(e,t){if(0!==t){var r=e.offsetX,n=e.offsetY;if(!this.viewGL||this.viewGL.containPoint(r,n)){var i=Math.max(Math.min(this._distance-this.minDistance,this.maxDistance-this._distance));this._zoomSpeed=(t>0?-1:1)*Math.max(i/20*this.zoomSensitivity,.5),this._rotating=!1,this.autoRotate&&"rotate"===this._mode&&this._startCountingStill(),e.event.preventDefault();}}},_mouseUpHandler:function _mouseUpHandler(){this.zr.off("mousemove",this._mouseMoveHandler),this.zr.off("mouseup",this._mouseUpHandler);},_addAnimator:function _addAnimator(e){var t=this._animators;return t.push(e),e.done(function(){var r=t.indexOf(e);r>=0&&t.splice(r,1);}),e;}});Object.defineProperty(u.prototype,"autoRotate",{get:function get(e){return this._autoRotate;},set:function set(e){this._autoRotate=e,this._rotating=e;}}),e.exports=u;},function(e,t){e.exports="@export ecgl.lines3D.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nattribute vec3 position: POSITION;\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n\nvoid main()\n{\n    gl_Position = worldViewProjection * vec4(position, 1.0);\n    v_Color = a_Color;\n}\n\n@end\n\n@export ecgl.lines3D.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nvarying vec4 v_Color;\n\n@import qtek.util.srgb\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n    gl_FragColor = sRGBToLinear(color * v_Color);\n#else\n    gl_FragColor = color * v_Color;\n#endif\n}\n@end\n\n\n\n@export ecgl.lines3D.clipNear\n\nvec4 clipNear(vec4 p1, vec4 p2) {\n    float n = (p1.w - near) / (p1.w - p2.w);\n        return vec4(mix(p1.xy, p2.xy, n), -near, near);\n}\n\n@end\n\n@export ecgl.lines3D.expandLine\n#ifdef VERTEX_ANIMATION\n    vec4 prevProj = worldViewProjection * vec4(mix(prevPositionPrev, positionPrev, percent), 1.0);\n    vec4 currProj = worldViewProjection * vec4(mix(prevPosition, position, percent), 1.0);\n    vec4 nextProj = worldViewProjection * vec4(mix(prevPositionNext, positionNext, percent), 1.0);\n#else\n    vec4 prevProj = worldViewProjection * vec4(positionPrev, 1.0);\n    vec4 currProj = worldViewProjection * vec4(position, 1.0);\n    vec4 nextProj = worldViewProjection * vec4(positionNext, 1.0);\n#endif\n\n    if (currProj.w < 0.0) {\n        if (prevProj.w < 0.0) {\n            currProj = clipNear(currProj, nextProj);\n        }\n        else {\n            currProj = clipNear(currProj, prevProj);\n        }\n    }\n\n    vec2 prevScreen = (prevProj.xy / abs(prevProj.w) + 1.0) * 0.5 * viewport.zw;\n    vec2 currScreen = (currProj.xy / abs(currProj.w) + 1.0) * 0.5 * viewport.zw;\n    vec2 nextScreen = (nextProj.xy / abs(nextProj.w) + 1.0) * 0.5 * viewport.zw;\n\n    vec2 dir;\n    float len = offset;\n        if (position == positionPrev) {\n        dir = normalize(nextScreen - currScreen);\n    }\n        else if (position == positionNext) {\n        dir = normalize(currScreen - prevScreen);\n    }\n    else {\n        vec2 dirA = normalize(currScreen - prevScreen);\n        vec2 dirB = normalize(nextScreen - currScreen);\n\n        vec2 tanget = normalize(dirA + dirB);\n\n                float miter = 1.0 / max(dot(tanget, dirA), 0.5);\n        len *= miter;\n        dir = tanget;\n    }\n\n    dir = vec2(-dir.y, dir.x) * len;\n    currScreen += dir;\n\n    currProj.xy = (currScreen / viewport.zw - 0.5) * 2.0 * abs(currProj.w);\n@end\n\n\n@export ecgl.meshLines3D.vertex\n\nattribute vec3 position: POSITION;\nattribute vec3 positionPrev;\nattribute vec3 positionNext;\nattribute float offset;\nattribute vec4 a_Color : COLOR;\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nattribute vec3 prevPositionPrev;\nattribute vec3 prevPositionNext;\nuniform float percent : 1.0;\n#endif\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform vec4 viewport : VIEWPORT;\nuniform float near : NEAR;\n\nvarying vec4 v_Color;\n\n@import ecgl.common.wireframe.vertexHeader\n\n@import ecgl.lines3D.clipNear\n\nvoid main()\n{\n    @import ecgl.lines3D.expandLine\n\n    gl_Position = currProj;\n\n    v_Color = a_Color;\n\n    @import ecgl.common.wireframe.vertexMain\n}\n@end\n\n\n@export ecgl.meshLines3D.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nvarying vec4 v_Color;\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import qtek.util.srgb\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n    gl_FragColor = sRGBToLinear(color * v_Color);\n#else\n    gl_FragColor = color * v_Color;\n#endif\n\n    @import ecgl.common.wireframe.fragmentMain\n}\n\n@end";},function(e,t,r){"use strict";function n(e,t,r,n,i){var a=0,o=0;null==n&&(n=1/0),null==i&&(i=1/0);var s=0;t.eachChild(function(u,l){var h,c,d=u.position,f=u.getBoundingRect(),p=t.childAt(l+1),_=p&&p.getBoundingRect();if("horizontal"===e){var m=f.width+(_?-_.x+f.x:0);h=a+m,h>n||u.newline?(a=0,h=m,o+=s+r,s=f.height):s=Math.max(s,f.height);}else{var g=f.height+(_?-_.y+f.y:0);c=o+g,c>i||u.newline?(a+=s+r,o=0,c=g,s=f.width):s=Math.max(s,f.width);}u.newline||(d[0]=a,d[1]=o,"horizontal"===e?a=h+r:o=c+r);});}var i=r(14),a=r(83),o=r(67),s=r(179),u=o.parsePercent,l=i.each,h={},c=h.LOCATION_PARAMS=["left","right","top","bottom","width","height"],d=h.HV_NAMES=[["width","left","right"],["height","top","bottom"]];h.box=n,h.vbox=i.curry(n,"vertical"),h.hbox=i.curry(n,"horizontal"),h.getAvailableSize=function(e,t,r){var n=t.width,i=t.height,a=u(e.x,n),o=u(e.y,i),l=u(e.x2,n),h=u(e.y2,i);return(isNaN(a)||isNaN(parseFloat(e.x)))&&(a=0),(isNaN(l)||isNaN(parseFloat(e.x2)))&&(l=n),(isNaN(o)||isNaN(parseFloat(e.y)))&&(o=0),(isNaN(h)||isNaN(parseFloat(e.y2)))&&(h=i),r=s.normalizeCssArray(r||0),{width:Math.max(l-a-r[1]-r[3],0),height:Math.max(h-o-r[0]-r[2],0)};},h.getLayoutRect=function(e,t,r){r=s.normalizeCssArray(r||0);var n=t.width,i=t.height,o=u(e.left,n),l=u(e.top,i),h=u(e.right,n),c=u(e.bottom,i),d=u(e.width,n),f=u(e.height,i),p=r[2]+r[0],_=r[1]+r[3],m=e.aspect;switch(isNaN(d)&&(d=n-h-_-o),isNaN(f)&&(f=i-c-p-l),isNaN(d)&&isNaN(f)&&(m>n/i?d=.8*n:f=.8*i),null!=m&&(isNaN(d)&&(d=m*f),isNaN(f)&&(f=d/m)),isNaN(o)&&(o=n-h-d-_),isNaN(l)&&(l=i-c-f-p),e.left||e.right){case"center":o=n/2-d/2-r[3];break;case"right":o=n-d-_;}switch(e.top||e.bottom){case"middle":case"center":l=i/2-f/2-r[0];break;case"bottom":l=i-f-p;}o=o||0,l=l||0,isNaN(d)&&(d=n-o-(h||0)),isNaN(f)&&(f=i-l-(c||0));var g=new a(o+r[3],l+r[0],d,f);return g.margin=r,g;},h.positionElement=function(e,t,r,n,o){var s=!o||!o.hv||o.hv[0],u=!o||!o.hv||o.hv[1],l=o&&o.boundingMode||"all";if(s||u){var c;if("raw"===l)c="group"===e.type?new a(0,0,+t.width||0,+t.height||0):e.getBoundingRect();else if(c=e.getBoundingRect(),e.needLocalTransform()){var d=e.getLocalTransform();c=c.clone(),c.applyTransform(d);}t=h.getLayoutRect(i.defaults({width:c.width,height:c.height},t),r,n);var f=e.position,p=s?t.x-c.x:0,_=u?t.y-c.y:0;e.attr("position","raw"===l?[p,_]:[f[0]+p,f[1]+_]);}},h.sizeCalculable=function(e,t){return null!=e[d[t][0]]||null!=e[d[t][1]]&&null!=e[d[t][2]];},h.mergeLayoutParam=function(e,t,r){function n(r,n){var i={},s=0,h={},c=0;if(l(r,function(t){h[t]=e[t];}),l(r,function(e){a(t,e)&&(i[e]=h[e]=t[e]),o(i,e)&&s++,o(h,e)&&c++;}),u[n])return o(t,r[1])?h[r[2]]=null:o(t,r[2])&&(h[r[1]]=null),h;if(2!==c&&s){if(s>=2)return i;for(var d=0;d<r.length;d++){var f=r[d];if(!a(i,f)&&a(e,f)){i[f]=e[f];break;}}return i;}return h;}function a(e,t){return e.hasOwnProperty(t);}function o(e,t){return null!=e[t]&&"auto"!==e[t];}function s(e,t,r){l(e,function(e){t[e]=r[e];});}!i.isObject(r)&&(r={});var u=r.ignoreSize;!i.isArray(u)&&(u=[u,u]);var h=n(d[0],0),c=n(d[1],1);s(d[0],e,h),s(d[1],e,c);},h.getLayoutParams=function(e){return h.copyLayoutParams({},e);},h.copyLayoutParams=function(e,t){return t&&e&&l(c,function(r){t.hasOwnProperty(r)&&(e[r]=t[r]);}),e;},e.exports=h;},function(e,t){e.exports=function(e,t,r,n,i){n.eachRawSeriesByType(e,function(e){var i=e.getData(),a=e.get("symbol")||t,o=e.get("symbolSize");i.setVisual({legendSymbol:r||a,symbol:a,symbolSize:o}),n.isSeriesFiltered(e)||("function"==typeof o&&i.each(function(t){var r=e.getRawValue(t),n=e.getDataParams(t);i.setItemVisual(t,"symbolSize",o(r,n));}),i.each(function(e){var t=i.getItemModel(e),r=t.getShallow("symbol",!0),n=t.getShallow("symbolSize",!0);null!=r&&i.setItemVisual(e,"symbol",r),null!=n&&i.setItemVisual(e,"symbolSize",n);}));});};},function(e,t,r){"use strict";var n=r(68),i=n.extend({left:-1,right:1,near:-1,far:1,top:1,bottom:-1},{updateProjectionMatrix:function updateProjectionMatrix(){this.projectionMatrix.ortho(this.left,this.right,this.bottom,this.top,this.near,this.far);},decomposeProjectionMatrix:function decomposeProjectionMatrix(){var e=this.projectionMatrix._array;this.left=(-1-e[12])/e[0],this.right=(1-e[12])/e[0],this.top=(1-e[13])/e[5],this.bottom=(-1-e[13])/e[5],this.near=-(-1-e[14])/e[10],this.far=-(1-e[14])/e[10];},clone:function clone(){var e=n.prototype.clone.call(this);return e.left=this.left,e.right=this.right,e.near=this.near,e.far=this.far,e.top=this.top,e.bottom=this.bottom,e;}});e.exports=i;},function(e,t,r){"use strict";var n=r(68),i=n.extend({fov:50,aspect:1,near:.1,far:2e3},{updateProjectionMatrix:function updateProjectionMatrix(){var e=this.fov/180*Math.PI;this.projectionMatrix.perspective(e,this.aspect,this.near,this.far);},decomposeProjectionMatrix:function decomposeProjectionMatrix(){var e=this.projectionMatrix._array,t=2*Math.atan(1/e[5]);this.fov=t/Math.PI*180,this.aspect=e[5]/e[0],this.near=e[14]/(e[10]-1),this.far=e[14]/(e[10]+1);},clone:function clone(){var e=n.prototype.clone.call(this);return e.fov=this.fov,e.aspect=this.aspect,e.near=this.near,e.far=this.far,e;}});e.exports=i;},function(e,t,r){"use strict";var n=function n(){this._contextId=0,this._caches=[],this._context={};};n.prototype={use:function use(e,t){var r=this._caches;r[e]||(r[e]={},t&&(r[e]=t())),this._contextId=e,this._context=r[e];},put:function put(e,t){this._context[e]=t;},get:function get(e){return this._context[e];},dirty:function dirty(e){e=e||"";var t="__dt__"+e;this.put(t,!0);},dirtyAll:function dirtyAll(e){e=e||"";for(var t="__dt__"+e,r=this._caches,n=0;n<r.length;n++){r[n]&&(r[n][t]=!0);}},fresh:function fresh(e){e=e||"";var t="__dt__"+e;this.put(t,!1);},freshAll:function freshAll(e){e=e||"";for(var t="__dt__"+e,r=this._caches,n=0;n<r.length;n++){r[n]&&(r[n][t]=!1);}},isDirty:function isDirty(e){e=e||"";var t="__dt__"+e,r=this._context;return!r.hasOwnProperty(t)||!0===r[t];},deleteContext:function deleteContext(e){delete this._caches[e],this._context={};},delete:function _delete(e){delete this._context[e];},clearAll:function clearAll(){this._caches={};},getContext:function getContext(){return this._context;},eachContext:function eachContext(e,t){Object.keys(this._caches).forEach(function(r){e&&e.call(t,r);});},miss:function miss(e){return!this._context.hasOwnProperty(e);}},n.prototype.constructor=n,e.exports=n;},function(e,t,r){"use strict";var n=r(6),i=r(20),a=r(72),o=r(59),s=r(58),u=r(31),l=r(215),h=r(216),c={loadTexture:function loadTexture(e,t,r,a){var o;if("function"==typeof t?(r=t,a=r,t={}):t=t||{},"string"==typeof e){if(e.match(/.hdr$/)||"hdr"===t.fileType)return o=new n({width:0,height:0}),c._fetchTexture(e,function(e){h.parseRGBE(e,o,t.exposure),o.dirty(),r&&r(o);},a),o;e.match(/.dds$/)||"dds"===t.fileType?(o=new n({width:0,height:0}),c._fetchTexture(e,function(e){l.parse(e,o),o.dirty(),r&&r(o);},a)):(o=new n(),o.load(e),o.success(r),o.error(a));}else if("object"==(typeof e==="undefined"?"undefined":_typeof(e))&&void 0!==e.px){var o=new i();o.load(e),o.success(r),o.error(a);}return o;},loadPanorama:function loadPanorama(e,t,r,n,i,a){var o=this;"function"==typeof n?(i=n,a=i,n={}):n=n||{},c.loadTexture(t,n,function(t){t.flipY=n.flipY||!1,o.panoramaToCubeMap(e,t,r,n),t.dispose(e.gl),i&&i(r);},a);},panoramaToCubeMap:function panoramaToCubeMap(e,t,r,n){var i=new o(),a=new s({scene:new u()});return a.material.set("diffuseMap",t),n=n||{},n.encodeRGBM&&a.material.shader.define("fragment","RGBM_ENCODE"),i.texture=r,i.render(e,a.scene),i.texture=null,i.dispose(e),r;},_fetchTexture:function _fetchTexture(e,t,r){a.get({url:e,responseType:"arraybuffer",onload:t,onerror:r});},createChessboard:function createChessboard(e,t,r,i){e=e||512,t=t||64,r=r||"black",i=i||"white";var a=Math.ceil(e/t),o=document.createElement("canvas");o.width=e,o.height=e;var s=o.getContext("2d");s.fillStyle=i,s.fillRect(0,0,e,e),s.fillStyle=r;for(var u=0;u<a;u++){for(var l=0;l<a;l++){var h=l%2?u%2:u%2-1;h&&s.fillRect(u*t,l*t,t,t);}}return new n({image:o,anisotropic:8});},createBlank:function createBlank(e){var t=document.createElement("canvas");t.width=1,t.height=1;var r=t.getContext("2d");return r.fillStyle=e,r.fillRect(0,0,1,1),new n({image:t});}};e.exports=c;},function(e,t,r){function n(e,t){return e&&t&&e[0]===t[0]&&e[1]===t[1];}function i(e,t){this.rootNode=new o.Node(),this.is2D=e,this._labelsBuilder=new l(256,256,t),this._labelsBuilder.getMesh().renderOrder=100,this.rootNode.add(this._labelsBuilder.getMesh()),this._api=t,this._spriteImageCanvas=document.createElement("canvas");}var a=r(0),o=r(2),s=r(66),u=r(102),l=r(46),h=r(10);i.prototype={constructor:i,update:function update(e,t,r){var i=this._prevMesh;if(this._prevMesh=this._mesh,this._mesh=i,!this._mesh){var a=this._prevMesh&&this._prevMesh.material;this._mesh=new u({renderOrder:10}),a&&(this._mesh.material=a);}this.rootNode.remove(this._prevMesh),this.rootNode.add(this._mesh),this._setPositionTextureToMesh(this._mesh,this._positionTexture);var l=e.getData(),h=this._getSymbolInfo(l),c=r.getDevicePixelRatio();h.maxSize=Math.min(2*h.maxSize,200);var d=[];h.aspect>1?(d[0]=h.maxSize,d[1]=h.maxSize/h.aspect):(d[1]=h.maxSize,d[0]=h.maxSize*h.aspect);var f=e.getModel("itemStyle").getItemStyle();d[0]=d[0]||1,d[1]=d[1]||1,this._symbolType===h.type&&n(this._symbolSize,d)&&this._lineWidth===f.lineWidth||(s.createSymbolSprite(h.type,d,{fill:"#fff",lineWidth:f.lineWidth,stroke:"transparent",shadowColor:"transparent",marginBias:10},this._spriteImageCanvas),s.createSDFFromCanvas(this._spriteImageCanvas,32,20,this._mesh.material.get("sprite").image),this._symbolType=h.type,this._symbolSize=d,this._lineWidth=f.lineWidth);var p=this._mesh.geometry,_=l.getLayout("points"),m=p.attributes;m.position.init(l.count()),m.size.init(l.count()),m.color.init(l.count());for(var g=m.position.value,v=[],y=this.is2D,x=this._spriteImageCanvas.width/h.maxSize*c,T=0;T<l.count();T++){var b=3*T,w=2*T;y?(g[b]=_[w],g[b+1]=_[w+1],g[b+2]=-10):(g[b]=_[b],g[b+1]=_[b+1],g[b+2]=_[b+2]);var E=l.getItemVisual(T,"color"),S=l.getItemVisual(T,"opacity");o.parseColor(E,v),v[3]*=S,m.color.set(T,v),v[3]<.99&&!0;var d=l.getItemVisual(T,"symbolSize");d=d instanceof Array?Math.max(d[0],d[1]):d,isNaN(d)&&(d=0),m.size.value[T]=d*x;}this._mesh.sizeScale=x,p.dirty();var A="lighter"===e.get("blendMode")?o.additiveBlend:null,a=this._mesh.material;a.blend=A,a.set("lineWidth",f.lineWidth/20);var M=o.parseColor(f.stroke);a.set("color",[1,1,1,1]),a.set("strokeColor",M),this.is2D?(a.transparent=!0,a.depthMask=!1,a.depthTest=!1,p.sortVertices=!1):(a.depthTest=!0,a.transparent=!0,a.depthMask=!1,p.sortVertices=!0);var C=e.coordinateSystem;if(C&&C.viewGL){var L=C.viewGL.isLinearSpace()?"define":"undefine";this._mesh.material.shader[L]("fragment","SRGB_DECODE");}this._updateHandler(e,t,r),y||(this._labelsBuilder.updateData(l),this._labelsBuilder.getLabelPosition=function(e,t,r){var n=3*e;return[_[n],_[n+1],_[n+2]];},this._labelsBuilder.getLabelDistance=function(e,t,r){return p.attributes.size.get(e)/x/2+r;},this._labelsBuilder.updateLabels()),this._updateAnimation(e),this._api=r;},_updateAnimation:function _updateAnimation(e){o.updateVertexAnimation([["prevPosition","position"],["prevSize","size"]],this._prevMesh,this._mesh,e);},_updateHandler:function _updateHandler(e,t,r){var n,i=e.getData(),a=this._mesh,o=-1,s=e.coordinateSystem&&"cartesian3D"===e.coordinateSystem.type;s&&(n=e.coordinateSystem.model),a.seriesIndex=e.seriesIndex,a.off("mousemove"),a.off("mouseout"),a.on("mousemove",function(e){var t=e.vertexIndex;this.highlight(i,t),t!==o&&(this.downplay(i,o),this.highlight(i,t),this._labelsBuilder.updateLabels([t]),s&&r.dispatchAction({type:"grid3DShowAxisPointer",value:[i.get("x",t),i.get("y",t),i.get("z",t)],grid3DIndex:n.componentIndex})),a.dataIndex=t,o=t;},this),a.on("mouseout",function(e){this.downplay(i,e.vertexIndex),this._labelsBuilder.updateLabels(),o=-1,a.dataIndex=-1,s&&r.dispatchAction({type:"grid3DHideAxisPointer",grid3DIndex:n.componentIndex});},this);},updateView:function updateView(e){var t=new h();h.mul(t,e.viewMatrix,this._mesh.worldTransform),h.mul(t,e.projectionMatrix,t),this._mesh.updateNDCPosition(t,this.is2D,this._api);},updateLayout:function updateLayout(e,t,r){var n=e.getData(),i=this._mesh.geometry.attributes.position.value,a=n.getLayout("points");if(this.is2D)for(var o=0;o<a.length/2;o++){var s=3*o,u=2*o;i[s]=a[u],i[s+1]=a[u+1];}else for(var o=0;o<a.length;o++){i[o]=a[o];}this._mesh.geometry.dirty();},highlight:function highlight(e,t){var r=e.getItemModel(t),n=r.getModel("emphasis.itemStyle"),i=n.get("color"),s=n.get("opacity");if(null==i){var u=e.getItemVisual(t,"color");i=a.color.lift(u,-.4);}null==s&&(s=e.getItemVisual(t,"opacity"));var l=o.parseColor(i);l[3]*=s,this._mesh.geometry.attributes.color.set(t,l),this._mesh.geometry.dirtyAttribute("color"),this._api.getZr().refresh();},downplay:function downplay(e,t){var r=e.getItemVisual(t,"color"),n=e.getItemVisual(t,"opacity"),i=o.parseColor(r);i[3]*=n,this._mesh.geometry.attributes.color.set(t,i),this._mesh.geometry.dirtyAttribute("color"),this._api.getZr().refresh();},setPositionTexture:function setPositionTexture(e){this._mesh&&this._setPositionTextureToMesh(this._mesh,e),this._positionTexture=e;},_setPositionTextureToMesh:function _setPositionTextureToMesh(e,t){t&&e.material.set("positionTexture",t),e.material.shader[t?"enableTexture":"disableTexture"]("positionTexture");},getPointsMesh:function getPointsMesh(){return this._mesh;},_getSymbolInfo:function _getSymbolInfo(e){var t,r=e.getItemVisual(0,"symbol")||"circle",n=0;return e.each(function(i){var a,o=e.getItemVisual(i,"symbolSize"),s=e.getItemVisual(i,"symbol");if(o instanceof Array)a=o[0]/o[1],n=Math.max(Math.max(o[0],o[1]),n);else{if(isNaN(o))return;a=1,n=Math.max(o,n);}r=s,t=a;}),{maxSize:n,type:r,aspect:t};}},e.exports=i;},function(e,t,r){function n(e,t,r){this._labelsMesh=new o(),this._labelTextureSurface=new a({width:512,height:512,devicePixelRatio:r.getDevicePixelRatio(),onupdate:function onupdate(){r.getZr().refresh();}}),this._api=r,this._labelsMesh.material.set("textureAtlas",this._labelTextureSurface.getTexture());}var i=r(0),a=r(65),o=r(50);n.prototype.getLabelPosition=function(e,t,r){return[0,0,0];},n.prototype.getLabelDistance=function(e,t,r){return 0;},n.prototype.getMesh=function(){return this._labelsMesh;},n.prototype.updateData=function(e){this._labelsVisibilitiesBits&&this._labelsVisibilitiesBits.length===e.count()||(this._labelsVisibilitiesBits=new Uint8Array(e.count()));var t=["label","show"],r=["emphasis","label","show"];e.each(function(n){var i=e.getItemModel(n),a=i.get(t),o=i.get(r);null==o&&(o=a);var s=(a?1:0)|(o?2:0);this._labelsVisibilitiesBits[n]=s;},!1,this),this._data=e;},n.prototype.updateLabels=function(e){if(this._data){e=e||[];for(var t=e.length>0,r={},n=0;n<e.length;n++){r[e[n]]=!0;}this._labelsMesh.geometry.convertToDynamicArray(!0),this._labelTextureSurface.clear();var a=["label"],o=["emphasis","label"],s=this._data.hostModel,u=this._data,l=s.getModel(a),h=s.getModel(o,l),c={left:"right",right:"left",top:"center",bottom:"center"},d={left:"middle",right:"middle",top:"bottom",bottom:"top"};u.each(function(e){var n=!1;if(t&&r[e]&&(n=!0),this._labelsVisibilitiesBits[e]&(n?2:1)){var f=u.getItemModel(e),p=f.getModel(n?o:a,n?h:l),_=p.get("distance")||0,m=p.get("position"),g=p.getModel("textStyle"),v=this._api.getDevicePixelRatio(),y=s.getFormattedLabel(e,n?"emphasis":"normal"),x=new i.graphic.Text({style:{text:y,font:g.getFont(),fill:g.get("color")||u.getItemVisual(e,"color")||"#000",opacity:g.get("opacity"),stroke:g.get("borderColor"),lineWidth:2*g.get("borderWidth"),textAlign:"left",textVerticalAlign:"top"}}),T=x.getBoundingRect(),b=this._labelTextureSurface.add(x),w=c[m]||"center",E=d[m]||"bottom";this._labelsMesh.geometry.addSprite(this.getLabelPosition(e,m,_),[T.width*v,T.height*v],b,w,E,this.getLabelDistance(e,m,_)*v);}},!1,this),this._labelsMesh.material.set("uvScale",this._labelTextureSurface.getCoordsScale()),this._labelTextureSurface.getZr().refreshImmediately(),this._labelsMesh.geometry.convertToTypedArray(),this._labelsMesh.geometry.dirty();}},e.exports=n;},function(e,t){function r(e,t){for(var r=0,n=1/t,i=e;i>0;){r+=n*(i%t),i=Math.floor(i/t),n/=t;}return r;}e.exports=r;},function(e,t,r){var n=r(0),i={};i.getFormattedLabel=function(e,t,r,i,a){r=r||"normal";var o=e.getData(i),s=o.getItemModel(t),u=e.getDataParams(t,i);null!=a&&u.value instanceof Array&&(u.value=u.value[a]);var l=s.get("normal"===r?["label","formatter"]:["emphasis","label","formatter"]);null==l&&(l=s.get(["label","formatter"]));var h;return"function"==typeof l?(u.status=r,h=l(u)):"string"==typeof l&&(h=n.format.formatTpl(l,u)),h;},e.exports=i;},function(e,t,r){var n=r(1).vec3,i=r(64),a=n.create(),o=n.create(),s=n.create();e.exports={needsSortTriangles:function needsSortTriangles(){return this.indices&&this.sortTriangles;},needsSortTrianglesProgressively:function needsSortTrianglesProgressively(){return this.needsSortTriangles()&&this.triangleCount>=2e4;},doSortTriangles:function doSortTriangles(e,t){var r=this.indices;if(0===t){var i=this.attributes.position,e=e._array;this._triangleZList&&this._triangleZList.length===this.triangleCount||(this._triangleZList=new Float32Array(this.triangleCount),this._sortedTriangleIndices=new Uint32Array(this.triangleCount),this._indicesTmp=new r.constructor(r.length),this._triangleZListTmp=new Float32Array(this.triangleCount));for(var u=0,l=0;l<r.length;){i.get(r[l++],a),i.get(r[l++],o),i.get(r[l++],s);var h=n.sqrDist(a,e),c=n.sqrDist(o,e),d=n.sqrDist(s,e),f=Math.min(h,c);f=Math.min(f,d),this._triangleZList[u++]=f;}}for(var p=this._sortedTriangleIndices,l=0;l<p.length;l++){p[l]=l;}if(this.triangleCount<2e4)0===t&&this._simpleSort(!0);else for(var l=0;l<3;l++){this._progressiveQuickSort(3*t+l);}for(var _=this._indicesTmp,m=this._triangleZListTmp,g=this._triangleZList,l=0;l<this.triangleCount;l++){var v=3*p[l],y=3*l;_[y++]=r[v++],_[y++]=r[v++],_[y]=r[v],m[l]=g[p[l]];}var x=this._indicesTmp;this._indicesTmp=this.indices,this.indices=x;var x=this._triangleZListTmp;this._triangleZListTmp=this._triangleZList,this._triangleZList=x,this.dirtyIndices();},_simpleSort:function _simpleSort(e){function t(e,t){return r[t]-r[e];}var r=this._triangleZList,n=this._sortedTriangleIndices;e?n.sort(t):i.sort(n,t,0,n.length-1);},_progressiveQuickSort:function _progressiveQuickSort(e){var t=this._triangleZList,r=this._sortedTriangleIndices;this._quickSort=this._quickSort||new i(),this._quickSort.step(r,function(e,r){return t[r]-t[e];},e);}};},function(e,t,r){var n=r(2),i=r(163);n.Shader.import(r(167)),e.exports=n.Mesh.extend(function(){return{geometry:new i({dynamic:!0}),material:new n.Material({shader:n.createShader("ecgl.labels3D"),transparent:!0,depthMask:!1}),culling:!1,castShadow:!1,ignorePicking:!0};});},function(e,t,r){"use strict";var n=r(7),i=r(18),a=r(9),o=(r(19),r(13)),s=r(10),u=(r(80),r(17)),l=r(24),h=r(8);h.import(r(210)),h.import(r(81));var c=r(1),d=c.mat4,f=c.vec3,p=d.create,_=0,m={},g=n.extend(function(){return{canvas:null,_width:100,_height:100,devicePixelRatio:window.devicePixelRatio||1,clearColor:[0,0,0,0],clearBit:17664,alpha:!0,depth:!0,stencil:!1,antialias:!0,premultipliedAlpha:!0,preserveDrawingBuffer:!1,throwError:!0,gl:null,viewport:{},__currentFrameBuffer:null,_viewportStack:[],_clearStack:[],_sceneRendering:null};},function(){this.canvas||(this.canvas=document.createElement("canvas"));var e=this.canvas;try{var t={alpha:this.alpha,depth:this.depth,stencil:this.stencil,antialias:this.antialias,premultipliedAlpha:this.premultipliedAlpha,preserveDrawingBuffer:this.preserveDrawingBuffer};if(this.gl=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),!this.gl)throw new Error();null==this.gl.__GLID__&&(this.gl.__GLID__=_++,i.initialize(this.gl)),this.resize();}catch(e){throw"Error creating WebGL Context "+e;}},{resize:function resize(e,t){var r=this.canvas,n=this.devicePixelRatio;null!=e?(r.style.width=e+"px",r.style.height=t+"px",r.width=e*n,r.height=t*n,this._width=e,this._height=t):(this._width=r.width/n,this._height=r.height/n),this.setViewport(0,0,this._width,this._height);},getWidth:function getWidth(){return this._width;},getHeight:function getHeight(){return this._height;},getViewportAspect:function getViewportAspect(){var e=this.viewport;return e.width/e.height;},setDevicePixelRatio:function setDevicePixelRatio(e){this.devicePixelRatio=e,this.resize(this._width,this._height);},getDevicePixelRatio:function getDevicePixelRatio(){return this.devicePixelRatio;},getExtension:function getExtension(e){return i.getExtension(this.gl,e);},setViewport:function setViewport(e,t,r,n,i){if("object"==(typeof e==="undefined"?"undefined":_typeof(e))){var a=e;e=a.x,t=a.y,r=a.width,n=a.height,i=a.devicePixelRatio;}i=i||this.devicePixelRatio,this.gl.viewport(e*i,t*i,r*i,n*i),this.viewport={x:e,y:t,width:r,height:n,devicePixelRatio:i};},saveViewport:function saveViewport(){this._viewportStack.push(this.viewport);},restoreViewport:function restoreViewport(){this._viewportStack.length>0&&this.setViewport(this._viewportStack.pop());},saveClear:function saveClear(){this._clearStack.push({clearBit:this.clearBit,clearColor:this.clearColor});},restoreClear:function restoreClear(){if(this._clearStack.length>0){var e=this._clearStack.pop();this.clearColor=e.clearColor,this.clearBit=e.clearBit;}},bindSceneRendering:function bindSceneRendering(e){this._sceneRendering=e;},beforeRenderObject:function beforeRenderObject(){},afterRenderObject:function afterRenderObject(){},render:function render(e,t,r,n){var i=this.gl;this._sceneRendering=e;var a=this.clearColor;if(this.clearBit){i.colorMask(!0,!0,!0,!0),i.depthMask(!0);var o=this.viewport,s=!1,u=o.devicePixelRatio;(o.width!==this._width||o.height!==this._height||u&&u!==this.devicePixelRatio||o.x||o.y)&&(s=!0,i.enable(i.SCISSOR_TEST),i.scissor(o.x*u,o.y*u,o.width*u,o.height*u)),i.clearColor(a[0],a[1],a[2],a[3]),i.clear(this.clearBit),s&&i.disable(i.SCISSOR_TEST);}r||e.update(!1),t.getScene()||t.update(!0);var l=e.opaqueQueue,h=e.transparentQueue,c=e.material;if(e.trigger("beforerender",this,e,t),h.length>0)for(var _=p(),m=f.create(),g=0;g<h.length;g++){var v=h[g];d.multiplyAffine(_,t.viewMatrix._array,v.worldTransform._array),f.transformMat4(m,v.position._array,_),v.__depth=m[2];}l.sort(this.opaqueSortFunc),h.sort(this.transparentSortFunc),e.trigger("beforerender:opaque",this,l),e.viewBoundingBoxLastFrame.min.set(1/0,1/0,1/0),e.viewBoundingBoxLastFrame.max.set(-1/0,-1/0,-1/0),i.disable(i.BLEND),i.enable(i.DEPTH_TEST);var y=this.renderQueue(l,t,c,n);e.trigger("afterrender:opaque",this,l,y),e.trigger("beforerender:transparent",this,h),i.enable(i.BLEND);var x=this.renderQueue(h,t,c);e.trigger("afterrender:transparent",this,h,x);var T={};for(var b in y){T[b]=y[b]+x[b];}return e.trigger("afterrender",this,e,t,T),this._sceneRendering=null,T;},resetRenderStatus:function resetRenderStatus(){this._currentShader=null;},ifRenderObject:function ifRenderObject(e){return!0;},renderQueue:function renderQueue(e,t,r,n){var i={triangleCount:0,vertexCount:0,drawCallCount:0,meshCount:e.length,renderedMeshCount:0},a=this.viewport,o=a.devicePixelRatio,s=[a.x*o,a.y*o,a.width*o,a.height*o],l=this.devicePixelRatio,c=this.__currentFrameBuffer?[this.__currentFrameBuffer.getTextureWidth(),this.__currentFrameBuffer.getTextureHeight()]:[this._width*l,this._height*l],f=[s[2],s[3]],p=Date.now();d.copy(v.VIEW,t.viewMatrix._array),d.copy(v.PROJECTION,t.projectionMatrix._array),d.multiply(v.VIEWPROJECTION,t.projectionMatrix._array,v.VIEW),d.copy(v.VIEWINVERSE,t.worldTransform._array),d.invert(v.PROJECTIONINVERSE,v.PROJECTION),d.invert(v.VIEWPROJECTIONINVERSE,v.VIEWPROJECTION);var _,g,y,x,T,b,w,E=this.gl,S=this._sceneRendering;if(n){var A=this._prezMaterial||new u({shader:new h({vertex:h.source("qtek.prez.vertex"),fragment:h.source("qtek.prez.fragment")})});this._prezMaterial=A;var M=A.shader;w=[],M.bind(E),E.colorMask(!1,!1,!1,!1),E.depthMask(!0),E.enable(E.DEPTH_TEST);for(var C=0;C<e.length;C++){var L=e[C];if(this.ifRenderObject(L)){var N=L.worldTransform._array,R=L.geometry;if(d.multiplyAffine(v.WORLDVIEW,v.VIEW,N),!(R.boundingBox&&this.isFrustumCulled(L,S,t,v.WORLDVIEW,v.PROJECTION)||L.skeleton)){d.multiply(v.WORLDVIEWPROJECTION,v.VIEWPROJECTION,N),L.cullFace!==T&&(T=L.cullFace,E.cullFace(T)),L.frontFace!==b&&(b=L.frontFace,E.frontFace(b)),L.culling!==x&&(x=L.culling,x?E.enable(E.CULL_FACE):E.disable(E.CULL_FACE));var D=M.matrixSemantics.WORLDVIEWPROJECTION;M.setUniform(E,D.type,D.symbol,v.WORLDVIEWPROJECTION),L.render(E,A.shader),w.push(L);}}}E.depthFunc(E.LEQUAL),E.colorMask(!0,!0,!0,!0),E.depthMask(!1),this._currentShader=null;}else w=e,E.depthFunc(E.LESS);x=null,T=null,b=null;for(var C=0;C<w.length;C++){var L=w[C];if(this.ifRenderObject(L)){var R=L.geometry,N=L.worldTransform._array;if(d.multiplyAffine(v.WORLDVIEW,v.VIEW,N),!R.boundingBox||n||!this.isFrustumCulled(L,S,t,v.WORLDVIEW,v.PROJECTION)){var I=r||L.material;I!==_&&I.updateShader&&I.updateShader(E);var P=I.shader;d.copy(v.WORLD,N),d.multiply(v.WORLDVIEWPROJECTION,v.VIEWPROJECTION,N),(P.matrixSemantics.WORLDINVERSE||P.matrixSemantics.WORLDINVERSETRANSPOSE)&&d.invert(v.WORLDINVERSE,N),(P.matrixSemantics.WORLDVIEWINVERSE||P.matrixSemantics.WORLDVIEWINVERSETRANSPOSE)&&d.invert(v.WORLDVIEWINVERSE,v.WORLDVIEW),(P.matrixSemantics.WORLDVIEWPROJECTIONINVERSE||P.matrixSemantics.WORLDVIEWPROJECTIONINVERSETRANSPOSE)&&d.invert(v.WORLDVIEWPROJECTIONINVERSE,v.WORLDVIEWPROJECTION);L.beforeRender(E),this.beforeRenderObject(L,_,null);if(!P.isEqual(null)){S&&S.isShaderLightNumberChanged(P)&&S.setShaderLightNumber(P);var O=P.bind(E);if(O){if(m[P.__GUID__])continue;if(m[P.__GUID__]=!0,this.throwError)throw new Error(O);this.trigger("error",O);}P.setUniformOfSemantic(E,"VIEWPORT",s),P.setUniformOfSemantic(E,"WINDOW_SIZE",c),P.setUniformOfSemantic(E,"NEAR",t.near),P.setUniformOfSemantic(E,"FAR",t.far),P.setUniformOfSemantic(E,"DEVICEPIXELRATIO",o),P.setUniformOfSemantic(E,"TIME",p),P.setUniformOfSemantic(E,"VIEWPORT_SIZE",f),S&&S.setLightUniforms(P,E);}else P=null;_!==I&&(n||(I.depthTest!==g&&(I.depthTest?E.enable(E.DEPTH_TEST):E.disable(E.DEPTH_TEST),g=I.depthTest),I.depthMask!==y&&(E.depthMask(I.depthMask),y=I.depthMask)),I.bind(E,P,_,null),_=I,I.transparent&&(I.blend?I.blend(E):(E.blendEquationSeparate(E.FUNC_ADD,E.FUNC_ADD),E.blendFuncSeparate(E.SRC_ALPHA,E.ONE_MINUS_SRC_ALPHA,E.ONE,E.ONE_MINUS_SRC_ALPHA))));for(var F=P.matrixSemanticKeys,B=0;B<F.length;B++){var U=F[B],D=P.matrixSemantics[U],z=v[U];if(D.isTranspose){var G=v[D.semanticNoTranspose];d.transpose(z,G);}P.setUniform(E,D.type,D.symbol,z);}L.cullFace!==T&&(T=L.cullFace,E.cullFace(T)),L.frontFace!==b&&(b=L.frontFace,E.frontFace(b)),L.culling!==x&&(x=L.culling,x?E.enable(E.CULL_FACE):E.disable(E.CULL_FACE));var k=L.render(E,P);k&&(i.triangleCount+=k.triangleCount,i.vertexCount+=k.vertexCount,i.drawCallCount+=k.drawCallCount,i.renderedMeshCount++),this.afterRenderObject(L,k),L.afterRender(E,k);}}}return i;},isFrustumCulled:function(){var e=new o(),t=new s();return function(r,n,i,a,o){var s=r.boundingBox||r.geometry.boundingBox;if(t._array=a,e.copy(s),e.applyTransform(t),n&&r.isRenderable()&&r.castShadow&&n.viewBoundingBoxLastFrame.union(e),r.frustumCulling){if(!e.intersectBoundingBox(i.frustum.boundingBox))return!0;t._array=o,e.max._array[2]>0&&e.min._array[2]<0&&(e.max._array[2]=-1e-20),e.applyProjection(t);var u=e.min._array,l=e.max._array;if(l[0]<-1||u[0]>1||l[1]<-1||u[1]>1||l[2]<-1||u[2]>1)return!0;}return!1;};}(),disposeScene:function disposeScene(e){this.disposeNode(e,!0,!0),e.dispose();},disposeNode:function disposeNode(e,t,r){var n={},i=this.gl;e.getParent()&&e.getParent().remove(e),e.traverse(function(e){e.geometry&&t&&e.geometry.dispose(i),e.material&&(n[e.material.__GUID__]=e.material),e.dispose&&e.dispose(i);});for(var a in n){n[a].dispose(i,r);}},disposeShader:function disposeShader(e){e.dispose(this.gl);},disposeGeometry:function disposeGeometry(e){e.dispose(this.gl);},disposeTexture:function disposeTexture(e){e.dispose(this.gl);},disposeFrameBuffer:function disposeFrameBuffer(e){e.dispose(this.gl);},dispose:function dispose(){i.dispose(this.gl);},screenToNDC:function screenToNDC(e,t,r){r||(r=new l()),t=this._height-t;var n=this.viewport,i=r._array;return i[0]=(e-n.x)/n.width,i[0]=2*i[0]-1,i[1]=(t-n.y)/n.height,i[1]=2*i[1]-1,r;}});g.opaqueSortFunc=g.prototype.opaqueSortFunc=function(e,t){return e.renderOrder===t.renderOrder?e.material.shader===t.material.shader?e.material===t.material?e.geometry.__GUID__-t.geometry.__GUID__:e.material.__GUID__-t.material.__GUID__:e.material.shader.__GUID__-t.material.shader.__GUID__:e.renderOrder-t.renderOrder;},g.transparentSortFunc=g.prototype.transparentSortFunc=function(e,t){return e.renderOrder===t.renderOrder?e.__depth===t.__depth?e.material.shader===t.material.shader?e.material===t.material?e.geometry.__GUID__-t.geometry.__GUID__:e.material.__GUID__-t.material.__GUID__:e.material.shader.__GUID__-t.material.shader.__GUID__:e.__depth-t.__depth:e.renderOrder-t.renderOrder;};var v={WORLD:p(),VIEW:p(),PROJECTION:p(),WORLDVIEW:p(),VIEWPROJECTION:p(),WORLDVIEWPROJECTION:p(),WORLDINVERSE:p(),VIEWINVERSE:p(),PROJECTIONINVERSE:p(),WORLDVIEWINVERSE:p(),VIEWPROJECTIONINVERSE:p(),WORLDVIEWPROJECTIONINVERSE:p(),WORLDTRANSPOSE:p(),VIEWTRANSPOSE:p(),PROJECTIONTRANSPOSE:p(),WORLDVIEWTRANSPOSE:p(),VIEWPROJECTIONTRANSPOSE:p(),WORLDVIEWPROJECTIONTRANSPOSE:p(),WORLDINVERSETRANSPOSE:p(),VIEWINVERSETRANSPOSE:p(),PROJECTIONINVERSETRANSPOSE:p(),WORLDVIEWINVERSETRANSPOSE:p(),VIEWPROJECTIONINVERSETRANSPOSE:p(),WORLDVIEWPROJECTIONINVERSETRANSPOSE:p()};g.COLOR_BUFFER_BIT=a.COLOR_BUFFER_BIT,g.DEPTH_BUFFER_BIT=a.DEPTH_BUFFER_BIT,g.STENCIL_BUFFER_BIT=a.STENCIL_BUFFER_BIT,e.exports=g;},function(e,t){function r(e,t){this.action=e,this.context=t;}var n={trigger:function trigger(e){if(this.hasOwnProperty("__handlers__")&&this.__handlers__.hasOwnProperty(e)){var t=this.__handlers__[e],r=t.length,n=-1,i=arguments;switch(i.length){case 1:for(;++n<r;){t[n].action.call(t[n].context);}return;case 2:for(;++n<r;){t[n].action.call(t[n].context,i[1]);}return;case 3:for(;++n<r;){t[n].action.call(t[n].context,i[1],i[2]);}return;case 4:for(;++n<r;){t[n].action.call(t[n].context,i[1],i[2],i[3]);}return;case 5:for(;++n<r;){t[n].action.call(t[n].context,i[1],i[2],i[3],i[4]);}return;default:for(;++n<r;){t[n].action.apply(t[n].context,Array.prototype.slice.call(i,1));}return;}}},on:function on(e,t,n){if(e&&t){var i=this.__handlers__||(this.__handlers__={});if(i[e]){if(this.has(e,t))return;}else i[e]=[];var a=new r(t,n||this);return i[e].push(a),this;}},once:function once(e,t,r){function n(){i.off(e,n),t.apply(this,arguments);}if(e&&t){var i=this;return this.on(e,n,r);}},before:function before(e,t,r){if(e&&t)return e="before"+e,this.on(e,t,r);},after:function after(e,t,r){if(e&&t)return e="after"+e,this.on(e,t,r);},success:function success(e,t){return this.once("success",e,t);},error:function error(e,t){return this.once("error",e,t);},off:function off(e,t){var r=this.__handlers__||(this.__handlers__={});if(!t)return void(r[e]=[]);if(r[e]){for(var n=r[e],i=[],a=0;a<n.length;a++){t&&n[a].action!==t&&i.push(n[a]);}r[e]=i;}return this;},has:function has(e,t){var r=this.__handlers__;if(!r||!r[e])return!1;for(var n=r[e],i=0;i<n.length;i++){if(n[i].action===t)return!0;}}};e.exports=n;},function(e,t,r){"use strict";var n=r(12),i=r(13),a=n.extend({widthSegments:1,heightSegments:1},function(){this.build();},{build:function build(){for(var e=this.heightSegments,t=this.widthSegments,r=this.attributes,n=[],a=[],o=[],s=[],u=0;u<=e;u++){for(var l=u/e,h=0;h<=t;h++){var c=h/t;if(n.push([2*c-1,2*l-1,0]),a&&a.push([c,l]),o&&o.push([0,0,1]),h<t&&u<e){var d=h+u*(t+1);s.push([d,d+1,d+t+1]),s.push([d+t+1,d+1,d+t+2]);}}}r.position.fromArray(n),r.texcoord0.fromArray(a),r.normal.fromArray(o),this.initIndicesFromArray(s),this.boundingBox=new i(),this.boundingBox.min.set(-1,-1,0),this.boundingBox.max.set(1,1,0);}});e.exports=a;},function(e,t,r){"use strict";var n=(r(3),r(13)),i=r(78),a=r(1),o=a.vec3,s=o.set,u=o.copy,l=o.transformMat4,h=Math.min,c=Math.max,d=function d(){this.planes=[];for(var e=0;e<6;e++){this.planes.push(new i());}this.boundingBox=new n(),this.vertices=[];for(var e=0;e<8;e++){this.vertices[e]=o.fromValues(0,0,0);}};d.prototype={setFromProjection:function setFromProjection(e){var t=this.planes,r=e._array,n=r[0],i=r[1],a=r[2],o=r[3],u=r[4],l=r[5],h=r[6],c=r[7],d=r[8],f=r[9],p=r[10],_=r[11],m=r[12],g=r[13],v=r[14],y=r[15];s(t[0].normal._array,o-n,c-u,_-d),t[0].distance=-(y-m),t[0].normalize(),s(t[1].normal._array,o+n,c+u,_+d),t[1].distance=-(y+m),t[1].normalize(),s(t[2].normal._array,o+i,c+l,_+f),t[2].distance=-(y+g),t[2].normalize(),s(t[3].normal._array,o-i,c-l,_-f),t[3].distance=-(y-g),t[3].normalize(),s(t[4].normal._array,o-a,c-h,_-p),t[4].distance=-(y-v),t[4].normalize(),s(t[5].normal._array,o+a,c+h,_+p),t[5].distance=-(y+v),t[5].normalize();var x=this.boundingBox;if(0===y){var T=l/n,b=-v/(p-1),w=-v/(p+1),E=-w/l,S=-b/l;x.min.set(-E*T,-E,w),x.max.set(E*T,E,b);var A=this.vertices;s(A[0],-E*T,-E,w),s(A[1],-E*T,E,w),s(A[2],E*T,-E,w),s(A[3],E*T,E,w),s(A[4],-S*T,-S,b),s(A[5],-S*T,S,b),s(A[6],S*T,-S,b),s(A[7],S*T,S,b);}else{var M=(-1-m)/n,C=(1-m)/n,L=(1-g)/l,N=(-1-g)/l,R=(-1-v)/p,D=(1-v)/p;x.min.set(M,N,D),x.max.set(C,L,R);var I=x.min._array,P=x.max._array,A=this.vertices;s(A[0],I[0],I[1],I[2]),s(A[1],I[0],P[1],I[2]),s(A[2],P[0],I[1],I[2]),s(A[3],P[0],P[1],I[2]),s(A[4],I[0],I[1],P[2]),s(A[5],I[0],P[1],P[2]),s(A[6],P[0],I[1],P[2]),s(A[7],P[0],P[1],P[2]);}},getTransformedBoundingBox:function(){var e=o.create();return function(t,r){var n=this.vertices,i=r._array,a=t.min,o=t.max,s=a._array,d=o._array,f=n[0];l(e,f,i),u(s,e),u(d,e);for(var p=1;p<8;p++){f=n[p],l(e,f,i),s[0]=h(e[0],s[0]),s[1]=h(e[1],s[1]),s[2]=h(e[2],s[2]),d[0]=c(e[0],d[0]),d[1]=c(e[1],d[1]),d[2]=c(e[2],d[2]);}return a._dirty=!0,o._dirty=!0,t;};}()},e.exports=d;},function(e,t,r){"use strict";var n=r(1),i=n.quat,a=function a(e,t,r,n){e=e||0,t=t||0,r=r||0,n=void 0===n?1:n,this._array=i.fromValues(e,t,r,n),this._dirty=!0;};a.prototype={constructor:a,add:function add(e){return i.add(this._array,this._array,e._array),this._dirty=!0,this;},calculateW:function calculateW(){return i.calculateW(this._array,this._array),this._dirty=!0,this;},set:function set(e,t,r,n){return this._array[0]=e,this._array[1]=t,this._array[2]=r,this._array[3]=n,this._dirty=!0,this;},setArray:function setArray(e){return this._array[0]=e[0],this._array[1]=e[1],this._array[2]=e[2],this._array[3]=e[3],this._dirty=!0,this;},clone:function clone(){return new a(this.x,this.y,this.z,this.w);},conjugate:function conjugate(){return i.conjugate(this._array,this._array),this._dirty=!0,this;},copy:function copy(e){return i.copy(this._array,e._array),this._dirty=!0,this;},dot:function dot(e){return i.dot(this._array,e._array);},fromMat3:function fromMat3(e){return i.fromMat3(this._array,e._array),this._dirty=!0,this;},fromMat4:function(){var e=n.mat3,t=e.create();return function(r){return e.fromMat4(t,r._array),e.transpose(t,t),i.fromMat3(this._array,t),this._dirty=!0,this;};}(),identity:function identity(){return i.identity(this._array),this._dirty=!0,this;},invert:function invert(){return i.invert(this._array,this._array),this._dirty=!0,this;},len:function len(){return i.len(this._array);},length:function length(){return i.length(this._array);},lerp:function lerp(e,t,r){return i.lerp(this._array,e._array,t._array,r),this._dirty=!0,this;},mul:function mul(e){return i.mul(this._array,this._array,e._array),this._dirty=!0,this;},mulLeft:function mulLeft(e){return i.multiply(this._array,e._array,this._array),this._dirty=!0,this;},multiply:function multiply(e){return i.multiply(this._array,this._array,e._array),this._dirty=!0,this;},multiplyLeft:function multiplyLeft(e){return i.multiply(this._array,e._array,this._array),this._dirty=!0,this;},normalize:function normalize(){return i.normalize(this._array,this._array),this._dirty=!0,this;},rotateX:function rotateX(e){return i.rotateX(this._array,this._array,e),this._dirty=!0,this;},rotateY:function rotateY(e){return i.rotateY(this._array,this._array,e),this._dirty=!0,this;},rotateZ:function rotateZ(e){return i.rotateZ(this._array,this._array,e),this._dirty=!0,this;},rotationTo:function rotationTo(e,t){return i.rotationTo(this._array,e._array,t._array),this._dirty=!0,this;},setAxes:function setAxes(e,t,r){return i.setAxes(this._array,e._array,t._array,r._array),this._dirty=!0,this;},setAxisAngle:function setAxisAngle(e,t){return i.setAxisAngle(this._array,e._array,t),this._dirty=!0,this;},slerp:function slerp(e,t,r){return i.slerp(this._array,e._array,t._array,r),this._dirty=!0,this;},sqrLen:function sqrLen(){return i.sqrLen(this._array);},squaredLength:function squaredLength(){return i.squaredLength(this._array);},fromEuler:function fromEuler(e,t){return a.fromEuler(this,e,t);},toString:function toString(){return"["+Array.prototype.join.call(this._array,",")+"]";},toArray:function toArray(){return Array.prototype.slice.call(this._array);}};var o=Object.defineProperty;if(o){var s=a.prototype;o(s,"x",{get:function get(){return this._array[0];},set:function set(e){this._array[0]=e,this._dirty=!0;}}),o(s,"y",{get:function get(){return this._array[1];},set:function set(e){this._array[1]=e,this._dirty=!0;}}),o(s,"z",{get:function get(){return this._array[2];},set:function set(e){this._array[2]=e,this._dirty=!0;}}),o(s,"w",{get:function get(){return this._array[3];},set:function set(e){this._array[3]=e,this._dirty=!0;}});}a.add=function(e,t,r){return i.add(e._array,t._array,r._array),e._dirty=!0,e;},a.set=function(e,t,r,n,a){i.set(e._array,t,r,n,a),e._dirty=!0;},a.copy=function(e,t){return i.copy(e._array,t._array),e._dirty=!0,e;},a.calculateW=function(e,t){return i.calculateW(e._array,t._array),e._dirty=!0,e;},a.conjugate=function(e,t){return i.conjugate(e._array,t._array),e._dirty=!0,e;},a.identity=function(e){return i.identity(e._array),e._dirty=!0,e;},a.invert=function(e,t){return i.invert(e._array,t._array),e._dirty=!0,e;},a.dot=function(e,t){return i.dot(e._array,t._array);},a.len=function(e){return i.length(e._array);},a.lerp=function(e,t,r,n){return i.lerp(e._array,t._array,r._array,n),e._dirty=!0,e;},a.slerp=function(e,t,r,n){return i.slerp(e._array,t._array,r._array,n),e._dirty=!0,e;},a.mul=function(e,t,r){return i.multiply(e._array,t._array,r._array),e._dirty=!0,e;},a.multiply=a.mul,a.rotateX=function(e,t,r){return i.rotateX(e._array,t._array,r),e._dirty=!0,e;},a.rotateY=function(e,t,r){return i.rotateY(e._array,t._array,r),e._dirty=!0,e;},a.rotateZ=function(e,t,r){return i.rotateZ(e._array,t._array,r),e._dirty=!0,e;},a.setAxisAngle=function(e,t,r){return i.setAxisAngle(e._array,t._array,r),e._dirty=!0,e;},a.normalize=function(e,t){return i.normalize(e._array,t._array),e._dirty=!0,e;},a.sqrLen=function(e){return i.sqrLen(e._array);},a.squaredLength=a.sqrLen,a.fromMat3=function(e,t){return i.fromMat3(e._array,t._array),e._dirty=!0,e;},a.setAxes=function(e,t,r,n){return i.setAxes(e._array,t._array,r._array,n._array),e._dirty=!0,e;},a.rotationTo=function(e,t,r){return i.rotationTo(e._array,t._array,r._array),e._dirty=!0,e;},a.fromEuler=function(e,t,r){e._dirty=!0,t=t._array;var n=e._array,i=Math.cos(t[0]/2),a=Math.cos(t[1]/2),o=Math.cos(t[2]/2),s=Math.sin(t[0]/2),u=Math.sin(t[1]/2),l=Math.sin(t[2]/2),r=(r||"XYZ").toUpperCase();switch(r){case"XYZ":n[0]=s*a*o+i*u*l,n[1]=i*u*o-s*a*l,n[2]=i*a*l+s*u*o,n[3]=i*a*o-s*u*l;break;case"YXZ":n[0]=s*a*o+i*u*l,n[1]=i*u*o-s*a*l,n[2]=i*a*l-s*u*o,n[3]=i*a*o+s*u*l;break;case"ZXY":n[0]=s*a*o-i*u*l,n[1]=i*u*o+s*a*l,n[2]=i*a*l+s*u*o,n[3]=i*a*o-s*u*l;break;case"ZYX":n[0]=s*a*o-i*u*l,n[1]=i*u*o+s*a*l,n[2]=i*a*l-s*u*o,n[3]=i*a*o+s*u*l;break;case"YZX":n[0]=s*a*o+i*u*l,n[1]=i*u*o+s*a*l,n[2]=i*a*l-s*u*o,n[3]=i*a*o-s*u*l;break;case"XZY":n[0]=s*a*o-i*u*l,n[1]=i*u*o-s*a*l,n[2]=i*a*l+s*u*o,n[3]=i*a*o+s*u*l;}},e.exports=a;},function(e,t,r){"use strict";var n=r(3),i=r(1),a=i.vec3,o=function o(e,t){this.origin=e||new n(),this.direction=t||new n();};o.prototype={constructor:o,intersectPlane:function intersectPlane(e,t){var r=e.normal._array,i=e.distance,o=this.origin._array,s=this.direction._array,u=a.dot(r,s);if(0===u)return null;t||(t=new n());var l=(a.dot(r,o)-i)/u;return a.scaleAndAdd(t._array,o,s,-l),t._dirty=!0,t;},mirrorAgainstPlane:function mirrorAgainstPlane(e){var t=a.dot(e.normal._array,this.direction._array);a.scaleAndAdd(this.direction._array,this.direction._array,e.normal._array,2*-t),this.direction._dirty=!0;},distanceToPoint:function(){var e=a.create();return function(t){a.sub(e,t,this.origin._array);var r=a.dot(e,this.direction._array);if(r<0)return a.distance(this.origin._array,t);var n=a.lenSquared(e);return Math.sqrt(n-r*r);};}(),intersectSphere:function(){var e=a.create();return function(t,r,i){var o=this.origin._array,s=this.direction._array;t=t._array,a.sub(e,t,o);var u=a.dot(e,s),l=a.squaredLength(e),h=l-u*u,c=r*r;if(!(h>c)){var d=Math.sqrt(c-h),f=u-d,p=u+d;return i||(i=new n()),f<0?p<0?null:(a.scaleAndAdd(i._array,o,s,p),i):(a.scaleAndAdd(i._array,o,s,f),i);}};}(),intersectBoundingBox:function intersectBoundingBox(e,t){var r,i,o,s,u,l,h=this.direction._array,c=this.origin._array,d=e.min._array,f=e.max._array,p=1/h[0],_=1/h[1],m=1/h[2];if(p>=0?(r=(d[0]-c[0])*p,i=(f[0]-c[0])*p):(i=(d[0]-c[0])*p,r=(f[0]-c[0])*p),_>=0?(o=(d[1]-c[1])*_,s=(f[1]-c[1])*_):(s=(d[1]-c[1])*_,o=(f[1]-c[1])*_),r>s||o>i)return null;if((o>r||r!==r)&&(r=o),(s<i||i!==i)&&(i=s),m>=0?(u=(d[2]-c[2])*m,l=(f[2]-c[2])*m):(l=(d[2]-c[2])*m,u=(f[2]-c[2])*m),r>l||u>i)return null;if((u>r||r!==r)&&(r=u),(l<i||i!==i)&&(i=l),i<0)return null;var g=r>=0?r:i;return t||(t=new n()),a.scaleAndAdd(t._array,c,h,g),t;},intersectTriangle:function(){var e=a.create(),t=a.create(),r=a.create(),i=a.create();return function(o,s,u,l,h,c){var d=this.direction._array,f=this.origin._array;o=o._array,s=s._array,u=u._array,a.sub(e,s,o),a.sub(t,u,o),a.cross(i,t,d);var p=a.dot(e,i);if(l){if(p>-1e-5)return null;}else if(p>-1e-5&&p<1e-5)return null;a.sub(r,f,o);var _=a.dot(i,r)/p;if(_<0||_>1)return null;a.cross(i,e,r);var m=a.dot(d,i)/p;if(m<0||m>1||_+m>1)return null;a.cross(i,e,t);var g=-a.dot(r,i)/p;return g<0?null:(h||(h=new n()),c&&n.set(c,1-_-m,_,m),a.scaleAndAdd(h._array,f,d,g),h);};}(),applyTransform:function applyTransform(e){n.add(this.direction,this.direction,this.origin),n.transformMat4(this.origin,this.origin,e),n.transformMat4(this.direction,this.direction,e),n.sub(this.direction,this.direction,this.origin),n.normalize(this.direction,this.direction);},copy:function copy(e){n.copy(this.origin,e.origin),n.copy(this.direction,e.direction);},clone:function clone(){var e=new o();return e.copy(this),e;}},e.exports=o;},function(e,t,r){var n=r(29),i=r(73),a=r(8),o=r(17);a.import(r(212));var s=n.extend(function(){var e=new a({vertex:a.source("qtek.skybox.vertex"),fragment:a.source("qtek.skybox.fragment")}),t=new o({shader:e,depthMask:!1});return{scene:null,geometry:new i(),material:t,environmentMap:null,culling:!1};},function(){var e=this.scene;e&&this.attachScene(e),this.environmentMap&&this.setEnvironmentMap(this.environmentMap);},{attachScene:function attachScene(e){this.scene&&this.detachScene(),this.scene=e,e.on("beforerender",this._beforeRenderScene,this);},detachScene:function detachScene(){this.scene&&this.scene.off("beforerender",this._beforeRenderScene),this.scene=null;},dispose:function dispose(e){this.detachScene(),this.geometry.dispose(e),this.material.dispose(e);},setEnvironmentMap:function setEnvironmentMap(e){this.material.set("environmentMap",e);},getEnvironmentMap:function getEnvironmentMap(){return this.material.get("environmentMap");},_beforeRenderScene:function _beforeRenderScene(e,t,r){this.renderSkybox(e,r);},renderSkybox:function renderSkybox(e,t){this.position.copy(t.getWorldPosition()),this.update(),e.gl.disable(e.gl.BLEND),e.renderQueue([this],t);}});e.exports=s;},function(e,t,r){var n=r(29),i=r(74),a=r(8),o=r(17);a.import(r(196));var s=n.extend(function(){var e=new a({vertex:a.source("qtek.basic.vertex"),fragment:a.source("qtek.basic.fragment")});e.enableTexture("diffuseMap");var t=new o({shader:e,depthMask:!1});return{scene:null,geometry:new i({widthSegments:30,heightSegments:30}),material:t,environmentMap:null,culling:!1};},function(){var e=this.scene;e&&this.attachScene(e),this.environmentMap&&this.setEnvironmentMap(this.environmentMap);},{attachScene:function attachScene(e){this.scene&&this.detachScene(),this.scene=e,e.on("beforerender",this._beforeRenderScene,this);},detachScene:function detachScene(){this.scene&&this.scene.off("beforerender",this._beforeRenderScene),this.scene=null;},_beforeRenderScene:function _beforeRenderScene(e,t,r){this.position.copy(r.getWorldPosition()),this.update(),e.renderQueue([this],r);},setEnvironmentMap:function setEnvironmentMap(e){this.material.set("diffuseMap",e);},getEnvironmentMap:function getEnvironmentMap(){return this.material.get("diffuseMap");},dispose:function dispose(e){this.detachScene(),this.geometry.dispose(e),this.material.dispose(e);}});e.exports=s;},function(e,t,r){var n=r(7),i=r(3),a=r(42),o=r(11),s=["px","nx","py","ny","pz","nz"],u=n.extend(function(){var e={position:new i(),far:1e3,near:.1,texture:null,shadowMapPass:null},t=e._cameras={px:new a({fov:90}),nx:new a({fov:90}),py:new a({fov:90}),ny:new a({fov:90}),pz:new a({fov:90}),nz:new a({fov:90})};return t.px.lookAt(i.POSITIVE_X,i.NEGATIVE_Y),t.nx.lookAt(i.NEGATIVE_X,i.NEGATIVE_Y),t.py.lookAt(i.POSITIVE_Y,i.POSITIVE_Z),t.ny.lookAt(i.NEGATIVE_Y,i.NEGATIVE_Z),t.pz.lookAt(i.POSITIVE_Z,i.NEGATIVE_Y),t.nz.lookAt(i.NEGATIVE_Z,i.NEGATIVE_Y),e._frameBuffer=new o(),e;},{getCamera:function getCamera(e){return this._cameras[e];},render:function render(e,t,r){var n=e.gl;r||t.update();for(var a=this.texture.width,o=2*Math.atan(a/(a-.5))/Math.PI*180,u=0;u<6;u++){var l=s[u],h=this._cameras[l];if(i.copy(h.position,this.position),h.far=this.far,h.near=this.near,h.fov=o,this.shadowMapPass){h.update();var c=t.getBoundingBox(function(e){return!e.invisible;});c.applyTransform(h.viewMatrix),t.viewBoundingBoxLastFrame.copy(c),this.shadowMapPass.render(e,t,h,!0);}this._frameBuffer.attach(this.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+u),this._frameBuffer.bind(e),e.render(t,h,!0),this._frameBuffer.unbind(e);}},dispose:function dispose(e){this._frameBuffer.dispose(e);}});e.exports=u;},function(e,t,r){function n(e){this.rootNode=new a.Node(),this._currentMap="",this._triangulationResults={},this._shadersMap=a.COMMON_SHADERS.reduce(function(e,t){return e[t]=a.createShader("ecgl."+t),e[t].define("fragment","DOUBLE_SIDE"),e;},{}),this._linesShader=a.createShader("ecgl.meshLines3D");var t={};a.COMMON_SHADERS.forEach(function(e){t[e]=new a.Material({shader:a.createShader("ecgl."+e)});}),this._groundMaterials=t,this._groundMesh=new a.Mesh({geometry:new a.PlaneGeometry(),castShadow:!1,renderNormal:!0,$ignorePicking:!0}),this._groundMesh.rotation.rotateX(-Math.PI/2),this._groundMesh.scale.set(1e3,1e3,1),this._labelsBuilder=new c(1024,1024,e),this._labelsBuilder.getMesh().renderOrder=100,this._labelsBuilder.getMesh().material.depthTest=!1,this._api=e;}var i=r(0),a=r(2),o=r(159),s=r(22),u=r(4),l=r(1),h=r(49),c=r(46),d=l.vec3;a.Shader.import(r(38)),n.prototype={constructor:n,update:function update(e,t,r){var n=e.coordinateSystem,i=e.get("instancing");(n.map!==this._currentMap||i&&!this._polygonMesh||!i&&!this._polygonMeshesMap)&&(this._triangulation(n),this._currentMap=n.map,this._initMeshes(e),this.rootNode.add(this._labelsBuilder.getMesh()));var a=this._getShader(e.get("shading")),o=n.viewGL.isLinearSpace()?"define":"undefine";a[o]("fragment","SRGB_DECODE");var s=e.getData();i&&this._updateInstancingMesh(e,a,r),this._updateRegionMesh(e,a,r,i),this._updateGroundPlane(e),this._groundMesh.material.shader[o]("fragment","SRGB_DECODE"),this._labelsBuilder.updateData(s),this._labelsBuilder.getLabelPosition=function(e,t,r){var i=s.getItemModel(e),a=s.getName(e),o=n.getRegion(a),u=o.center,l=i.get("height")+r;return n.dataToPoint([u[0],u[1],l]);},this._data=s,this._labelsBuilder.updateLabels(),this._updateDebugWireframe(e);},_updateInstancingMesh:function _updateInstancingMesh(e,t,r){var n=e.coordinateSystem,i=0,a=0;n.regions.forEach(function(e){var t=this._getRegionPolygonGeoInfo(e);i+=t.vertexCount,a+=t.triangleCount;},this);var o=this._polygonMesh,s=o.geometry;["position","normal","texcoord0","color"].forEach(function(e){s.attributes[e].init(i);}),s.indices=i>65535?new Uint32Array(3*a):new Uint16Array(3*a),o.material.shader!==t&&o.material.attachShader(t,!0);},_updateRegionMesh:function _updateRegionMesh(e,t,r,n){var i=e.getData(),o=e.coordinateSystem,s=0,l=0;n&&a.setMaterialFromModel(t.__shading,this._polygonMesh.material,e,r);var h=!1;o.regions.forEach(function(c){var d=i.indexOfName(c.name),f=n?this._polygonMesh:this._polygonMeshesMap[c.name],p=n?this._linesMesh:this._linesMeshesMap[c.name];f.material.shader!==t&&f.material.attachShader(t,!0);var _=e.getRegionModel(c.name),m=_.getModel("itemStyle"),g=m.get("areaColor"),v=u.firstNotNull(m.get("opacity"),1),y=i.getItemVisual(d,"color",!0);null!=y&&i.hasValue(d)&&(g=y),i.setItemVisual(d,"color",g),i.setItemVisual(d,"opacity",v),g=a.parseColor(g);var x=a.parseColor(m.get("borderColor"));g[3]*=v,x[3]*=v;var T=g[3]<.99;n||(a.setMaterialFromModel(t.__shading,f.material,_,r),f.material.set({color:g}),f.material.transparent=T,f.material.depthMask=!T),h=h||T;var b=u.firstNotNull(_.get("height",!0),o.size[1]);if(n){var w=this._updatePolygonGeometry(f.geometry,c,b,s,l,g);s=w.vertexOffset,l=w.triangleOffset;}else this._updatePolygonGeometry(f.geometry,c,b);var E=m.get("borderWidth"),S=E>0;n||(S&&(E*=r.getDevicePixelRatio(),this._updateLinesGeometry(p.geometry,c,b,E,o.transform)),p.invisible=!S,p.material.set({color:x})),n||(this._moveRegionToCenter(f,p,S),f.dataIndex=d,f.seriesIndex=e.seriesIndex,f.on("mouseover",this._onmouseover,this),f.on("mouseout",this._onmouseout,this));},this),n&&(this._polygonMesh.material.transparent=h,this._polygonMesh.material.depthMask=!h,this._polygonMesh.geometry.updateBoundingBox());},_updateDebugWireframe:function _updateDebugWireframe(e){var t=e.getModel("debug.wireframe");if(t.get("show")){var r=a.parseColor(t.get("lineStyle.color")||"rgba(0,0,0,0.5)"),n=u.firstNotNull(t.get("lineStyle.width"),1),i=function i(e){e.geometry.generateBarycentric(),e.material.shader.define("both","WIREFRAME_TRIANGLE"),e.material.set("wireframeLineColor",r),e.material.set("wireframeLineWidth",n);};this._polygonMeshesMap?e.coordinateSystem.regions.forEach(function(e){i(this._polygonMeshesMap[e.name]);},this):i(this._polygonMesh);}},_onmouseover:function _onmouseover(e){e.target&&null!=e.target.dataIndex&&(this.highlight(e.target.dataIndex),this._labelsBuilder.updateLabels([e.target.dataIndex]));},_onmouseout:function _onmouseout(e){e.target&&null!=e.target.dataIndex&&(this.downplay(e.target.dataIndex),e.relatedTarget||this._labelsBuilder.updateLabels());},_updateGroundPlane:function _updateGroundPlane(e){var t=e.getModel("groundPlane"),r=e.get("shading"),n=this._groundMaterials[r];n||(n=this._groundMaterials.lambert),this._groundMesh.material=n,this._groundMesh.material.set("color",a.parseColor(t.get("color"))),this._groundMesh.invisible=!t.get("show");},_initMeshes:function _initMeshes(e){function t(){var e=new a.Mesh({material:new a.Material({shader:o}),culling:!1,geometry:new a.Geometry({sortTriangles:!0}),renderNormal:!0});return i.util.extend(e.geometry,h),e;}function r(e){return new a.Mesh({material:new a.Material({shader:e}),castShadow:!1,ignorePicking:!0,geometry:new s({useNativeLine:!1})});}this.rootNode.removeAll();var n=e.coordinateSystem,o=this._getShader(e.get("shading"));if(e.get("instancing")){var u=t(),l=r(this._linesShader);this.rootNode.add(u),this.rootNode.add(l),u.material.shader.define("both","VERTEX_COLOR"),this._polygonMesh=u,this._linesMesh=l,this._polygonMeshesMap=null,this._linesMeshesMap=null;}else{var c={},d={};n.regions.forEach(function(e){c[e.name]=t(),d[e.name]=r(this._linesShader),this.rootNode.add(c[e.name]),this.rootNode.add(d[e.name]);},this),this._polygonMeshesMap=c,this._linesMeshesMap=d;}this.rootNode.add(this._groundMesh);},_getShader:function _getShader(e){var t=this._shadersMap[e];return t||(t=this._shadersMap.lambert),t.__shading=e,t;},_triangulation:function _triangulation(e){this._triangulationResults={};var t=[1/0,1/0,1/0],r=[-1/0,-1/0,-1/0];e.regions.forEach(function(n){for(var i=[],a=0;a<n.geometries.length;a++){var s=n.geometries[a].exterior,u=n.geometries[a].interiors,l=[],h=[];if(!(s.length<3)){for(var c=0,f=0;f<s.length;f++){var p=s[f];l[c++]=p[0],l[c++]=p[1];}for(var f=0;f<u.length;f++){if(!(u[f].length.length<3)){for(var _=l.length/2,m=0;m<u[f].length;m++){var p=u[f][m];l.push(p[0]),l.push(p[1]);}h.push(_);}}for(var g=o(l,h),v=new Float32Array(l.length/2*3),y=[],x=[1/0,1/0,1/0],T=[-1/0,-1/0,-1/0],b=0,f=0;f<l.length;){y[0]=l[f++],y[1]=0,y[2]=l[f++],d.transformMat4(y,y,e.transform),d.min(x,x,y),d.max(T,T,y),v[b++]=y[0],v[b++]=y[1],v[b++]=y[2];}d.min(t,t,x),d.max(r,r,T),i.push({points:v,minAll:t,maxAll:r,indices:g});}}this._triangulationResults[n.name]=i;},this);},_getRegionPolygonGeoInfo:function _getRegionPolygonGeoInfo(e){for(var t=this._triangulationResults[e.name],r=0,n=0,i=0;i<t.length;i++){r+=t[i].points.length/3,n+=t[i].indices.length/3;}return{vertexCount:2*r+4*r,triangleCount:2*n+2*r};},_updatePolygonGeometry:function _updatePolygonGeometry(e,t,r,n,i,a){function o(e,t,r){for(var i=e.points,o=i.length,s=[],l=[],d=0;d<o;d+=3){s[0]=i[d],s[1]=t,s[2]=i[d+2],l[0]=(i[d]-v[0])/x,l[1]=(i[d+2]-v[2])/x,u.set(n,s),p&&c.set(n,a),h.set(n++,l);}}function s(e,t,r){var a=n;o(e,t,r);for(var s=0;s<e.indices.length;s++){_[3*i+s]=e.indices[s]+a;}i+=e.indices.length/3;}var u=e.attributes.position,l=e.attributes.normal,h=e.attributes.texcoord0,c=e.attributes.color,f=this._triangulationResults[t.name],p=c.value&&a,_=e.indices,m=null!=n;if(!m){var g=this._getRegionPolygonGeoInfo(t);n=i=0,u.init(g.vertexCount),l.init(g.vertexCount),h.init(g.vertexCount),_=e.indices=g.vertexCount>65535?new Uint32Array(3*g.triangleCount):new Uint16Array(3*g.triangleCount);}for(var v=f[0].minAll,y=f[0].maxAll,x=Math.max(y[0]-v[0],y[2]-v[2]),T=[0,1,0],b=[0,-1,0],w=0;w<f.length;w++){var E=n,S=f[w];s(S,0,0),s(S,r,0);for(var A=S.points.length/3,M=0;M<A;M++){l.set(E+M,b),l.set(E+M+A,T);}for(var C=[0,3,1,1,3,2],L=[[],[],[],[]],N=[],R=[],D=[],I=[],M=0;M<A;M++){for(var P=(M+1)%A,O=0;O<4;O++){var F=3*(0===O||3===O?M:P);L[O][0]=S.points[F],L[O][1]=O>1?r:0,L[O][2]=S.points[F+2],u.set(n+O,L[O]),I[0]=(L[O][0]-v[0])/x,I[1]=(L[O][2]-v[2])/x,O>1&&(I[0]-=r/x),h.set(n+O,I);}d.sub(N,L[1],L[0]),d.sub(R,L[3],L[0]),d.cross(D,N,R),d.normalize(D,D);for(var O=0;O<4;O++){l.set(n+O,D),p&&c.set(n+O,a);}for(var O=0;O<6;O++){_[3*i+O]=C[O]+n;}n+=4,i+=2;}}return m||e.updateBoundingBox(),{vertexOffset:n,triangleOffset:i};},_getRegionLinesGeoInfo:function _getRegionLinesGeoInfo(e,t){var r=0,n=0;return e.geometries.forEach(function(e){var i=e.exterior,a=e.interiors;r+=t.getPolylineVertexCount(i),n+=t.getPolylineTriangleCount(i);for(var o=0;o<a.length;o++){r+=t.getPolylineVertexCount(a[o]),n+=t.getPolylineTriangleCount(a[o]);}},this),{vertexCount:r,triangleCount:n};},_updateLinesGeometry:function _updateLinesGeometry(e,t,r,n,i){function a(e){for(var t=new Float32Array(3*e.length),n=0,a=[],o=0;o<e.length;o++){a[0]=e[o][0],a[1]=r+.1,a[2]=e[o][1],d.transformMat4(a,a,i),t[n++]=a[0],t[n++]=a[1],t[n++]=a[2];}return t;}var o=this._getRegionLinesGeoInfo(t,e);e.resetOffset(),e.setVertexCount(o.vertexCount),e.setTriangleCount(o.triangleCount);var s=[1,1,1,1];t.geometries.forEach(function(t){var r=t.exterior,i=t.interiors;e.addPolyline(a(r),s,n);for(var o=0;o<i.length;o++){e.addPolyline(a(i[o]),s,n);}}),e.updateBoundingBox();},_moveRegionToCenter:function _moveRegionToCenter(e,t,r){var n=e.geometry,i=t.geometry,a=e.geometry.boundingBox,o=a.min.clone().add(a.max).scale(.5),s=o._array;a.min.sub(o),a.max.sub(o);for(var u=n.attributes.position.value,l=0;l<u.length;){u[l++]-=s[0],u[l++]-=s[1],u[l++]-=s[2];}if(e.position.copy(o),r){i.boundingBox.min.sub(o),i.boundingBox.max.sub(o);for(var h=i.attributes.position.value,l=0;l<h.length;){h[l++]-=s[0],h[l++]-=s[1],h[l++]-=s[2];}t.position.copy(o);}},highlight:function highlight(e){var t=this._data;if(t){var r=t.getItemModel(e),n=r.getModel("emphasis.itemStyle"),o=n.get("areaColor"),s=n.get("opacity");if(null==o){var u=t.getItemVisual(e,"color");o=i.color.lift(u,-.4);}null==s&&(s=t.getItemVisual(e,"opacity"));var l=a.parseColor(o);l[3]*=s;var h=this._polygonMeshesMap[t.getName(e)];if(h){h.material.set("color",l);}this._api.getZr().refresh();}},downplay:function downplay(e){var t=this._data;if(t){var r=t.getItemVisual(e,"color"),n=t.getItemVisual(e,"opacity"),i=a.parseColor(r);i[3]*=n;var o=this._polygonMeshesMap[t.getName(e)];if(o){o.material.set("color",i);}this._api.getZr().refresh();}}},e.exports=n;},function(e,t){e.exports=function(e,t,r){var n,i=e.scale;return"ordinal"===i.type&&("function"==typeof r?(n=i.getTicks()[t],!r(n,i.getLabel(n))):t%(r+1));};},function(e,t,r){var n=r(0);e.exports={getFilledRegions:function getFilledRegions(e,t){var r=(e||[]).slice(),t=n.getMap(t),i=t&&t.geoJson;if(!i)return[];for(var a={},o=i.features,s=0;s<r.length;s++){a[r[s].name]=r[s];}for(var s=0;s<o.length;s++){var u=o[s].properties.name;a[u]||r.push({name:u});}return r;},defaultOption:{show:!0,zlevel:-10,map:"",left:0,top:0,width:"100%",height:"100%",boxWidth:100,boxHeight:3,boxDepth:"auto",environment:"auto",groundPlane:{show:!1,color:"#aaa"},instancing:!1,shading:"lambert",light:{main:{alpha:40,beta:30}},viewControl:{alpha:40,beta:0,distance:100,minAlpha:5,minBeta:-80,maxBeta:80},label:{show:!1,distance:2,textStyle:{fontSize:20,color:"#000",borderWidth:1,borderColor:"#fff"}},itemStyle:{areaColor:"#fff",borderWidth:0,borderColor:"#333"},emphasis:{itemStyle:{areaColor:"#639fc0"},label:{show:!0}}}};},function(e,t,r){function n(e,t){var r=e.getBoxLayoutParams(),n=o.getLayoutRect(r,{width:t.getWidth(),height:t.getHeight()});n.y=t.getHeight()-n.y-n.height,this.viewGL.setViewport(n.x,n.y,n.width,n.height,t.getDevicePixelRatio());var i=this.getGeoBoundingRect(),a=i.width/i.height*.75,s=e.get("boxWidth"),u=e.get("boxDepth"),l=e.get("boxHeight");null==l&&(l=5),isNaN(s)&&isNaN(u)&&(s=100),isNaN(u)?u=s/a:isNaN(s)&&(s=u/a),this.setSize(s,l,u);}var i=r(139),a=r(0),o=r(39),s=r(27),u=r(4),l={dimensions:i.prototype.dimensions,create:function create(e,t){function r(e,r){var u=e.get("map"),l=a.getMap(u);e.__viewGL=e.__viewGL||new s();var h=new i(u+r,u,l&&l.geoJson,l&&l.specialAreas,e.get("nameMap"));h.viewGL=e.__viewGL,e.coordinateSystem=h,o.push(h),h.resize=n,h.resize(e,t);}var o=[];if(!a.getMap)throw new Error("geo3D component depends on geo component");e.eachComponent("geo3D",function(e,t){r(e,t);}),e.eachSeriesByType("map3D",function(e,t){r(e,t);}),e.eachSeries(function(t){if("geo3D"===t.get("coordinateSystem")){var r=t.getReferringComponents("geo3D")[0];if(r||(r=e.getComponent("geo3D")),!r)throw new Error('geo "'+u.firstNotNull(t.get("geo3DIndex"),t.get("geo3DId"),0)+'" not found');t.coordinateSystem=r.coordinateSystem;}});}};a.registerCoordinateSystem("geo3D",l),e.exports=l;},function(e,t){function r(e,t,r){var n=e[t];e[t]=e[r],e[r]=n;}function n(e,t,n,i,a){var o=n,s=e[t];r(e,t,i);for(var u=n;u<i;u++){a(e[u],s)<0&&(r(e,u,o),o++);}return r(e,i,o),o;}function i(e,t,r,a){if(r<a){var o=Math.floor((r+a)/2),s=n(e,o,r,a,t);i(e,t,r,s-1),i(e,t,s+1,a);}}function a(){this._parts=[];}a.prototype.step=function(e,t,r){var a=e.length;if(0===r){this._parts=[],this._sorted=!1;var o=Math.floor(a/2);this._parts.push({pivot:o,left:0,right:a-1}),this._currentSortPartIdx=0;}if(!this._sorted){var s=this._parts;if(0===s.length)return this._sorted=!0,!0;if(s.length<512){for(var u=0;u<s.length;u++){s[u].pivot=n(e,s[u].pivot,s[u].left,s[u].right,t);}for(var l=[],u=0;u<s.length;u++){var h=s[u].left,c=s[u].pivot-1;c>h&&l.push({pivot:Math.floor((c+h)/2),left:h,right:c});var h=s[u].pivot+1,c=s[u].right;c>h&&l.push({pivot:Math.floor((c+h)/2),left:h,right:c});}s=this._parts=l;}else for(var u=0;u<Math.floor(s.length/10);u++){var d=s.length-1-this._currentSortPartIdx;if(i(e,t,s[d].left,s[d].right),++this._currentSortPartIdx===s.length)return this._sorted=!0,!0;}return!1;}},a.sort=i,e.exports=a;},function(e,t,r){function n(e,t,r,n,i,a,o){this._zr=e,this._x=0,this._y=0,this._rowHeight=0,this.width=n,this.height=i,this.offsetX=t,this.offsetY=r,this.dpr=o,this.gap=a;}function i(e){e=e||{},e.width=e.width||512,e.height=e.height||512,e.devicePixelRatio=e.devicePixelRatio||1,e.gap=null==e.gap?2:e.gap;var t=document.createElement("canvas");t.width=e.width*e.devicePixelRatio,t.height=e.height*e.devicePixelRatio,this._canvas=t,this._texture=new o({image:t,flipY:!1});var r=this;this._zr=a.zrender.init(t);var i=this._zr.refreshImmediately;this._zr.refreshImmediately=function(){i.call(this),r._texture.dirty(),r.onupdate&&r.onupdate();},this._dpr=e.devicePixelRatio,this._coords={},this.onupdate=e.onupdate,this._gap=e.gap,this._textureAtlasNodes=[new n(this._zr,0,0,e.width,e.height,this._gap,this._dpr)],this._nodeWidth=e.width,this._nodeHeight=e.height;}var a=r(0),o=r(6);n.prototype={constructor:n,clear:function clear(){this._x=0,this._y=0,this._rowHeight=0;},add:function add(e,t,r){var n=e.getBoundingRect();null==t&&(t=n.width),null==r&&(r=n.height),t*=this.dpr,r*=this.dpr,this._fitElement(e,t,r);var i=this._x,a=this._y,o=this.width*this.dpr,s=this.height*this.dpr,u=this.gap;if(i+t+u>o&&(i=this._x=0,a+=this._rowHeight+u,this._y=a,this._rowHeight=0),this._x+=t+u,this._rowHeight=Math.max(this._rowHeight,r),a+r+u>s)return null;e.position[0]+=this.offsetX*this.dpr+i,e.position[1]+=this.offsetY*this.dpr+a,this._zr.add(e);var l=[this.offsetX/this.width,this.offsetY/this.height];return[[i/o+l[0],a/s+l[1]],[(i+t)/o+l[0],(a+r)/s+l[1]]];},_fitElement:function _fitElement(e,t,r){var n=e.getBoundingRect(),i=t/n.width,a=r/n.height;e.position=[-n.x*i,-n.y*a],e.scale=[i,a],e.update();}},i.prototype={clear:function clear(){for(var e=0;e<this._textureAtlasNodes.length;e++){this._textureAtlasNodes[e].clear();}this._zr.clear(),this._coords={};},getWidth:function getWidth(){return this._width;},getHeight:function getHeight(){return this._height;},getTexture:function getTexture(){return this._texture;},getDevicePixelRatio:function getDevicePixelRatio(){return this._dpr;},getZr:function getZr(){return this._zr;},_getCurrentNode:function _getCurrentNode(){return this._textureAtlasNodes[this._textureAtlasNodes.length-1];},_expand:function _expand(){var e=4096/this._dpr,t=this._textureAtlasNodes,r=t.length,i=r*this._nodeWidth%e,a=Math.floor(r*this._nodeWidth/e)*this._nodeHeight;if(!(a>=e)){var o=(i+this._nodeWidth)*this._dpr,s=(a+this._nodeHeight)*this._dpr;try{this._zr.resize({width:o,height:s});}catch(e){this._canvas.width=o,this._canvas.height=s;}var u=new n(this._zr,i,a,this._nodeWidth,this._nodeHeight,this._gap,this._dpr);return this._textureAtlasNodes.push(u),u;}},add:function add(e,t,r){if(this._coords[e.id])return this._coords[e.id];var n=this._getCurrentNode().add(e,t,r);if(!n){var i=this._expand();if(!i)return;n=i.add(e,t,r);}return this._coords[e.id]=n,n;},getCoordsScale:function getCoordsScale(){var e=this._dpr;return[this._nodeWidth/this._canvas.width*e,this._nodeHeight/this._canvas.height*e];},getCoords:function getCoords(e){return this._coords[e];}},e.exports=i;},function(e,t,r){function n(e,t,r){var t=t||document.createElement("canvas");t.width=e,t.height=e;var n=t.getContext("2d");return r&&r(n),t;}function i(e,t,r,n){o.util.isArray(t)||(t=[t,t]);var i=s.getMarginByStyle(r,n),a=t[0]+i.left+i.right,u=t[1]+i.top+i.bottom,l=o.helper.createSymbol(e,0,0,t[0],t[1]),h=Math.max(a,u);l.position=[i.left,i.top],a>u?l.position[1]+=(h-u)/2:l.position[0]+=(h-a)/2;var c=l.getBoundingRect();return l.position[0]-=c.x,l.position[1]-=c.y,l.setStyle(r),l.update(),l.__size=h,l;}function a(e,t,r){function n(e){return e<128?1:-1;}for(var i=t.width,a=t.height,o=e.canvas.width,s=e.canvas.height,u=i/o,l=a/s,h=e.createImageData(o,s),c=0;c<s;c++){for(var d=0;d<o;d++){var f=function(e,o){var s=1/0;e=Math.floor(e*u),o=Math.floor(o*l);for(var h=o*i+e,c=t.data[4*h],d=n(c),f=Math.max(o-r,0);f<Math.min(o+r,a);f++){for(var p=Math.max(e-r,0);p<Math.min(e+r,i);p++){var h=f*i+p,_=t.data[4*h],m=n(_),g=p-e,v=f-o;if(d!==m){var y=g*g+v*v;y<s&&(s=y);}}}return d*Math.sqrt(s);}(d,c),p=f/r*.5+.5,_=4*(c*o+d);h.data[_++]=255*(1-p),h.data[_++]=255*(1-p),h.data[_++]=255*(1-p),h.data[_++]=255;}}return h;}var o=r(0),s={getMarginByStyle:function getMarginByStyle(e){var t=e.marginBias||0,r=0;e.stroke&&"none"!==e.stroke&&(r=null==e.lineWidth?1:e.lineWidth);var n=e.shadowBlur||0,i=e.shadowOffsetX||0,a=e.shadowOffsetY||0,o={};return o.left=Math.max(r/2,-i+n)+t,o.right=Math.max(r/2,i+n)+t,o.top=Math.max(r/2,-a+n)+t,o.bottom=Math.max(r/2,a+n)+t,o;},createSymbolSprite:function createSymbolSprite(e,t,r,a){var o=i(e,t,r),u=s.getMarginByStyle(r);return{image:n(o.__size,a,function(e){o.brush(e);}),margin:u};},createSDFFromCanvas:function createSDFFromCanvas(e,t,r,i){return n(t,i,function(t){var n=e.getContext("2d"),i=n.getImageData(0,0,e.width,e.height);t.putImageData(a(t,i,r),0,0);});},createSimpleSprite:function createSimpleSprite(e,t){return n(e,t,function(t){var r=e/2;t.beginPath(),t.arc(r,r,60,0,2*Math.PI,!1),t.closePath();var n=t.createRadialGradient(r,r,0,r,r,r);n.addColorStop(0,"rgba(255, 255, 255, 1)"),n.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),n.addColorStop(1,"rgba(255, 255, 255, 0)"),t.fillStyle=n,t.fill();});}};e.exports=s;},function(e,t){function r(e){return e.replace(/^\s+/,"").replace(/\s+$/,"");}function n(e){return Math.floor(Math.log(e)/Math.LN10);}var i={};i.linearMap=function(e,t,r,n){var i=t[1]-t[0],a=r[1]-r[0];if(0===i)return 0===a?r[0]:(r[0]+r[1])/2;if(n){if(i>0){if(e<=t[0])return r[0];if(e>=t[1])return r[1];}else{if(e>=t[0])return r[0];if(e<=t[1])return r[1];}}else{if(e===t[0])return r[0];if(e===t[1])return r[1];}return(e-t[0])/i*a+r[0];},i.parsePercent=function(e,t){switch(e){case"center":case"middle":e="50%";break;case"left":case"top":e="0%";break;case"right":case"bottom":e="100%";}return"string"==typeof e?r(e).match(/%$/)?parseFloat(e)/100*t:parseFloat(e):null==e?NaN:+e;},i.round=function(e,t,r){return null==t&&(t=10),t=Math.min(Math.max(0,t),20),e=(+e).toFixed(t),r?e:+e;},i.asc=function(e){return e.sort(function(e,t){return e-t;}),e;},i.getPrecision=function(e){if(e=+e,isNaN(e))return 0;for(var t=1,r=0;Math.round(e*t)/t!==e;){t*=10,r++;}return r;},i.getPrecisionSafe=function(e){var t=e.toString(),r=t.indexOf("e");if(r>0){var n=+t.slice(r+1);return n<0?-n:0;}var i=t.indexOf(".");return i<0?0:t.length-1-i;},i.getPixelPrecision=function(e,t){var r=Math.log,n=Math.LN10,i=Math.floor(r(e[1]-e[0])/n),a=Math.round(r(Math.abs(t[1]-t[0]))/n),o=Math.min(Math.max(-i+a,0),20);return isFinite(o)?o:20;},i.MAX_SAFE_INTEGER=9007199254740991,i.remRadian=function(e){var t=2*Math.PI;return(e%t+t)%t;},i.isRadianAroundZero=function(e){return e>-1e-4&&e<1e-4;};var a=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;i.getTimezoneOffset=function(){return new Date().getTimezoneOffset();},i.parseDate=function(e){if(e instanceof Date)return e;if("string"==typeof e){var t=a.exec(e);if(!t)return new Date(NaN);var r=i.getTimezoneOffset(),n=t[8]?"Z"===t[8].toUpperCase()?r:60*+t[8].slice(0,3)+r:0;return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0)-n,+t[6]||0,+t[7]||0);}return null==e?new Date(NaN):new Date(Math.round(e));},i.quantity=function(e){return Math.pow(10,n(e));},i.nice=function(e,t){var r,i=n(e),a=Math.pow(10,i),o=e/a;return r=t?o<1.5?1:o<2.5?2:o<4?3:o<7?5:10:o<1?1:o<2?2:o<3?3:o<5?5:10,e=r*a,i>=-20?+e.toFixed(i<0?-i:0):e;},i.reformIntervals=function(e){function t(e,r,n){return e.interval[n]<r.interval[n]||e.interval[n]===r.interval[n]&&(e.close[n]-r.close[n]==(n?-1:1)||!n&&t(e,r,1));}e.sort(function(e,r){return t(e,r,0)?-1:1;});for(var r=-1/0,n=1,i=0;i<e.length;){for(var a=e[i].interval,o=e[i].close,s=0;s<2;s++){a[s]<=r&&(a[s]=r,o[s]=s?1:1-n),r=a[s],n=o[s];}a[0]===a[1]&&o[0]*o[1]!=1?e.splice(i,1):i++;}return e;},i.isNumeric=function(e){return e-parseFloat(e)>=0;},e.exports=i;},function(e,t,r){"use strict";var n=r(30),i=r(10),a=r(54),o=r(56),s=r(1),u=s.vec3,l=s.vec4,h=n.extend(function(){return{projectionMatrix:new i(),invProjectionMatrix:new i(),viewMatrix:new i(),frustum:new a()};},function(){this.update(!0);},{update:function update(e){n.prototype.update.call(this,e),i.invert(this.viewMatrix,this.worldTransform),this.updateProjectionMatrix(),i.invert(this.invProjectionMatrix,this.projectionMatrix),this.frustum.setFromProjection(this.projectionMatrix);},setViewMatrix:function setViewMatrix(e){i.invert(this.worldTransform,e),this.decomposeWorldTransform();},decomposeProjectionMatrix:function decomposeProjectionMatrix(){},setProjectionMatrix:function setProjectionMatrix(e){i.copy(this.projectionMatrix,e),i.invert(this.invProjectionMatrix,e),this.decomposeProjectionMatrix();},updateProjectionMatrix:function updateProjectionMatrix(){},castRay:function(){var e=l.create();return function(t,r){var n=void 0!==r?r:new o(),i=t._array[0],a=t._array[1];return l.set(e,i,a,-1,1),l.transformMat4(e,e,this.invProjectionMatrix._array),l.transformMat4(e,e,this.worldTransform._array),u.scale(n.origin._array,e,1/e[3]),l.set(e,i,a,1,1),l.transformMat4(e,e,this.invProjectionMatrix._array),l.transformMat4(e,e,this.worldTransform._array),u.scale(e,e,1/e[3]),u.sub(n.direction._array,e,n.origin._array),u.normalize(n.direction._array,n.direction._array),n.direction._dirty=!0,n.origin._dirty=!0,n;};}()});e.exports=h;},function(e,t,r){"use strict";function n(e,t,r){this.availableAttributes=e,this.availableAttributeSymbols=t,this.indicesBuffer=r,this.vao=null;}var i,a=r(30),o=r(9),s=r(18),u=0,l=null,h=!0,c=function c(){this.triangleCount=0,this.vertexCount=0,this.drawCallCount=0;},d=a.extend({material:null,geometry:null,mode:o.TRIANGLES,_drawCache:null,_renderInfo:null},function(){this._drawCache={},this._renderInfo=new c();},{renderOrder:0,lineWidth:1,culling:!0,cullFace:o.BACK,frontFace:o.CCW,frustumCulling:!0,receiveShadow:!0,castShadow:!0,ignorePicking:!1,isRenderable:function isRenderable(){return this.geometry&&this.material&&!this.invisible&&this.geometry.vertexCount>0;},beforeRender:function beforeRender(e){},afterRender:function afterRender(e,t){},getBoundingBox:function getBoundingBox(e,t){return t=a.prototype.getBoundingBox.call(this,e,t),this.geometry&&this.geometry.boundingBox&&t.union(this.geometry.boundingBox),t;},render:function render(e,t){var t=t||this.material.shader,r=this.geometry,a=this.mode,c=r.vertexCount,d=r.isUseIndices(),f=s.getExtension(e,"OES_element_index_uint"),p=f&&c>65535,_=p?e.UNSIGNED_INT:e.UNSIGNED_SHORT,m=s.getExtension(e,"OES_vertex_array_object"),g=!r.dynamic,v=this._renderInfo;v.vertexCount=c,v.triangleCount=0,v.drawCallCount=0;var y=!1;if(i=e.__GLID__+"-"+r.__GUID__+"-"+t.__GUID__,i!==u?y=!0:(c>65535&&!f&&d||m&&g||r._cache.isDirty())&&(y=!0),u=i,y){var x=this._drawCache[i];if(!x){var T=r.getBufferChunks(e);if(!T)return;x=[];for(var b=0;b<T.length;b++){for(var w=T[b],E=w.attributeBuffers,S=w.indicesBuffer,A=[],M=[],C=0;C<E.length;C++){var L,N=E[C],R=N.name,D=N.semantic;if(D){var I=t.attribSemantics[D];L=I&&I.symbol;}else L=R;L&&t.attributeTemplates[L]&&(A.push(N),M.push(L));}var P=new n(A,M,S);x.push(P);}g&&(this._drawCache[i]=x);}for(var O=0;O<x.length;O++){var P=x[O],F=!0;m&&g&&(null==P.vao?P.vao=m.createVertexArrayOES():F=!1,m.bindVertexArrayOES(P.vao));var A=P.availableAttributes,S=P.indicesBuffer;if(F)for(var B=t.enableAttributes(e,P.availableAttributeSymbols,m&&g&&P.vao),C=0;C<A.length;C++){var U=B[C];if(-1!==U){var z,N=A[C],G=N.buffer,k=N.size;switch(N.type){case"float":z=e.FLOAT;break;case"byte":z=e.BYTE;break;case"ubyte":z=e.UNSIGNED_BYTE;break;case"short":z=e.SHORT;break;case"ushort":z=e.UNSIGNED_SHORT;break;default:z=e.FLOAT;}e.bindBuffer(e.ARRAY_BUFFER,G),e.vertexAttribPointer(U,k,z,!1,0,0);}}a!=o.LINES&&a!=o.LINE_STRIP&&a!=o.LINE_LOOP||e.lineWidth(this.lineWidth),l=S,h=r.isUseIndices(),h?(F&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,S.buffer),e.drawElements(a,S.count,_,0),v.triangleCount+=S.count/3):e.drawArrays(a,0,c),m&&g&&m.bindVertexArrayOES(null),v.drawCallCount++;}}else h?(e.drawElements(a,l.count,_,0),v.triangleCount=l.count/3):e.drawArrays(a,0,c),v.drawCallCount=1;return v;},clone:function(){var e=["castShadow","receiveShadow","mode","culling","cullFace","frontFace","frustumCulling"];return function(){var t=a.prototype.clone.call(this);t.geometry=this.geometry,t.material=this.material;for(var r=0;r<e.length;r++){var n=e[r];t[n]!==this[n]&&(t[n]=this[n]);}return t;};}()});d.beforeFrame=function(){u=0;},d.POINTS=o.POINTS,d.LINES=o.LINES,d.LINE_LOOP=o.LINE_LOOP,d.LINE_STRIP=o.LINE_STRIP,d.TRIANGLES=o.TRIANGLES,d.TRIANGLE_STRIP=o.TRIANGLE_STRIP,d.TRIANGLE_FAN=o.TRIANGLE_FAN,d.BACK=o.BACK,d.FRONT=o.FRONT,d.FRONT_AND_BACK=o.FRONT_AND_BACK,d.CW=o.CW,d.CCW=o.CCW,d.RenderInfo=c,e.exports=d;},function(e,t,r){"use strict";var n=r(182),i=r(71),a=r(11),o=n.extend(function(){return{_outputs:[],_texturePool:new i(),_frameBuffer:new a({depthBuffer:!1})};},{addNode:function addNode(e){n.prototype.addNode.call(this,e),e._compositor=this;},render:function render(e,t){if(this._dirty){this.update(),this._dirty=!1,this._outputs.length=0;for(var r=0;r<this.nodes.length;r++){this.nodes[r].outputs||this._outputs.push(this.nodes[r]);}}for(var r=0;r<this.nodes.length;r++){this.nodes[r].beforeFrame();}for(var r=0;r<this._outputs.length;r++){this._outputs[r].updateReference();}for(var r=0;r<this._outputs.length;r++){this._outputs[r].render(e,t);}for(var r=0;r<this.nodes.length;r++){this.nodes[r].afterFrame();}},allocateTexture:function allocateTexture(e){return this._texturePool.get(e);},releaseTexture:function releaseTexture(e){this._texturePool.put(e);},getFrameBuffer:function getFrameBuffer(){return this._frameBuffer;},dispose:function dispose(e){this._texturePool.clear(e.gl||e);}});e.exports=o;},function(e,t,r){"use strict";function n(e){u.defaultsWithPropList(e,h,c),i(e);for(var t="",r=0;r<c.length;r++){t+=e[c[r]].toString();}return t;}function i(e){var t=a(e.width,e.height);e.format===s.DEPTH_COMPONENT&&(e.useMipmap=!1),t&&e.useMipmap||(e.minFilter==s.NEAREST_MIPMAP_NEAREST||e.minFilter==s.NEAREST_MIPMAP_LINEAR?e.minFilter=s.NEAREST:e.minFilter!=s.LINEAR_MIPMAP_LINEAR&&e.minFilter!=s.LINEAR_MIPMAP_NEAREST||(e.minFilter=s.LINEAR),e.wrapS=s.CLAMP_TO_EDGE,e.wrapT=s.CLAMP_TO_EDGE);}function a(e,t){return 0==(e&e-1)&&0==(t&t-1);}var o=r(6),s=r(9),u=r(23),l=function l(){this._pool={},this._allocatedTextures=[];};l.prototype={constructor:l,get:function get(e){var t=n(e);this._pool.hasOwnProperty(t)||(this._pool[t]=[]);var r=this._pool[t];if(!r.length){var i=new o(e);return this._allocatedTextures.push(i),i;}return r.pop();},put:function put(e){var t=n(e);this._pool.hasOwnProperty(t)||(this._pool[t]=[]),this._pool[t].push(e);},clear:function clear(e){for(var t=0;t<this._allocatedTextures.length;t++){this._allocatedTextures[t].dispose(e);}this._pool={},this._allocatedTextures=[];}};var h={width:512,height:512,type:s.UNSIGNED_BYTE,format:s.RGBA,wrapS:s.CLAMP_TO_EDGE,wrapT:s.CLAMP_TO_EDGE,minFilter:s.LINEAR_MIPMAP_LINEAR,magFilter:s.LINEAR,useMipmap:!0,anisotropic:1,flipY:!0,unpackAlignment:4,premultiplyAlpha:!1},c=Object.keys(h);e.exports=l;},function(e,t,r){"use strict";function n(e){var t=new XMLHttpRequest();t.open("get",e.url),t.responseType=e.responseType||"text",e.onprogress&&(t.onprogress=function(t){if(t.lengthComputable){var r=t.loaded/t.total;e.onprogress(r,t.loaded,t.total);}else e.onprogress(null);}),t.onload=function(r){e.onload&&e.onload(t.response);},e.onerror&&(t.onerror=e.onerror),t.send(null);}e.exports={get:n};},function(e,t,r){"use strict";function n(e,t,r){h.identity();var n=new a({widthSegments:t,heightSegments:r});switch(e){case"px":o.translate(h,h,s.POSITIVE_X),o.rotateY(h,h,Math.PI/2);break;case"nx":o.translate(h,h,s.NEGATIVE_X),o.rotateY(h,h,-Math.PI/2);break;case"py":o.translate(h,h,s.POSITIVE_Y),o.rotateX(h,h,-Math.PI/2);break;case"ny":o.translate(h,h,s.NEGATIVE_Y),o.rotateX(h,h,Math.PI/2);break;case"pz":o.translate(h,h,s.POSITIVE_Z);break;case"nz":o.translate(h,h,s.NEGATIVE_Z),o.rotateY(h,h,Math.PI);}return n.applyTransform(h),n;}var i=r(12),a=r(53),o=r(10),s=r(3),u=r(13),l=r(19),h=new o(),c=i.extend({widthSegments:1,heightSegments:1,depthSegments:1,inside:!1},function(){this.build();},{build:function build(){var e={px:n("px",this.depthSegments,this.heightSegments),nx:n("nx",this.depthSegments,this.heightSegments),py:n("py",this.widthSegments,this.depthSegments),ny:n("ny",this.widthSegments,this.depthSegments),pz:n("pz",this.widthSegments,this.heightSegments),nz:n("nz",this.widthSegments,this.heightSegments)},t=["position","texcoord0","normal"],r=0,i=0;for(var a in e){r+=e[a].vertexCount,i+=e[a].indices.length;}for(var o=0;o<t.length;o++){this.attributes[t[o]].init(r);}this.indices=new l.Uint16Array(i);var s=0,h=0;for(var a in e){for(var c=e[a],o=0;o<t.length;o++){for(var d=t[o],f=c.attributes[d].value,p=c.attributes[d].size,_="normal"===d,m=0;m<f.length;m++){var g=f[m];this.inside&&_&&(g=-g),this.attributes[d].value[m+p*h]=g;}}for(var m=0;m<c.indices.length;m++){this.indices[m+s]=h+c.indices[m];}s+=c.indices.length,h+=c.vertexCount;}this.boundingBox=new u(),this.boundingBox.max.set(1,1,1),this.boundingBox.min.set(-1,-1,-1);}});e.exports=c;},function(e,t,r){"use strict";var n=r(12),i=r(1),a=(i.vec3,i.vec2,r(13)),o=n.extend({widthSegments:20,heightSegments:20,phiStart:0,phiLength:2*Math.PI,thetaStart:0,thetaLength:Math.PI,radius:1},function(){this.build();},{build:function build(){var e=this.heightSegments,t=this.widthSegments,r=this.attributes.position,n=this.attributes.texcoord0,i=this.attributes.normal,o=(t+1)*(e+1);r.init(o),n.init(o),i.init(o);var s,u,l,h,c,d,f,p=o>65535?Uint32Array:Uint16Array,_=this.indices=new p(t*e*6),m=this.radius,g=this.phiStart,v=this.phiLength,y=this.thetaStart,x=this.thetaLength,m=this.radius,T=[],b=[],w=0,E=1/m;for(f=0;f<=e;f++){for(d=0;d<=t;d++){h=d/t,c=f/e,s=-m*Math.cos(g+h*v)*Math.sin(y+c*x),u=m*Math.cos(y+c*x),l=m*Math.sin(g+h*v)*Math.sin(y+c*x),T[0]=s,T[1]=u,T[2]=l,b[0]=h,b[1]=c,r.set(w,T),n.set(w,b),T[0]*=E,T[1]*=E,T[2]*=E,i.set(w,T),w++;}}var S,A,M,C,L=t+1,N=0;for(f=0;f<e;f++){for(d=0;d<t;d++){A=f*L+d,S=f*L+d+1,C=(f+1)*L+d+1,M=(f+1)*L+d,_[N++]=S,_[N++]=A,_[N++]=C,_[N++]=A,_[N++]=M,_[N++]=C;}}this.boundingBox=new a(),this.boundingBox.max.set(m,m,m),this.boundingBox.min.set(-m,-m,-m);}});e.exports=o;},function(e,t,r){"use strict";var n=r(16),i=r(3),a=n.extend({shadowBias:.001,shadowSlopeScale:2,shadowCascade:1,cascadeSplitLogFactor:.2},{type:"DIRECTIONAL_LIGHT",uniformTemplates:{directionalLightDirection:{type:"3f",value:function value(e){return e.__dir=e.__dir||new i(),e.__dir.copy(e.worldTransform.z).negate()._array;}},directionalLightColor:{type:"3f",value:function value(e){var t=e.color,r=e.intensity;return[t[0]*r,t[1]*r,t[2]*r];}}},clone:function clone(){var e=n.prototype.clone.call(this);return e.shadowBias=this.shadowBias,e.shadowSlopeScale=this.shadowSlopeScale,e;}});e.exports=a;},function(e,t,r){"use strict";var n=r(16),i=n.extend({range:100,castShadow:!1},{type:"POINT_LIGHT",uniformTemplates:{pointLightPosition:{type:"3f",value:function value(e){return e.getWorldPosition()._array;}},pointLightRange:{type:"1f",value:function value(e){return e.range;}},pointLightColor:{type:"3f",value:function value(e){var t=e.color,r=e.intensity;return[t[0]*r,t[1]*r,t[2]*r];}}},clone:function clone(){var e=n.prototype.clone.call(this);return e.range=this.range,e;}});e.exports=i;},function(e,t,r){"use strict";var n=r(16),i=r(3),a=n.extend({range:20,umbraAngle:30,penumbraAngle:45,falloffFactor:2,shadowBias:2e-4,shadowSlopeScale:2},{type:"SPOT_LIGHT",uniformTemplates:{spotLightPosition:{type:"3f",value:function value(e){return e.getWorldPosition()._array;}},spotLightRange:{type:"1f",value:function value(e){return e.range;}},spotLightUmbraAngleCosine:{type:"1f",value:function value(e){return Math.cos(e.umbraAngle*Math.PI/180);}},spotLightPenumbraAngleCosine:{type:"1f",value:function value(e){return Math.cos(e.penumbraAngle*Math.PI/180);}},spotLightFalloffFactor:{type:"1f",value:function value(e){return e.falloffFactor;}},spotLightDirection:{type:"3f",value:function value(e){return e.__dir=e.__dir||new i(),e.__dir.copy(e.worldTransform.z).negate()._array;}},spotLightColor:{type:"3f",value:function value(e){var t=e.color,r=e.intensity;return[t[0]*r,t[1]*r,t[2]*r];}}},clone:function clone(){var e=n.prototype.clone.call(this);return e.range=this.range,e.umbraAngle=this.umbraAngle,e.penumbraAngle=this.penumbraAngle,e.falloffFactor=this.falloffFactor,e.shadowBias=this.shadowBias,e.shadowSlopeScale=this.shadowSlopeScale,e;}});e.exports=a;},function(e,t,r){"use strict";var n=r(3),i=r(1),a=i.vec3,o=i.mat4,s=i.vec4,u=function u(e,t){this.normal=e||new n(0,1,0),this.distance=t||0;};u.prototype={constructor:u,distanceToPoint:function distanceToPoint(e){return a.dot(e._array,this.normal._array)-this.distance;},projectPoint:function projectPoint(e,t){t||(t=new n());var r=this.distanceToPoint(e);return a.scaleAndAdd(t._array,e._array,this.normal._array,-r),t._dirty=!0,t;},normalize:function normalize(){var e=1/a.len(this.normal._array);a.scale(this.normal._array,e),this.distance*=e;},intersectFrustum:function intersectFrustum(e){for(var t=e.vertices,r=this.normal._array,n=a.dot(t[0]._array,r)>this.distance,i=1;i<8;i++){if(a.dot(t[i]._array,r)>this.distance!=n)return!0;}},intersectLine:function(){var e=a.create();return function(t,r,i){var o=this.distanceToPoint(t),s=this.distanceToPoint(r);if(o>0&&s>0||o<0&&s<0)return null;var u=this.normal._array,l=this.distance,h=t._array;a.sub(e,r._array,t._array),a.normalize(e,e);var c=a.dot(u,e);if(0===c)return null;i||(i=new n());var d=(a.dot(u,h)-l)/c;return a.scaleAndAdd(i._array,h,e,-d),i._dirty=!0,i;};}(),applyTransform:function(){var e=o.create(),t=s.create(),r=s.create();return r[3]=1,function(n){n=n._array,a.scale(r,this.normal._array,this.distance),s.transformMat4(r,r,n),this.distance=a.dot(r,this.normal._array),o.invert(e,n),o.transpose(e,e),t[3]=0,a.copy(t,this.normal._array),s.transformMat4(t,t,e),a.copy(this.normal._array,t);};}(),copy:function copy(e){a.copy(this.normal._array,e.normal._array),this.normal._dirty=!0,this.distance=e.distance;},clone:function clone(){var e=new u();return e.copy(this),e;}},e.exports=u;},function(e,t){var r={};r.isPowerOfTwo=function(e){return 0==(e&e-1);},r.nextPowerOfTwo=function(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e;},r.nearestPowerOfTwo=function(e){return Math.pow(2,Math.round(Math.log(e)/Math.LN2));},e.exports=r;},function(e,t,r){function n(){this._pool={};}function i(e,t,r){o[e]={vertex:t,fragment:r};}var a=r(8),o=(r(23),{});n.prototype.get=function(e,t){var r=[],n={},i={};"string"==typeof t?r=Array.prototype.slice.call(arguments,1):"[object Object]"==Object.prototype.toString.call(t)?(r=t.textures||[],n=t.vertexDefines||{},i=t.fragmentDefines||{}):t instanceof Array&&(r=t);var s=Object.keys(n),u=Object.keys(i);r.sort(),s.sort(),u.sort();var l=[e];l=l.concat(r);for(var h=0;h<s.length;h++){l.push(s[h],n[s[h]]);}for(var h=0;h<u.length;h++){l.push(u[h],i[u[h]]);}var c=l.join("_");if(this._pool[c])return this._pool[c];var d=o[e];if(!d)return void console.error('Shader "'+e+'" is not in the library');for(var f=new a({vertex:d.vertex,fragment:d.fragment}),h=0;h<r.length;h++){f.enableTexture(r[h]);}for(var e in n){f.define("vertex",e,n[e]);}for(var e in i){f.define("fragment",e,i[e]);}return this._pool[c]=f,f;},n.prototype.clear=function(){this._pool={};};var s=new n();e.exports={createLibrary:function createLibrary(){return new n();},get:function get(){return s.get.apply(s,arguments);},template:i,clear:function clear(){return s.clear();}};},function(e,t){e.exports="@export qtek.prez.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nattribute vec3 position : POSITION;\n\n#ifdef SKINNING\nattribute vec3 weight : WEIGHT;\nattribute vec4 joint : JOINT;\n\nuniform mat4 skinMatrix[JOINT_COUNT] : SKIN_MATRIX;\n#endif\n\nvoid main()\n{\n\n    vec3 skinnedPosition = position;\n\n#ifdef SKINNING\n\n    @import qtek.chunk.skin_matrix\n\n    skinnedPosition = (skinMatrixWS * vec4(position, 1.0)).xyz;\n#endif\n\n    gl_Position = worldViewProjection * vec4(skinnedPosition, 1.0);\n}\n\n@end\n\n\n@export qtek.prez.fragment\n\nvoid main()\n{\n    gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n}\n\n@end";},function(e,t){e.exports="undefined"!=typeof window&&(window.requestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){setTimeout(e,16);};},function(e,t,r){"use strict";function n(e,t,r,n){r<0&&(e+=r,r=-r),n<0&&(t+=n,n=-n),this.x=e,this.y=t,this.width=r,this.height=n;}var i=r(228),a=r(227),o=i.applyTransform,s=Math.min,u=Math.max;n.prototype={constructor:n,union:function union(e){var t=s(e.x,this.x),r=s(e.y,this.y);this.width=u(e.x+e.width,this.x+this.width)-t,this.height=u(e.y+e.height,this.y+this.height)-r,this.x=t,this.y=r;},applyTransform:function(){var e=[],t=[],r=[],n=[];return function(i){if(i){e[0]=r[0]=this.x,e[1]=n[1]=this.y,t[0]=n[0]=this.x+this.width,t[1]=r[1]=this.y+this.height,o(e,e,i),o(t,t,i),o(r,r,i),o(n,n,i),this.x=s(e[0],t[0],r[0],n[0]),this.y=s(e[1],t[1],r[1],n[1]);var a=u(e[0],t[0],r[0],n[0]),l=u(e[1],t[1],r[1],n[1]);this.width=a-this.x,this.height=l-this.y;}};}(),calculateTransform:function calculateTransform(e){var t=this,r=e.width/t.width,n=e.height/t.height,i=a.create();return a.translate(i,i,[-t.x,-t.y]),a.scale(i,i,[r,n]),a.translate(i,i,[e.x,e.y]),i;},intersect:function intersect(e){if(!e)return!1;e instanceof n||(e=n.create(e));var t=this,r=t.x,i=t.x+t.width,a=t.y,o=t.y+t.height,s=e.x,u=e.x+e.width,l=e.y,h=e.y+e.height;return!(i<s||u<r||o<l||h<a);},contain:function contain(e,t){var r=this;return e>=r.x&&e<=r.x+r.width&&t>=r.y&&t<=r.y+r.height;},clone:function clone(){return new n(this.x,this.y,this.width,this.height);},copy:function copy(e){this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height;},plain:function plain(){return{x:this.x,y:this.y,width:this.width,height:this.height};}},n.create=function(e){return new n(e.x,e.y,e.width,e.height);},e.exports=n;},function(e,t){var r=function r(){this.head=null,this.tail=null,this._len=0;},n=r.prototype;n.insert=function(e){var t=new i(e);return this.insertEntry(t),t;},n.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++;},n.remove=function(e){var t=e.prev,r=e.next;t?t.next=r:this.head=r,r?r.prev=t:this.tail=t,e.next=e.prev=null,this._len--;},n.len=function(){return this._len;},n.clear=function(){this.head=this.tail=null,this._len=0;};var i=function i(e){this.value=e,this.next,this.prev;},a=function a(e){this._list=new r(),this._map={},this._maxSize=e||10,this._lastRemovedEntry=null;},o=a.prototype;o.put=function(e,t){var r=this._list,n=this._map,a=null;if(null==n[e]){var o=r.len(),s=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var u=r.head;r.remove(u),delete n[u.key],a=u.value,this._lastRemovedEntry=u;}s?s.value=t:s=new i(t),s.key=e,r.insertEntry(s),n[e]=s;}return a;},o.get=function(e){var t=this._map[e],r=this._list;if(null!=t)return t!==r.tail&&(r.remove(t),r.insertEntry(t)),t.value;},o.clear=function(){this._list.clear(),this._map={};},e.exports=a;},function(e,t,r){var n=r(0);r(100),r(99),r(98),n.registerVisual(n.util.curry(r(15),"bar3D")),n.registerProcessor(function(e,t){e.eachSeriesByType("bar3d",function(e){var t=e.getData();t.filterSelf(function(e){return t.hasValue(e);});});});},function(e,t,r){var n=r(0);r(106),r(107),n.registerVisual(n.util.curry(r(40),"graphGL","circle",null)),n.registerVisual(n.util.curry(r(15),"graphGL")),n.registerVisual(function(e){var t={};e.eachSeriesByType("graphGL",function(e){var r=e.getCategoriesData(),n=e.getData(),i={};r.each(function(n){var a=r.getName(n);i[a]=n;var o=r.getItemModel(n),s=o.get("itemStyle.color")||e.getColorFromPalette(a,t);r.setItemVisual(n,"color",s);}),r.count()&&n.each(function(e){var t=n.getItemModel(e),a=t.getShallow("category");null!=a&&("string"==typeof a&&(a=i[a]),n.getItemVisual(e,"color",!0)||n.setItemVisual(e,"color",r.getItemVisual(a,"color")));});});}),n.registerVisual(function(e){e.eachSeriesByType("graphGL",function(e){var t=e.getGraph(),r=e.getEdgeData(),n="lineStyle.color".split("."),i="lineStyle.opacity".split(".");r.setVisual("color",e.get(n)),r.setVisual("opacity",e.get(i)),r.each(function(e){var a=r.getItemModel(e),o=t.getEdgeByIndex(e),s=a.get(n),u=a.get(i);switch(s){case"source":s=o.node1.getVisual("color");break;case"target":s=o.node2.getVisual("color");}o.setVisual("color",s),o.setVisual("opacity",u);});});}),n.registerAction({type:"graphGLRoam",event:"graphglroam",update:"series.graphGL:roam"},function(e,t){t.eachComponent({mainType:"series",query:e},function(t){t.setView(e);});}),n.registerAction({type:"graphGLStartLayout",event:"graphgllayoutstarted",update:"series.graphGL:startLayout"},function(){}),n.registerAction({type:"graphGLStopLayout",event:"graphgllayoutstopped",update:"series.graphGL:stopLayout"},function(){});},function(e,t,r){var n=r(0);r(111),r(112),n.registerVisual(n.util.curry(r(40),"line3D","circle",null)),n.registerVisual(n.util.curry(r(15),"line3D")),n.registerLayout(function(e,t){e.eachSeriesByType("line3D",function(e){var t=e.getData(),r=e.coordinateSystem;if(r){if("cartesian3D"!==r.type)return;var n=new Float32Array(3*t.count()),i=[],a=[];r&&t.each(["x","y","z"],function(e,t,o,s){i[0]=e,i[1]=t,i[2]=o,r.dataToPoint(i,a),n[3*s]=a[0],n[3*s+1]=a[1],n[3*s+2]=a[2];}),t.setLayout("points",n);}});});},function(e,t,r){var n=r(0);r(117),r(114),r(113),n.registerVisual(n.util.curry(r(15),"lines3D")),n.registerAction({type:"lines3DPauseEffect",event:"lines3deffectpaused",update:"series.lines3D:pauseEffect"},function(){}),n.registerAction({type:"lines3DResumeEffect",event:"lines3deffectresumed",update:"series.lines3D:resumeEffect"},function(){}),n.registerAction({type:"lines3DToggleEffect",event:"lines3deffectchanged",update:"series.lines3D:toggleEffect"},function(){});},function(e,t,r){var n=r(0);r(119),r(120),r(63),n.registerVisual(n.util.curry(r(15),"map3D")),n.registerAction({type:"map3DChangeCamera",event:"map3dcamerachanged",update:"series:updateCamera"},function(e,t){t.eachComponent({mainType:"series",subType:"map3D",query:e},function(t){t.setView(e);});});},function(e,t,r){var n=r(0);r(121),r(122),n.registerVisual(n.util.curry(r(40),"scatter3D","circle",null)),n.registerVisual(n.util.curry(r(15),"scatter3D")),n.registerLayout(function(e,t){e.eachSeriesByType("scatter3D",function(e){var t=e.getData(),r=e.coordinateSystem;if(r){if(r.dimensions.length<3)return;var n=new Float32Array(3*t.count()),i=[],a=[],o="globe"===r.type,s="geo3D"===r.type,u=e.get("distanceToGlobe"),l=e.get("distanceToGeo3D");r&&t.each(["x","y","z"],function(e,t,h,c){i[0]=e,i[1]=t,i[2]=o?u:s?r.size[1]+l:h,r.dataToPoint(i,a),n[3*c]=a[0],n[3*c+1]=a[1],n[3*c+2]=a[2];}),t.setLayout("points",n);}});});},function(e,t,r){var n=r(0);r(123),r(124),n.registerVisual(n.util.curry(r(40),"scatterGL","circle",null)),n.registerVisual(n.util.curry(r(15),"scatterGL")),n.registerLayout(function(e,t){e.eachSeriesByType("scatterGL",function(e){var t=e.getData(),r=e.coordinateSystem;if(r){var n=r.dimensions,i=new Float32Array(2*t.count());if(1===n.length)t.each(n[0],function(e,t){var n=r.dataToPoint(e);i[2*t]=n[0],i[2*t+1]=n[1];});else if(2===n.length){var a=[];t.each(n,function(e,t,n){a[0]=e,a[1]=t;var o=r.dataToPoint(a);i[2*n]=o[0],i[2*n+1]=o[1];});}t.setLayout("points",i);}});});},function(e,t,r){var n=r(0);r(125),r(126),r(127),n.registerVisual(n.util.curry(r(15),"surface"));},function(e,t,r){var n=r(0);r(128),r(129),r(63),n.registerAction({type:"geo3DChangeCamera",event:"geo3dcamerachanged",update:"series:updateCamera"},function(e,t){t.eachComponent({mainType:"geo3D",query:e},function(t){t.setView(e);});});},function(e,t,r){var n=r(0);r(130),r(131),r(141),n.registerAction({type:"globeChangeCamera",event:"globecamerachanged",update:"series:updateCamera"},function(e,t){t.eachComponent({mainType:"globe",query:e},function(t){t.setView(e);});});},function(e,t,r){r(132),r(135),r(136),r(144);var n=r(0);n.registerAction({type:"grid3DChangeCamera",event:"grid3dcamerachanged",update:"series:updateCamera"},function(e,t){t.eachComponent({mainType:"grid3D",query:e},function(t){t.setView(e);});}),n.registerAction({type:"grid3DShowAxisPointer",event:"grid3dshowaxispointer",update:"grid3D:showAxisPointer"},function(e,t){}),n.registerAction({type:"grid3DHideAxisPointer",event:"grid3dhideaxispointer",update:"grid3D:hideAxisPointer"},function(e,t){});},function(e,t,r){function n(e){throw new Error(e+" version is too old, needs "+h[e]+" or higher");}function i(e,t){e.replace(".","")-0<h[t].replace(".","")-0&&n(t),console.log("Loaded "+t+", version "+e);}function a(e){this._layers={},this._zr=e;}var o={version:"1.0.0-alpha.4",dependencies:{echarts:"3.5.3",qtek:"0.3.5"}},s=r(0),u=r(221),l=r(145),h=o.dependencies;i(u,"qtek"),i(s.version,"echarts"),a.prototype.update=function(e,t){function r(e){var t=e.get("zlevel"),r=n._layers,a=r[t];if(!a){if(a=r[t]=new l("gl-"+t,i),i.painter.isSingleCanvas()){a.virtual=!0;var o=new s.graphic.Image({z:1e4,style:{image:a.renderer.canvas},silent:!0});a.__hostImage=o,i.add(o);}i.painter.insertLayer(t,a);}return a.__hostImage&&a.__hostImage.setStyle({width:a.renderer.getWidth(),height:a.renderer.getHeight()}),a;}var n=this,i=t.getZr();if(!i.getWidth()||!i.getHeight())return void console.warn("Dom has no width or height");for(var a in this._layers){this._layers[a].removeViewsAll();}e.eachComponent(function(n,i){if("series"!==n){var a=t.getViewOfComponentModel(i),o=i.coordinateSystem;if(a.__ecgl__){var s;if(o){if(!o.viewGL)return void console.error("Can't find viewGL in coordinateSystem of component "+i.id);s=o.viewGL;}else{if(!i.viewGL)return void console.error("Can't find viewGL of component "+i.id);s=o.viewGL;}var s=o.viewGL,u=r(i);u.addView(s),a.afterRender&&a.afterRender(i,e,t,u);}}}),e.eachSeries(function(n){var i=t.getViewOfSeriesModel(n),a=n.coordinateSystem;if(i.__ecgl__){if(a&&!a.viewGL&&!i.viewGL)return void console.error("Can't find viewGL of series "+i.id);var o=a&&a.viewGL||i.viewGL,s=r(n);s.addView(o),i.afterRender&&i.afterRender(n,e,t,s);var u=n.get("silent");i.groupGL&&i.groupGL.traverse(function(e){e.isRenderable&&e.isRenderable()&&(e.ignorePicking=null!=e.$ignorePicking?e.$ignorePicking:u);});}});};var c=s.init;s.init=function(){var e=c.apply(this,arguments);return e.getZr().painter.getRenderedCanvas=function(e){function t(e,t){var r=u._zlevelList;null==e&&(e=-1/0);for(var n,a=0;a<r.length;a++){var o=r[a],s=u._layers[o];if(!s.__builtin__&&o>e&&o<t){n=s;break;}}n&&n.renderToCanvas&&(i.save(),n.renderToCanvas(i),i.restore());}if(e=e||{},this._singleCanvas)return this._layers[0].dom;var r=document.createElement("canvas"),n=e.pixelRatio||this.dpr;r.width=this.getWidth()*n,r.height=this.getHeight()*n;var i=r.getContext("2d");i.dpr=n,i.clearRect(0,0,r.width,r.height),e.backgroundColor&&(i.fillStyle=e.backgroundColor,i.fillRect(0,0,r.width,r.height));for(var a,o=this.storage.getDisplayList(!0),s={},u=this,l={ctx:i},h=0;h<o.length;h++){var c=o[h];c.zlevel!==a&&(t(a,c.zlevel),a=c.zlevel),this._doPaintEl(c,l,!0,s);}return t(a,1/0),r;},e;},s.registerPostUpdate(function(e,t){var r=t.getZr();(r.__egl=r.__egl||new a(r)).update(e,t);}),s.registerPreprocessor(r(155)),s.graphicGL=r(2),e.exports=a;},function(e,t,r){r(96),r(95),r(93),r(94),r(85),r(87),r(90),r(88),r(92),r(89),r(91),r(86);},function(e,t,r){var n=r(0),i=r(26),a=r(48),o=r(25),s=n.extendSeriesModel({type:"series.bar3D",dependencies:["globe"],visualColorAccessPath:"itemStyle.color",getInitialData:function getInitialData(e,t){var r=n.helper.completeDimensions(["x","y","z"],e.data,{defaultNames:["x","y","z","value"]}),i=new n.List(r,this);return i.initData(e.data),i;},getFormattedLabel:function getFormattedLabel(e,t,r,n){var i=a.getFormattedLabel(this,e,t,r,n);return null==i&&(i=this.getData().get("z",e)),i;},formatTooltip:function formatTooltip(e){return o(this,e);},defaultOption:{coordinateSystem:"cartesian3D",globeIndex:0,grid3DIndex:0,zlevel:-10,bevelSize:0,bevelSmoothness:2,onGridPlane:"xy",shading:"color",minHeight:0,maxHeight:100,itemStyle:{opacity:1},label:{show:!1,distance:2,textStyle:{fontSize:20,borderWidth:1,borderColor:"#fff"}},emphasis:{label:{show:!0}},animationDurationUpdate:500}});n.util.merge(s.prototype,i),e.exports=s;},function(e,t,r){function n(e){var t=a.createShader("ecgl."+e);return t.define("both","VERTEX_COLOR"),t;}var i=r(0),a=r(2),o=(r(4),r(160)),s=r(46),u=r(1).vec3;e.exports=i.extendChartView({type:"bar3D",__ecgl__:!0,init:function init(e,t){this.groupGL=new a.Node();var r={};a.COMMON_SHADERS.forEach(function(e){r[e]=new a.Material({shader:n(e)});}),this._materials=r,this._api=t,this._labelsBuilder=new s(256,256,t);var i=this;this._labelsBuilder.getLabelPosition=function(e,t,r){if(i._data){var n=i._data.getItemLayout(e),a=n[0],o=n[1],s=n[2][1];return u.scaleAndAdd([],a,o,r+s);}return[0,0];},this._labelsBuilder.getMesh().renderOrder=100;},render:function render(e,t,r){var n=this._prevBarMesh;this._prevBarMesh=this._barMesh,this._barMesh=n,this._barMesh||(this._barMesh=new a.Mesh({geometry:new o(),shadowDepthMaterial:new a.Material({shader:new a.Shader({vertex:a.Shader.source("ecgl.sm.depth.vertex"),fragment:a.Shader.source("ecgl.sm.depth.fragment")})}),renderOrder:10,renderNormal:!0})),this.groupGL.remove(this._prevBarMesh),this.groupGL.add(this._barMesh),this.groupGL.add(this._labelsBuilder.getMesh());var i=e.coordinateSystem;if(this._doRender(e,r),i&&i.viewGL){i.viewGL.add(this.groupGL);var s=i.viewGL.isLinearSpace()?"define":"undefine";this._barMesh.material.shader[s]("fragment","SRGB_DECODE");}this._data=e.getData(),this._labelsBuilder.updateData(this._data),this._labelsBuilder.updateLabels(),this._updateAnimation(e);},_updateAnimation:function _updateAnimation(e){a.updateVertexAnimation([["prevPosition","position"],["prevNormal","normal"]],this._prevBarMesh,this._barMesh,e);},_doRender:function _doRender(e,t){var r=e.getData(),n=e.get("shading"),i="color"!==n,o=this,s=this._barMesh;this._materials[n]?s.material=this._materials[n]:s.material=this._materials.lambert,a.setMaterialFromModel(n,s.material,e,t),s.geometry.enableNormal=i,s.geometry.resetOffset();var u=e.get("bevelSize"),l=e.get("bevelSmoothness");s.geometry.bevelSegments=l,s.geometry.bevelSize=u;var h=[],c=new Float32Array(4*r.count()),d=0,f=0,p=!1;r.each(function(e){if(r.hasValue(e)){var t=r.getItemVisual(e,"color"),n=r.getItemVisual(e,"opacity");null==n&&(n=1),a.parseColor(t,h),h[3]*=n,c[d++]=h[0],c[d++]=h[1],c[d++]=h[2],c[d++]=h[3],h[3]>0&&f++,h[3]<.99&&(p=!0);}}),s.geometry.setBarCount(f);var _=r.getLayout("orient"),m=this._barIndexOfData=new Int32Array(r.count()),f=0;r.each(function(e){if(!r.hasValue(e))return void(m[e]=-1);var t=r.getItemLayout(e),n=t[0],i=t[1],a=t[2],s=4*e;h[0]=c[s++],h[1]=c[s++],h[2]=c[s++],h[3]=c[s++],h[3]>0&&(o._barMesh.geometry.addBar(n,i,_,a,h,e),m[e]=f++);}),s.geometry.dirty(),s.geometry.updateBoundingBox();var g=s.material;g.transparent=p,g.depthMask=!p,s.geometry.sortTriangles=p,this._initHandler(e,t);},_initHandler:function _initHandler(e,t){var r=e.getData(),n=this._barMesh,i="cartesian3D"===e.coordinateSystem.type;n.seriesIndex=e.seriesIndex;var a=-1;n.off("mousemove"),n.off("mouseout"),n.on("mousemove",function(e){var o=n.geometry.getDataIndexOfVertex(e.triangle[0]);o!==a&&(this._downplay(a),this._highlight(o),this._labelsBuilder.updateLabels([o]),i&&t.dispatchAction({type:"grid3DShowAxisPointer",value:[r.get("x",o),r.get("y",o),r.get("z",o)]})),a=o,n.dataIndex=o;},this),n.on("mouseout",function(e){this._downplay(a),this._labelsBuilder.updateLabels(),a=-1,n.dataIndex=-1,i&&t.dispatchAction({type:"grid3DHideAxisPointer"});},this);},_highlight:function _highlight(e){var t=this._data;if(t){var r=this._barIndexOfData[e];if(!(r<0)){var n=t.getItemModel(e),o=n.getModel("emphasis.itemStyle"),s=o.get("color"),u=o.get("opacity");if(null==s){var l=t.getItemVisual(e,"color");s=i.color.lift(l,-.4);}null==u&&(u=t.getItemVisual(e,"opacity"));var h=a.parseColor(s);h[3]*=u,this._barMesh.geometry.setColor(r,h),this._api.getZr().refresh();}}},_downplay:function _downplay(e){var t=this._data;if(t){var r=this._barIndexOfData[e];if(!(r<0)){var n=t.getItemVisual(e,"color"),i=t.getItemVisual(e,"opacity"),o=a.parseColor(n);o[3]*=i,this._barMesh.geometry.setColor(r,o),this._api.getZr().refresh();}}},remove:function remove(){this.groupGL.removeAll();},dispose:function dispose(){this.groupGL.removeAll();}});},function(e,t,r){function n(e,t){var r=e.getData(),n=r.getDataExtent("z",!0),i=[e.get("minHeight"),e.get("maxHeight")],u=Math.abs(n[1]-n[0])<1e-10,l=e.get("barSize");if(null==l){var h=t.radius*Math.PI*2;l=[h/720,h/720];}else a.util.isArray(l)||(l=[l,l]);r.each(["x","y","z"],function(e,o,h,c){var d=u?i[1]:a.number.linearMap(h,n,i),f=t.dataToPoint([e,o,0]),p=t.dataToPoint([e,o,d]),_=s.sub([],p,f),m=[l[0],d,l[1]];r.setItemLayout(c,[f,_,m]);}),r.setLayout("orient",o.UP._array);}function i(e,t){var r=e.getData(),n=r.getDataExtent("z",!0),i=[e.get("minHeight"),e.get("maxHeight")],o=Math.abs(n[1]-n[0])<1e-10,s=e.get("barSize");if(null==s){var u=Math.min(t.size[0],t.size[2]);s=[u/Math.sqrt(r.count()),u/Math.sqrt(r.count())];}else a.util.isArray(s)||(s=[s,s]);var l=[0,1,0];r.each(["x","y","z"],function(e,u,h,c){var d=o?i[1]:a.number.linearMap(h,n,i),f=t.dataToPoint([e,u,t.size[1]]),p=[s[0],d,s[1]];r.setItemLayout(c,[f,l,p]);}),r.setLayout("orient",[1,0,0]);}var a=r(0),o=r(3),s=r(1).vec3,u=r(101);a.registerLayout(function(e,t){e.eachSeriesByType("bar3D",function(e){var t=e.coordinateSystem,r=t&&t.type;"globe"===r?n(e,t):"cartesian3D"===r?u(e,t):"geo3D"===r&&i(e,t);});});},function(e,t,r){function n(e,t){var r=e.getData(),n=(e.get("onGridPlane"),e.get("barSize"));if(null==n){var o,s,u=t.size,l=t.getAxis("x"),h=t.getAxis("y");o="category"===l.type?.7*l.getBandWidth():.6*Math.round(u[0]/Math.sqrt(r.count())),s="category"===h.type?.7*h.getBandWidth():.6*Math.round(u[1]/Math.sqrt(r.count())),n=[o,s];}else i.util.isArray(n)||(n=[n,n]);var c=[0,1,0];r.each(["x","y","z"],function(e,i,o,s){var u=t.dataToPoint([e,i,0]),l=t.dataToPoint([e,i,o]),h=a.dist(u,l);0===Math.abs(h)&&(h=.1);var d=[n[0],h,n[1]];r.setItemLayout(s,[u,c,d]);}),r.setLayout("orient",[1,0,0]);}var i=r(0),a=r(1).vec3;e.exports=n;},function(e,t,r){var n=r(2),i=r(164),a=r(0),o=r(1),s=o.vec4;n.Shader.import(r(103));var u=n.Mesh.extend(function(){var e=new n.Geometry({dynamic:!0,attributes:{color:new n.Geometry.Attribute("color","float",4,"COLOR"),position:new n.Geometry.Attribute("position","float",3,"POSITION"),size:new n.Geometry.Attribute("size","float",1),prevPosition:new n.Geometry.Attribute("prevPosition","float",3),prevSize:new n.Geometry.Attribute("prevSize","float",1)}});a.util.extend(e,i);var t=new n.Material({shader:n.createShader("ecgl.sdfSprite"),transparent:!0,depthMask:!1});t.shader.enableTexture("sprite"),t.shader.define("both","VERTEX_COLOR");var r=new n.Texture2D({image:document.createElement("canvas"),flipY:!1});return t.set("sprite",r),e.pick=this._pick.bind(this),{geometry:e,material:t,mode:n.Mesh.POINTS,sizeScale:1};},{_pick:function _pick(e,t,r,i,a,o){var s=this._positionNDC;if(s)for(var u=r.viewport,l=2/u.width,h=2/u.height,c=this.geometry.vertexCount-1;c>=0;c--){var d;d=this.geometry.indices?this.geometry.indices[c]:c;var f=s[2*d],p=s[2*d+1],_=this.geometry.attributes.size.get(d)/this.sizeScale,m=_/2;if(e>f-m*l&&e<f+m*l&&t>p-m*h&&t<p+m*h){var g=new n.Vector3(),v=new n.Vector3();this.geometry.attributes.position.get(d,g._array),n.Vector3.transformMat4(v,g,this.worldTransform),o.push({vertexIndex:d,point:g,pointWorld:v,target:this,distance:v.distance(i.getWorldPosition())});}}},updateNDCPosition:function updateNDCPosition(e,t,r){var n=this._positionNDC,i=this.geometry;n&&n.length/2===i.vertexCount||(n=this._positionNDC=new Float32Array(2*i.vertexCount));for(var a=s.create(),o=0;o<i.vertexCount;o++){i.attributes.position.get(o,a),a[3]=1,s.transformMat4(a,a,e._array),s.scale(a,a,1/a[3]),n[2*o]=a[0],n[2*o+1]=a[1];}}});e.exports=u;},function(e,t){e.exports="@export ecgl.sdfSprite.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform float elapsedTime : 0;\n\nattribute vec3 position : POSITION;\nattribute float size;\n\n#ifdef VERTEX_COLOR\nattribute vec4 a_FillColor: COLOR;\nvarying vec4 v_Color;\n#endif\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nattribute float prevSize;\nuniform float percent : 1.0;\n#endif\n\n\n#ifdef POSITIONTEXTURE_ENABLED\nuniform sampler2D positionTexture;\n#endif\n\nvarying float v_Size;\n\nvoid main()\n{\n\n#ifdef POSITIONTEXTURE_ENABLED\n        gl_Position = worldViewProjection * vec4(texture2D(positionTexture, position.xy).xy, -10.0, 1.0);\n#else\n\n    #ifdef VERTEX_ANIMATION\n    vec3 pos = mix(prevPosition, position, percent);\n    #else\n    vec3 pos = position;\n    #endif\n    gl_Position = worldViewProjection * vec4(pos, 1.0);\n#endif\n\n#ifdef VERTEX_ANIMATION\n    v_Size = mix(prevSize, size, percent);\n#else\n    v_Size = size;\n#endif\n\n#ifdef VERTEX_COLOR\n    v_Color = a_FillColor;\n    #endif\n\n    gl_PointSize = v_Size;\n}\n\n@end\n\n@export ecgl.sdfSprite.fragment\n\nuniform vec4 color: [1, 1, 1, 1];\nuniform vec4 strokeColor: [1, 1, 1, 1];\nuniform float smoothing: 0.07;\n\nuniform float lineWidth: 0.0;\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\nvarying float v_Size;\n\nuniform sampler2D sprite;\n\n@import qtek.util.srgb\n\nvoid main()\n{\n    gl_FragColor = color;\n\n    vec4 _strokeColor = strokeColor;\n\n#ifdef VERTEX_COLOR\n    gl_FragColor *= v_Color;\n        #endif\n\n#ifdef SPRITE_ENABLED\n    float d = texture2D(sprite, gl_PointCoord).r;\n        gl_FragColor.a *= smoothstep(0.5 - smoothing, 0.5 + smoothing, d);\n\n    if (lineWidth > 0.0) {\n                float sLineWidth = lineWidth / 2.0;\n\n        float outlineMaxValue0 = 0.5 + sLineWidth;\n        float outlineMaxValue1 = 0.5 + sLineWidth + smoothing;\n        float outlineMinValue0 = 0.5 - sLineWidth - smoothing;\n        float outlineMinValue1 = 0.5 - sLineWidth;\n\n                if (d <= outlineMaxValue1 && d >= outlineMinValue0) {\n            float a = _strokeColor.a;\n            if (d <= outlineMinValue1) {\n                a = a * smoothstep(outlineMinValue0, outlineMinValue1, d);\n            }\n            else {\n                a = a * smoothstep(outlineMaxValue1, outlineMaxValue0, d);\n            }\n            gl_FragColor.rgb = mix(gl_FragColor.rgb * gl_FragColor.a, _strokeColor.rgb, a);\n            gl_FragColor.a = gl_FragColor.a * (1.0 - a) + a;\n        }\n    }\n#endif\n\n#ifdef SRGB_DECODE\n    gl_FragColor = sRGBToLinear(gl_FragColor);\n#endif\n}\n@end";},function(e,t,r){var n=r(6),i=r(5),a=r(110),o=a.toString();o=o.slice(o.indexOf("{")+1,o.lastIndexOf("}"));var s={barnesHutOptimize:!0,barnesHutTheta:1.5,repulsionByDegree:!0,linLogMode:!1,strongGravityMode:!1,gravity:1,scaling:1,edgeWeightInfluence:1,jitterTolerence:.1,preventOverlap:!1,dissuadeHubs:!1,gravityCenter:null},u=function u(e){for(var t in s){this[t]=s[t];}if(e)for(var t in e){this[t]=e[t];}this._nodes=[],this._edges=[],this._disposed=!1,this._positionTex=new n({type:i.FLOAT,flipY:!1,minFilter:i.NEAREST,magFilter:i.NEAREST});};u.prototype.initData=function(e,t){var r=new Blob([o]),n=window.URL.createObjectURL(r);this._worker=new Worker(n),this._worker.onmessage=this._$onupdate.bind(this),this._nodes=e,this._edges=t,this._frame=0;for(var i=e.length,a=t.length,s=new Float32Array(2*i),u=new Float32Array(i),l=new Float32Array(i),h=new Float32Array(2*a),c=new Float32Array(a),d=0;d<e.length;d++){var f=e[d];s[2*d]=f.x,s[2*d+1]=f.y,u[d]=null==f.mass?1:f.mass,l[d]=null==f.size?1:f.size;}for(var d=0;d<t.length;d++){var p=t[d],_=p.node1,m=p.node2;h[2*d]=_,h[2*d+1]=m,c[d]=null==p.weight?1:p.weight;}var g=Math.ceil(Math.sqrt(e.length)),v=g,y=new Float32Array(g*v*4),x=this._positionTex;x.width=g,x.height=v,x.pixels=y,this._worker.postMessage({cmd:"init",nodesPosition:s,nodesMass:u,nodesSize:l,edges:h,edgesWeight:c}),this._globalSpeed=1/0;},u.prototype.updateOption=function(e){var t={};for(var r in s){t[r]=s[r];}var n=this._nodes,i=this._edges,a=n.length;if(t.jitterTolerence=a>5e4?10:a>5e3?1:.1,t.scaling=a>100?2:10,t.barnesHutOptimize=a>1e3,e)for(var r in s){null!=e[r]&&(t[r]=e[r]);}if(!t.gravityCenter){for(var o=[1/0,1/0],u=[-1/0,-1/0],l=0;l<n.length;l++){o[0]=Math.min(n[l].x,o[0]),o[1]=Math.min(n[l].y,o[1]),u[0]=Math.max(n[l].x,u[0]),u[1]=Math.max(n[l].y,u[1]);}t.gravityCenter=[.5*(o[0]+u[0]),.5*(o[1]+u[1])];}for(var l=0;l<i.length;l++){var h=i[l].node1,c=i[l].node2;n[h].degree=(n[h].degree||0)+1,n[c].degree=(n[c].degree||0)+1;}this._worker&&this._worker.postMessage({cmd:"updateConfig",config:t});},u.prototype.update=function(e,t,r){null==t&&(t=1),t=Math.max(t,1),this._frame+=t,this._onupdate=r,this._worker&&this._worker.postMessage({cmd:"update",steps:Math.round(t)});},u.prototype._$onupdate=function(e){if(!this._disposed){var t=new Float32Array(e.data.buffer);this._globalSpeed=e.data.globalSpeed,this._positionArr=t,this._updateTexture(t),this._onupdate&&this._onupdate();}},u.prototype.getNodePositionTexture=function(){return this._positionTex;},u.prototype.getNodeUV=function(e,t){t=t||[];var r=this._positionTex.width,n=this._positionTex.height;return t[0]=e%r/(r-1),t[1]=Math.floor(e/r)/(n-1),t;},u.prototype.getNodes=function(){return this._nodes;},u.prototype.getEdges=function(){return this._edges;},u.prototype.isFinished=function(e){return this._globalSpeed<e&&this._frame>10;},u.prototype.getNodePosition=function(e,t){if(t||(t=new Float32Array(2*this._nodes.length)),this._positionArr)for(var r=0;r<this._positionArr.length;r++){t[r]=this._positionArr[r];}return t;},u.prototype._updateTexture=function(e){for(var t=this._positionTex.pixels,r=0,n=0;n<e.length;){t[r++]=e[n++],t[r++]=e[n++],t[r++]=1,t[r++]=1;}this._positionTex.dirty();},u.prototype.dispose=function(e){this._disposed=!0,this._worker=null;},e.exports=u;},function(e,t,r){function n(e){var t={type:a.Texture.FLOAT,minFilter:a.Texture.NEAREST,magFilter:a.Texture.NEAREST};this._positionSourceTex=new a.Texture2D(t),this._positionSourceTex.flipY=!1,this._positionTex=new a.Texture2D(t),this._positionPrevTex=new a.Texture2D(t),this._forceTex=new a.Texture2D(t),this._forcePrevTex=new a.Texture2D(t),this._weightedSumTex=new a.Texture2D(t),this._weightedSumTex.width=this._weightedSumTex.height=1,this._globalSpeedTex=new a.Texture2D(t),this._globalSpeedPrevTex=new a.Texture2D(t),this._globalSpeedTex.width=this._globalSpeedTex.height=1,this._globalSpeedPrevTex.width=this._globalSpeedPrevTex.height=1,this._nodeRepulsionPass=new o({fragment:a.Shader.source("ecgl.forceAtlas2.updateNodeRepulsion")}),this._positionPass=new o({fragment:a.Shader.source("ecgl.forceAtlas2.updatePosition")}),this._globalSpeedPass=new o({fragment:a.Shader.source("ecgl.forceAtlas2.calcGlobalSpeed")}),this._copyPass=new o({fragment:a.Shader.source("qtek.compositor.output")});var r=function r(e){e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ONE);};this._edgeForceMesh=new a.Mesh({geometry:new a.Geometry({attributes:{node1:new a.Geometry.Attribute("node1","float",2),node2:new a.Geometry.Attribute("node2","float",2),weight:new a.Geometry.Attribute("weight","float",1)},dynamic:!0,mainAttribute:"node1"}),material:new a.Material({transparent:!0,shader:a.createShader("ecgl.forceAtlas2.updateEdgeAttraction"),blend:r,depthMask:!1,depthText:!1}),mode:a.Mesh.POINTS}),this._weightedSumMesh=new a.Mesh({geometry:new a.Geometry({attributes:{node:new a.Geometry.Attribute("node","float",2)},dynamic:!0,mainAttribute:"node"}),material:new a.Material({transparent:!0,shader:a.createShader("ecgl.forceAtlas2.calcWeightedSum"),blend:r,depthMask:!1,depthText:!1}),mode:a.Mesh.POINTS}),this._framebuffer=new s({depthBuffer:!1}),this._dummyCamera=new a.OrthographicCamera({left:-1,right:1,top:1,bottom:-1,near:0,far:100}),this._globalSpeed=0;}var i=r(0),a=r(2),o=r(21),s=r(11);a.Shader.import(r(109));var u={repulsionByDegree:!0,linLogMode:!1,strongGravityMode:!1,gravity:1,scaling:1,edgeWeightInfluence:1,jitterTolerence:.1,preventOverlap:!1,dissuadeHubs:!1,gravityCenter:null};n.prototype.updateOption=function(e){for(var t in u){this[t]=u[t];}var r=this._nodes.length;if(this.jitterTolerence=r>5e4?10:r>5e3?1:.1,this.scaling=r>100?2:10,e)for(var t in u){null!=e[t]&&(this[t]=e[t]);}if(this.repulsionByDegree)for(var n=this._positionSourceTex.pixels,i=0;i<this._nodes.length;i++){n[4*i+2]=(this._nodes[i].degree||0)+1;}},n.prototype._updateGravityCenter=function(e){var t=this._nodes,r=this._edges;if(this.gravityCenter)this._gravityCenter=this.gravityCenter;else{for(var n=[1/0,1/0],i=[-1/0,-1/0],a=0;a<t.length;a++){n[0]=Math.min(t[a].x,n[0]),n[1]=Math.min(t[a].y,n[1]),i[0]=Math.max(t[a].x,i[0]),i[1]=Math.max(t[a].y,i[1]);}this._gravityCenter=[.5*(n[0]+i[0]),.5*(n[1]+i[1])];}for(var a=0;a<r.length;a++){var o=r[a].node1,s=r[a].node2;t[o].degree=(t[o].degree||0)+1,t[s].degree=(t[s].degree||0)+1;}},n.prototype.initData=function(e,t){this._nodes=e,this._edges=t,this._updateGravityCenter();var r=Math.ceil(Math.sqrt(e.length)),n=r,i=new Float32Array(r*n*4);this._resize(r,n);for(var a=0,o=0;o<e.length;o++){var s=e[o];i[a++]=s.x||0,i[a++]=s.y||0,i[a++]=s.mass||1,i[a++]=s.size||1;}this._positionSourceTex.pixels=i;var u=this._edgeForceMesh.geometry,l=t.length;u.attributes.node1.init(2*l),u.attributes.node2.init(2*l),u.attributes.weight.init(2*l);for(var h=[],o=0;o<t.length;o++){var c=u.attributes,d=t[o].weight;null==d&&(d=1),c.node1.set(o,this.getNodeUV(t[o].node1,h)),c.node2.set(o,this.getNodeUV(t[o].node2,h)),c.weight.set(o,d),c.node1.set(o+l,this.getNodeUV(t[o].node2,h)),c.node2.set(o+l,this.getNodeUV(t[o].node1,h)),c.weight.set(o+l,d);}var f=this._weightedSumMesh.geometry;f.attributes.node.init(e.length);for(var o=0;o<e.length;o++){f.attributes.node.set(o,this.getNodeUV(o,h));}u.dirty(),f.dirty(),this._nodeRepulsionPass.material.shader.define("fragment","NODE_COUNT",e.length),this._nodeRepulsionPass.material.setUniform("textureSize",[r,n]),this._inited=!1,this._frame=0;},n.prototype.getNodes=function(){return this._nodes;},n.prototype.getEdges=function(){return this._edges;},n.prototype.step=function(e){this._inited||(this._initFromSource(e),this._inited=!0),this._frame++,this._framebuffer.attach(this._forceTex),this._framebuffer.bind(e);var t=this._nodeRepulsionPass;t.setUniform("strongGravityMode",this.strongGravityMode),t.setUniform("gravity",this.gravity),t.setUniform("gravityCenter",this._gravityCenter),t.setUniform("scaling",this.scaling),t.setUniform("preventOverlap",this.preventOverlap),t.setUniform("positionTex",this._positionPrevTex),t.render(e);var r=this._edgeForceMesh;r.material.set("linLogMode",this.linLogMode),r.material.set("edgeWeightInfluence",this.edgeWeightInfluence),r.material.set("preventOverlap",this.preventOverlap),r.material.set("positionTex",this._positionPrevTex),e.gl.enable(e.gl.BLEND),e.renderQueue([r],this._dummyCamera),this._framebuffer.attach(this._weightedSumTex),e.gl.clearColor(0,0,0,0),e.gl.clear(e.gl.COLOR_BUFFER_BIT),e.gl.enable(e.gl.BLEND);var n=this._weightedSumMesh;n.material.set("positionTex",this._positionPrevTex),n.material.set("forceTex",this._forceTex),n.material.set("forcePrevTex",this._forcePrevTex),e.renderQueue([n],this._dummyCamera),this._framebuffer.attach(this._globalSpeedTex);var i=this._globalSpeedPass;i.setUniform("globalSpeedPrevTex",this._globalSpeedPrevTex),i.setUniform("weightedSumTex",this._weightedSumTex),i.setUniform("jitterTolerence",this.jitterTolerence),e.gl.disable(e.gl.BLEND),i.render(e);var a=this._positionPass;this._framebuffer.attach(this._positionTex),a.setUniform("globalSpeedTex",this._globalSpeedTex),a.setUniform("positionTex",this._positionPrevTex),a.setUniform("forceTex",this._forceTex),a.setUniform("forcePrevTex",this._forcePrevTex),a.render(e),this._framebuffer.unbind(e),this._swapTexture();},n.prototype.update=function(e,t,r){null==t&&(t=1),t=Math.max(t,1);for(var n=0;n<t;n++){this.step(e);}r&&r();},n.prototype.getNodePositionTexture=function(){return this._inited?this._positionPrevTex:this._positionSourceTex;},n.prototype.getNodeUV=function(e,t){t=t||[];var r=this._positionTex.width,n=this._positionTex.height;return t[0]=e%r/(r-1),t[1]=Math.floor(e/r)/(n-1)||0,t;},n.prototype.getNodePosition=function(e,t){var r=this._positionArr,n=this._positionTex.width,i=this._positionTex.height,a=n*i;r&&r.length===4*a||(r=this._positionArr=new Float32Array(4*a)),this._framebuffer.bind(e),this._framebuffer.attach(this._positionPrevTex),e.gl.readPixels(0,0,n,i,e.gl.RGBA,e.gl.FLOAT,r),this._framebuffer.unbind(e),t||(t=new Float32Array(2*this._nodes.length));for(var o=0;o<this._nodes.length;o++){t[2*o]=r[4*o],t[2*o+1]=r[4*o+1];}return t;},n.prototype.getTextureData=function(e,t){var r=this["_"+t+"Tex"],n=r.width,i=r.height;this._framebuffer.bind(e),this._framebuffer.attach(r);var a=new Float32Array(n*i*4);return e.gl.readPixels(0,0,n,i,e.gl.RGBA,e.gl.FLOAT,a),this._framebuffer.unbind(e),a;},n.prototype.getTextureSize=function(){return{width:this._positionTex.width,height:this._positionTex.height};},n.prototype.isFinished=function(e,t){var r=this.getTextureData(e,"globalSpeed");return this._inited&&r[0]<t&&this._frame>10;},n.prototype._swapTexture=function(){var e=this._positionPrevTex;this._positionPrevTex=this._positionTex,this._positionTex=e;var e=this._forcePrevTex;this._forcePrevTex=this._forceTex,this._forceTex=e;var e=this._globalSpeedPrevTex;this._globalSpeedPrevTex=this._globalSpeedTex,this._globalSpeedTex=e;},n.prototype._initFromSource=function(e){this._framebuffer.attach(this._positionPrevTex),this._framebuffer.bind(e),this._copyPass.setUniform("texture",this._positionSourceTex),this._copyPass.render(e),e.gl.clearColor(0,0,0,0),this._framebuffer.attach(this._forcePrevTex),e.gl.clear(e.gl.COLOR_BUFFER_BIT),this._framebuffer.attach(this._globalSpeedPrevTex),e.gl.clear(e.gl.COLOR_BUFFER_BIT),this._framebuffer.unbind(e);},n.prototype._resize=function(e,t){["_positionSourceTex","_positionTex","_positionPrevTex","_forceTex","_forcePrevTex"].forEach(function(r){this[r].width=e,this[r].height=t,this[r].dirty();},this);},n.prototype.dispose=function(e){var t=e.gl;this._framebuffer.dispose(t),this._copyPass.dispose(t),this._nodeRepulsionPass.dispose(t),this._positionPass.disable(t),this._globalSpeedPass.dispose(t),this._edgeForceMesh.material.shader.dispose(t),this._edgeForceMesh.geometry.dispose(t),this._weightedSumMesh.material.shader.dispose(t),this._weightedSumMesh.geometry.dispose(t),this._positionSourceTex.dispose(t),this._positionTex.dispose(t),this._positionPrevTex.dispose(t),this._forceTex.dispose(t),this._forcePrevTex.dispose(t),this._weightedSumTex.dispose(t),this._globalSpeedTex.disable(t),this._globalSpeedPrevTex.disable(t);},i.ForceAtlas2GPU=n,e.exports=n;},function(e,t,r){var n=r(0),i=r(108),a=n.extendSeriesModel({type:"series.graphGL",visualColorAccessPath:"itemStyle.color",init:function init(e){a.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._categoriesData;},this._updateCategoriesData();},mergeOption:function mergeOption(e){a.superApply(this,"mergeOption",arguments),this._updateCategoriesData();},getInitialData:function getInitialData(e,t){function r(e,r){function i(e){return e=this.parsePath(e),e&&"label"===e[0]?o:this.parentModel;}e.wrapMethod("getItemModel",function(e){var t=s._categoriesModels,r=e.getShallow("category"),n=t[r];return n&&(n.parentModel=e.parentModel,e.parentModel=n),e;});var a=s.getModel("edgeLabel"),o=new n.Model({label:a.option},a.parentModel,t);r.wrapMethod("getItemModel",function(e){return e.customizeGetParent(i),e;});}var a=e.edges||e.links||[],o=e.data||e.nodes||[],s=this;if(o&&a)return i(o,a,this,!0,r).data;},getGraph:function getGraph(){return this.getData().graph;},getEdgeData:function getEdgeData(){return this.getGraph().edgeData;},getCategoriesData:function getCategoriesData(){return this._categoriesData;},formatTooltip:function formatTooltip(e,t,r){if("edge"===r){var i=this.getData(),o=this.getDataParams(e,r),s=i.graph.getEdgeByIndex(e),u=i.getName(s.node1.dataIndex),l=i.getName(s.node2.dataIndex),h=[];return null!=u&&h.push(u),null!=l&&h.push(l),h=n.format.encodeHTML(h.join(" > ")),o.value&&(h+=" : "+n.format.encodeHTML(o.value)),h;}return a.superApply(this,"formatTooltip",arguments);},_updateCategoriesData:function _updateCategoriesData(){var e=(this.option.categories||[]).map(function(e){return null!=e.value?e:n.util.extend({value:0},e);}),t=new n.List(["value"],this);t.initData(e),this._categoriesData=t,this._categoriesModels=t.mapArray(function(e){return t.getItemModel(e,!0);});},setView:function setView(e){null!=e.zoom&&(this.option.zoom=e.zoom),null!=e.offset&&(this.option.offset=e.offset);},isAnimationEnabled:function isAnimationEnabled(){return a.superCall(this,"isAnimationEnabled")&&!("force"===this.get("layout")&&this.get("force.layoutAnimation"));},defaultOption:{zlevel:10,z:2,legendHoverLink:!0,layout:"forceAtlas2",forceAtlas2:{initLayout:null,GPU:!0,steps:1,stopThreshold:1,repulsionByDegree:!0,linLogMode:!1,strongGravityMode:!1,gravity:1,edgeWeightInfluence:1,edgeWeight:[1,4],nodeWeight:[1,4],preventOverlap:!1,gravityCenter:null},focusNodeAdjacency:!1,left:"center",top:"center",symbol:"circle",symbolSize:5,roam:!1,center:null,zoom:1,label:{show:!1,formatter:"{b}",position:"right"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{label:{show:!0}},animation:!1}});e.exports=a;},function(e,t,r){var n=r(0),i=r(39),a=r(2),o=r(27),s=r(161),u=r(4),l=r(105),h=r(104),c=r(82),d=r(1).vec2,f=r(157),p=r(45);a.Shader.import(r(169));var _=1;n.extendChartView({type:"graphGL",__ecgl__:!0,init:function init(e,t){this.groupGL=new a.Node(),this.viewGL=new o("orthographic"),this.viewGL.add(this.groupGL),this._pointsBuilder=new p(!0,t),this._forceEdgesMesh=new a.Mesh({material:new a.Material({shader:a.createShader("ecgl.forceAtlas2.edges"),transparent:!0,depthMask:!1,depthTest:!1}),geometry:new a.Geometry({attributes:{node:new a.Geometry.Attribute("node","float",2),color:new a.Geometry.Attribute("color","float",4,"COLOR")},dynamic:!0,mainAttribute:"node"}),renderOrder:-1,mode:a.Mesh.LINES}),this._edgesMesh=new a.Mesh({material:new a.Material({shader:a.createShader("ecgl.meshLines2D"),transparent:!0,depthMask:!1,depthTest:!1}),geometry:new s({useNativeLine:!1,dynamic:!0}),culling:!1}),this._layoutId=0,this._control=new f({zr:t.getZr(),viewGL:this.viewGL}),this._control.setTarget(this.groupGL),this._control.init();},render:function render(e,t,r){this.groupGL.add(this._pointsBuilder.rootNode),this._model=e,this._api=r,this._initLayout(e,t,r),this._pointsBuilder.update(e,t,r),this._updateForceNodesGeometry(e.getData()),this._forceLayoutInstance instanceof l||this.groupGL.remove(this._forceEdgesMesh),this._updateCamera(e,r),this._control.off("update"),this._control.on("update",function(){r.dispatchAction({type:"graphGLRoam",seriesId:e.id,zoom:this._control.getZoom(),offset:this._control.getOffset()});},this),this._control.setZoom(u.firstNotNull(e.get("zoom"),1)),this._control.setOffset(e.get("offset")||[0,0]);},_updateForceEdgesGeometry:function _updateForceEdgesGeometry(e,t){var r=this._forceEdgesMesh.geometry,n=t.getEdgeData(),i=0,o=this._forceLayoutInstance,s=2*n.count();r.attributes.node.init(s),r.attributes.color.init(s),n.each(function(t){var s=e[t];r.attributes.node.set(i,o.getNodeUV(s.node1)),r.attributes.node.set(i+1,o.getNodeUV(s.node2));var l=n.getItemVisual(s.dataIndex,"color"),h=a.parseColor(l);h[3]*=u.firstNotNull(n.getItemVisual(s.dataIndex,"opacity"),1),r.attributes.color.set(i,h),r.attributes.color.set(i+1,h),i+=2;}),r.dirty();},_updateEdgesGeometry:function _updateEdgesGeometry(e){var t=this._edgesMesh.geometry,r=this._model.getEdgeData(),n=this._model.getData().getLayout("points");t.resetOffset(),t.setVertexCount(e.length*t.getLineVertexCount()),t.setTriangleCount(e.length*t.getLineTriangleCount());for(var i=[],o=[],s=["lineStyle","width"],l=0;l<e.length;l++){var h=e[l],c=2*h.node1,d=2*h.node2;i[0]=n[c],i[1]=n[c+1],o[0]=n[d],o[1]=n[d+1];var f=r.getItemVisual(l,"color"),p=a.parseColor(f);p[3]*=u.firstNotNull(r.getItemVisual(l,"opacity"),1);var _=r.getItemModel(l),m=u.firstNotNull(_.get(s),1)*this._api.getDevicePixelRatio();t.addLine(i,o,p,m);}t.dirty();},_updateForceNodesGeometry:function _updateForceNodesGeometry(e){for(var t=this._pointsBuilder.getPointsMesh(),r=[],n=0;n<e.count();n++){t.geometry.attributes.position.get(n,r),this._forceLayoutInstance.getNodeUV(n,r),t.geometry.attributes.position.set(n,r);}t.geometry.dirty();},_initLayout:function _initLayout(e,t,r){var a=e.get("layout"),o=e.getGraph(),s=e.getBoxLayoutParams(),c=i.getLayoutRect(s,{width:r.getWidth(),height:r.getHeight()});"force"===a&&(a="forceAtlas2"),this.stopLayout();var d=e.getData(),f=e.getData();if("forceAtlas2"===a){var p=e.getModel("forceAtlas2"),_=this._forceLayoutInstance,m=[],g=[],v=d.getDataExtent("value"),y=f.getDataExtent("value"),x=u.firstNotNull(p.get("edgeWeight"),1),T=u.firstNotNull(p.get("nodeWeight"),1);"number"==typeof x&&(x=[x,x]),"number"==typeof T&&(T=[T,T]);var b=0,w={},E=new Float32Array(2*d.count());if(o.eachNode(function(e){var t,r,i=e.dataIndex,a=d.get("value",i);if(d.hasItemOption){var o=d.getItemModel(i);t=o.get("x"),r=o.get("y");}null==t&&(t=c.x+Math.random()*c.width,r=c.y+Math.random()*c.height),E[2*b]=t,E[2*b+1]=r,w[e.id]=b++;var s=n.number.linearMap(a,v,T);isNaN(s)&&(s=isNaN(T[0])?1:T[0]),m.push({x:t,y:r,mass:s});}),d.setLayout("points",E),o.eachEdge(function(e){var t=e.dataIndex,r=d.get("value",t),i=n.number.linearMap(r,y,x);isNaN(i)&&(i=isNaN(x[0])?1:x[0]),g.push({node1:w[e.node1.id],node2:w[e.node2.id],weight:i});}),!_){var S=p.get("GPU");this._forceLayoutInstance&&((!S||this._forceLayoutInstance instanceof l)&&(S||this._forceLayoutInstance instanceof h)||(this._forceLayoutInstanceToDispose=this._forceLayoutInstance)),_=this._forceLayoutInstance=S?new l():new h();}_.initData(m,g),_.updateOption(p.option),this._updateForceEdgesGeometry(_.getEdges(),e),this._updatePositionTexture(),r.dispatchAction({type:"graphGLStartLayout"});}else{var E=new Float32Array(2*d.count());o.eachNode(function(e){var t,r,n=e.dataIndex;if(d.hasItemOption){var i=d.getItemModel(n);t=i.get("x"),r=i.get("y");}E[2*b]=t,E[2*b+1]=r;}),d.setLayout("points",E);}},startLayout:function startLayout(){var e=this.viewGL,t=this._api,r=this._forceLayoutInstance,n=this._model.getModel("forceAtlas2");if(this.groupGL.remove(this._edgesMesh),this.groupGL.add(this._forceEdgesMesh),this._forceLayoutInstance){var i=this,a=this._layoutId=_++,o=n.getShallow("stopThreshold"),s=n.getShallow("steps"),u=function u(n){if(n===i._layoutId)return r.isFinished(e.layer.renderer,o)?void t.dispatchAction({type:"graphGLStopLayout"}):void r.update(e.layer.renderer,s,function(){i._updatePositionTexture(),t.getZr().refresh(),c(function(){u(n);});});};c(function(){i._forceLayoutInstanceToDispose&&(i._forceLayoutInstanceToDispose.dispose(e.layer.renderer),i._forceLayoutInstanceToDispose=null),u(a);});}},_updatePositionTexture:function _updatePositionTexture(){var e=this._forceLayoutInstance.getNodePositionTexture();this._pointsBuilder.setPositionTexture(e),this._forceEdgesMesh.material.set("positionTex",e);},stopLayout:function stopLayout(){if(this._layoutId=0,this.groupGL.remove(this._forceEdgesMesh),this.groupGL.add(this._edgesMesh),this._forceLayoutInstance&&this.viewGL.layer){var e=this._forceLayoutInstance.getNodePosition(this.viewGL.layer.renderer);this._model.getData().setLayout("points",e),this._updateEdgesGeometry(this._forceLayoutInstance.getEdges()),this._api.getZr().refresh();}},_updateCamera:function _updateCamera(e,t){this.viewGL.setViewport(0,0,t.getWidth(),t.getHeight(),t.getDevicePixelRatio());for(var r=this.viewGL.camera,n=e.getData(),i=n.getLayout("points"),a=d.create(1/0,1/0),o=d.create(-1/0,-1/0),s=[],u=0;u<i.length;){s[0]=i[u++],s[1]=i[u++],d.min(a,a,s),d.max(o,o,s);}var l=o[0]-a[0],h=o[1]-a[1];l*=1.4,h*=1.4,a[0]-=.2*l,a[1]-=.2*h,r.left=a[0],r.top=a[1],r.bottom=h+a[1],r.right=l+a[0],r.near=0,r.far=100;},dispose:function dispose(){var e=this.viewGL.layer.renderer;this._forceLayoutInstance&&this._forceLayoutInstance.dispose(e),this.groupGL.removeAll(),this.stopLayout();},remove:function remove(){this.groupGL.removeAll(),this._control.dispose();}});},function(e,t,r){var n=r(0),i=r(177),a=r(178),o=r(4);e.exports=function(e,t,r,s,u){for(var l=new i(s),h=0;h<e.length;h++){l.addNode(o.firstNotNull(e[h].id,e[h].name,h),h);}for(var c=[],d=[],f=0,h=0;h<t.length;h++){var p=t[h],_=p.source,m=p.target;l.addEdge(_,m,f)&&(d.push(p),c.push(o.firstNotNull(p.id,_+" > "+m)),f++);}var g,v=n.helper.completeDimensions(["value"],e);g=new n.List(v,r),g.initData(e);var y=new n.List(["value"],r);return y.initData(d,c),u&&u(g,y),a({mainData:g,struct:l,structAttr:"graph",datas:{node:g,edge:y},datasAttr:{node:"data",edge:"edgeData"}}),l.update(),l;};},function(e,t){e.exports="@export ecgl.forceAtlas2.updateNodeRepulsion\n\n#define NODE_COUNT 0\n\nuniform sampler2D positionTex;\n\nuniform vec2 textureSize;\nuniform float gravity;\nuniform float scaling;\nuniform vec2 gravityCenter;\n\nuniform bool strongGravityMode;\nuniform bool preventOverlap;\n\nvarying vec2 v_Texcoord;\n\nvoid main() {\n\n    vec4 n0 = texture2D(positionTex, v_Texcoord);\n\n    vec2 force = vec2(0.0);\n    for (int i = 0; i < NODE_COUNT; i++) {\n        vec2 uv = vec2(\n            mod(float(i), textureSize.x) / (textureSize.x - 1.0),\n            floor(float(i) / textureSize.x) / (textureSize.y - 1.0)\n        );\n        vec4 n1 = texture2D(positionTex, uv);\n\n        vec2 dir = n0.xy - n1.xy;\n        float d2 = dot(dir, dir);\n\n        if (d2 > 0.0) {\n            float factor = 0.0;\n            if (preventOverlap) {\n                float d = sqrt(d2);\n                d = d - n0.w - n1.w;\n                if (d > 0.0) {\n                    factor = scaling * n0.z * n1.z / (d * d);\n                }\n                else if (d < 0.0) {\n                                        factor = scaling * 100.0 * n0.z * n1.z;\n                }\n            }\n            else {\n                                factor = scaling * n0.z * n1.z / d2;\n            }\n            force += dir * factor;\n        }\n    }\n\n        vec2 dir = gravityCenter - n0.xy;\n    float d = 1.0;\n    if (!strongGravityMode) {\n        d = length(dir);\n    }\n\n    force += dir * n0.z * gravity / (d + 1.0);\n\n    gl_FragColor = vec4(force, 0.0, 1.0);\n}\n@end\n\n@export ecgl.forceAtlas2.updateEdgeAttraction.vertex\n\nattribute vec2 node1;\nattribute vec2 node2;\nattribute float weight;\n\nuniform sampler2D positionTex;\nuniform float edgeWeightInfluence;\nuniform bool preventOverlap;\nuniform bool linLogMode;\n\nuniform vec2 windowSize: WINDOW_SIZE;\n\nvarying vec2 v_Force;\n\nvoid main() {\n\n    vec4 n0 = texture2D(positionTex, node1);\n    vec4 n1 = texture2D(positionTex, node2);\n\n    vec2 dir = n1.xy - n0.xy;\n    float d = length(dir);\n    float w;\n    if (edgeWeightInfluence == 0.0) {\n        w = 1.0;\n    }\n    else if (edgeWeightInfluence == 1.0) {\n        w = weight;\n    }\n    else {\n        w = pow(weight, edgeWeightInfluence);\n    }\n            vec2 offset = vec2(1.0 / windowSize.x, 1.0 / windowSize.y);\n    vec2 scale = vec2((windowSize.x - 1.0) / windowSize.x, (windowSize.y - 1.0) / windowSize.y);\n    vec2 pos = node1 * scale * 2.0 - 1.0;\n    gl_Position = vec4(pos + offset, 0.0, 1.0);\n    gl_PointSize = 1.0;\n\n    float factor;\n    if (preventOverlap) {\n        d = d - n1.w - n0.w;\n    }\n    if (d <= 0.0) {\n        v_Force = vec2(0.0);\n        return;\n    }\n\n    if (linLogMode) {\n                factor = w * log(d) / d;\n    }\n    else {\n        factor = w;\n    }\n    v_Force = dir * factor;\n}\n@end\n\n@export ecgl.forceAtlas2.updateEdgeAttraction.fragment\n\nvarying vec2 v_Force;\n\nvoid main() {\n    gl_FragColor = vec4(v_Force, 0.0, 0.0);\n}\n@end\n\n@export ecgl.forceAtlas2.calcWeightedSum.vertex\n\nattribute vec2 node;\n\nvarying vec2 v_NodeUv;\n\nvoid main() {\n\n    v_NodeUv = node;\n    gl_Position = vec4(0.0, 0.0, 0.0, 1.0);\n    gl_PointSize = 1.0;\n}\n@end\n\n@export ecgl.forceAtlas2.calcWeightedSum.fragment\n\nvarying vec2 v_NodeUv;\n\nuniform sampler2D positionTex;\nuniform sampler2D forceTex;\nuniform sampler2D forcePrevTex;\n\nvoid main() {\n    vec2 force = texture2D(forceTex, v_NodeUv).rg;\n    vec2 forcePrev = texture2D(forcePrevTex, v_NodeUv).rg;\n\n    float mass = texture2D(positionTex, v_NodeUv).z;\n    float swing = length(force - forcePrev) * mass;\n    float traction = length(force + forcePrev) * 0.5 * mass;\n\n    gl_FragColor = vec4(swing, traction, 0.0, 0.0);\n}\n@end\n\n@export ecgl.forceAtlas2.calcGlobalSpeed\n\nuniform sampler2D globalSpeedPrevTex;\nuniform sampler2D weightedSumTex;\nuniform float jitterTolerence;\n\nvoid main() {\n    vec2 weightedSum = texture2D(weightedSumTex, vec2(0.5)).xy;\n    float prevGlobalSpeed = texture2D(globalSpeedPrevTex, vec2(0.5)).x;\n    float globalSpeed = jitterTolerence * jitterTolerence\n                * weightedSum.y / weightedSum.x;\n    if (prevGlobalSpeed > 0.0) {\n        globalSpeed = min(globalSpeed / prevGlobalSpeed, 1.5) * prevGlobalSpeed;\n    }\n    gl_FragColor = vec4(globalSpeed, 0.0, 0.0, 1.0);\n}\n@end\n\n@export ecgl.forceAtlas2.updatePosition\n\nuniform sampler2D forceTex;\nuniform sampler2D forcePrevTex;\nuniform sampler2D positionTex;\nuniform sampler2D globalSpeedTex;\n\nvarying vec2 v_Texcoord;\n\nvoid main() {\n    vec2 force = texture2D(forceTex, v_Texcoord).xy;\n    vec2 forcePrev = texture2D(forcePrevTex, v_Texcoord).xy;\n    vec4 node = texture2D(positionTex, v_Texcoord);\n\n    float globalSpeed = texture2D(globalSpeedTex, vec2(0.5)).r;\n    float swing = length(force - forcePrev);\n    float speed = 0.1 * globalSpeed / (0.1 + globalSpeed * sqrt(swing));\n\n        float df = length(force);\n    if (df > 0.0) {\n        speed = min(df * speed, 10.0) / df;\n\n        gl_FragColor = vec4(node.xy + speed * force, node.zw);\n    }\n    else {\n        gl_FragColor = node;\n    }\n}\n@end\n\n@export ecgl.forceAtlas2.edges.vertex\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nattribute vec2 node;\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n\nuniform sampler2D positionTex;\n\nvoid main()\n{\n    gl_Position = worldViewProjection * vec4(\n        texture2D(positionTex, node).xy, -10.0, 1.0\n    );\n    v_Color = a_Color;\n}\n@end\n\n@export ecgl.forceAtlas2.edges.fragment\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\nvarying vec4 v_Color;\nvoid main() {\n    gl_FragColor = color * v_Color;\n}\n@end";},function(e,t){function r(){function e(){this.subRegions=[],this.nSubRegions=0,this.node=null,this.mass=0,this.centerOfMass=null,this.bbox=new Float32Array(4),this.size=0;}function t(){this.position=new Float32Array(2),this.force=i.create(),this.forcePrev=i.create(),this.mass=1,this.inDegree=0,this.outDegree=0;}function r(e,t){this.source=e,this.target=t,this.weight=1;}function n(){this.autoSettings=!0,this.barnesHutOptimize=!0,this.barnesHutTheta=1.5,this.repulsionByDegree=!0,this.linLogMode=!1,this.strongGravityMode=!1,this.gravity=1,this.scaling=1,this.edgeWeightInfluence=1,this.jitterTolerence=.1,this.preventOverlap=!1,this.dissuadeHubs=!1,this.rootRegion=new e(),this.rootRegion.centerOfMass=i.create(),this.nodes=[],this.edges=[],this.bbox=new Float32Array(4),this.gravityCenter=null,this._massArr=null,this._swingingArr=null,this._sizeArr=null,this._globalSpeed=0;}var i={create:function create(){return new Float32Array(2);},dist:function dist(e,t){var r=t[0]-e[0],n=t[1]-e[1];return Math.sqrt(r*r+n*n);},len:function len(e){var t=e[0],r=e[1];return Math.sqrt(t*t+r*r);},scaleAndAdd:function scaleAndAdd(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e;},scale:function scale(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e;},add:function add(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e;},sub:function sub(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e;},normalize:function normalize(e,t){var r=t[0],n=t[1],i=r*r+n*n;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i),e;},negate:function negate(e,t){return e[0]=-t[0],e[1]=-t[1],e;},copy:function copy(e,t){return e[0]=t[0],e[1]=t[1],e;},set:function set(e,t,r){return e[0]=t,e[1]=r,e;}},a=e.prototype;a.beforeUpdate=function(){for(var e=0;e<this.nSubRegions;e++){this.subRegions[e].beforeUpdate();}this.mass=0,this.centerOfMass&&(this.centerOfMass[0]=0,this.centerOfMass[1]=0),this.nSubRegions=0,this.node=null;},a.afterUpdate=function(){this.subRegions.length=this.nSubRegions;for(var e=0;e<this.nSubRegions;e++){this.subRegions[e].afterUpdate();}},a.addNode=function(e){if(0===this.nSubRegions){if(null==this.node)return void(this.node=e);this._addNodeToSubRegion(this.node),this.node=null;}this._addNodeToSubRegion(e),this._updateCenterOfMass(e);},a.findSubRegion=function(e,t){for(var r=0;r<this.nSubRegions;r++){var n=this.subRegions[r];if(n.contain(e,t))return n;}},a.contain=function(e,t){return this.bbox[0]<=e&&this.bbox[2]>=e&&this.bbox[1]<=t&&this.bbox[3]>=t;},a.setBBox=function(e,t,r,n){this.bbox[0]=e,this.bbox[1]=t,this.bbox[2]=r,this.bbox[3]=n,this.size=(r-e+n-t)/2;},a._newSubRegion=function(){var t=this.subRegions[this.nSubRegions];return t||(t=new e(),this.subRegions[this.nSubRegions]=t),this.nSubRegions++,t;},a._addNodeToSubRegion=function(e){var t=this.findSubRegion(e.position[0],e.position[1]),r=this.bbox;if(!t){var n=(r[0]+r[2])/2,i=(r[1]+r[3])/2,a=(r[2]-r[0])/2,o=(r[3]-r[1])/2,s=e.position[0]>=n?1:0,u=e.position[1]>=i?1:0,t=this._newSubRegion();t.setBBox(s*a+r[0],u*o+r[1],(s+1)*a+r[0],(u+1)*o+r[1]);}t.addNode(e);},a._updateCenterOfMass=function(e){null==this.centerOfMass&&(this.centerOfMass=new Float32Array(2));var t=this.centerOfMass[0]*this.mass,r=this.centerOfMass[1]*this.mass;t+=e.position[0]*e.mass,r+=e.position[1]*e.mass,this.mass+=e.mass,this.centerOfMass[0]=t/this.mass,this.centerOfMass[1]=r/this.mass;};var o=n.prototype;o.initNodes=function(e,r,n){var i=r.length;this.nodes.length=0;for(var a=void 0!==n,o=0;o<i;o++){var s=new t();s.position[0]=e[2*o],s.position[1]=e[2*o+1],s.mass=r[o],a&&(s.size=n[o]),this.nodes.push(s);}this._massArr=r,this._swingingArr=new Float32Array(i),a&&(this._sizeArr=n);},o.initEdges=function(e,t){var n=e.length/2;this.edges.length=0;for(var i=0;i<n;i++){var a=e[2*i],o=e[2*i+1],s=this.nodes[a],u=this.nodes[o];if(!s||!u)return void console.error("Node not exists, try initNodes before initEdges");s.outDegree++,u.inDegree++;var l=new r(s,u);t&&(l.weight=t[i]),this.edges.push(l);}},o.updateSettings=function(){if(this.repulsionByDegree)for(var e=0;e<this.nodes.length;e++){var t=this.nodes[e];t.mass=t.inDegree+t.outDegree+1;}else for(var e=0;e<this.nodes.length;e++){var t=this.nodes[e];t.mass=this._massArr[e];}},o.update=function(){var e=this.nodes.length;if(this.updateSettings(),this.updateBBox(),this.barnesHutOptimize){this.rootRegion.setBBox(this.bbox[0],this.bbox[1],this.bbox[2],this.bbox[3]),this.rootRegion.beforeUpdate();for(var t=0;t<e;t++){this.rootRegion.addNode(this.nodes[t]);}this.rootRegion.afterUpdate();}for(var t=0;t<e;t++){var r=this.nodes[t];i.copy(r.forcePrev,r.force),i.set(r.force,0,0);}for(var t=0;t<e;t++){var n=this.nodes[t];if(this.barnesHutOptimize)this.applyRegionToNodeRepulsion(this.rootRegion,n);else for(var a=t+1;a<e;a++){var o=this.nodes[a];this.applyNodeToNodeRepulsion(n,o,!1);}this.gravity>0&&(this.strongGravityMode?this.applyNodeStrongGravity(n):this.applyNodeGravity(n));}for(var t=0;t<this.edges.length;t++){this.applyEdgeAttraction(this.edges[t]);}for(var s=0,u=0,l=i.create(),t=0;t<e;t++){var r=this.nodes[t],h=i.dist(r.force,r.forcePrev);s+=h*r.mass,i.add(l,r.force,r.forcePrev);u+=.5*i.len(l)*r.mass,this._swingingArr[t]=h;}var c=this.jitterTolerence*this.jitterTolerence*u/s;this._globalSpeed>0&&(c=Math.min(c/this._globalSpeed,1.5)*this._globalSpeed),this._globalSpeed=c;for(var t=0;t<e;t++){var r=this.nodes[t],h=this._swingingArr[t],d=.1*c/(1+c*Math.sqrt(h)),f=i.len(r.force);f>0&&(d=Math.min(f*d,10)/f,i.scaleAndAdd(r.position,r.position,r.force,d));}},o.applyRegionToNodeRepulsion=function(){var e=i.create();return function(t,r){if(t.node)this.applyNodeToNodeRepulsion(t.node,r,!0);else{i.sub(e,r.position,t.centerOfMass);var n=e[0]*e[0]+e[1]*e[1];if(n>this.barnesHutTheta*t.size*t.size){var a=this.scaling*r.mass*t.mass/n;i.scaleAndAdd(r.force,r.force,e,a);}else for(var o=0;o<t.nSubRegions;o++){this.applyRegionToNodeRepulsion(t.subRegions[o],r);}}};}(),o.applyNodeToNodeRepulsion=function(){var e=i.create();return function(t,r,n){if(t!=r){i.sub(e,t.position,r.position);var a=e[0]*e[0]+e[1]*e[1];if(0!==a){var o;if(this.preventOverlap){var s=Math.sqrt(a);if((s=s-t.size-r.size)>0)o=this.scaling*t.mass*r.mass/(s*s);else{if(!(s<0))return;o=100*this.scaling*t.mass*r.mass;}}else o=this.scaling*t.mass*r.mass/a;i.scaleAndAdd(t.force,t.force,e,o),i.scaleAndAdd(r.force,r.force,e,-o);}}};}(),o.applyEdgeAttraction=function(){var e=i.create();return function(t){var r=t.source,n=t.target;i.sub(e,r.position,n.position);var a,o=i.len(e);a=0===this.edgeWeightInfluence?1:1===this.edgeWeightInfluence?t.weight:Math.pow(t.weight,this.edgeWeightInfluence);var s;this.preventOverlap&&(o=o-r.size-n.size)<=0||(s=this.linLogMode?-a*Math.log(o+1)/(o+1):-a,i.scaleAndAdd(r.force,r.force,e,s),i.scaleAndAdd(n.force,n.force,e,-s));};}(),o.applyNodeGravity=function(){var e=i.create();return function(t){i.sub(e,this.gravityCenter,t.position);var r=i.len(e);i.scaleAndAdd(t.force,t.force,e,this.gravity*t.mass/(r+1));};}(),o.applyNodeStrongGravity=function(){var e=i.create();return function(t){i.sub(e,this.gravityCenter,t.position),i.scaleAndAdd(t.force,t.force,e,this.gravity*t.mass);};}(),o.updateBBox=function(){for(var e=1/0,t=1/0,r=-1/0,n=-1/0,i=0;i<this.nodes.length;i++){var a=this.nodes[i].position;e=Math.min(e,a[0]),t=Math.min(t,a[1]),r=Math.max(r,a[0]),n=Math.max(n,a[1]);}this.bbox[0]=e,this.bbox[1]=t,this.bbox[2]=r,this.bbox[3]=n;},o.getGlobalSpeed=function(){return this._globalSpeed;};var s=null;self.onmessage=function(e){switch(e.data.cmd){case"init":s=new n(),s.initNodes(e.data.nodesPosition,e.data.nodesMass,e.data.nodesSize),s.initEdges(e.data.edges,e.data.edgesWeight);break;case"updateConfig":if(s)for(var t in e.data.config){s[t]=e.data.config[t];}break;case"update":var r=e.data.steps;if(s){for(var i=0;i<r;i++){s.update();}for(var a=s.nodes.length,o=new Float32Array(2*a),i=0;i<a;i++){var u=s.nodes[i];o[2*i]=u.position[0],o[2*i+1]=u.position[1];}self.postMessage({buffer:o.buffer,globalSpeed:s.getGlobalSpeed()},[o.buffer]);}else{var l=new Float32Array();self.postMessage({buffer:l.buffer,globalSpeed:s.getGlobalSpeed()},[l.buffer]);}}};}e.exports=r;},function(e,t,r){var n=r(0),i=r(25),a=n.extendSeriesModel({type:"series.line3D",dependencies:["grid3D"],visualColorAccessPath:"lineStyle.color",getInitialData:function getInitialData(e,t){var r=n.helper.completeDimensions(["x","y","z"],e.data),i=new n.List(r,this);return i.initData(e.data),i;},formatTooltip:function formatTooltip(e){return i(this,e);},defaultOption:{coordinateSystem:"cartesian3D",zlevel:-10,grid3DIndex:0,lineStyle:{width:2},animationDurationUpdate:500}});e.exports=a;},function(e,t,r){var n=r(0),i=r(2),a=r(4),o=r(22),s=r(10),u=r(3),l=r(1).vec3,h=r(225);i.Shader.import(r(38)),e.exports=n.extendChartView({type:"line3D",__ecgl__:!0,init:function init(e,t){this.groupGL=new i.Node(),this._api=t;},render:function render(e,t,r){var n=this._prevLine3DMesh;this._prevLine3DMesh=this._line3DMesh,this._line3DMesh=n,this._line3DMesh||(this._line3DMesh=new i.Mesh({geometry:new o({useNativeLine:!1,sortTriangles:!0}),material:new i.Material({shader:i.createShader("ecgl.meshLines3D")}),renderOrder:10}),this._line3DMesh.geometry.pick=this._pick.bind(this)),this.groupGL.remove(this._prevLine3DMesh),this.groupGL.add(this._line3DMesh);var a=e.coordinateSystem;if(a&&a.viewGL){a.viewGL.add(this.groupGL);var s=a.viewGL.isLinearSpace()?"define":"undefine";this._line3DMesh.material.shader[s]("fragment","SRGB_DECODE");}this._doRender(e,r),this._data=e.getData(),this._camera=a.viewGL.camera,this.updateCamera(),this._updateAnimation(e);},updateCamera:function updateCamera(){this._updateNDCPosition();},_doRender:function _doRender(e,t){var r=e.getData(),n=this._line3DMesh;n.geometry.resetOffset();var o=r.getLayout("points"),s=[],u=new Float32Array(o.length/3*4),l=0,h=!1;r.each(function(e){var t=r.getItemVisual(e,"color"),n=r.getItemVisual(e,"opacity");null==n&&(n=1),i.parseColor(t,s),s[3]*=n,u[l++]=s[0],u[l++]=s[1],u[l++]=s[2],u[l++]=s[3],s[3]<.99&&(h=!0);}),n.geometry.setVertexCount(n.geometry.getPolylineVertexCount(o)),n.geometry.setTriangleCount(n.geometry.getPolylineTriangleCount(o)),n.geometry.addPolyline(o,u,a.firstNotNull(e.get("lineStyle.width"),1),!0),n.geometry.dirty(),n.geometry.updateBoundingBox();var c=n.material;c.transparent=h,c.depthMask=!h;var d=e.getModel("debug.wireframe");d.get("show")?(n.geometry.createAttribute("barycentric","float",3),n.geometry.generateBarycentric(),n.material.shader.define("both","WIREFRAME_TRIANGLE"),n.material.set("wireframeLineColor",i.parseColor(d.get("lineStyle.color")||"rgba(0,0,0,0.5)")),n.material.set("wireframeLineWidth",a.firstNotNull(d.get("lineStyle.width"),1))):n.material.shader.undefine("both","WIREFRAME_TRIANGLE"),this._points=o,this._initHandler(e,t);},_updateAnimation:function _updateAnimation(e){i.updateVertexAnimation([["prevPosition","position"],["prevPositionPrev","positionPrev"],["prevPositionNext","positionNext"]],this._prevLine3DMesh,this._line3DMesh,e);},_initHandler:function _initHandler(e,t){var r=e.getData(),n=e.coordinateSystem,i=this._line3DMesh,a=-1;i.seriesIndex=e.seriesIndex,i.off("mousemove"),i.off("mouseout"),i.on("mousemove",function(e){var o=n.pointToData(e.point._array),s=r.indicesOfNearest("x",o[0])[0];s!==a&&(t.dispatchAction({type:"grid3DShowAxisPointer",value:[r.get("x",s),r.get("y",s),r.get("z",s)]}),i.dataIndex=s),a=s;},this),i.on("mouseout",function(e){a=-1,i.dataIndex=-1,t.dispatchAction({type:"grid3DHideAxisPointer"});},this);},_updateNDCPosition:function _updateNDCPosition(){var e=new s(),t=this._camera;s.multiply(e,t.projectionMatrix,t.viewMatrix);var r=this._positionNDC,n=this._points,i=n.length/3;r&&r.length/2===i||(r=this._positionNDC=new Float32Array(2*i));for(var a=[],o=0;o<i;o++){var u=3*o,h=2*o;a[0]=n[u],a[1]=n[u+1],a[2]=n[u+2],a[3]=1,l.transformMat4(a,a,e._array),r[h]=a[0]/a[3],r[h+1]=a[1]/a[3];}},_pick:function _pick(e,t,r,n,i,a){var o=this._positionNDC,s=this._data.hostModel,l=s.get("lineStyle.width"),c=-1,d=r.viewport.width,f=r.viewport.height,p=.5*d,_=.5*f;e=(e+1)*p,t=(t+1)*_;for(var m=1;m<o.length/2;m++){var g=(o[2*(m-1)]+1)*p,v=(o[2*(m-1)+1]+1)*_,y=(o[2*m]+1)*p,x=(o[2*m+1]+1)*_;if(h.containStroke(g,v,y,x,l,e,t)){c=(g-e)*(g-e)+(v-t)*(v-t)<(y-e)*(y-e)+(x-t)*(x-t)?m-1:m;}}if(c>=0){var T=3*c,b=new u(this._points[T],this._points[T+1],this._points[T+2]);a.push({dataIndex:c,point:b,pointWorld:b.clone(),target:this._line3DMesh,distance:this._camera.getWorldPosition().dist(b)});}},remove:function remove(){this.groupGL.removeAll();},dispose:function dispose(){this.groupGL.removeAll();}});},function(e,t,r){var n=r(0);n.extendSeriesModel({type:"series.lines3D",dependencies:["globe"],visualColorAccessPath:"lineStyle.color",getInitialData:function getInitialData(e,t){var r=new n.List(["value"],this);return r.hasItemOption=!1,r.initData(e.data,[],function(e,t,n,i){if(e instanceof Array)return NaN;r.hasItemOption=!0;var a=e.value;return null!=a?a instanceof Array?a[i]:a:void 0;}),r;},defaultOption:{coordinateSystem:"globe",globeIndex:0,geo3DIndex:0,zlevel:-10,polyline:!1,effect:{show:!1,period:4,trailWidth:4,trailLength:.2},distanceToGlobe:0,silent:!0,blendMode:"source-over",lineStyle:{width:1,opacity:.5}}});},function(e,t,r){function n(e){return null!=e.radius?e.radius:null!=e.size?Math.max(e.size[0],e.size[1],e.size[2]):100;}var i=r(0),a=r(2),o=r(22),s=r(116);a.Shader.import(r(38)),e.exports=i.extendChartView({type:"lines3D",__ecgl__:!0,init:function init(e,t){this.groupGL=new a.Node(),this._nativeLinesMaterial=new a.Material({shader:a.createShader("ecgl.lines3D"),transparent:!0,depthMask:!1}),this._projectedLinesMaterial=new a.Material({shader:a.createShader("ecgl.meshLines3D"),transparent:!0,depthMask:!1}),this._linesMesh=new a.Mesh({geometry:new o()}),this._trailMesh=new s();},render:function render(e,t,r){this.groupGL.add(this._linesMesh);var i=e.coordinateSystem,o=e.getData();if(i&&i.viewGL){i.viewGL.add(this.groupGL),"cubicBezier"===o.getLayout("lineType")&&this._generateBezierCurves(e,t,r);var s=i.viewGL.isLinearSpace()?"define":"undefine";this._linesMesh.material.shader[s]("fragment","SRGB_DECODE");}var u=this._trailMesh;if(u.stopAnimation(),e.get("effect.show")){var l=e.get("effect.trailLength"),h=l+1;this.groupGL.add(u),u.setScale(n(i)),u.setData(o,r);var c=1e3*e.get("effect.period"),d=u.__percent?-c*u.__percent/h:0;u.__percent=0,this._curveEffectsAnimator=u.animate("",{loop:!0}).when(c*h,{__percent:h}).delay(d).during(function(){u.setAnimationPercent(u.__percent);}).start();}else this.groupGL.remove(u),this._curveEffectsAnimator=null;this._linesMesh.material.blend=this._trailMesh.material.blend="lighter"===e.get("blendMode")?a.additiveBlend:null;},puaseEffect:function puaseEffect(){this._curveEffectsAnimator&&this._curveEffectsAnimator.pause();},resumeEffect:function resumeEffect(){this._curveEffectsAnimator&&this._curveEffectsAnimator.resume();},toggleEffect:function toggleEffect(){var e=this._curveEffectsAnimator;e&&(e.isPaused()?e.resume():e.pause());},_generateBezierCurves:function _generateBezierCurves(e,t,r){var i=e.getData(),o=e.coordinateSystem,s=this._linesMesh.geometry;s.expandLine=!0;var u=n(o);s.segmentScale=u/20;var l="lineStyle.width".split("."),h=r.getDevicePixelRatio(),c=!0,d=0;i.each(function(e){var t=i.getItemModel(e),r=t.get(l);null==r&&(r=1),i.setItemVisual(e,"lineWidth",r),d=Math.max(r,d);});var c=!1;s.useNativeLine=c;var f=0,p=0;i.each(function(e){var t=i.getItemLayout(e);f+=s.getCubicCurveVertexCount(t[0],t[1],t[2],t[3]),p+=s.getCubicCurveTriangleCount(t[0],t[1],t[2],t[3]);}),this._linesMesh.material=c?this._nativeLinesMaterial:this._projectedLinesMaterial,this._linesMesh.mode=c?a.Mesh.LINES:a.Mesh.TRIANGLES,s.setVertexCount(f),s.setTriangleCount(p),s.resetOffset();var _=[];i.each(function(e){var t=i.getItemLayout(e),r=i.getItemVisual(e,"color"),n=i.getItemVisual(e,"opacity"),o=i.getItemVisual(e,"lineWidth")*h;null==n&&(n=1),_=a.parseColor(r,_),_[3]*=n,s.addCubicCurve(t[0],t[1],t[2],t[3],_,o);}),s.dirty();},remove:function remove(){this.groupGL.removeAll();},dispose:function dispose(){this.groupGL.removeAll();}});},function(e,t,r){var n=r(12),i=r(1).vec3,a=n.derive(function(){return{attributes:{uv:new n.Attribute("offset","float",2),currT:new n.Attribute("offset","float",1),start:new n.Attribute("offset","float",1),prevT:new n.Attribute("offset","float",1),nextT:new n.Attribute("offset","float",1),offset:new n.Attribute("offset","float",1),color:new n.Attribute("color","float",4,"COLOR")},mainAttribute:"uv",scale:1,trailLength:.3,_vertexOffset:0,_triangleOffset:0};},{reset:function reset(){this._vertexOffset=0,this._triangleOffset=0;},setVertexCount:function setVertexCount(e){if(this.vertexCount!==e){for(var t in this.attributes){this.attributes[t].init(e);}e>65535?this.indices instanceof Uint16Array&&(this.indices=new Uint32Array(this.indices)):this.indices instanceof Uint32Array&&(this.indices=new Uint16Array(this.indices));}},setTriangleCount:function setTriangleCount(e){this.triangleCount!==e&&(this.indices=0===e?null:this.vertexCount>65535?new Uint32Array(3*e):new Uint16Array(3*e));},getCurveVertexCount:function getCurveVertexCount(e,t,r,n){var a=(i.dist(e,t)+i.dist(r,t)+i.dist(n,r))*this.trailLength;return 2*Math.max(Math.min(Math.round((a+1)/this.scale*500),50),5);},getCurveTriangleCount:function getCurveTriangleCount(e,t,r,n){return 2*(this.getCurveVertexCount(e,t,r,n)/2-1);},addCurveTrail:function addCurveTrail(e,t,r,n,i,a,o){for(var s,u=this.attributes,l=Math.random(),h=0,c=0,d=this.getCurveVertexCount(e,t,r,n)/2,f=this._vertexOffset,p=o[3],_=0;_<d;_++){s=h-1/d*this.trailLength;var m=1-Math.pow(_/d,2);o[3]=Math.max(p*m,0);for(var g=0;g<2;g++){u.currT.set(f,h),u.prevT.set(f,c),u.offset.set(f,(2*g-1)*a/2*m),u.color.set(f,o),u.uv.set(f,i),u.start.set(f,l),_<d-1?u.nextT.set(f,s):u.nextT.set(f,h),f++;}if(c=h,h=s,_>0){var v=3*this._triangleOffset,y=this.indices;y[v]=f-4,y[v+1]=f-3,y[v+2]=f-2,y[v+3]=f-3,y[v+4]=f-1,y[v+5]=f-2,this._triangleOffset+=2;}}this._vertexOffset=f;}});e.exports=a;},function(e,t,r){var n=(r(0),r(2)),i=(r(66),r(115));n.Shader.import(r(118)),e.exports=n.Mesh.extend(function(){var e=new n.Material({shader:new n.Shader({vertex:n.Shader.source("ecgl.trail.vertex"),fragment:n.Shader.source("ecgl.trail.fragment")}),transparent:!0,depthMask:!1}),t=new n.Texture2D({type:n.Texture.FLOAT,minFilter:n.Texture.NEAREST,magFilter:n.Texture.NEAREST,width:1024});return{geometry:new i({dynamic:!0}),material:e,culling:!1,$ignorePicking:!0,_pointsTexture:t};},{setData:function setData(e,t){var r=e.hostModel,i=this.geometry,a=r.getModel("effect"),o=a.get("trailWidth")*t.getDevicePixelRatio(),s=a.get("trailLength");i.trailLength=s,this.material.set("trailLength",s),i.reset();var u=0,l=0;e.each(function(t){var r=e.getItemLayout(t);u+=i.getCurveVertexCount(r[0],r[1],r[2],r[3]),l+=i.getCurveTriangleCount(r[0],r[1],r[2],r[3]);}),i.setVertexCount(u),i.setTriangleCount(l);var h=[],c=this._pointsTexture.width,d=Math.ceil(e.count()/(c/4)),f=this._pointsTexture;f.height=d,f.pixels&&f.pixels.length===c*d*4||(f.pixels=new Float32Array(c*d*4));var p=f.pixels,_=a.get("trailColor"),m=a.get("trailOpacity"),g=null!=_,v=null!=m;e.each(function(t){var r=e.getItemLayout(t),a=v?m:e.getItemVisual(t,"opacity"),s=e.getItemVisual(t,"color");null==a&&(a=1),h=n.parseColor(g?_:s,h),h[3]*=a;for(var u=4*t%c/(c-1),l=Math.floor(4*t/c)/(d-1)||0,f=0;f<4;f++){p[4*(4*t+f)]=r[f][0],p[4*(4*t+f)+1]=r[f][1],p[4*(4*t+f)+2]=r[f][2];}i.addCurveTrail(r[0],r[1],r[2],r[3],[u,l],o,h);}),this.material.set("pointsTexture",f),f.dirty(),i.dirty();},setScale:function setScale(e){this.geometry.scale=e;},setAnimationPercent:function setAnimationPercent(e){this.material.set("percent",e);}});},function(e,t,r){function n(e,t){var r=e.getData(),n=e.get("polyline"),i=s.create(),a=s.create(),o=s.create(),l=s.create(),h=e.get("distanceToGlobe")||0,c=t.radius+h;r.setLayout("lineType",n?"polyline":"cubicBezier");var d=[],f=[];r.each(function(e){var n=r.getItemModel(e),p=n.option instanceof Array?n.option:n.getShallow("coords",!0);if(u.copy(d,p[0]),u.copy(f,p[1]),d[2]=f[2]=h,!(p instanceof Array&&p.length>0&&p[0]instanceof Array))throw new Error("Invalid coords "+JSON.stringify(p)+". Lines must have 2d coords array in data item.");var _=[],m=_[0]=s.create(),g=_[1]=s.create(),v=_[2]=s.create(),y=_[3]=s.create();t.dataToPoint(d,m),t.dataToPoint(f,y),s.normalize(i,m),s.sub(a,y,m),s.normalize(a,a),s.cross(o,a,i),s.normalize(o,o),s.cross(a,i,o),s.add(g,i,a),s.normalize(g,g),s.normalize(i,y),s.sub(a,m,y),s.normalize(a,a),s.cross(o,a,i),s.normalize(o,o),s.cross(a,i,o),s.add(v,i,a),s.normalize(v,v),s.add(l,m,y),s.normalize(l,l);var x=s.dot(m,l),T=s.dot(l,g),b=(c-x)/T*2;s.scaleAndAdd(g,m,g,b),s.scaleAndAdd(v,y,v,b),r.setItemLayout(e,_);});}function i(e,t){var r=e.getData(),n=e.get("polyline");r.setLayout("lineType",n?"polyline":"cubicBezier");var i=[];r.each(function(e){var n=r.getItemModel(e),a=n.option instanceof Array?n.option:n.getShallow("coords",!0);if(!(a instanceof Array&&a.length>0&&a[0]instanceof Array))throw new Error("Invalid coords "+JSON.stringify(a)+". Lines must have 2d coords array in data item.");var o=[],u=o[0]=s.create(),l=o[1]=s.create(),h=o[2]=s.create(),c=o[3]=s.create();t.dataToPoint(a[0],u),t.dataToPoint(a[1],c);var d=s.dist(u,c);s.lerp(l,u,c,.3),s.lerp(h,u,c,.3),s.set(i,0,1,0),s.scaleAndAdd(l,l,i,Math.min(.1*d,10)),s.scaleAndAdd(h,h,i,Math.min(.1*d,10)),r.setItemLayout(e,o);});}var a=r(0),o=r(1),s=o.vec3,u=o.vec2;a.registerLayout(function(e,t){e.eachSeriesByType("lines3D",function(e){var t=e.coordinateSystem;"globe"===t.type?n(e,t):"geo3D"===t.type&&i(e,t);});});},function(e,t){e.exports="@export ecgl.trail.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform float percent : 0.0;\nuniform float trailLength: 0.3;\n\nuniform sampler2D pointsTexture;\nuniform float textureWidth : 1024;\n\nuniform vec4 viewport : VIEWPORT;\nuniform float near : NEAR;\n\nattribute vec2 uv;\nattribute vec4 color : COLOR;\n\nattribute float start;\nattribute float prevT;\nattribute float currT;\nattribute float nextT;\nattribute float offset;\n\nvarying vec4 v_Color;\n\n@import ecgl.lines3D.clipNear\n\nvec3 getPointAt(in float off, in vec3 p0, in vec3 p1, in vec3 p2, in vec3 p3) {\n    float t = max(min(mod(start + percent, (1.0 + trailLength)) + off, 1.0), 0.0);\n    float onet = 1.0 - t;\n    return onet * onet * (onet * p0 + 3.0 * t * p1)\n        + t * t * (t * p3 + 3.0 * onet * p2);\n}\n\nvoid main()\n{\n    vec2 unit = vec2(1.0 / textureWidth, 0.0);\n    vec3 p0 = texture2D(pointsTexture, uv).rgb;\n    vec3 p1 = texture2D(pointsTexture, uv + unit).rgb;\n    vec3 p2 = texture2D(pointsTexture, uv + unit * 2.0).rgb;\n    vec3 p3 = texture2D(pointsTexture, uv + unit * 3.0).rgb;\n\n    vec3 positionPrev = getPointAt(prevT, p0, p1, p2, p3);\n    vec3 position = getPointAt(currT, p0, p1, p2, p3);\n    vec3 positionNext = getPointAt(nextT, p0, p1, p2, p3);\n\n    @import ecgl.lines3D.expandLine\n\n    gl_Position = currProj;\n\n    v_Color = color;\n}\n\n@end\n\n@export ecgl.trail.fragment\n\nvarying vec4 v_Color;\n\nuniform sampler2D sprite;\n\nvoid main()\n{\n    gl_FragColor = v_Color;\n\n#ifdef SPRITE_ENABLED\n    gl_FragColor *= texture2D(sprite, gl_PointCoord);\n#endif\n\n}\n@end";},function(e,t,r){var n=r(0),i=r(36),a=r(35),o=r(34),s=r(26),u=r(62),l=r(48),h=r(25),c=n.extendSeriesModel({type:"series.map3D",layoutMode:"box",coordinateSystem:null,visualColorAccessPath:"itemStyle.areaColor",getInitialData:function getInitialData(e){e.data=this.getFilledRegions(e.data,e.map);var t=n.helper.completeDimensions(["value"],e.data),r=new n.List(t,this);r.initData(e.data);var i={};return r.each(function(e){var t=r.getName(e),n=r.getItemModel(e);i[t]=n;}),this._regionModelMap=i,r;},formatTooltip:function formatTooltip(e){return h(this,e);},getRegionModel:function getRegionModel(e){return this._regionModelMap[e]||new n.Model(null,this);},getFormattedLabel:function getFormattedLabel(e,t){var r=l.getFormattedLabel(this,e,t);return null==r&&(r=this.getData().getName(e)),r;},defaultOption:{data:null}});n.util.merge(c.prototype,u),n.util.merge(c.prototype,i),n.util.merge(c.prototype,a),n.util.merge(c.prototype,o),n.util.merge(c.prototype,s),e.exports=c;},function(e,t,r){var n=r(0),i=r(2),a=r(37),o=r(33),s=r(60);e.exports=n.extendChartView({type:"map3D",__ecgl__:!0,init:function init(e,t){this._geo3DBuilder=new s(t),this.groupGL=new i.Node(),this._sceneHelper=new o(),this._sceneHelper.initLight(this.groupGL),this._control=new a({zr:t.getZr()}),this._control.init();},render:function render(e,t,r){this.groupGL.add(this._geo3DBuilder.rootNode);var n=e.coordinateSystem;if(n&&n.viewGL){n.viewGL.add(this.groupGL);var i=this._control;i.setCamera(n.viewGL.camera);var a=e.getModel("viewControl");i.setFromViewControlModel(a,0),this._sceneHelper.setScene(n.viewGL.scene),this._sceneHelper.updateLight(e),n.viewGL.setPostEffect(e.getModel("postEffect"),r),n.viewGL.setTemporalSuperSampling(e.getModel("temporalSuperSampling")),this._geo3DBuilder.update(e,t,r),i.off("update"),i.on("update",function(){r.dispatchAction({type:"map3DChangeCamera",alpha:i.getAlpha(),beta:i.getBeta(),distance:i.getDistance(),from:this.uid,map3DId:e.id});});}},afterRender:function afterRender(e,t,r,n){var i=n.renderer;this._sceneHelper.updateAmbientCubemap(i,e,r),this._sceneHelper.updateSkybox(i,e,r);},dispose:function dispose(){this.groupGL.removeAll(),this._control.dispose();}});},function(e,t,r){var n=r(0),i=r(48),a=r(25);n.extendSeriesModel({type:"series.scatter3D",dependencies:["globe","grid3D","geo3D"],visualColorAccessPath:"itemStyle.color",getInitialData:function getInitialData(e,t){var r=n.helper.completeDimensions(["x","y","z"],e.data,{defaultNames:["x","y","z","value"]}),i=new n.List(r,this);return i.initData(e.data),i;},getFormattedLabel:function getFormattedLabel(e,t,r,n){var a=i.getFormattedLabel(this,e,t,r,n);if(null==a){var o=this.getData(),s=o.dimensions[o.dimensions.length-1];a=o.get(s,e);}return a;},formatTooltip:function formatTooltip(e){return a(this,e);},defaultOption:{coordinateSystem:"cartesian3D",zlevel:-10,grid3DIndex:0,globeIndex:0,symbol:"circle",symbolSize:10,distanceToGlobe:1.5,distanceToGeo3D:.5,blendMode:"source-over",label:{show:!1,position:"right",distance:5,textStyle:{fontSize:14,color:"#000",borderColor:"#fff",borderWidth:1}},itemStyle:{opacity:.8},emphasis:{label:{show:!0}},animationDurationUpdate:500}});},function(e,t,r){var n=r(0),i=r(2),a=r(45);n.extendChartView({type:"scatter3D",__ecgl__:!0,init:function init(e,t){this.groupGL=new i.Node();var r=new a(!1,t);this._pointsBuilder=r;},render:function render(e,t,r){this.groupGL.add(this._pointsBuilder.rootNode);var n=e.coordinateSystem;n&&n.viewGL&&(n.viewGL.add(this.groupGL),this._pointsBuilder.update(e,t,r),this._pointsBuilder.updateView(n.viewGL.camera),this._camera=n.viewGL.camera);},updateLayout:function updateLayout(e,t,r){this._pointsBuilder.updateLayout(e,t,r),this._pointsBuilder.updateView(this._camera);},updateCamera:function updateCamera(){this._pointsBuilder.updateView(this._camera);},dispose:function dispose(){this.groupGL.removeAll();},remove:function remove(){this.groupGL.removeAll();}});},function(e,t,r){var n=r(0);n.extendSeriesModel({type:"series.scatterGL",dependencies:["grid","polar","geo","singleAxis"],visualColorAccessPath:"itemStyle.color",getInitialData:function getInitialData(){return n.helper.createList(this);},defaultOption:{coordinateSystem:"cartesian2d",zlevel:10,symbol:"circle",symbolSize:10,blendMode:"source-over",itemStyle:{opacity:.8}}});},function(e,t,r){var n=r(0),i=r(2),a=r(27),o=r(45);n.extendChartView({type:"scatterGL",__ecgl__:!0,init:function init(e,t){this.groupGL=new i.Node(),this.viewGL=new a("orthographic"),this.viewGL.add(this.groupGL),this._pointsBuilder=new o(!0,t);},render:function render(e,t,r){this.groupGL.add(this._pointsBuilder.rootNode),this._updateCamera(r.getWidth(),r.getHeight(),r.getDevicePixelRatio()),this._pointsBuilder.update(e,t,r),this._pointsBuilder.updateView(this.viewGL.camera);},updateLayout:function updateLayout(e,t,r){this._pointsBuilder.updateLayout(e,t,r),this._pointsBuilder.updateView(this.viewGL.camera);},_updateCamera:function _updateCamera(e,t,r){this.viewGL.setViewport(0,0,e,t,r);var n=this.viewGL.camera;n.left=n.top=0,n.bottom=t,n.right=e,n.near=0,n.far=100;},dispose:function dispose(){this.groupGL.removeAll();},remove:function remove(){this.groupGL.removeAll();}});},function(e,t,r){var n=r(0),i=r(26),a=r(25),o=n.extendSeriesModel({type:"series.surface",dependencies:["globe","grid3D","geo3D"],visualColorAccessPath:"itemStyle.color",formatTooltip:function formatTooltip(e){return a(this,e);},getInitialData:function getInitialData(e,t){function r(e){return!(isNaN(e.min)||isNaN(e.max)||isNaN(e.step));}function i(e){var t=n.number.getPrecisionSafe;return Math.max(t(e.min),t(e.max),t(e.step))+1;}var a=e.data;if(!a)if(a=[],e.parametric){var o=e.parametricEquation||{},s=o.u||{},u=o.v||{};["u","v"].forEach(function(e){r(o[e]);}),["x","y","z"].forEach(function(e){o[e];});for(var l=i(s),h=i(u),c=u.min;c<u.max+.999*u.step;c+=u.step){for(var d=s.min;d<s.max+.999*s.step;d+=s.step){var f=n.number.round(Math.min(d,s.max),l),p=n.number.round(Math.min(c,u.max),h),_=o.x(f,p),m=o.y(f,p),g=o.z(f,p);a.push([_,m,g,f,p]);}}}else{var v=e.equation||{},y=v.x||{},x=v.y||{};if(["x","y"].forEach(function(e){r(v[e]);}),"function"!=typeof v.z)return;for(var T=i(y),b=i(x),m=x.min;m<x.max+.999*x.step;m+=x.step){for(var _=y.min;_<y.max+.999*y.step;_+=y.step){var w=n.number.round(Math.min(_,y.max),T),E=n.number.round(Math.min(m,x.max),b),g=v.z(w,E);a.push([w,E,g]);}}}var S=["x","y","z"];e.parametric&&S.push("u","v"),S=n.helper.completeDimensions(S,e.data,{defaultNames:["x","y","z","value"]});var A=new n.List(S,this);return A.initData(a),A;},defaultOption:{coordinateSystem:"cartesian3D",zlevel:-10,grid3DIndex:0,shading:"lambert",parametric:!1,wireframe:{show:!0,lineStyle:{color:"rgba(0,0,0,0.5)",width:1}},equation:{x:{min:-1,max:1,step:.1},y:{min:-1,max:1,step:.1},z:null},parametricEquation:{u:{min:-1,max:1,step:.1},v:{min:-1,max:1,step:.1},x:null,y:null,z:null},itemStyle:{},animationDurationUpdate:500}});n.util.merge(o.prototype,i),e.exports=o;},function(e,t,r){function n(e){return isNaN(e[0])||isNaN(e[1])||isNaN(e[2]);}var i=r(0),a=r(2),o=(r(4),r(1).vec3),s=r(49);i.extendChartView({type:"surface",__ecgl__:!0,init:function init(e,t){this.groupGL=new a.Node();var r={};a.COMMON_SHADERS.forEach(function(e){r[e]=new a.Material({shader:a.createShader("ecgl."+e)}),r[e].shader.define("both","VERTEX_COLOR"),r[e].shader.define("fragment","DOUBLE_SIDE");}),this._materials=r;},render:function render(e,t,r){var n=this._prevSurfaceMesh;this._prevSurfaceMesh=this._surfaceMesh,this._surfaceMesh=n,this._surfaceMesh||(this._surfaceMesh=this._createSurfaceMesh()),this.groupGL.remove(this._prevSurfaceMesh),this.groupGL.add(this._surfaceMesh);var i=e.coordinateSystem,o=e.get("shading"),s=e.getData();if(this._materials[o]?this._surfaceMesh.material=this._materials[o]:this._surfaceMesh.material=this._materials.lambert,a.setMaterialFromModel(o,this._surfaceMesh.material,e,r),i&&i.viewGL){i.viewGL.add(this.groupGL);var u=i.viewGL.isLinearSpace()?"define":"undefine";this._surfaceMesh.material.shader[u]("fragment","SRGB_DECODE");}var l=e.get("parametric"),h=this._getDataShape(s,l),c=e.getModel("wireframe"),d=c.get("lineStyle.width"),f=c.get("show")&&d>0;this._updateSurfaceMesh(this._surfaceMesh,e,h,f);var p=this._surfaceMesh.material;f?(p.shader.define("WIREFRAME_QUAD"),p.set("wireframeLineWidth",d),p.set("wireframeLineColor",a.parseColor(c.get("lineStyle.color")))):p.shader.undefine("WIREFRAME_QUAD"),this._initHandler(e,r),this._updateAnimation(e);},_updateAnimation:function _updateAnimation(e){a.updateVertexAnimation([["prevPosition","position"],["prevNormal","normal"]],this._prevSurfaceMesh,this._surfaceMesh,e);},_createSurfaceMesh:function _createSurfaceMesh(){var e=new a.Mesh({geometry:new a.Geometry({dynamic:!0,sortTriangles:!0}),shadowDepthMaterial:new a.Material({shader:new a.Shader({vertex:a.Shader.source("ecgl.sm.depth.vertex"),fragment:a.Shader.source("ecgl.sm.depth.fragment")})}),culling:!1,renderOrder:10,renderNormal:!0});return e.geometry.createAttribute("barycentric","float",4),e.geometry.createAttribute("prevPosition","float",3),e.geometry.createAttribute("prevNormal","float",3),i.util.extend(e.geometry,s),e;},_initHandler:function _initHandler(e,t){function r(e,t){for(var r=1/0,n=-1,a=[],s=0;s<e.length;s++){i.geometry.attributes.position.get(e[s],a);var u=o.dist(t._array,a);u<r&&(r=u,n=e[s]);}return n;}var n=e.getData(),i=this._surfaceMesh,a=e.coordinateSystem;i.seriesIndex=e.seriesIndex;var s=-1;i.off("mousemove"),i.off("mouseout"),i.on("mousemove",function(e){var u=r(e.triangle,e.point);if(u>=0){var l=[];i.geometry.attributes.position.get(u,l);for(var h=a.pointToData(l),c=1/0,d=-1,f=[],p=0;p<n.count();p++){f[0]=n.get("x",p),f[1]=n.get("y",p),f[2]=n.get("z",p);var _=o.squaredDistance(f,h);_<c&&(d=p,c=_);}d!==s&&t.dispatchAction({type:"grid3DShowAxisPointer",value:h}),s=d,i.dataIndex=d;}else i.dataIndex=-1;},this),i.on("mouseout",function(e){s=-1,i.dataIndex=-1,t.dispatchAction({type:"grid3DHideAxisPointer"});},this);},_updateSurfaceMesh:function _updateSurfaceMesh(e,t,r,i){var s=e.geometry,u=t.getData(),l=u.getLayout("points"),h=0;u.each(function(e){u.hasValue(e)||h++;});var c=h||i,d=s.attributes.position,f=s.attributes.normal,p=s.attributes.texcoord0,_=s.attributes.barycentric,m=s.attributes.color,g=r.row,v=r.column,y=t.get("shading"),x="color"!==y;if(c){var T=(g-1)*(v-1)*4;d.init(T),i&&_.init(T);}else d.value=new Float32Array(l);m.init(s.vertexCount),p.init(s.vertexCount);var b=[0,3,1,1,3,2],w=[[1,1,0,0],[0,1,0,1],[1,0,0,1],[1,0,1,0]],E=s.indices=new(s.vertexCount>65535?Uint32Array:Uint16Array)((g-1)*(v-1)*6),S=function S(e,t,r){r[1]=e*v+t,r[0]=e*v+t+1,r[3]=(e+1)*v+t+1,r[2]=(e+1)*v+t;},A=!1;if(c){var M=[],C=[],L=0;x?f.init(s.vertexCount):f.value=null;for(var N=[[],[],[]],R=[],D=[],I=o.create(),P=function P(e,t,r){var n=3*t;return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r;},O=new Float32Array(l.length),F=new Float32Array(l.length/3*4),B=0;B<u.count();B++){if(u.hasValue(B)){var U=a.parseColor(u.getItemVisual(B,"color")),z=u.getItemVisual(B,"opacity");U[3]*=z,U[3]<.99&&(A=!0);for(var G=0;G<4;G++){F[4*B+G]=U[G];}}}for(var k=[1e7,1e7,1e7],B=0;B<g-1;B++){for(var V=0;V<v-1;V++){var H=B*(v-1)+V,W=4*H;S(B,V,M);for(var q=!1,G=0;G<4;G++){P(l,M[G],C),n(C)&&(q=!0);}for(var G=0;G<4;G++){q?d.set(W+G,k):(P(l,M[G],C),d.set(W+G,C)),i&&_.set(W+G,w[G]);}for(var G=0;G<6;G++){E[L++]=b[G]+W;}if(x&&!q)for(var G=0;G<2;G++){for(var X=3*G,j=0;j<3;j++){var Z=M[b[X]+j];P(l,Z,N[j]);}o.sub(R,N[0],N[1]),o.sub(D,N[1],N[2]),o.cross(I,R,D);for(var j=0;j<3;j++){var Y=3*M[b[X]+j];O[Y]=O[Y]+I[0],O[Y+1]=O[Y+1]+I[1],O[Y+2]=O[Y+2]+I[2];}}}}if(x)for(var B=0;B<O.length/3;B++){P(O,B,I),o.normalize(I,I),O[3*B]=I[0],O[3*B+1]=I[1],O[3*B+2]=I[2];}for(var U=[],K=[],B=0;B<g-1;B++){for(var V=0;V<v-1;V++){var H=B*(v-1)+V,W=4*H;S(B,V,M);for(var G=0;G<4;G++){for(var j=0;j<4;j++){U[j]=F[4*M[G]+j];}m.set(W+G,U),x&&(P(O,M[G],I),f.set(W+G,I));var Z=M[G];K[0]=Z%g/(g-1),K[1]=Math.floor(Z/v)/(v-1),p.set(W+G,K);}H++;}}}else{for(var K=[],B=0;B<u.count();B++){K[0]=B%g/(g-1),K[1]=Math.floor(B/v)/(v-1);var U=a.parseColor(u.getItemVisual(B,"color")),z=u.getItemVisual(B,"opacity");U[3]*=z,U[3]<.99&&(A=!0),m.set(B,U),p.set(B,K);}for(var M=[],Q=0,B=0;B<g-1;B++){for(var V=0;V<v-1;V++){S(B,V,M);for(var G=0;G<6;G++){E[Q++]=M[b[G]];}}}x?s.generateVertexNormals():f.value=null;}s.updateBoundingBox(),s.dirty(),e.material.transparent=A,e.material.depthMask=!A;},_getDataShape:function _getDataShape(e,t){for(var r=-1/0,n=0,i=0,a=t?"u":"x",o=0;o<e.count();o++){var s=e.get(a,o);s<r&&(i,i=0,n++),r=s,i++;}return{row:n+1,column:i};},dispose:function dispose(){this.groupGL.removeAll();},remove:function remove(){this.groupGL.removeAll();}});},function(e,t,r){r(0).registerLayout(function(e,t){e.eachSeriesByType("surface",function(e){var t=e.coordinateSystem;!t||t.type;var r=e.getData(),n=new Float32Array(3*r.count()),i=[NaN,NaN,NaN];t&&"cartesian3D"===t.type&&r.each(["x","y","z"],function(e,a,o,s){var u;u=r.hasValue(s)?t.dataToPoint([e,a,o]):i,n[3*s]=u[0],n[3*s+1]=u[1],n[3*s+2]=u[2];}),r.setLayout("points",n);});});},function(e,t,r){var n=r(0),i=r(36),a=r(35),o=r(34),s=r(26),u=r(62),l=n.extendComponentModel({type:"geo3D",layoutMode:"box",coordinateSystem:null,optionUpdated:function optionUpdated(){var e=this.option;e.regions=this.getFilledRegions(e.regions,e.map);var t=n.helper.completeDimensions(["value"],e.data),r=new n.List(t,this);r.initData(e.regions);var i={};r.each(function(e){var t=r.getName(e),n=r.getItemModel(e);i[t]=n;}),this._regionModelMap=i,this._data=r;},getData:function getData(){return this._data;},getRegionModel:function getRegionModel(e){return this._regionModelMap[e]||new n.Model(null,this);},getFormattedLabel:function getFormattedLabel(e,t){var r=this._data.getName(e),n=this.getRegionModel(r),i=n.get("normal"===t?["label","formatter"]:["emphasis","label","formatter"]);null==i&&(i=n.get(["label","formatter"]));var a={name:r};if("function"==typeof i)return a.status=t,i(a);if("string"==typeof i){var o=a.seriesName;return i.replace("{a}",null!=o?o:"");}return r;},defaultOption:{regions:[]}});n.util.merge(l.prototype,u),n.util.merge(l.prototype,i),n.util.merge(l.prototype,a),n.util.merge(l.prototype,o),n.util.merge(l.prototype,s),e.exports=l;},function(e,t,r){var n=r(60),i=r(0),a=r(2),o=r(37),s=r(33);e.exports=i.extendComponentView({type:"geo3D",__ecgl__:!0,init:function init(e,t){this._geo3DBuilder=new n(t),this.groupGL=new a.Node(),this._lightRoot=new a.Node(),this._sceneHelper=new s(this._lightRoot),this._sceneHelper.initLight(this._lightRoot),this._control=new o({zr:t.getZr()}),this._control.init();},render:function render(e,t,r){this.groupGL.add(this._geo3DBuilder.rootNode);var n=e.coordinateSystem;if(n&&n.viewGL){n.viewGL.add(this._lightRoot),e.get("show")?n.viewGL.add(this.groupGL):n.viewGL.remove(this.groupGL);var i=this._control;i.setCamera(n.viewGL.camera),i.setViewGL(n.viewGL);var a=e.getModel("viewControl");i.setFromViewControlModel(a,0),this._sceneHelper.setScene(n.viewGL.scene),this._sceneHelper.updateLight(e),n.viewGL.setPostEffect(e.getModel("postEffect"),r),n.viewGL.setTemporalSuperSampling(e.getModel("temporalSuperSampling")),this._geo3DBuilder.update(e,t,r);var o=e.get("silent");this.groupGL&&this.groupGL.traverse(function(e){e.isRenderable&&e.isRenderable()&&(e.ignorePicking=null!=e.$ignorePicking?e.$ignorePicking:o);}),i.off("update"),i.on("update",function(){r.dispatchAction({type:"geo3DChangeCamera",alpha:i.getAlpha(),beta:i.getBeta(),distance:i.getDistance(),center:i.getCenter(),from:this.uid,geo3DId:e.id});});}},afterRender:function afterRender(e,t,r,n){var i=n.renderer;this._sceneHelper.updateAmbientCubemap(i,e,r),this._sceneHelper.updateSkybox(i,e,r);},dispose:function dispose(){this._control.dispose();}});},function(e,t,r){function n(e,t){e.id=e.id||e.name||t+"";}var i=r(0),a=r(36),o=r(35),s=r(34),u=r(26),l=i.extendComponentModel({type:"globe",layoutMode:"box",coordinateSystem:null,init:function init(){l.superApply(this,"init",arguments),i.util.each(this.option.layers,function(e,t){i.util.merge(e,this.defaultLayerOption),n(e,t);},this);},mergeOption:function mergeOption(e){function t(e){return i.util.reduce(e,function(e,t,r){return n(t,r),e[t.id]=t,e;},{});}var r=this.option.layers;if(this.option.layers=null,l.superApply(this,"mergeOption",arguments),r&&r.length){var a=t(e.layers),o=t(r);for(var s in a){o[s]?i.util.merge(o[s],a[s],!0):r.push(e.layers[s]);}this.option.layers=r;}i.util.each(this.option.layers,function(e){i.util.merge(e,this.defaultLayerOption);},this);},defaultLayerOption:{show:!0,type:"overlay"},defaultOption:{show:!0,zlevel:-10,left:0,top:0,width:"100%",height:"100%",environment:"auto",baseColor:"#fff",baseTexture:"",heightTexture:"",displacementTexture:"",displacementScale:0,displacementQuality:"medium",globeRadius:100,shading:"lambert",light:{main:{time:""}},viewControl:{autoRotate:!0,panSensitivity:0,targetCoord:null},layers:[]}});i.util.merge(l.prototype,a),i.util.merge(l.prototype,o),i.util.merge(l.prototype,s),i.util.merge(l.prototype,u),e.exports=l;},function(e,t,r){var n=r(0),i=r(2),a=r(37),o=r(33),s=r(173),u=r(4);e.exports=n.extendComponentView({type:"globe",__ecgl__:!0,_displacementScale:0,init:function init(e,t){this.groupGL=new i.Node();var r={};i.COMMON_SHADERS.forEach(function(e){r[e]=new i.Material({shader:i.createShader("ecgl."+e)});}),this._materials=r,this._sphereGeometry=new i.SphereGeometry({widthSegments:200,heightSegments:100,dynamic:!0}),this._overlayGeometry=new i.SphereGeometry({widthSegments:80,heightSegments:40}),this._planeGeometry=new i.PlaneGeometry(),this._earthMesh=new i.Mesh({renderNormal:!0}),this._lightRoot=new i.Node(),this._sceneHelper=new o(),this._sceneHelper.initLight(this._lightRoot),this.groupGL.add(this._earthMesh),this._control=new a({zr:t.getZr()}),this._control.init(),this._layerMeshes={};},render:function render(e,t,r){var n=e.coordinateSystem,a=e.get("shading");n.viewGL.add(this._lightRoot),e.get("show")?n.viewGL.add(this.groupGL):n.viewGL.remove(this.groupGL),this._sceneHelper.setScene(n.viewGL.scene),n.viewGL.setPostEffect(e.getModel("postEffect"),r),n.viewGL.setTemporalSuperSampling(e.getModel("temporalSuperSampling"));var o=this._earthMesh;if(o.geometry=this._sphereGeometry,this._materials[a]?o.material=this._materials[a]:o.material=this._materials.lambert,"realistic"===a){var s=e.getModel("realisticMaterial");o.material.set({roughness:u.firstNotNull(s.get("roughness"),.5),metalness:s.get("metalness")||0});}o.material.set("color",i.parseColor(e.get("baseColor"))),o.scale.set(n.radius,n.radius,n.radius);var l=o.material.setTextureImage("diffuseMap",e.get("baseTexture"),r,{flipY:!1,anisotropic:8});l&&l.surface&&l.surface.attachToMesh(o);var h=o.material.setTextureImage("bumpMap",e.get("heightTexture"),r,{flipY:!1,anisotropic:8});h&&h.surface&&h.surface.attachToMesh(o),o.material.shader[e.get("postEffect.enable")?"define":"undefine"]("fragment","SRGB_DECODE"),this._updateLight(e,r),this._displaceVertices(e,r),this._updateViewControl(e,r),this._updateLayers(e,r);},afterRender:function afterRender(e,t,r,n){var i=n.renderer;this._sceneHelper.updateAmbientCubemap(i,e,r),this._sceneHelper.updateSkybox(i,e,r);},_updateLayers:function _updateLayers(e,t){var r=e.coordinateSystem,a=e.get("layers"),o=r.radius,s=[],l=[],h=[],c=[];n.util.each(a,function(e){var a=new n.Model(e),d=a.get("type"),f=i.loadTexture(a.get("texture"),t,{flipY:!1,anisotropic:8});if(f.surface&&f.surface.attachToMesh(this._earthMesh),"blend"===d){var p=a.get("blendTo"),_=u.firstNotNull(a.get("intensity"),1);"emission"===p?(h.push(f),c.push(_)):(s.push(f),l.push(_));}else{var m=a.get("id"),g=this._layerMeshes[m];g||(g=this._layerMeshes[m]=new i.Mesh({geometry:this._overlayGeometry,castShadow:!1,ignorePicking:!0}));"lambert"===a.get("shading")?(g.material=g.__lambertMaterial||new i.Material({shader:i.createShader("ecgl.lambert"),transparent:!0,depthMask:!1}),g.__lambertMaterial=g.material):(g.material=g.__colorMaterial||new i.Material({shader:i.createShader("ecgl.color"),transparent:!0,depthMask:!1}),g.__colorMaterial=g.material),g.material.shader.enableTexture("diffuseMap");var v=a.get("distance"),y=o+(null==v?r.radius/100:v);g.scale.set(y,y,y),o=y;var x=this._blankTexture||(this._blankTexture=i.createBlankTexture("rgba(255, 255, 255, 0)"));g.material.set("diffuseMap",x),i.loadTexture(a.get("texture"),t,{flipY:!1,anisotropic:8},function(e){e.surface&&e.surface.attachToMesh(g),g.material.set("diffuseMap",e),t.getZr().refresh();}),a.get("show")?this.groupGL.add(g):this.groupGL.remove(g);}},this);var d=this._earthMesh.material;d.shader.define("fragment","LAYER_DIFFUSEMAP_COUNT",s.length),d.shader.define("fragment","LAYER_EMISSIVEMAP_COUNT",h.length),d.set("layerDiffuseMap",s),d.set("layerDiffuseIntensity",l),d.set("layerEmissiveMap",h),d.set("layerEmissionIntensity",c);var f=e.getModel("debug.wireframe");if(f.get("show")){d.shader.define("both","WIREFRAME_TRIANGLE");var p=i.parseColor(f.get("lineStyle.color")||"rgba(0,0,0,0.5)"),_=u.firstNotNull(f.get("lineStyle.width"),1);d.set("wireframeLineWidth",_),d.set("wireframeLineColor",p);}else d.shader.undefine("both","WIREFRAME_TRIANGLE");},_updateViewControl:function _updateViewControl(e,t){function r(){return{type:"globeChangeCamera",alpha:o.getAlpha(),beta:o.getBeta(),distance:o.getDistance()-n.radius,center:o.getCenter(),from:this.uid,globeId:e.id};}var n=e.coordinateSystem,i=e.getModel("viewControl"),a=n.viewGL.camera,o=this._control;o.setCamera(a),o.setViewGL(n.viewGL);var s,u,l=i.get("targetCoord");null!=l&&(u=l[0]+90,s=l[1]),o.setFromViewControlModel(i,{baseDistance:n.radius,alpha:s,beta:u}),o.off("update"),o.on("update",function(){t.dispatchAction(r());});},_displaceVertices:function _displaceVertices(e,t){var r=e.get("displacementTexture")||e.get("heightTexture"),n=e.get("displacementScale"),a=e.get("displacementQuality"),o=e.get("debug.wireframe.show");if(r&&"none"!==r||(n=0),n!==this._displacementScale||a!==this._displacementQuality||o!==this._showDebugWireframe){this._displacementScale=n,this._displacementQuality=a,this._showDebugWireframe=o;var s=this._sphereGeometry,u={low:100,medium:200,high:400,ultra:800}[a]||200,l=u/2;(s.widthSegments!==u||o)&&(s.widthSegments=u,s.heightSegments=l,s.build());var h;if(i.isImage(r))h=r,this._doDisplaceVertices(s,h,n),o&&s.generateBarycentric();else{h=new Image();var c=this;h.onload=function(){c._doDisplaceVertices(s,h,n),o&&s.generateBarycentric(),t.getZr().refresh();},h.src=r;}}},_doDisplaceVertices:function _doDisplaceVertices(e,t,r){var n=e.attributes.position.value,i=e.attributes.texcoord0.value,a=e.__originalPosition;a&&a.length===n.length||(a=new Float32Array(n.length),a.set(n),e.__originalPosition=a);var o=document.createElement("canvas"),s=o.getContext("2d"),u=t.width,l=t.height;o.width=u,o.height=l,s.drawImage(t,0,0,u,l);for(var h=s.getImageData(0,0,u,l).data,c=0;c<e.vertexCount;c++){var d=3*c,f=2*c,p=a[d+1],_=a[d+2],m=a[d+3],g=i[f++],v=i[f++],y=Math.round(g*(u-1)),x=Math.round(v*(l-1)),T=x*u+y,b=h[4*T]/255*r;n[d+1]=p+p*b,n[d+2]=_+_*b,n[d+3]=m+m*b;}e.generateVertexNormals(),e.dirty(),e.updateBoundingBox();},_updateLight:function _updateLight(e,t){var r=this._earthMesh;this._sceneHelper.updateLight(e);var n=this._sceneHelper.mainLight,i=e.get("light.main.time")||new Date(),a=s.getPosition(Date.parse(i),0,0),o=Math.cos(a.altitude);n.position.y=-o*Math.cos(a.azimuth),n.position.x=Math.sin(a.altitude),n.position.z=o*Math.sin(a.azimuth),n.lookAt(r.getWorldPosition());},dispose:function dispose(e,t){this.groupGL.removeAll(),this._control.dispose();}});},function(e,t,r){function n(e,t){return t.type||(t.data?"category":"value");}var i=r(0),a=r(138),o=i.extendComponentModel({type:"cartesian3DAxis",axis:null,getCoordSysModel:function getCoordSysModel(){return this.ecModel.queryComponents({mainType:"grid3D",index:this.option.gridIndex,id:this.option.gridId})[0];}});i.helper.mixinAxisModelCommonMethods(o),a("x",o,n,{name:"X"}),a("y",o,n,{name:"Y"}),a("z",o,n,{name:"Z"});},function(e,t,r){function n(e,t){var r=new a.Mesh({geometry:new o({useNativeLine:!1}),material:t,castShadow:!1,ignorePicking:!0,renderOrder:2}),n=new u();n.material.depthMask=!1;var i=new a.Node();i.add(r),i.add(n),this.rootNode=i,this.dim=e,this.linesMesh=r,this.labelsMesh=n,this.axisLineCoords=null,this.labelElements=[];}var i=r(0),a=r(2),o=r(22),s=r(4),u=r(50),l=s.firstNotNull,h=r(61),c={x:0,y:2,z:1},d={x:"y",y:"x",z:"y"};n.prototype.update=function(e,t,r,n){var o=e.coordinateSystem,s=o.getAxis(this.dim),u=t[this.dim],f=this.linesMesh.geometry,p=this.labelsMesh.geometry;f.convertToDynamicArray(!0),p.convertToDynamicArray(!0);var _=s.model,m=s.getExtent(),g=n.getDevicePixelRatio(),v=_.getModel("axisLine",e.getModel("axisLine")),y=_.getModel("axisTick",e.getModel("axisTick")),x=_.getModel("axisLabel",e.getModel("axisLabel")),T=v.get("lineStyle.color");if(v.get("show")){var b=v.getModel("lineStyle"),w=[0,0,0],E=[0,0,0],S=c[s.dim];w[S]=m[0],E[S]=m[1],this.axisLineCoords=[w,E];var A=a.parseColor(T),M=l(b.get("width"),1),C=l(b.get("opacity"),1);A[3]*=C,f.addLine(w,E,A,M*g);}if(y.get("show")){var L=y.getModel("lineStyle"),N=a.parseColor(l(L.get("color"),T)),M=l(L.get("width"),1);N[3]*=l(L.get("opacity"),1);var R=s.getTicksCoords(),D=y.get("interval");null!=D&&"auto"!==D||(D=u);for(var I=y.get("length"),P=0;P<R.length;P++){if(!h(s,P,D)){var O=R[P],w=[0,0,0],E=[0,0,0],S=c[s.dim],F=c[d[s.dim]];w[S]=E[S]=O,E[F]=I,f.addLine(w,E,N,M*g);}}}this.labelElements=[];var g=n.getDevicePixelRatio();if(x.get("show"))for(var B=s.getLabelsCoords(),U=_.get("data"),z=x.getModel("textStyle"),D=u,G=x.get("margin"),k=_.getFormattedLabels(),V=s.scale.getTicks(),P=0;P<B.length;P++){if(!h(s,P,D)){var O=B[P],H=[0,0,0],S=c[s.dim],F=c[d[s.dim]];H[S]=H[S]=O,H[F]=G;var W=z;U&&U[V[P]]&&U[V[P]].textStyle&&(W=new i.Model(U[V[P]].textStyle,z,_.ecModel));var q=l(W.get("color"),T),C=l(W.get("opacity"),1),X=W.get("borderColor"),M=W.get("borderWidth"),j=new i.graphic.Text({style:{text:k[P],fill:"function"==typeof q?q("category"===s.type?k[P]:"value"===s.type?V[P]+"":V[P],P):q,stroke:X,lineWidth:M,font:W.getFont(),textVerticalAlign:"top",textAlign:"left"}}),Z=r.add(j),Y=j.getBoundingRect();p.addSprite(H,[Y.width*g,Y.height*g],Z),this.labelElements.push(j);}}if(_.get("name")){var K=_.getModel("nameTextStyle"),H=[0,0,0],S=c[s.dim],F=c[d[s.dim]],Q=l(K.get("color"),T),C=l(K.get("opacity"),1),X=K.get("borderColor"),M=K.get("borderWidth");H[S]=H[S]=(m[0]+m[1])/2,H[F]=_.get("nameGap");var j=new i.graphic.Text({style:{text:_.get("name"),fill:Q,stroke:X,lineWidth:M,font:K.getFont(),textVerticalAlign:"top",textAlign:"left",opacity:C}}),Z=r.add(j),Y=j.getBoundingRect();p.addSprite(H,[Y.width*g,Y.height*g],Z),j.__idx=this.labelElements.length,this.nameLabelElement=j;}this.labelsMesh.material.set("textureAtlas",r.getTexture()),this.labelsMesh.material.set("uvScale",r.getCoordsScale()),f.convertToTypedArray(),p.convertToTypedArray();},n.prototype.setSpriteAlign=function(e,t,r){for(var n=r.getDevicePixelRatio(),i=this.labelsMesh.geometry,a=0;a<this.labelElements.length;a++){var o=this.labelElements[a],s=o.getBoundingRect();i.setSpriteAlign(a,[s.width*n,s.height*n],e,t);}var u=this.nameLabelElement;if(u){var s=u.getBoundingRect();i.setSpriteAlign(u.__idx,[s.width*n,s.height*n],e,t),i.dirty();}this.textAlign=e,this.textVerticalAlign=t;},e.exports=n;},function(e,t,r){function n(e,t,r,n){var i=[0,0,0],a=n<0?r.getExtentMin():r.getExtentMax();i[d[r.dim]]=a,e.position.setArray(i),e.rotation.identity(),t.distance=-Math.abs(a),t.normal.set(0,0,0),"x"===r.dim?(e.rotation.rotateY(n*Math.PI/2),t.normal.x=-n):"z"===r.dim?(e.rotation.rotateX(-n*Math.PI/2),t.normal.y=-n):(n>0&&e.rotation.rotateY(Math.PI),t.normal.z=-n);}function i(e,t,r){this.rootNode=new o.Node();var n=new o.Mesh({geometry:new u({useNativeLine:!1}),material:t,castShadow:!1,ignorePicking:!0,renderOrder:1}),i=new o.Mesh({geometry:new l(),material:r,castShadow:!1,culling:!1,ignorePicking:!0,renderOrder:0});this.rootNode.add(i),this.rootNode.add(n),this.faceInfo=e,this.plane=new o.Plane(),this.linesMesh=n,this.quadsMesh=i;}var a=r(0),o=r(2),s=r(4),u=r(22),l=r(162),h=s.firstNotNull,c=r(61),d={x:0,y:2,z:1};i.prototype.update=function(e,t,r,i){var a=t.coordinateSystem,o=[a.getAxis(this.faceInfo[0]),a.getAxis(this.faceInfo[1])],s=this.linesMesh.geometry,u=this.quadsMesh.geometry;s.convertToDynamicArray(!0),u.convertToDynamicArray(!0),this._updateSplitLines(s,o,t,e,i),this._udpateSplitAreas(u,o,t,e,i),s.convertToTypedArray(),u.convertToTypedArray();var l=a.getAxis(this.faceInfo[2]);n(this.rootNode,this.plane,l,this.faceInfo[3]);},i.prototype._updateSplitLines=function(e,t,r,n,i){var s=i.getDevicePixelRatio();t.forEach(function(i,u){var l=i.model,d=t[1-u].getExtent();if(!i.scale.isBlank()){var f=l.getModel("splitLine",r.getModel("splitLine"));if(f.get("show")){var p=f.getModel("lineStyle"),_=p.get("color"),m=h(p.get("opacity"),1),g=h(p.get("width"),1),v=f.get("interval");null!=v&&"auto"!==v||(v=n[i.dim]),_=a.util.isArray(_)?_:[_];for(var y=i.getTicksCoords(),x=0,T=0;T<y.length;T++){if(!c(i,T,v)){var b=y[T],w=o.parseColor(_[x%_.length]);w[3]*=m;var E=[0,0,0],S=[0,0,0];E[u]=S[u]=b,E[1-u]=d[0],S[1-u]=d[1],e.addLine(E,S,w,g*s),x++;}}}}});},i.prototype._udpateSplitAreas=function(e,t,r,n,i){t.forEach(function(i,s){var u=i.model,l=t[1-s].getExtent();if(!i.scale.isBlank()){var d=u.getModel("splitArea",r.getModel("splitArea"));if(d.get("show")){var f=d.getModel("areaStyle"),p=f.get("color"),_=h(f.get("opacity"),1),m=d.get("interval");null!=m&&"auto"!==m||(m=n[i.dim]),p=a.util.isArray(p)?p:[p];for(var g=i.getTicksCoords(),v=0,y=[0,0,0],x=[0,0,0],T=0;T<g.length;T++){var b=g[T],w=[0,0,0],E=[0,0,0];if(w[s]=E[s]=b,w[1-s]=l[0],E[1-s]=l[1],0!==T){if(!c(i,T,m)){var S=o.parseColor(p[v%p.length]);S[3]*=_,e.addQuad([y,w,E,x],S),y=w,x=E,v++;}}else y=w,x=E;}}}});},e.exports=i;},function(e,t,r){var n=r(0),i=r(36),a=r(35),o=r(34),s=n.extendComponentModel({type:"grid3D",dependencies:["xAxis3D","yAxis3D","zAxis3D"],defaultOption:{show:!0,zlevel:-10,left:0,top:0,width:"100%",height:"100%",environment:"auto",boxWidth:100,boxHeight:100,boxDepth:100,axisPointer:{show:!0,lineStyle:{color:"rgba(0, 0, 0, 0.8)",width:1},label:{show:!0,formatter:null,margin:8,textStyle:{fontSize:16}}},axisLine:{show:!0,lineStyle:{color:"#333",width:2,type:"solid"}},axisTick:{show:!0,inside:!1,length:3,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,margin:8,textStyle:{fontSize:12}},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}},light:{main:{alpha:30,beta:40},ambient:{intensity:.4}},viewControl:{alpha:20,beta:40,autoRotate:!1,distance:200,minDistance:40,maxDistance:400}}});n.util.merge(s.prototype,i),n.util.merge(s.prototype,a),n.util.merge(s.prototype,o),e.exports=s;},function(e,t,r){var n=r(0),i=r(2),a=r(37),o=r(22),s=r(4),u=s.firstNotNull,l=r(65),h=r(33),c=r(134),d=r(133),f=r(50);i.Shader.import(r(38)),["x","y","z"].forEach(function(e){n.extendComponentView({type:e+"Axis3D"});});var p={x:0,y:2,z:1};e.exports=n.extendComponentView({type:"grid3D",__ecgl__:!0,init:function init(e,t){var r=[["y","z","x",-1,"left"],["y","z","x",1,"right"],["x","y","z",-1,"bottom"],["x","y","z",1,"top"],["x","z","y",-1,"far"],["x","z","y",1,"near"]],n=["x","y","z"],s=new i.Material({shader:i.createShader("ecgl.color"),depthMask:!1,transparent:!0}),u=new i.Material({shader:i.createShader("ecgl.meshLines3D"),depthMask:!1,transparent:!0});s.shader.define("fragment","DOUBLE_SIDE"),s.shader.define("both","VERTEX_COLOR"),this.groupGL=new i.Node(),this._control=new a({zr:t.getZr()}),this._control.init(),this._faces=r.map(function(e){var t=new c(e,u,s);return this.groupGL.add(t.rootNode),t;},this),this._axes=n.map(function(e){var t=new d(e,u);return this.groupGL.add(t.rootNode),t;},this);var p=t.getDevicePixelRatio();this._axisLabelSurface=new l({width:256,height:256,devicePixelRatio:p}),this._axisLabelSurface.onupdate=function(){t.getZr().refresh();},this._axisPointerLineMesh=new i.Mesh({geometry:new o({useNativeLine:!1}),material:u,castShadow:!1,ignorePicking:!0,renderOrder:3}),this.groupGL.add(this._axisPointerLineMesh),this._axisPointerLabelsSurface=new l({width:128,height:128,devicePixelRatio:p}),this._axisPointerLabelsMesh=new f({ignorePicking:!0,renderOrder:4,castShadow:!1}),this._axisPointerLabelsMesh.material.set("textureAtlas",this._axisPointerLabelsSurface.getTexture()),this.groupGL.add(this._axisPointerLabelsMesh),this._lightRoot=new i.Node(),this._sceneHelper=new h(),this._sceneHelper.initLight(this._lightRoot);},render:function render(e,t,r){this._model=e,this._api=r;var n=e.coordinateSystem;n.viewGL.add(this._lightRoot),e.get("show")?n.viewGL.add(this.groupGL):n.viewGL.remove(this.groupGL);var i=this._control;i.setCamera(n.viewGL.camera),i.setViewGL(n.viewGL);var a=e.getModel("viewControl");i.setFromViewControlModel(a,0),this._axisLabelSurface.clear();var o=["x","y","z"].reduce(function(t,r){var i=n.getAxis(r),a=i.model;return t[r]=u(a.get("axisLabel.interval"),e.get("axisLabel.interval")),"ordinal"===i.scale.type&&(null!=t[r]&&"auto"!=t[r]||(t[r]=Math.floor(i.scale.getTicks().length/8))),t;},{});i.off("update"),e.get("show")&&(this._faces.forEach(function(n){n.update(o,e,t,r);},this),this._axes.forEach(function(t){t.update(e,o,this._axisLabelSurface,r);},this)),i.on("update",this._onCameraChange.bind(this,e,r),this),this._sceneHelper.setScene(n.viewGL.scene),this._sceneHelper.updateLight(e),n.viewGL.setPostEffect(e.getModel("postEffect"),r),n.viewGL.setTemporalSuperSampling(e.getModel("temporalSuperSampling")),this._initMouseHandler(e);},afterRender:function afterRender(e,t,r,n){var i=n.renderer;this._sceneHelper.updateAmbientCubemap(i,e,r),this._sceneHelper.updateSkybox(i,e,r);},showAxisPointer:function showAxisPointer(e,t,r,n){this._doShowAxisPointer(),this._updateAxisPointer(n.value);},hideAxisPointer:function hideAxisPointer(e,t,r,n){this._doHideAxisPointer();},_initMouseHandler:function _initMouseHandler(e){var t=e.coordinateSystem,r=t.viewGL;e.get("show")&&e.get("axisPointer.show")?r.on("mousemove",this._updateAxisPointerOnMousePosition,this):r.off("mousemove",this._updateAxisPointerOnMousePosition);},_updateAxisPointerOnMousePosition:function _updateAxisPointerOnMousePosition(e){if(!e.target){for(var t,r=this._model,n=r.coordinateSystem,a=n.viewGL,o=a.castRay(e.offsetX,e.offsetY,new i.Ray()),s=0;s<this._faces.length;s++){var u=this._faces[s];if(!u.rootNode.invisible){u.plane.normal.dot(a.camera.worldTransform.z)<0&&u.plane.normal.negate();var l=o.intersectPlane(u.plane),h=n.getAxis(u.faceInfo[0]),c=n.getAxis(u.faceInfo[1]),d=p[u.faceInfo[0]],f=p[u.faceInfo[1]];h.contain(l._array[d])&&c.contain(l._array[f])&&(t=l);}}if(t){var _=n.pointToData(t._array,[],!0);this._updateAxisPointer(_),this._doShowAxisPointer();}else this._doHideAxisPointer();}},_onCameraChange:function _onCameraChange(e,t){e.get("show")&&(this._updateFaceVisibility(),this._updateAxisLinePosition());var r=this._control;t.dispatchAction({type:"grid3DChangeCamera",alpha:r.getAlpha(),beta:r.getBeta(),distance:r.getDistance(),center:r.getCenter(),from:this.uid,grid3DId:e.id});},_updateFaceVisibility:function _updateFaceVisibility(){var e=this._control.getCamera(),t=new i.Vector3();e.update();for(var r=0;r<this._faces.length/2;r++){for(var n=[],a=0;a<2;a++){this._faces[2*r+a].rootNode.getWorldPosition(t),t.transformMat4(e.viewMatrix),n[a]=t.z;}var o=n[0]>n[1]?0:1,s=this._faces[2*r+o],u=this._faces[2*r+1-o];s.rootNode.invisible=!0,u.rootNode.invisible=!1;}},_updateAxisLinePosition:function _updateAxisLinePosition(){var e=this._model.coordinateSystem,t=e.getAxis("x"),r=e.getAxis("y"),n=e.getAxis("z"),i=n.getExtentMax(),a=n.getExtentMin(),o=t.getExtentMin(),s=t.getExtentMax(),u=r.getExtentMax(),l=r.getExtentMin(),h=this._axes[0].rootNode,c=this._axes[1].rootNode,d=this._axes[2].rootNode,f=this._faces,p=f[4].rootNode.invisible?l:u,_=f[2].rootNode.invisible?i:a,m=f[0].rootNode.invisible?o:s,g=f[2].rootNode.invisible?i:a,v=f[0].rootNode.invisible?s:o,y=f[4].rootNode.invisible?l:u;h.rotation.identity(),c.rotation.identity(),d.rotation.identity(),f[4].rootNode.invisible&&(this._axes[0].flipped=!0,h.rotation.rotateX(Math.PI)),f[0].rootNode.invisible&&(this._axes[1].flipped=!0,c.rotation.rotateZ(Math.PI)),f[4].rootNode.invisible&&(this._axes[2].flipped=!0,d.rotation.rotateY(Math.PI)),h.position.set(0,_,p),c.position.set(m,g,0),d.position.set(v,0,y),h.update(),c.update(),d.update(),this._updateAxisLabelAlign();},_updateAxisLabelAlign:function _updateAxisLabelAlign(){var e=this._control.getCamera(),t=[new i.Vector4(),new i.Vector4()],r=new i.Vector4();this.groupGL.getWorldPosition(r),r.w=1,r.transformMat4(e.viewMatrix).transformMat4(e.projectionMatrix),r.x/=r.w,r.y/=r.w,this._axes.forEach(function(n){for(var i=n.axisLineCoords,a=(n.labelsMesh.geometry,0);a<t.length;a++){t[a].setArray(i[a]),t[a].w=1,t[a].transformMat4(n.rootNode.worldTransform).transformMat4(e.viewMatrix).transformMat4(e.projectionMatrix),t[a].x/=t[a].w,t[a].y/=t[a].w;}var o,s,u=t[1].x-t[0].x,l=t[1].y-t[0].y,h=(t[1].x+t[0].x)/2,c=(t[1].y+t[0].y)/2;Math.abs(l/u)<.5?(o="center",s=c>r.y?"bottom":"top"):(s="middle",o=h>r.x?"left":"right"),n.setSpriteAlign(o,s,this._api);},this);},_doShowAxisPointer:function _doShowAxisPointer(){this._axisPointerLineMesh.invisible&&(this._axisPointerLineMesh.invisible=!1,this._axisPointerLabelsMesh.invisible=!1,this._api.getZr().refresh());},_doHideAxisPointer:function _doHideAxisPointer(){this._axisPointerLineMesh.invisible||(this._axisPointerLineMesh.invisible=!0,this._axisPointerLabelsMesh.invisible=!0,this._api.getZr().refresh());},_updateAxisPointer:function _updateAxisPointer(e){function t(e){return s.firstNotNull(e.model.get("axisPointer.show"),h.get("show"));}function r(e){var t=e.model.getModel("axisPointer",h),r=t.getModel("lineStyle"),n=i.parseColor(r.get("color")),a=u(r.get("width"),1),o=u(r.get("opacity"),1);return n[3]*=o,{color:n,lineWidth:a};}var n=this._model.coordinateSystem,a=n.dataToPoint(e),o=this._axisPointerLineMesh,l=o.geometry,h=this._model.getModel("axisPointer"),c=this._api.getDevicePixelRatio();l.convertToDynamicArray(!0);for(var d=0;d<this._faces.length;d++){var f=this._faces[d];if(!f.rootNode.invisible){for(var _=f.faceInfo,m=_[3]<0?n.getAxis(_[2]).getExtentMin():n.getAxis(_[2]).getExtentMax(),g=p[_[2]],v=0;v<2;v++){var y=_[v],x=_[1-v],T=n.getAxis(y),b=n.getAxis(x);if(t(T)){var w=[0,0,0],E=[0,0,0],S=p[y],A=p[x];w[S]=E[S]=a[S],w[g]=E[g]=m,w[A]=b.getExtentMin(),E[A]=b.getExtentMax();var M=r(T);l.addLine(w,E,M.color,M.lineWidth*c);}}if(t(n.getAxis(_[2]))){var w=a.slice(),E=a.slice();E[g]=m;var M=r(n.getAxis(_[2]));l.addLine(w,E,M.color,M.lineWidth*c);}}}l.convertToTypedArray(),this._updateAxisPointerLabelsMesh(e),this._api.getZr().refresh();},_updateAxisPointerLabelsMesh:function _updateAxisPointerLabelsMesh(e){var t=this._model,r=this._axisPointerLabelsMesh,i=this._axisPointerLabelsSurface,a=t.coordinateSystem,o=t.getModel("axisPointer");r.geometry.convertToDynamicArray(!0),i.clear();var s={x:"y",y:"x",z:"y"};this._axes.forEach(function(t,l){var h=a.getAxis(t.dim),c=h.model,d=c.getModel("axisPointer",o),f=d.getModel("label"),_=d.get("lineStyle.color");if(f.get("show")&&d.get("show")){var m=e[l],g=f.get("formatter"),v=h.scale.getLabel(m);if(null!=g)v=g(v,e);else if("interval"===h.scale.type||"log"===h.scale.type){var y=n.number.getPrecisionSafe(h.scale.getTicks()[0]);v=m.toFixed(y+2);}var x=f.getModel("textStyle"),T=x.get("color"),b=u(x.get("opacity"),1),w=x.get("borderColor"),E=x.get("borderWidth"),S=new n.graphic.Text({style:{text:v,textFont:x.getFont(),fill:T||_,stroke:w,lineWidth:E,opacity:b,textAlign:"left",textVerticalAlign:"top"}}),A=i.add(S),M=S.getBoundingRect(),C=this._api.getDevicePixelRatio(),L=t.rootNode.position.toArray();L[p[s[t.dim]]]+=(t.flipped?-1:1)*f.get("margin"),L[p[t.dim]]=h.dataToCoord(e[l]),r.geometry.addSprite(L,[M.width*C,M.height*C],A,t.textAlign,t.textVerticalAlign);}},this),i.getZr().refreshImmediately(),r.material.set("uvScale",i.getCoordsScale()),r.geometry.convertToTypedArray();},dispose:function dispose(){this.groupGL.removeAll(),this._control.dispose();}});},function(e,t,r){var n=r(0),i={show:!0,grid3DIndex:0,inverse:!1,name:"",nameLocation:"middle",nameTextStyle:{fontSize:16},nameGap:20,axisPointer:{},axisLine:{},axisTick:{},axisLabel:{},splitArea:{}},a=n.util.merge({boundaryGap:!0,axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"},axisPointer:{label:{show:!1}}},i),o=n.util.merge({boundaryGap:[0,0],splitNumber:5,axisPointer:{label:{}}},i),s=n.util.defaults({scale:!0,min:"dataMin",max:"dataMax"},o),u=n.util.defaults({logBase:10},o);u.scale=!0,e.exports={categoryAxis:a,valueAxis:o,timeAxis:s,logAxis:u};},function(e,t,r){var n=r(0),i=r(137),a=["value","category","time","log"];e.exports=function(e,t,r,o){n.util.each(a,function(a){t.extend({type:e+"Axis3D."+a,mergeDefaultAndTheme:function mergeDefaultAndTheme(t,i){var o=i.getTheme();n.util.merge(t,o.get(a+"Axis")),n.util.merge(t,this.getDefaultOption()),t.type=r(e,t);},defaultOption:n.util.merge(n.util.clone(i[a+"Axis"]),o||{},!0)});}),t.superClass.registerSubTypeDefaulter(e+"Axis3D",n.util.curry(r,e));};},function(e,t,r){function n(e,t,r,n,i){this.name=e,this.map=t,this.regions=[],this._nameCoordMap={},this.loadGeoJson(r,n,i),this.transform=s.create(),this.invTransform=s.create();}var i=r(0),a=r(1),o=a.vec3,s=a.mat4,u=[r(176),r(175)];n.prototype={constructor:n,type:"geo3D",dimensions:["lng","lat","alt"],containPoint:function containPoint(){},loadGeoJson:function loadGeoJson(e,t,r){try{this.regions=e?i.parseGeoJSON(e):[];}catch(e){throw"Invalid geoJson format\n"+e;}t=t||{},r=r||{};for(var n=this.regions,a={},o=0;o<n.length;o++){var s=n[o].name;s=r[s]||s,n[o].name=s,a[s]=n[o],this.addGeoCoord(s,n[o].center);var l=t[s];l&&n[o].transformTo(l.left,l.top,l.width,l.height);}this._regionsMap=a,this._geoRect=null,u.forEach(function(e){e(this);},this);},getGeoBoundingRect:function getGeoBoundingRect(){if(this._geoRect)return this._geoRect;for(var e,t=this.regions,r=0;r<t.length;r++){var n=t[r].getBoundingRect();e=e||n.clone(),e.union(n);}return this._geoRect=e||new i.graphic.BoundingRect(0,0,0,0);},addGeoCoord:function addGeoCoord(e,t){this._nameCoordMap[e]=t;},getRegion:function getRegion(e){return this._regionsMap[e];},getRegionByCoord:function getRegionByCoord(e){for(var t=this.regions,r=0;r<t.length;r++){if(t[r].contain(e))return t[r];}},setSize:function setSize(e,t,r){this.size=[e,t,r];var n=this.getGeoBoundingRect(),i=e/n.width,a=-r/n.height,o=-e/2-n.x*i,u=r/2-n.y*a,l=[o,0,u],h=[i,1,a],c=this.transform;s.identity(c),s.translate(c,c,l),s.scale(c,c,h),s.invert(this.invTransform,c);},dataToPoint:function dataToPoint(e,t){return t=t||[],t[0]=e[0],t[2]=e[1],t[1]=e[2],isNaN(t[1])&&(t[1]=this.size[1]),o.transformMat4(t,t,this.transform),t;},pointToData:function pointToData(e,t){return t=t||[],t[0]=e[0],t[1]=e[1],t[2]=e[2],o.transformMat4(t,t,this.invTransform),t;}},e.exports=n;},function(e,t,r){function n(e){this.radius=e||100,this.viewGL=null;}var i=r(1),a=i.vec3;n.prototype={constructor:n,dimensions:["lng","lat","alt"],type:"globe",containPoint:function containPoint(){},dataToPoint:function dataToPoint(e,t){var r=e[0],n=e[1],i=e[2]||0;r=r*Math.PI/180,n=n*Math.PI/180;var a=i+this.radius,o=Math.cos(n)*a;return t=t||[],t[0]=-o*Math.cos(r+Math.PI),t[1]=Math.sin(n)*a,t[2]=o*Math.sin(r+Math.PI),t;},pointToData:function pointToData(e,t){var r=e[0],n=e[1],i=e[2],o=a.len(e);r/=o,n/=o,i/=o;var s=Math.asin(n),u=Math.atan2(i,-r);u<0&&(u=2*Math.PI+u);var l=180*s/Math.PI,h=180*u/Math.PI-180;return t=t||[],t[0]=h,t[1]=l,t[2]=o-this.radius,t;}},e.exports=n;},function(e,t,r){function n(e,t){var r=e.getBoxLayoutParams(),n=o.getLayoutRect(r,{width:t.getWidth(),height:t.getHeight()});n.y=t.getHeight()-n.y-n.height,this.viewGL.setViewport(n.x,n.y,n.width,n.height,t.getDevicePixelRatio()),this.radius=e.get("globeRadius");}var i=r(140),a=r(0),o=r(39),s=r(27),u=r(4),l={dimensions:i.prototype.dimensions,create:function create(e,t){var r=[];return e.eachComponent("globe",function(e){e.__viewGL=e.__viewGL||new s();var a=new i();a.viewGL=e.__viewGL,e.coordinateSystem=a,a.model=e,r.push(a),a.resize=n,a.resize(e,t);}),e.eachSeries(function(t){if("globe"===t.get("coordinateSystem")){var r=t.getReferringComponents("globe")[0];if(r||(r=e.getComponent("globe")),!r)throw new Error('globe "'+u.firstNotNull(t.get("globe3DIndex"),t.get("globe3DId"),0)+'" not found');var n=r.coordinateSystem;t.coordinateSystem=n;}}),r;}};a.registerCoordinateSystem("globe",l),e.exports=l;},function(e,t,r){function n(e,t,r){i.Axis.call(this,e,t,r);}var i=r(0);n.prototype={constructor:n,getExtentMin:function getExtentMin(){var e=this._extent;return Math.min(e[0],e[1]);},getExtentMax:function getExtentMax(){var e=this._extent;return Math.max(e[0],e[1]);}},i.util.inherits(n,i.Axis),e.exports=n;},function(e,t,r){function n(e){a.call(this,e),this.size=[0,0,0];}var i=r(0),a=r(174);n.prototype={constructor:n,type:"cartesian3D",dimensions:["x","y","z"],model:null,containPoint:function containPoint(e){return this.getAxis("x").contain(e[0])&&this.getAxis("y").contain(e[2])&&this.getAxis("z").contain(e[1]);},containData:function containData(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])&&this.getAxis("z").containData(e[2]);},dataToPoint:function dataToPoint(e,t,r){return t=t||[],t[0]=this.getAxis("x").dataToCoord(e[0],r),t[2]=this.getAxis("y").dataToCoord(e[1],r),t[1]=this.getAxis("z").dataToCoord(e[2],r),t;},pointToData:function pointToData(e,t,r){return t=t||[],t[0]=this.getAxis("x").coordToData(e[0],r),t[1]=this.getAxis("y").coordToData(e[2],r),t[2]=this.getAxis("z").coordToData(e[1],r),t;}},i.util.inherits(n,a),e.exports=n;},function(e,t,r){function n(e,t){var r=e.getBoxLayoutParams(),n=s.getLayoutRect(r,{width:t.getWidth(),height:t.getHeight()});n.y=t.getHeight()-n.y-n.height,this.viewGL.setViewport(n.x,n.y,n.width,n.height,t.getDevicePixelRatio());var i=e.get("boxWidth"),a=e.get("boxHeight"),o=e.get("boxDepth");this.getAxis("x").setExtent(-i/2,i/2),this.getAxis("y").setExtent(o/2,-o/2),this.getAxis("z").setExtent(-a/2,a/2),this.size=[i,a,o];}var i=r(143),a=r(142),o=r(0),s=r(39),u=r(27),l=(r(4),{dimensions:i.prototype.dimensions,create:function create(e,t){function r(e,t,r){h[e][t]=h[e][t]||[1/0,-1/0],h[e][t][0]=Math.min(r[0],h[e][t][0]),h[e][t][1]=Math.max(r[1],h[e][t][1]);}function s(e,t){return c.map(function(r){var n=e.getReferringComponents(r)[0];return null==n&&(n=t.getComponent(r)),n;});}var l=[];e.eachComponent("grid3D",function(e){e.__viewGL=e.__viewGL||new u();var t=new i();t.model=e,t.viewGL=e.__viewGL,e.coordinateSystem=t,l.push(t),t.resize=n;});var h={x:[],y:[],z:[]};e.eachSeries(function(e){if("cartesian3D"===e.get("coordinateSystem")){var t=e.getData();i.prototype.dimensions.forEach(function(n){var i=n+"Axis3D",a=e.getReferringComponents(i)[0];a&&r(n,a.componentIndex,t.getDataExtent(e.coordDimToDataDim(n)[0]));});}}),["xAxis3D","yAxis3D","zAxis3D"].forEach(function(t){e.eachComponent(t,function(e){var r=t.charAt(0),n=e.getReferringComponents("grid3D")[0],i=n.coordinateSystem,s=i.getAxis(r);if(!s){var u=o.helper.createScale(h[r][e.componentIndex]||[1/0,-1/0],e);s=new a(r,u),s.type=e.get("type");var l="category"===s.type;s.onBand=l&&e.get("boundaryGap"),s.inverse=e.get("inverse"),e.axis=s,s.model=e,i.addAxis(s);}});});var c=["xAxis3D","yAxis3D","zAxis3D"];return e.eachSeries(function(t){if("cartesian3D"===t.get("coordinateSystem")){var r=t.getReferringComponents("grid3D")[0];if(null==r){var n=s(t,e),r=n[0].getCoordSysModel();n.forEach(function(e){e.getCoordSysModel();});}var i=r.coordinateSystem;t.coordinateSystem=i;}}),e.eachComponent("grid3D",function(e){e.coordinateSystem.resize(e,t);}),l;}});o.registerCoordinateSystem("grid3D",l),e.exports=l;},function(e,t,r){function n(e){var t=e.__zr;e.__zr=null,t&&e.removeAnimatorsFromZr&&e.removeAnimatorsFromZr(t);}function i(e){return e.__GUID__;}function a(e,t,r){var n=0,i=[];for(var a in t){t[a].count?n++:i.push(t[a].target);}for(var o=0;o<Math.min(n-r,i.length);o++){i[o].dispose(e);}}function o(e,t){var r=i(t);e[r]=e[r]||{count:0,target:t},e[r].count++;}var s=r(0),u=r(51),l=r(194),h=r(5),c=r(52),d=r(82),f=function f(e,t){this.id=e,this.zr=t;try{this.renderer=new u({clearBit:0,devicePixelRatio:t.painter.dpr,preserveDrawingBuffer:!0}),this.renderer.resize(t.painter.getWidth(),t.painter.getHeight());}catch(e){return this.renderer=null,this.dom=document.createElement("div"),this.dom.style.cssText="position:absolute; left: 0; top: 0; right: 0; bottom: 0;",this.dom.className="ecgl-nowebgl",this.dom.innerHTML="Sorry, your browser does support WebGL",void console.error(e);}this.onglobalout=this.onglobalout.bind(this),t.on("globalout",this.onglobalout),this.dom=this.renderer.canvas;var r=this.dom.style;r.position="absolute",r.left="0",r.top="0",this.views=[],this._picking=new l({renderer:this.renderer}),this._viewsToDispose=[],this._accumulatingId=0,this._zrEventProxy=new s.graphic.Rect({shape:{x:-1,y:-1,width:2,height:2},__isGLToZRProxy:!0});};f.prototype.addView=function(e){if(e.layer!==this){var t=this._viewsToDispose.indexOf(e);t>=0&&this._viewsToDispose.splice(t,1),this.views.push(e),e.layer=this;var r=this.zr;e.scene.traverse(function(e){e.__zr=r,e.addAnimatorsToZr&&e.addAnimatorsToZr(r);});}},f.prototype.removeView=function(e){if(e.layer===this){var t=this.views.indexOf(e);t>=0&&(this.views.splice(t,1),e.scene.traverse(n,this),e.layer=null,this._viewsToDispose.push(e));}},f.prototype.removeViewsAll=function(){this.views.forEach(function(e){e.scene.traverse(n,this),e.layer=null,this._viewsToDispose.push(e);},this),this.views.length=0;},f.prototype.resize=function(e,t){this.renderer.resize(e,t);},f.prototype.clear=function(){var e=this.renderer.gl;e.clearColor(0,0,0,0),e.depthMask(!0),e.colorMask(!0,!0,!0,!0),e.clear(e.DEPTH_BUFFER_BIT|e.COLOR_BUFFER_BIT);},f.prototype.clearDepth=function(){var e=this.renderer.gl;e.clear(e.DEPTH_BUFFER_BIT);},f.prototype.clearColor=function(){var e=this.renderer.gl;e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT);},f.prototype.needsRefresh=function(){this.zr.refresh();},f.prototype.refresh=function(){for(var e=0;e<this.views.length;e++){this.views[e].prepareRender();}this._doRender(!1),this._trackAndClean();for(var e=0;e<this._viewsToDispose.length;e++){this._viewsToDispose[e].dispose(this.renderer);}this._viewsToDispose.length=0,this._startAccumulating();},f.prototype.renderToCanvas=function(e){this._startAccumulating(!0),e.drawImage(this.dom,0,0,e.canvas.width,e.canvas.height);},f.prototype._doRender=function(e){this.clear(),this.renderer.saveViewport();for(var t=0;t<this.views.length;t++){this.views[t].render(this.renderer,e);}this.renderer.restoreViewport();},f.prototype._stopAccumulating=function(){this._accumulatingId=0,clearTimeout(this._accumulatingTimeout);};var p=1;f.prototype._startAccumulating=function(e){function t(i){if(r._accumulatingId&&i===r._accumulatingId){for(var a=!0,o=0;o<r.views.length;o++){a=r.views[o].isAccumulateFinished()&&n;}a||(r._doRender(!0),e?t(i):d(function(){t(i);}));}}var r=this;this._stopAccumulating();for(var n=!1,i=0;i<this.views.length;i++){n=this.views[i].needsAccumulate()||n;}n&&(this._accumulatingId=p++,e?t(r._accumulatingId):this._accumulatingTimeout=setTimeout(function(){t(r._accumulatingId);},50));};f.prototype._trackAndClean=function(){function e(e){for(var i=0;i<e.length;i++){var a=e[i],s=a.geometry,u=a.material,l=u.shader;o(n,s),o(t,l);for(var c in u.uniforms){var d=u.uniforms[c].value;if(d instanceof h)o(r,d);else if(d instanceof Array)for(var f=0;f<d.length;f++){d[f]instanceof h&&o(r,d[f]);}}}}var t=this._shadersMap=this._shadersMap||{},r=this._texturesMap=this._texturesMap||{},n=this._geometriesMap=this._geometriesMap||{};for(var i in t){t[i].count=0;}for(var i in r){r[i].count=0;}for(var i in n){n[i].count=0;}for(var s=0;s<this.views.length;s++){var u=this.views[s],l=u.scene;e(l.opaqueQueue),e(l.transparentQueue);for(var c=0;c<l.lights.length;c++){l.lights[c].cubemap&&o(r,l.lights[c].cubemap);}}var d=this.renderer.gl;a(d,t,60),a(d,r,20),a(d,n,20);},f.prototype.dispose=function(){this._stopAccumulating(),this.renderer.disposeScene(this.scene),this.zr.off("globalout",this.onglobalout);},f.prototype.onmousedown=function(e){if(!e.target||!e.target.__isGLToZRProxy){e=e.event;var t=this.pickObject(e.offsetX,e.offsetY);t&&(this._dispatchEvent("mousedown",e,t),this._dispatchDataEvent("mousedown",e,t)),this._downX=e.offsetX,this._downY=e.offsetY;}},f.prototype.onmousemove=function(e){if(!e.target||!e.target.__isGLToZRProxy){e=e.event;var t=this.pickObject(e.offsetX,e.offsetY),r=t&&t.target,n=this._hovered;this._hovered=t,n&&r!==n.target&&(n.relatedTarget=r,this._dispatchEvent("mouseout",e,n),this.zr.setCursorStyle("default")),this._dispatchEvent("mousemove",e,t),t&&(this.zr.setCursorStyle("pointer"),n&&r===n.target||this._dispatchEvent("mouseover",e,t)),this._dispatchDataEvent("mousemove",e,t);}},f.prototype.onmouseup=function(e){if(!e.target||!e.target.__isGLToZRProxy){e=e.event;var t=this.pickObject(e.offsetX,e.offsetY);t&&(this._dispatchEvent("mouseup",e,t),this._dispatchDataEvent("mouseup",e,t)),this._upX=e.offsetX,this._upY=e.offsetY;}},f.prototype.onclick=f.prototype.dblclick=function(e){if(!e.target||!e.target.__isGLToZRProxy){var t=this._upX-this._downX,r=this._upY-this._downY;if(!(Math.sqrt(t*t+r*r)>20)){e=e.event;var n=this.pickObject(e.offsetX,e.offsetY);n&&(this._dispatchEvent(e.type,e,n),this._dispatchDataEvent(e.type,e,n));var i=this._clickToSetFocusPoint(e);if(i){i.view.setDOFFocusOnPoint(i.distance)&&this.zr.refresh();}}}},f.prototype._clickToSetFocusPoint=function(e){for(var t=this.renderer,r=t.viewport,n=this.views.length-1;n>=0;n--){var i=this.views[n];if(i.hasDOF()&&i.containPoint(e.offsetX,e.offsetY)){this._picking.scene=i.scene,this._picking.camera=i.camera,t.viewport=i.viewport;var a=this._picking.pick(e.offsetX,e.offsetY,!0);if(a)return a.view=i,a;}}t.viewport=r;},f.prototype.onglobalout=function(e){var t=this._hovered;t&&this._dispatchEvent("mouseout",e,{target:t.target});},f.prototype.pickObject=function(e,t){for(var r=[],n=this.renderer,i=n.viewport,a=0;a<this.views.length;a++){var o=this.views[a];o.containPoint(e,t)&&(this._picking.scene=o.scene,this._picking.camera=o.camera,n.viewport=o.viewport,this._picking.pickAll(e,t,r));}return n.viewport=i,r.sort(function(e,t){return e.distance-t.distance;}),r[0];},f.prototype._dispatchEvent=function(e,t,r){r||(r={});var n=r.target;for(r.cancelBubble=!1,r.event=t,r.type=e,r.offsetX=t.offsetX,r.offsetY=t.offsetY;n&&(n.trigger(e,r),n=n.getParent(),!r.cancelBubble);){}this._dispatchToView(e,r);},f.prototype._dispatchDataEvent=function(e,t,r){var n=r&&r.target,i=n&&n.dataIndex,a=n&&n.seriesIndex,o=!1,s=this._zrEventProxy;s.position=[t.offsetX,t.offsetY],s.update();var u={target:s};"mousemove"===e&&(i!==this._lastDataIndex&&(null!=this._lastDataIndex&&this._lastDataIndex>=0&&(s.dataIndex=this._lastDataIndex,s.seriesIndex=this._lastSeriesIndex,this.zr.handler.dispatchToElement(u,"mouseout",t)),o=!0),this._lastDataIndex=i,this._lastSeriesIndex=a),s.dataIndex=i,s.seriesIndex=a,null!=i&&i>=0&&(this.zr.handler.dispatchToElement(u,e,t),o&&this.zr.handler.dispatchToElement(u,"mouseover",t));},f.prototype._dispatchToView=function(e,t){for(var r=0;r<this.views.length;r++){this.views[r].containPoint(t.offsetX,t.offsetY)&&this.views[r].trigger(e,t);}},s.util.extend(f.prototype,c),e.exports=f;},function(e,t){e.exports="@export ecgl.dof.diskBlur\n\n#define POISSON_KERNEL_SIZE 16;\n\nuniform sampler2D texture;\nuniform sampler2D coc;\nvarying vec2 v_Texcoord;\n\nuniform float blurSize : 10.0;\nuniform vec2 textureSize : [512.0, 512.0];\n\nuniform vec2 poissonKernel[POISSON_KERNEL_SIZE];\n\nuniform float percent;\n\nfloat nrand(const in vec2 n) {\n    return fract(sin(dot(n.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\n@import qtek.util.rgbm\n@import qtek.util.float\n\n\nvoid main()\n{\n    vec2 offset = blurSize / textureSize;\n\n    float rnd = 6.28318 * nrand(v_Texcoord + 0.07 * percent );\n    float cosa = cos(rnd);\n    float sina = sin(rnd);\n    vec4 basis = vec4(cosa, -sina, sina, cosa);\n\n#if !defined(BLUR_NEARFIELD) && !defined(BLUR_COC)\n    offset *= abs(decodeFloat(texture2D(coc, v_Texcoord)) * 2.0 - 1.0);\n#endif\n\n#ifdef BLUR_COC\n    float cocSum = 0.0;\n#else\n    vec4 color = vec4(0.0);\n#endif\n\n\n    float weightSum = 0.0;\n\n    for (int i = 0; i < POISSON_KERNEL_SIZE; i++) {\n        vec2 ofs = poissonKernel[i];\n\n        ofs = vec2(dot(ofs, basis.xy), dot(ofs, basis.zw));\n\n        vec2 uv = v_Texcoord + ofs * offset;\n        vec4 texel = texture2D(texture, uv);\n\n        float w = 1.0;\n#ifdef BLUR_COC\n        float fCoc = decodeFloat(texel) * 2.0 - 1.0;\n                cocSum += clamp(fCoc, -1.0, 0.0) * w;\n#else\n        texel = decodeHDR(texel);\n    #if !defined(BLUR_NEARFIELD)\n        float fCoc = decodeFloat(texture2D(coc, uv)) * 2.0 - 1.0;\n                        w *= abs(fCoc);\n    #endif\n        color += texel * w;\n#endif\n\n        weightSum += w;\n    }\n\n#ifdef BLUR_COC\n    gl_FragColor = encodeFloat(clamp(cocSum / weightSum, -1.0, 0.0) * 0.5 + 0.5);\n#else\n    color /= weightSum;\n        gl_FragColor = encodeHDR(color);\n#endif\n}\n\n@end";},function(e,t,r){function n(){this._sourceTexture=new a({type:o.HALF_FLOAT}),this._depthTexture=new a({format:o.DEPTH_COMPONENT,type:o.UNSIGNED_INT}),this._framebuffer=new s(),this._framebuffer.attach(this._sourceTexture),this._framebuffer.attach(this._depthTexture,s.DEPTH_ATTACHMENT),this._normalPass=new d();var e=new u();this._compositor=e.parse(f);var t=this._compositor.getNodeByName("source");t.texture=this._sourceTexture;var r=this._compositor.getNodeByName("coc");this._sourceNode=t,this._cocNode=r,this._compositeNode=this._compositor.getNodeByName("composite"),this._fxaaNode=this._compositor.getNodeByName("FXAA"),this._edgeNode=this._compositor.getNodeByName("edge"),this._edgeNode.setParameter("normalTexture",this._normalPass.getNormalTexture()),this._edgeNode.setParameter("depthTexture",this._depthTexture),this._ssaoPass=new l({normalTexture:this._normalPass.getNormalTexture(),depthTexture:this._normalPass.getDepthTexture()}),this._dofBlurNodes=["dof_far_blur","dof_near_blur","dof_coc_blur"].map(function(e){return this._compositor.getNodeByName(e);},this),this._dofBlurKernel=0,this._dofBlurKernelSize=new Float32Array(0),this._finalNodesChain=_.map(function(e){return this._compositor.getNodeByName(e);},this);}var i=(r(70),r(8)),a=r(6),o=r(5),s=r(11),u=r(189),l=r(150),h=r(154),c=r(2),d=r(148),f=(r(10),r(152));i.import(r(198)),i.import(r(205)),i.import(r(206)),i.import(r(199)),i.import(r(201)),i.import(r(207)),i.import(r(203)),i.import(r(200)),i.import(r(204)),i.import(r(197)),i.import(r(202)),i.import(r(146)),i.import(r(153));var p={color:{parameters:{width:function width(e){return e.getWidth();},height:function height(e){return e.getHeight();}}}},_=["composite","edge","FXAA"];n.prototype.resize=function(e,t,r){r=r||1;var e=e*r,t=t*r,n=this._sourceTexture,i=this._depthTexture;n.width=e,n.height=t,i.width=e,i.height=t;},n.prototype._ifRenderNormalPass=function(){return this._enableSSAO||this._enableEdge;},n.prototype._getPrevNode=function(e){for(var t=_.indexOf(e.name)-1,r=this._finalNodesChain[t];r&&!this._compositor.getNodeByName(r.name);){t-=1,r=this._finalNodesChain[t];}return r;},n.prototype._getNextNode=function(e){for(var t=_.indexOf(e.name)+1,r=this._finalNodesChain[t];r&&!this._compositor.getNodeByName(r.name);){t+=1,r=this._finalNodesChain[t];}return r;},n.prototype._addChainNode=function(e){var t=this._getPrevNode(e),r=this._getNextNode(e);t&&(t.outputs=p,e.inputs.texture=t.name,r?(e.outputs=p,r.inputs.texture=e.name):e.outputs=null,this._compositor.addNode(e));},n.prototype._removeChainNode=function(e){var t=this._getPrevNode(e),r=this._getNextNode(e);t&&(r?(t.outputs=p,r.inputs.texture=t.name):t.outputs=null,this._compositor.removeNode(e));},n.prototype.updateNormal=function(e,t,r,n){this._ifRenderNormalPass()&&this._normalPass.update(e,t,r);},n.prototype.updateSSAO=function(e,t,r,n){this._ssaoPass.update(e,r,n);},n.prototype.enableSSAO=function(){this._enableSSAO=!0;},n.prototype.disableSSAO=function(){this._enableSSAO=!1;},n.prototype.getSSAOTexture=function(e,t,r,n){return this._ssaoPass.getTargetTexture();},n.prototype.getSourceFrameBuffer=function(){return this._framebuffer;},n.prototype.getSourceTexture=function(){return this._sourceTexture;},n.prototype.disableFXAA=function(){this._removeChainNode(this._fxaaNode);},n.prototype.enableFXAA=function(){this._addChainNode(this._fxaaNode);},n.prototype.enableBloom=function(){this._compositeNode.inputs.bloom="bloom_composite";},n.prototype.disableBloom=function(){this._compositeNode.inputs.bloom=null;},n.prototype.enableDOF=function(){this._compositeNode.inputs.texture="dof_composite";},n.prototype.disableDOF=function(){this._compositeNode.inputs.texture="source";},n.prototype.enableColorCorrection=function(){this._compositeNode.shaderDefine("COLOR_CORRECTION"),this._enableColorCorrection=!0;},n.prototype.disableColorCorrection=function(){this._compositeNode.shaderUndefine("COLOR_CORRECTION"),this._enableColorCorrection=!1;},n.prototype.enableEdge=function(){this._enableEdge=!0,this._addChainNode(this._edgeNode);},n.prototype.disableEdge=function(){this._enableEdge=!1,this._removeChainNode(this._edgeNode);},n.prototype.setBloomIntensity=function(e){this._compositeNode.setParameter("bloomIntensity",e);},n.prototype.setSSAORadius=function(e){this._ssaoPass.setParameter("radius",e);},n.prototype.setSSAOIntensity=function(e){this._ssaoPass.setParameter("intensity",e);},n.prototype.setSSAOQuality=function(e){var t={low:6,medium:12,high:32,ultra:62}[e]||16;this._ssaoPass.setParameter("kernelSize",t);},n.prototype.setDOFFocalDistance=function(e){this._cocNode.setParameter("focalDist",e);},n.prototype.setDOFFocalRange=function(e){this._cocNode.setParameter("focalRange",e);},n.prototype.setDOFFStop=function(e){this._cocNode.setParameter("fstop",e);},n.prototype.setDOFBlurSize=function(e){for(var t=0;t<this._dofBlurNodes.length;t++){this._dofBlurNodes[t].setParameter("blurSize",e);}},n.prototype.setDOFBlurQuality=function(e){var t={low:4,medium:8,high:16,ultra:32}[e]||8;this._dofBlurKernelSize=t;for(var r=0;r<this._dofBlurNodes.length;r++){this._dofBlurNodes[r].shaderDefine("POISSON_KERNEL_SIZE",t);}this._dofBlurKernel=new Float32Array(2*t);},n.prototype.setEdgeColor=function(e){var t=c.parseColor(e);this._edgeNode.setParameter("edgeColor",t);},n.prototype.setExposure=function(e){this._compositeNode.setParameter("exposure",Math.pow(2,e));},n.prototype.setColorLookupTexture=function(e,t){this._compositeNode.pass.material.setTextureImage("lut",this._enableColorCorrection?e:"none",t,{minFilter:c.Texture.NEAREST,magFilter:c.Texture.NEAREST,flipY:!1});},n.prototype.setColorCorrection=function(e,t){this._compositeNode.setParameter(e,t);},n.prototype.composite=function(e,t,r,n){this._cocNode.setParameter("depth",this._depthTexture);for(var i=this._dofBlurKernel,a=this._dofBlurKernelSize,o=Math.floor(h.length/2/a),s=n%o,u=0;u<2*a;u++){i[u]=h[u+s*a*2];}for(var u=0;u<this._dofBlurNodes.length;u++){this._dofBlurNodes[u].setParameter("percent",n/30),this._dofBlurNodes[u].setParameter("poissonKernel",i);}this._cocNode.setParameter("zNear",t.near),this._cocNode.setParameter("zFar",t.far),this._edgeNode.setParameter("projectionInv",t.invProjectionMatrix._array),this._compositor.render(e,r);},n.prototype.dispose=function(e){this._sourceTexture.dispose(e),this._depthTexture.dispose(e),this._framebuffer.dispose(e),this._compositor.dispose(e),this._normalPass.dispose(e),this._ssaoPass.dispose(e);},e.exports=n;},function(e,t,r){function n(e,t,r,n,i){t.setUniform(e,"1i",r,i),e.activeTexture(e.TEXTURE0+i),n.isRenderable()?n.bind(e):n.unbind(e);}function i(e,t,r,i){var a,o,s;return function(r,u,l){if(!s||s.material!==r.material){var h=r.material,c=h.get("roughness"),d=h.get("normalMap")||t,f=h.get("bumpMap"),p=h.get("uvRepeat"),_=h.get("uvOffset"),m=!!f,g=h.shader.isDefined("fragment","DOUBLE_SIDE");u!==i?(i.set("normalMap",d),i.set("bumpMap",f),i.set("useBumpMap",m),i.set("doubleSide",g),i.set("uvRepeat",p),i.set("uvOffset",_)):(i.shader.setUniform(e,"1f","glossiness",1-c),a!==d&&n(e,i.shader,"normalMap",d,0),o!==f&&n(e,i.shader,"bumpMap",f,1),null!=p&&i.shader.setUniform(e,"2f","uvRepeat",p),null!=_&&i.shader.setUniform(e,"2f","uvOffset",_),i.shader.setUniform(e,"1i","useBumpMap",+m),i.shader.setUniform(e,"1i","doubleSide",+g)),a=d,o=f,s=r;}};}function a(e){e=e||{},this._depthTex=new o({format:s.DEPTH_COMPONENT,type:s.UNSIGNED_INT}),this._normalTex=new o(),this._framebuffer=new l(),this._framebuffer.attach(this._normalTex),this._framebuffer.attach(this._depthTex,l.DEPTH_ATTACHMENT),this._normalMaterial=new h({shader:new u({vertex:u.source("ecgl.normal.vertex"),fragment:u.source("ecgl.normal.fragment")})}),this._normalMaterial.shader.enableTexture(["normalMap","bumpMap"]),this._defaultNormalMap=c.createBlank("#000"),this._defaultBumpMap=c.createBlank("#000");}var o=r(6),s=r(5),u=r(8),l=r(11),h=r(17),u=r(8),c=r(44);u.import(r(170)),a.prototype.getDepthTexture=function(){return this._depthTex;},a.prototype.getNormalTexture=function(){return this._normalTex;},a.prototype.update=function(e,t,r){var n=e.getWidth(),a=e.getHeight(),o=this._depthTex,s=this._normalTex;o.width=n,o.height=a,s.width=n,s.height=a;var u=t.opaqueQueue,l=e.ifRenderObject,h=e.beforeRenderObject;e.ifRenderObject=function(e){return e.renderNormal;},e.beforeRenderObject=i(e.gl,this._defaultNormalMap,this._defaultBumpMap,this._normalMaterial),this._framebuffer.bind(e),e.gl.clearColor(0,0,0,0),e.gl.clear(e.gl.COLOR_BUFFER_BIT|e.gl.DEPTH_BUFFER_BIT),e.renderQueue(u,r,this._normalMaterial),this._framebuffer.unbind(e),e.ifRenderObject=l,e.beforeRenderObject=h;},a.prototype.dispose=function(e){this._depthTex.dispose(e),this._normalTex.dispose(e);},e.exports=a;},function(e,t){e.exports="@export ecgl.ssao.estimate\n\nuniform sampler2D depthTex;\n\nuniform sampler2D normalTex;\n\nuniform sampler2D noiseTex;\n\nuniform vec2 depthTexSize;\n\nuniform vec2 noiseTexSize;\n\nuniform mat4 projection;\n\nuniform mat4 projectionInv;\n\nuniform mat4 viewInverseTranspose;\n\nuniform vec3 kernel[KERNEL_SIZE];\n\nuniform float radius : 1;\n\nuniform float power : 1;\n\nuniform float bias: 1e-2;\n\nuniform float intensity: 1.0;\n\nvarying vec2 v_Texcoord;\n\nfloat ssaoEstimator(in vec3 originPos, in mat3 kernelBasis) {\n    float occlusion = 0.0;\n\n    for (int i = 0; i < KERNEL_SIZE; i++) {\n        vec3 samplePos = kernel[i];\n#ifdef NORMALTEX_ENABLED\n        samplePos = kernelBasis * samplePos;\n#endif\n        samplePos = samplePos * radius + originPos;\n\n        vec4 texCoord = projection * vec4(samplePos, 1.0);\n        texCoord.xy /= texCoord.w;\n\n        vec4 depthTexel = texture2D(depthTex, texCoord.xy * 0.5 + 0.5);\n\n        float sampleDepth = depthTexel.r * 2.0 - 1.0;\n\n        sampleDepth = projection[3][2] / (sampleDepth * projection[2][3] - projection[2][2]);\n\n        float rangeCheck = smoothstep(0.0, 1.0, radius / abs(originPos.z - sampleDepth));\n        occlusion += rangeCheck * step(samplePos.z, sampleDepth - bias);\n    }\n#ifdef NORMALTEX_ENABLED\n    occlusion = 1.0 - occlusion / float(KERNEL_SIZE);\n#else\n    occlusion = 1.0 - clamp((occlusion / float(KERNEL_SIZE) - 0.6) * 2.5, 0.0, 1.0);\n#endif\n    return pow(occlusion, power);\n}\n\nvoid main()\n{\n\n    vec4 depthTexel = texture2D(depthTex, v_Texcoord);\n\n#ifdef NORMALTEX_ENABLED\n    vec4 tex = texture2D(normalTex, v_Texcoord);\n        if (tex.a == 0.0) {\n        gl_FragColor = vec4(1.0);\n        return;\n    }\n    vec3 N = tex.rgb * 2.0 - 1.0;\n    N = (viewInverseTranspose * vec4(N, 0.0)).xyz;\n\n    vec2 noiseTexCoord = depthTexSize / vec2(noiseTexSize) * v_Texcoord;\n    vec3 rvec = texture2D(noiseTex, noiseTexCoord).rgb * 2.0 - 1.0;\n        vec3 T = normalize(rvec - N * dot(rvec, N));\n        vec3 BT = normalize(cross(N, T));\n    mat3 kernelBasis = mat3(T, BT, N);\n#else\n    if (depthTexel.r > 0.99999) {\n        gl_FragColor = vec4(1.0);\n        return;\n    }\n    mat3 kernelBasis;\n#endif\n\n    float z = depthTexel.r * 2.0 - 1.0;\n\n    vec4 projectedPos = vec4(v_Texcoord * 2.0 - 1.0, z, 1.0);\n    vec4 p4 = projectionInv * projectedPos;\n\n    vec3 position = p4.xyz / p4.w;\n\n    float ao = ssaoEstimator(position, kernelBasis);\n    ao = clamp(1.0 - (1.0 - ao) * intensity, 0.0, 1.0);\n    gl_FragColor = vec4(vec3(ao), 1.0);\n}\n\n@end\n\n\n@export ecgl.ssao.blur\n\nuniform sampler2D ssaoTexture;\n\nuniform vec2 textureSize;\n\nvarying vec2 v_Texcoord;\n\nvoid main ()\n{\n\n    vec2 texelSize = 1.0 / textureSize;\n\n    float ao = 0.0;\n    vec2 hlim = vec2(float(-BLUR_SIZE) * 0.5 + 0.5);\n    float centerAo = texture2D(ssaoTexture, v_Texcoord).r;\n    float weightAll = 0.0;\n    float boxWeight = 1.0 / float(BLUR_SIZE) * float(BLUR_SIZE);\n    for (int x = 0; x < BLUR_SIZE; x++) {\n        for (int y = 0; y < BLUR_SIZE; y++) {\n            vec2 coord = (vec2(float(x), float(y)) + hlim) * texelSize + v_Texcoord;\n            float sampleAo = texture2D(ssaoTexture, coord).r;\n                                    float closeness = 1.0 - distance(sampleAo, centerAo) / sqrt(3.0);\n            float weight = boxWeight * closeness;\n            ao += weight * sampleAo;\n            weightAll += weight;\n        }\n    }\n\n    gl_FragColor = vec4(vec3(clamp(ao / weightAll, 0.0, 1.0)), 1.0);\n}\n@end";},function(e,t,r){function n(e){for(var t=new Uint8Array(e*e*4),r=0,n=new u(),i=0;i<e;i++){for(var a=0;a<e;a++){n.set(2*Math.random()-1,2*Math.random()-1,0).normalize(),t[r++]=255*(.5*n.x+.5),t[r++]=255*(.5*n.y+.5),t[r++]=0,t[r++]=255;}}return t;}function i(e){return new l({pixels:n(e),wrapS:h.REPEAT,wrapT:h.REPEAT,width:e,height:e});}function a(e,t,r){var n=new Float32Array(3*e);t=t||0;for(var i=0;i<e;i++){var a=p(i+t,2)*(r?1:2)*Math.PI,o=p(i+t,3)*Math.PI,s=Math.random(),u=Math.cos(a)*Math.sin(o)*s,l=Math.cos(o)*s,h=Math.sin(a)*Math.sin(o)*s;n[3*i]=u,n[3*i+1]=l,n[3*i+2]=h;}return n;}function o(e){e=e||{},this._ssaoPass=new c({fragment:d.source("ecgl.ssao.estimate")}),this._blurPass=new c({fragment:d.source("ecgl.ssao.blur")}),this._framebuffer=new f(),this._ssaoTexture=new l(),this._targetTexture=new l({type:h.HALF_FLOAT}),this._depthTex=e.depthTexture,this._normalTex=e.normalTexture,this.setNoiseSize(4),this.setKernelSize(e.kernelSize||12),this.setParameter("blurSize",Math.round(e.blurSize||4)),null!=e.radius&&this.setParameter("radius",e.radius),null!=e.power&&this.setParameter("power",e.power),this._normalTex||this._ssaoPass.material.shader.disableTexture("normalTex");}var s=r(10),u=r(3),l=r(6),h=r(5),c=r(21),d=r(8),f=r(11),p=r(47);d.import(r(149)),o.prototype.setDepthTexture=function(e){this._depthTex=e;},o.prototype.setNormalTexture=function(e){this._normalTex=e,this._ssaoPass.material.shader[e?"enableTexture":"disableTexture"]("normalTex"),this.setKernelSize(this._kernelSize);},o.prototype.update=function(e,t,r){var n=e.getWidth(),i=e.getHeight(),a=this._ssaoPass,o=this._blurPass;a.setUniform("kernel",this._kernels[r%this._kernels.length]),a.setUniform("depthTex",this._depthTex),null!=this._normalTex&&a.setUniform("normalTex",this._normalTex),a.setUniform("depthTexSize",[this._depthTex.width,this._depthTex.height]);var u=new s();s.transpose(u,t.worldTransform),a.setUniform("projection",t.projectionMatrix._array),a.setUniform("projectionInv",t.invProjectionMatrix._array),a.setUniform("viewInverseTranspose",u._array);var l=this._ssaoTexture,h=this._targetTexture;l.width=n,l.height=i,h.width=n,h.height=i,this._framebuffer.attach(l),this._framebuffer.bind(e),e.gl.clearColor(1,1,1,1),e.gl.clear(e.gl.COLOR_BUFFER_BIT),a.render(e),this._framebuffer.attach(h),o.setUniform("textureSize",[n,i]),o.setUniform("ssaoTexture",this._ssaoTexture),o.render(e),this._framebuffer.unbind(e);var c=e.clearColor;e.gl.clearColor(c[0],c[1],c[2],c[3]);},o.prototype.getTargetTexture=function(){return this._targetTexture;},o.prototype.setParameter=function(e,t){"noiseTexSize"===e?this.setNoiseSize(t):"kernelSize"===e?this.setKernelSize(t):"blurSize"===e?this._blurPass.material.shader.define("fragment","BLUR_SIZE",t):"intensity"===e?this._ssaoPass.material.set("intensity",t):this._ssaoPass.setUniform(e,t);},o.prototype.setKernelSize=function(e){this._kernelSize=e,this._ssaoPass.material.shader.define("fragment","KERNEL_SIZE",e),this._kernels=this._kernels||[];for(var t=0;t<30;t++){this._kernels[t]=a(e,t*e,!!this._normalTex);}},o.prototype.setNoiseSize=function(e){var t=this._ssaoPass.getUniform("noiseTex");t?(t.data=n(e),t.width=t.height=e,t.dirty()):(t=i(e),this._ssaoPass.setUniform("noiseTex",i(e))),this._ssaoPass.setUniform("noiseTexSize",[e,e]);},o.prototype.dispose=function(e){this._targetTexture.dispose(e),this._ssaoTexture.dispose(e);},e.exports=o;},function(e,t,r){function n(){for(var e=[],t=0;t<30;t++){e.push([i(t,2),i(t,3)]);}this._haltonSequence=e,this._frame=0,this._sourceTex=new s(),this._sourceFb=new o(),this._sourceFb.attach(this._sourceTex),this._prevFrameTex=new s(),this._outputTex=new s();var r=this._blendPass=new a({fragment:u.source("qtek.compositor.blend")});r.material.shader.disableTexturesAll(),r.material.shader.enableTexture(["texture1","texture2"]),this._blendFb=new o({depthBuffer:!1}),this._outputPass=new a({fragment:u.source("qtek.compositor.output"),blendWithPrevious:!0}),this._outputPass.material.shader.define("fragment","OUTPUT_ALPHA"),this._outputPass.material.blend=function(e){e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);};}var i=r(47),a=r(21),o=r(11),s=r(6),u=r(8),l=r(10);n.prototype={constructor:n,jitterProjection:function jitterProjection(e,t){var r=e.viewport,n=r.devicePixelRatio||e.getDevicePixelRatio(),i=r.width*n,a=r.height*n,o=this._haltonSequence[this._frame];t.projectionMatrix._array[8]+=(2*o[0]-1)/i,t.projectionMatrix._array[9]+=(2*o[1]-1)/a,l.invert(t.invProjectionMatrix,t.projectionMatrix);},resetFrame:function resetFrame(){this._frame=0;},getFrame:function getFrame(){return this._frame;},getSourceFrameBuffer:function getSourceFrameBuffer(){return this._sourceFb;},resize:function resize(e,t){this._sourceTex.width===e&&this._sourceTex.height===t||(this._prevFrameTex.width=e,this._prevFrameTex.height=t,this._outputTex.width=e,this._outputTex.height=t,this._sourceTex.width=e,this._sourceTex.height=t,this._prevFrameTex.dirty(),this._outputTex.dirty(),this._sourceTex.dirty());},isFinished:function isFinished(){return this._frame>=this._haltonSequence.length;},render:function render(e){var t=this._blendPass;0===this._frame?(t.setUniform("weight1",0),t.setUniform("weight2",1)):(t.setUniform("weight1",.9),t.setUniform("weight2",.1)),t.setUniform("texture1",this._prevFrameTex),t.setUniform("texture2",this._sourceTex),this._blendFb.attach(this._outputTex),this._blendFb.bind(e),t.render(e),this._blendFb.unbind(e),this._outputPass.setUniform("texture",this._outputTex),this._outputPass.render(e);var r=this._prevFrameTex;this._prevFrameTex=this._outputTex,this._outputTex=r,this._frame++;},dispose:function dispose(e){this._sourceFb.dispose(e),this._blendFb.dispose(e),this._prevFrameTex.dispose(e),this._outputTex.dispose(e),this._sourceTex.dispose(e),this._outputPass.dispose(e),this._blendPass.dispose(e);}},e.exports=n;},function(e,t){e.exports={type:"compositor",nodes:[{name:"source",type:"texture",outputs:{color:{}}},{name:"source_half",shader:"#source(qtek.compositor.downsample)",inputs:{texture:"source"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"}},{name:"bright",shader:"#source(qtek.compositor.bright)",inputs:{texture:"source_half"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{threshold:2,scale:4,textureSize:"expr([width * 1.0 / 2, height / 2])"}},{name:"bright2",shader:"#source(qtek.compositor.bright)",inputs:{texture:"source_half"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{threshold:20,scale:.01}},{name:"bright_downsample_4",shader:"#source(qtek.compositor.downsample)",inputs:{texture:"bright"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 2, height / 2] )"}},{name:"bright_downsample_8",shader:"#source(qtek.compositor.downsample)",inputs:{texture:"bright_downsample_4"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 4, height / 4] )"}},{name:"bright_downsample_16",shader:"#source(qtek.compositor.downsample)",inputs:{texture:"bright_downsample_8"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 16)",height:"expr(height * 1.0 / 16)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 8, height / 8] )"}},{name:"bright_downsample_32",shader:"#source(qtek.compositor.downsample)",inputs:{texture:"bright_downsample_16"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 32)",height:"expr(height * 1.0 / 32)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 16, height / 16] )"}},{name:"bright_upsample_16_blur_h",shader:"#source(qtek.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_32"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 16)",height:"expr(height * 1.0 / 16)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 32, height / 32] )"}},{name:"bright_upsample_16_blur_v",shader:"#source(qtek.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_16_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 16)",height:"expr(height * 1.0 / 16)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 32, height * 1.0 / 32] )"}},{name:"bright_upsample_8_blur_h",shader:"#source(qtek.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_16"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 16, height * 1.0 / 16] )"}},{name:"bright_upsample_8_blur_v",shader:"#source(qtek.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_8_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 16, height * 1.0 / 16] )"}},{name:"bright_upsample_8_blend",shader:"#source(qtek.compositor.blend)",inputs:{texture1:"bright_upsample_8_blur_v",texture2:"bright_upsample_16_blur_v"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"bright_upsample_4_blur_h",shader:"#source(qtek.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_8"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 8, height * 1.0 / 8] )"}},{name:"bright_upsample_4_blur_v",shader:"#source(qtek.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_4_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 8, height * 1.0 / 8] )"}},{name:"bright_upsample_4_blend",shader:"#source(qtek.compositor.blend)",inputs:{texture1:"bright_upsample_4_blur_v",texture2:"bright_upsample_8_blend"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"bright_upsample_2_blur_h",shader:"#source(qtek.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_4"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 4, height * 1.0 / 4] )"}},{name:"bright_upsample_2_blur_v",shader:"#source(qtek.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_2_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 4, height * 1.0 / 4] )"}},{name:"bright_upsample_2_blend",shader:"#source(qtek.compositor.blend)",inputs:{texture1:"bright_upsample_2_blur_v",texture2:"bright_upsample_4_blend"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"bright_upsample_full_blur_h",shader:"#source(qtek.compositor.gaussian_blur)",inputs:{texture:"bright"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 2, height * 1.0 / 2] )"}},{name:"bright_upsample_full_blur_v",shader:"#source(qtek.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_full_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 2, height * 1.0 / 2] )"}},{name:"bloom_composite",shader:"#source(qtek.compositor.blend)",inputs:{texture1:"bright_upsample_full_blur_v",texture2:"bright_upsample_2_blend"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"coc",shader:"#source(qtek.compositor.dof.coc)",outputs:{color:{parameters:{minFilter:"NEAREST",magFilter:"NEAREST",width:"expr(width * 1.0)",height:"expr(height * 1.0)"}}},parameters:{focalDist:50,focalRange:30}},{name:"dof_far_blur",shader:"#source(ecgl.dof.diskBlur)",inputs:{texture:"source",coc:"coc"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"}},{name:"dof_near_blur",shader:"#source(ecgl.dof.diskBlur)",inputs:{texture:"source",coc:"coc"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"},defines:{BLUR_NEARFIELD:null}},{name:"dof_coc_blur",shader:"#source(ecgl.dof.diskBlur)",inputs:{texture:"coc"},outputs:{color:{parameters:{minFilter:"NEAREST",magFilter:"NEAREST",width:"expr(width * 1.0)",height:"expr(height * 1.0)"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"},defines:{BLUR_COC:null}},{name:"dof_composite",shader:"#source(qtek.compositor.dof.composite)",inputs:{original:"source",blurred:"dof_far_blur",nearfield:"dof_near_blur",coc:"coc",nearcoc:"dof_coc_blur"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}}},{name:"lensflare",shader:"#source(qtek.compositor.lensflare)",inputs:{texture:"bright2"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr([width * 1.0 / 2, height * 1.0 / 2])",lensColor:"#lenscolor"}},{name:"lensflare_blur_h",shader:"#source(qtek.compositor.gaussian_blur)",inputs:{texture:"lensflare"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr([width * 1.0 / 2, height * 1.0 / 2])"}},{name:"lensflare_blur_v",shader:"#source(qtek.compositor.gaussian_blur)",inputs:{texture:"lensflare_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr([width * 1.0 / 2, height * 1.0 / 2])"}},{name:"composite",shader:"#source(qtek.compositor.hdr.composite)",inputs:{texture:"source",bloom:"bloom_composite"},defines:{PREMULTIPLY_ALPHA:null}},{name:"edge",shader:"#source(ecgl.edge)",inputs:{texture:"composite"},parameters:{textureSize:"expr([width * 1.0, height * 1.0])"}},{name:"FXAA",shader:"#source(qtek.compositor.fxaa)",inputs:{texture:"composite"}}]};},function(e,t){e.exports="@export ecgl.edge\n\nuniform sampler2D texture;\n\nuniform sampler2D normalTexture;\nuniform sampler2D depthTexture;\n\nuniform mat4 projectionInv;\n\nuniform vec2 textureSize;\n\nuniform vec4 edgeColor: [0,0,0,0.8];\n\nvarying vec2 v_Texcoord;\n\nvec3 packColor(vec2 coord) {\n    float z = texture2D(depthTexture, coord).r * 2.0 - 1.0;\n    vec4 p = vec4(v_Texcoord * 2.0 - 1.0, z, 1.0);\n    vec4 p4 = projectionInv * p;\n\n    return vec3(\n        texture2D(normalTexture, coord).rg,\n        -p4.z / p4.w / 5.0\n    );\n}\n\nvoid main() {\n    vec2 cc = v_Texcoord;\n        vec3 center = packColor(cc);\n\n        float size = clamp(1.0 - (center.z - 10.0) / 100.0, 0.0, 1.0) * 0.5;\n    float dx = size / textureSize.x;\n    float dy = size / textureSize.y;\n\n    vec2 coord;\n        vec3 topLeft = packColor(cc+vec2(-dx, -dy));\n        vec3 top = packColor(cc+vec2(0.0, -dy));\n        vec3 topRight = packColor(cc+vec2(dx, -dy));\n        vec3 left = packColor(cc+vec2(-dx, 0.0));\n        vec3 right = packColor(cc+vec2(dx, 0.0));\n        vec3 bottomLeft = packColor(cc+vec2(-dx, dy));\n        vec3 bottom = packColor(cc+vec2(0.0, dy));\n        vec3 bottomRight = packColor(cc+vec2(dx, dy));\n\n    vec3 v = -topLeft-2.0*top-topRight+bottomLeft+2.0*bottom+bottomRight;\n    vec3 h = -bottomLeft-2.0*left-topLeft+bottomRight+2.0*right+topRight;\n\n    float edge = sqrt(dot(h, h) + dot(v, v));\n\n    edge = smoothstep(0.8, 1.0, edge);\n\n    gl_FragColor = mix(texture2D(texture, v_Texcoord), vec4(edgeColor.rgb, 1.0), edgeColor.a * edge);\n}\n@end";},function(e,t){e.exports=[0,0,-.321585265978,-.154972575841,.458126042375,.188473391593,.842080129861,.527766490688,.147304551086,-.659453822776,-.331943915203,-.940619700594,.0479226680259,.54812163202,.701581552186,-.709825561388,-.295436780218,.940589268233,-.901489676764,.237713156085,.973570876096,-.109899459384,-.866792314779,-.451805525005,.330975007087,.800048655954,-.344275183665,.381779221166,-.386139432542,-.437418421534,-.576478634965,-.0148463392551,.385798197415,-.262426961053,-.666302061145,.682427250835,-.628010632582,-.732836215494,.10163141741,-.987658134403,.711995289051,-.320024291314,.0296005138058,.950296523438,.0130612307608,-.351024443122,-.879596633704,-.10478487883,.435712737232,.504254490347,.779203817497,.206477676721,.388264289969,-.896736162545,-.153106280781,-.629203242522,-.245517550697,.657969239148,.126830499058,.26862328493,-.634888119007,-.302301223431,.617074219636,.779817204925];},function(e,t,r){function n(e,t){if(e&&e[t]&&(e[t].normal||e[t].emphasis)){var r=e[t].normal,n=e[t].emphasis;r&&(e[t]=r),n&&(e.emphasis=e.emphasis||{},e.emphasis[t]=n);}}function i(e){n(e,"itemStyle"),n(e,"lineStyle"),n(e,"areaStyle"),n(e,"label");}var a=r(0),o=["bar3D","line3D","map3D","scatter3D","surface","lines3D","scatterGL","scatter3D"];e.exports=function(e){a.util.each(e.series,function(e){a.util.indexOf(o,e.type)>=0&&i(e);}),n(e.geo3D);};},function(e,t,r){function n(e){return"_on"+e;}var i=r(6),a=r(3),o=r(24),s=["mousedown","mouseup","mousemove","mouseover","mouseout","click","dblclick","contextmenu"],u=function u(e){var t=this;this._texture=new i({anisotropic:32,flipY:!1,surface:this,dispose:function dispose(e){t.dispose(),i.prototype.dispose.call(this,e);}}),s.forEach(function(e){this[n(e)]=function(t){t.triangle&&this._meshes.forEach(function(r){this.dispatchEvent(e,r,t.triangle,t.point);},this);};},this),this._meshes=[],e&&this.setECharts(e),this.onupdate=null;};u.prototype={constructor:u,getTexture:function getTexture(){return this._texture;},setECharts:function setECharts(e){this._chart=e;var t=e.getDom();if(t instanceof HTMLCanvasElement){var r=this,n=e.getZr(),i=n.__oldRefreshImmediately||n.refreshImmediately;n.refreshImmediately=function(){i.call(this),r._texture.dirty(),r.onupdate&&r.onupdate();},n.__oldRefreshImmediately=i;}else console.error("ECharts must init on canvas if it is used as texture."),t=document.createElement("canvas");this._texture.image=t,this._texture.dirty(),this.onupdate&&this.onupdate();},dispatchEvent:function(){var e=new a(),t=new a(),r=new a(),n=new o(),i=new o(),s=new o(),u=new o(),l=new a();return function(h,c,d,f){var p=c.geometry,_=p.attributes.position,m=p.attributes.texcoord0,g=a.dot,v=a.cross;_.get(d[0],e._array),_.get(d[1],t._array),_.get(d[2],r._array),m.get(d[0],n._array),m.get(d[1],i._array),m.get(d[2],s._array),v(l,t,r);var y=g(e,l),x=g(f,l)/y;v(l,r,e);var T=g(f,l)/y;v(l,e,t);var b=g(f,l)/y;o.scale(u,n,x),o.scaleAndAdd(u,u,i,T),o.scaleAndAdd(u,u,s,b);var w=u.x*this._chart.getWidth(),E=u.y*this._chart.getHeight();this._chart.getZr().handler.dispatch(h,{zrX:w,zrY:E});};}(),attachToMesh:function attachToMesh(e){this._meshes.indexOf(e)>=0||(s.forEach(function(t){e.on(t,this[n(t)],this);},this),this._meshes.push(e));},detachFromMesh:function detachFromMesh(e){var t=this._meshes.indexOf(e);t>=0&&this._meshes.splice(t,1),s.forEach(function(t){e.off(t,this[n(t)]);},this);},dispose:function dispose(){this._meshes.forEach(function(e){this.detachFromMesh(e);},this);}},e.exports=u;},function(e,t,r){var n=r(7),i=(r(4),n.extend(function(){return{zr:null,viewGL:null,minZoom:.2,maxZoom:5,_needsUpdate:!1,_dx:0,_dy:0,_zoom:1};},function(){this._mouseDownHandler=this._mouseDownHandler.bind(this),this._mouseWheelHandler=this._mouseWheelHandler.bind(this),this._mouseMoveHandler=this._mouseMoveHandler.bind(this),this._mouseUpHandler=this._mouseUpHandler.bind(this),this._update=this._update.bind(this);},{init:function init(){var e=this.zr;e.on("mousedown",this._mouseDownHandler),e.on("mousewheel",this._mouseWheelHandler),e.on("globalout",this._mouseUpHandler),e.animation.on("frame",this._update);},setTarget:function setTarget(e){this._target=e;},setZoom:function setZoom(e){this._zoom=Math.max(Math.min(e,this.maxZoom),this.minZoom),this._needsUpdate=!0;},setOffset:function setOffset(e){this._dx=e[0],this._dy=e[1],this._needsUpdate=!0;},getZoom:function getZoom(){return this._zoom;},getOffset:function getOffset(){return[this._dx,this._dy];},_update:function _update(){if(this._target&&this._needsUpdate){var e=this._target,t=this._zoom;e.position.x=this._dx,e.position.y=this._dy,e.scale.set(t,t,t),this.zr.refresh(),this._needsUpdate=!1,this.trigger("update");}},_mouseDownHandler:function _mouseDownHandler(e){if(!e.target){var t=e.offsetX,r=e.offsetY;if(!this.viewGL||this.viewGL.containPoint(t,r)){this.zr.on("mousemove",this._mouseMoveHandler),this.zr.on("mouseup",this._mouseUpHandler);var n=this._convertPos(t,r);this._x=n.x,this._y=n.y;}}},_convertPos:function _convertPos(e,t){var r=this.viewGL.camera,n=this.viewGL.viewport;return{x:(e-n.x)/n.width*(r.right-r.left)+r.left,y:(t-n.y)/n.height*(r.bottom-r.top)+r.top};},_mouseMoveHandler:function _mouseMoveHandler(e){var t=this._convertPos(e.offsetX,e.offsetY);this._dx+=t.x-this._x,this._dy+=t.y-this._y,this._x=t.x,this._y=t.y,this._needsUpdate=!0;},_mouseUpHandler:function _mouseUpHandler(e){this.zr.off("mousemove",this._mouseMoveHandler),this.zr.off("mouseup",this._mouseUpHandler);},_mouseWheelHandler:function _mouseWheelHandler(e){e=e.event;var t=e.wheelDelta||-e.detail;if(0!==t){var r=e.offsetX,n=e.offsetY;if(!this.viewGL||this.viewGL.containPoint(r,n)){var i=t>0?1.1:.9,a=Math.max(Math.min(this._zoom*i,this.maxZoom),this.minZoom);i=a/this._zoom;var o=this._convertPos(r,n),s=(o.x-this._dx)*(i-1),u=(o.y-this._dy)*(i-1);this._dx-=s,this._dy-=u,this._zoom=a,this._needsUpdate=!0;}}},dispose:function dispose(){var e=this.zr;e.off("mousedown",this._mouseDownHandler),e.off("mousemove",this._mouseMoveHandler),e.off("mouseup",this._mouseUpHandler),e.off("mousewheel",this._mouseWheelHandler),e.off("globalout",this._mouseUpHandler),e.animation.off("frame",this._update);}}));e.exports=i;},function(e,t,r){var n=r(222),i={_animators:null,getAnimators:function getAnimators(){return this._animators=this._animators||[],this._animators;},animate:function animate(e,t){this._animators=this._animators||[];var r,i=this;if(e){for(var a=e.split("."),o=i,s=0,u=a.length;s<u;s++){o&&(o=o[a[s]]);}o&&(r=o);}else r=i;if(null==r)throw new Error("Target "+e+" not exists");var l=this._animators,h=new n(r,t),c=this;return h.during(function(){c.__zr&&c.__zr.refresh();}).done(function(){var e=l.indexOf(h);e>=0&&l.splice(e,1);}),l.push(h),this.__zr&&this.__zr.animation.addAnimator(h),h;},stopAnimation:function stopAnimation(e){this._animators=this._animators||[];for(var t=this._animators,r=t.length,n=0;n<r;n++){t[n].stop(e);}return t.length=0,this;},addAnimatorsToZr:function addAnimatorsToZr(e){if(this._animators)for(var t=0;t<this._animators.length;t++){e.animation.addAnimator(this._animators[t]);}},removeAnimatorsFromZr:function removeAnimatorsFromZr(e){if(this._animators)for(var t=0;t<this._animators.length;t++){e.animation.removeAnimator(this._animators[t]);}}};e.exports=i;},function(e,t,r){"use strict";function n(e,t,r){r=r||2;var n=t&&t.length,a=n?t[0]*r:e.length,s=i(e,0,a,r,!0),u=[];if(!s)return u;var l,h,d,f,p,_,m;if(n&&(s=c(e,t,s,r)),e.length>80*r){l=d=e[0],h=f=e[1];for(var g=r;g<a;g+=r){p=e[g],_=e[g+1],p<l&&(l=p),_<h&&(h=_),p>d&&(d=p),_>f&&(f=_);}m=Math.max(d-l,f-h);}return o(s,u,r,l,h,m),u;}function i(e,t,r,n,i){var a,o;if(i===R(e,t,r,n)>0)for(a=t;a<r;a+=n){o=C(a,e[a],e[a+1],o);}else for(a=r-n;a>=t;a-=n){o=C(a,e[a],e[a+1],o);}return o&&b(o,o.next)&&(L(o),o=o.next),o;}function a(e,t){if(!e)return e;t||(t=e);var r,n=e;do{if(r=!1,n.steiner||!b(n,n.next)&&0!==T(n.prev,n,n.next))n=n.next;else{if(L(n),(n=t=n.prev)===n.next)return null;r=!0;}}while(r||n!==t);return t;}function o(e,t,r,n,i,c,d){if(e){!d&&c&&_(e,n,i,c);for(var f,p,m=e;e.prev!==e.next;){if(f=e.prev,p=e.next,c?u(e,n,i,c):s(e))t.push(f.i/r),t.push(e.i/r),t.push(p.i/r),L(e),e=p.next,m=p.next;else if((e=p)===m){d?1===d?(e=l(e,t,r),o(e,t,r,n,i,c,2)):2===d&&h(e,t,r,n,i,c):o(a(e),t,r,n,i,c,1);break;}}}}function s(e){var t=e.prev,r=e,n=e.next;if(T(t,r,n)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(y(t.x,t.y,r.x,r.y,n.x,n.y,i.x,i.y)&&T(i.prev,i,i.next)>=0)return!1;i=i.next;}return!0;}function u(e,t,r,n){var i=e.prev,a=e,o=e.next;if(T(i,a,o)>=0)return!1;for(var s=i.x<a.x?i.x<o.x?i.x:o.x:a.x<o.x?a.x:o.x,u=i.y<a.y?i.y<o.y?i.y:o.y:a.y<o.y?a.y:o.y,l=i.x>a.x?i.x>o.x?i.x:o.x:a.x>o.x?a.x:o.x,h=i.y>a.y?i.y>o.y?i.y:o.y:a.y>o.y?a.y:o.y,c=g(s,u,t,r,n),d=g(l,h,t,r,n),f=e.nextZ;f&&f.z<=d;){if(f!==e.prev&&f!==e.next&&y(i.x,i.y,a.x,a.y,o.x,o.y,f.x,f.y)&&T(f.prev,f,f.next)>=0)return!1;f=f.nextZ;}for(f=e.prevZ;f&&f.z>=c;){if(f!==e.prev&&f!==e.next&&y(i.x,i.y,a.x,a.y,o.x,o.y,f.x,f.y)&&T(f.prev,f,f.next)>=0)return!1;f=f.prevZ;}return!0;}function l(e,t,r){var n=e;do{var i=n.prev,a=n.next.next;!b(i,a)&&w(i,n,n.next,a)&&S(i,a)&&S(a,i)&&(t.push(i.i/r),t.push(n.i/r),t.push(a.i/r),L(n),L(n.next),n=e=a),n=n.next;}while(n!==e);return n;}function h(e,t,r,n,i,s){var u=e;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&x(u,l)){var h=M(u,l);return u=a(u,u.next),h=a(h,h.next),o(u,t,r,n,i,s),void o(h,t,r,n,i,s);}l=l.next;}u=u.next;}while(u!==e);}function c(e,t,r,n){var o,s,u,l,h,c=[];for(o=0,s=t.length;o<s;o++){u=t[o]*n,l=o<s-1?t[o+1]*n:e.length,h=i(e,u,l,n,!1),h===h.next&&(h.steiner=!0),c.push(v(h));}for(c.sort(d),o=0;o<c.length;o++){f(c[o],r),r=a(r,r.next);}return r;}function d(e,t){return e.x-t.x;}function f(e,t){if(t=p(e,t)){var r=M(t,e);a(r,r.next);}}function p(e,t){var r,n=t,i=e.x,a=e.y,o=-1/0;do{if(a<=n.y&&a>=n.next.y&&n.next.y!==n.y){var s=n.x+(a-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=i&&s>o){if(o=s,s===i){if(a===n.y)return n;if(a===n.next.y)return n.next;}r=n.x<n.next.x?n:n.next;}}n=n.next;}while(n!==t);if(!r)return null;if(i===o)return r.prev;var u,l=r,h=r.x,c=r.y,d=1/0;for(n=r.next;n!==l;){i>=n.x&&n.x>=h&&i!==n.x&&y(a<c?i:o,a,h,c,a<c?o:i,a,n.x,n.y)&&((u=Math.abs(a-n.y)/(i-n.x))<d||u===d&&n.x>r.x)&&S(n,e)&&(r=n,d=u),n=n.next;}return r;}function _(e,t,r,n){var i=e;do{null===i.z&&(i.z=g(i.x,i.y,t,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,m(i);}function m(e){var t,r,n,i,a,o,s,u,l=1;do{for(r=e,e=null,a=null,o=0;r;){for(o++,n=r,s=0,t=0;t<l&&(s++,n=n.nextZ);t++){}for(u=l;s>0||u>0&&n;){0!==s&&(0===u||!n||r.z<=n.z)?(i=r,r=r.nextZ,s--):(i=n,n=n.nextZ,u--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;}r=n;}a.nextZ=null,l*=2;}while(o>1);return e;}function g(e,t,r,n,i){return e=32767*(e-r)/i,t=32767*(t-n)/i,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1;}function v(e){var t=e,r=e;do{t.x<r.x&&(r=t),t=t.next;}while(t!==e);return r;}function y(e,t,r,n,i,a,o,s){return(i-o)*(t-s)-(e-o)*(a-s)>=0&&(e-o)*(n-s)-(r-o)*(t-s)>=0&&(r-o)*(a-s)-(i-o)*(n-s)>=0;}function x(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!E(e,t)&&S(e,t)&&S(t,e)&&A(e,t);}function T(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y);}function b(e,t){return e.x===t.x&&e.y===t.y;}function w(e,t,r,n){return!!(b(e,t)&&b(r,n)||b(e,n)&&b(r,t))||T(e,t,r)>0!=T(e,t,n)>0&&T(r,n,e)>0!=T(r,n,t)>0;}function E(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&w(r,r.next,e,t))return!0;r=r.next;}while(r!==e);return!1;}function S(e,t){return T(e.prev,e,e.next)<0?T(e,t,e.next)>=0&&T(e,e.prev,t)>=0:T(e,t,e.prev)<0||T(e,e.next,t)<0;}function A(e,t){var r=e,n=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{r.y>a!=r.next.y>a&&r.next.y!==r.y&&i<(r.next.x-r.x)*(a-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;}while(r!==e);return n;}function M(e,t){var r=new N(e.i,e.x,e.y),n=new N(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,r.next=i,i.prev=r,n.next=r,r.prev=n,a.next=n,n.prev=a,n;}function C(e,t,r,n){var i=new N(e,t,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i;}function L(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ);}function N(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1;}function R(e,t,r,n){for(var i=0,a=t,o=r-n;a<r;a+=n){i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;}return i;}e.exports=n,n.deviation=function(e,t,r,n){var i=t&&t.length,a=i?t[0]*r:e.length,o=Math.abs(R(e,0,a,r));if(i)for(var s=0,u=t.length;s<u;s++){var l=t[s]*r,h=s<u-1?t[s+1]*r:e.length;o-=Math.abs(R(e,l,h,r));}var c=0;for(s=0;s<n.length;s+=3){var d=n[s]*r,f=n[s+1]*r,p=n[s+2]*r;c+=Math.abs((e[d]-e[p])*(e[f+1]-e[d+1])-(e[d]-e[f])*(e[p+1]-e[d+1]));}return 0===o&&0===c?0:Math.abs((c-o)/o);};},function(e,t,r){var n=r(0),i=r(28),a=r(49),o=r(12),s=r(1),u=s.vec3,l=s.mat3,h=o.extend(function(){return{attributes:{position:new o.Attribute("position","float",3,"POSITION"),normal:new o.Attribute("normal","float",3,"NORMAL"),color:new o.Attribute("color","float",4,"COLOR"),prevPosition:new o.Attribute("prevPosition","float",3),prevNormal:new o.Attribute("prevNormal","float",3)},dynamic:!0,enableNormal:!1,bevelSize:1,bevelSegments:0,_dataIndices:null,_vertexOffset:0,_triangleOffset:0};},{resetOffset:function resetOffset(){this._vertexOffset=0,this._triangleOffset=0;},setBarCount:function setBarCount(e){var t=this.enableNormal,r=this.getBarVertexCount()*e,n=this.getBarTriangleCount()*e;this.vertexCount!==r&&(this.attributes.position.init(r),t?this.attributes.normal.init(r):this.attributes.normal.value=null,this.attributes.color.init(r)),this.triangleCount!==n&&(this.indices=r>65535?new Uint32Array(3*n):new Uint16Array(3*n),this._dataIndices=new Uint32Array(r));},getBarVertexCount:function getBarVertexCount(){var e=this.bevelSize>0?this.bevelSegments:0;return e>0?this._getBevelBarVertexCount(e):this.enableNormal?24:8;},getBarTriangleCount:function getBarTriangleCount(){var e=this.bevelSize>0?this.bevelSegments:0;return e>0?this._getBevelBarTriangleCount(e):12;},_getBevelBarVertexCount:function _getBevelBarVertexCount(e){return 4*(e+1)*(e+1)*2;},_getBevelBarTriangleCount:function _getBevelBarTriangleCount(e){return(4*e+3+1)*(2*e+1)*2+4;},setColor:function setColor(e,t){for(var r=this.getBarVertexCount(),n=r*e,i=r*(e+1),a=n;a<i;a++){this.attributes.color.set(a,t);}this.dirtyAttribute("color");},getDataIndexOfVertex:function getDataIndexOfVertex(e){return this._dataIndices?this._dataIndices[e]:null;},addBar:function(){for(var e=u.create,t=u.scaleAndAdd,r=e(),n=e(),i=e(),a=e(),o=e(),s=e(),l=e(),h=[],c=[],d=0;d<8;d++){h[d]=e();}for(var f=[[0,1,5,4],[2,3,7,6],[4,5,6,7],[3,2,1,0],[0,4,7,3],[1,2,6,5]],p=[0,1,2,0,2,3],_=[],d=0;d<f.length;d++){for(var m=f[d],g=0;g<2;g++){for(var v=[],y=0;y<3;y++){v.push(m[p[3*g+y]]);}_.push(v);}}return function(e,d,m,g,v,y){var x=this._vertexOffset;if(this.bevelSize>0&&this.bevelSegments>0)this._addBevelBar(e,d,m,g,this.bevelSize,this.bevelSegments,v);else{u.copy(i,d),u.normalize(i,i),u.cross(a,m,i),u.normalize(a,a),u.cross(n,i,a),u.normalize(a,a),u.negate(o,n),u.negate(s,i),u.negate(l,a),t(h[0],e,n,g[0]/2),t(h[0],h[0],a,g[2]/2),t(h[1],e,n,g[0]/2),t(h[1],h[1],l,g[2]/2),t(h[2],e,o,g[0]/2),t(h[2],h[2],l,g[2]/2),t(h[3],e,o,g[0]/2),t(h[3],h[3],a,g[2]/2),t(r,e,i,g[1]),t(h[4],r,n,g[0]/2),t(h[4],h[4],a,g[2]/2),t(h[5],r,n,g[0]/2),t(h[5],h[5],l,g[2]/2),t(h[6],r,o,g[0]/2),t(h[6],h[6],l,g[2]/2),t(h[7],r,o,g[0]/2),t(h[7],h[7],a,g[2]/2);var T=this.attributes;if(this.enableNormal){c[0]=n,c[1]=o,c[2]=i,c[3]=s,c[4]=a,c[5]=l;for(var b=this._vertexOffset,w=0;w<f.length;w++){for(var E=3*this._triangleOffset,S=0;S<6;S++){this.indices[E++]=b+p[S];}b+=4,this._triangleOffset+=2;}for(var w=0;w<f.length;w++){for(var A=c[w],S=0;S<4;S++){var M=f[w][S];T.position.set(this._vertexOffset,h[M]),T.normal.set(this._vertexOffset,A),T.color.set(this._vertexOffset++,v);}}}else{for(var w=0;w<_.length;w++){for(var E=3*this._triangleOffset,S=0;S<3;S++){this.indices[E+S]=_[w][S]+this._vertexOffset;}this._triangleOffset++;}for(var w=0;w<h.length;w++){T.position.set(this._vertexOffset,h[w]),T.color.set(this._vertexOffset++,v);}}}for(var C=this._vertexOffset,w=x;w<C;w++){this._dataIndices[w]=y;}};}(),_addBevelBar:function(){var e=u.create(),t=u.create(),r=u.create(),n=l.create(),i=[],a=[1,-1,-1,1],o=[1,1,-1,-1],s=[2,0];return function(l,h,c,d,f,p,_){u.copy(t,h),u.normalize(t,t),u.cross(r,c,t),u.normalize(r,r),u.cross(e,t,r),u.normalize(r,r),n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=t[0],n[4]=t[1],n[5]=t[2],n[6]=r[0],n[7]=r[1],n[8]=r[2];for(var m=0;m<3;m++){i[m]=Math.max(d[m]-2*f,0);}for(var g=(d[0]-i[0])/2,v=(d[1]-i[1])/2,y=(d[2]-i[2])/2,x=[],T=[],b=this._vertexOffset,w=[],m=0;m<2;m++){w[m]=w[m]=[];for(var E=0;E<=p;E++){for(var S=0;S<4;S++){(0===E&&0===m||1===m&&E===p)&&w[m].push(b);for(var A=0;A<=p;A++){var M=A/p*Math.PI/2+Math.PI/2*S,C=E/p*Math.PI/2+Math.PI/2*m;T[0]=g*Math.cos(M)*Math.sin(C),T[1]=v*Math.cos(C),T[2]=y*Math.sin(M)*Math.sin(C),x[0]=T[0]+a[S]*i[0]/2,x[1]=T[1]+v+s[m]*i[1]/2,x[2]=T[2]+o[S]*i[2]/2,Math.abs(g-v)<1e-6&&Math.abs(v-y)<1e-6||(T[0]/=g*g,T[1]/=v*v,T[2]/=y*y),u.normalize(T,T),u.transformMat3(x,x,n),u.transformMat3(T,T,n),u.add(x,x,l),this.attributes.position.set(b,x),this.enableNormal&&this.attributes.normal.set(b,T),this.attributes.color.set(b,_),b++;}}}}for(var L=4*p+3,N=2*p+1,R=L+1,S=0;S<N;S++){for(var m=0;m<=L;m++){var D=S*R+m+this._vertexOffset,I=S*R+(m+1)%R+this._vertexOffset,P=(S+1)*R+(m+1)%R+this._vertexOffset,O=(S+1)*R+m+this._vertexOffset;this.setTriangleIndices(this._triangleOffset++,[P,D,I]),this.setTriangleIndices(this._triangleOffset++,[P,O,D]);}}this.setTriangleIndices(this._triangleOffset++,[w[0][0],w[0][2],w[0][1]]),this.setTriangleIndices(this._triangleOffset++,[w[0][0],w[0][3],w[0][2]]),this.setTriangleIndices(this._triangleOffset++,[w[1][0],w[1][1],w[1][2]]),this.setTriangleIndices(this._triangleOffset++,[w[1][0],w[1][2],w[1][3]]),this._vertexOffset=b;};}()});n.util.defaults(h.prototype,i),n.util.defaults(h.prototype,a),e.exports=h;},function(e,t,r){var n=r(12),i=r(1).vec2,a=r(0),o=r(28),s=[[0,0],[1,1]],u=n.extend(function(){return{segmentScale:4,dynamic:!0,useNativeLine:!0,attributes:{position:new n.Attribute("position","float",2,"POSITION"),normal:new n.Attribute("normal","float",2),offset:new n.Attribute("offset","float",1),color:new n.Attribute("color","float",4,"COLOR")}};},{resetOffset:function resetOffset(){this._vertexOffset=0,this._faceOffset=0;},setVertexCount:function setVertexCount(e){var t=this.attributes;this.vertexCount!==e&&(t.position.init(e),t.color.init(e),this.useNativeLine||(t.offset.init(e),t.normal.init(e)),e>65535?this.indices instanceof Uint16Array&&(this.indices=new Uint32Array(this.indices)):this.indices instanceof Uint32Array&&(this.indices=new Uint16Array(this.indices)));},setTriangleCount:function setTriangleCount(e){this.triangleCount!==e&&(this.indices=0===e?null:this.vertexCount>65535?new Uint32Array(3*e):new Uint16Array(3*e));},_getCubicCurveApproxStep:function _getCubicCurveApproxStep(e,t,r,n){return 1/(i.dist(e,t)+i.dist(r,t)+i.dist(n,r)+1)*this.segmentScale;},getCubicCurveVertexCount:function getCubicCurveVertexCount(e,t,r,n){var i=this._getCubicCurveApproxStep(e,t,r,n),a=Math.ceil(1/i);return this.useNativeLine?2*a:2*a+2;},getCubicCurveTriangleCount:function getCubicCurveTriangleCount(e,t,r,n){var i=this._getCubicCurveApproxStep(e,t,r,n),a=Math.ceil(1/i);return this.useNativeLine?0:2*a;},getLineVertexCount:function getLineVertexCount(){return this.getPolylineVertexCount(s);},getLineTriangleCount:function getLineTriangleCount(){return this.getPolylineTriangleCount(s);},getPolylineVertexCount:function getPolylineVertexCount(e){var t="number"!=typeof e[0],r=t?e.length:e.length/2;return this.useNativeLine?2*(r-1):2*(r-1)+2;},getPolylineTriangleCount:function getPolylineTriangleCount(e){var t="number"!=typeof e[0],r=t?e.length:e.length/2;return this.useNativeLine?0:2*(r-1);},addCubicCurve:function addCubicCurve(e,t,r,n,i,a){null==a&&(a=1);for(var o=e[0],s=e[1],u=t[0],l=t[1],h=r[0],c=r[1],d=n[0],f=n[1],p=this._getCubicCurveApproxStep(e,t,r,n),_=p*p,m=_*p,g=3*p,v=3*_,y=6*_,x=6*m,T=o-2*u+h,b=s-2*l+c,w=3*(u-h)-o+d,E=3*(l-c)-s+f,S=o,A=s,M=(u-o)*g+T*v+w*m,C=(l-s)*g+b*v+E*m,L=T*y+w*x,N=b*y+E*x,R=w*x,D=E*x,I=0,P=0,O=Math.ceil(1/p),F=new Float32Array(3*(O+1)),F=[],B=0,P=0;P<O+1;P++){F[B++]=S,F[B++]=A,S+=M,A+=C,M+=L,C+=N,L+=R,N+=D,(I+=p)>1&&(S=M>0?Math.min(S,d):Math.max(S,d),A=C>0?Math.min(A,f):Math.max(A,f));}this.addPolyline(F,i,a,!1);},addLine:function addLine(e,t,r,n){this.addPolyline([e,t],r,n,!1);},addPolyline:function addPolyline(e,t,r,n){if(e.length){var a="number"!=typeof e[0],o=this.attributes.position,s=this.attributes.color,u=this.attributes.offset,l=this.attributes.normal,h=this.indices;null==r&&(r=1);for(var c,d=this._vertexOffset,f=a?e.length:e.length/2,p=f,_=[],m=[],g=[],v=i.create(),y=i.create(),x=i.create(),T=i.create(),b=0;b<p;b++){if(a)_=e[b],c=n?t[b]:t;else{var w=2*b;if(_=_||[],_[0]=e[w],_[1]=e[w+1],n){var E=4*b;c=c||[],c[0]=t[E],c[1]=t[E+1],c[2]=t[E+2],c[3]=t[E+3];}else c=t;}if(this.useNativeLine)b>1&&(o.copy(d,d-1),s.copy(d,d-1),d++);else{var S;if(b<p-1){if(a)i.copy(m,e[b+1]);else{var w=2*(b+1);m=m||[],m[0]=e[w],m[1]=e[w+1];}if(b>0){i.sub(v,_,g),i.sub(y,m,_),i.normalize(v,v),i.normalize(y,y),i.add(T,v,y),i.normalize(T,T);var A=r/2*Math.min(1/i.dot(v,T),2);x[0]=-T[1],x[1]=T[0],S=A;}else i.sub(v,m,_),i.normalize(v,v),x[0]=-v[1],x[1]=v[0],S=r/2;}else i.sub(v,_,g),i.normalize(v,v),x[0]=-v[1],x[1]=v[0],S=r/2;l.set(d,x),l.set(d+1,x),u.set(d,S),u.set(d+1,-S),i.copy(g,_),o.set(d,_),o.set(d+1,_),s.set(d,c),s.set(d+1,c),d+=2;}if(this.useNativeLine)s.set(d,c),o.set(d,_),d++;else if(b>0){var M=3*this._faceOffset,h=this.indices;h[M]=d-4,h[M+1]=d-3,h[M+2]=d-2,h[M+3]=d-3,h[M+4]=d-1,h[M+5]=d-2,this._faceOffset+=2;}}this._vertexOffset=d;}}});a.util.defaults(u.prototype,o),e.exports=u;},function(e,t,r){var n=r(12),i=r(1).vec3,a=r(0),o=r(28),s=n.extend(function(){return{segmentScale:1,useNativeLine:!0,attributes:{position:new n.Attribute("position","float",3,"POSITION"),normal:new n.Attribute("normal","float",3,"NORMAL"),color:new n.Attribute("color","float",4,"COLOR")}};},{resetOffset:function resetOffset(){this._vertexOffset=0,this._faceOffset=0;},setQuadCount:function setQuadCount(e){var t=this.attributes,r=this.getQuadVertexCount()*e,n=this.getQuadTriangleCount()*e;this.vertexCount!==r&&(t.position.init(r),t.normal.init(r),t.color.init(r)),this.triangleCount!==n&&(this.indices=r>65535?new Uint32Array(3*n):new Uint16Array(3*n));},getQuadVertexCount:function getQuadVertexCount(){return 4;},getQuadTriangleCount:function getQuadTriangleCount(){return 2;},addQuad:function(){var e=i.create(),t=i.create(),r=i.create(),n=[0,3,1,3,2,1];return function(a,o){var s=this.attributes.position,u=this.attributes.normal,l=this.attributes.color;i.sub(e,a[1],a[0]),i.sub(t,a[2],a[1]),i.cross(r,e,t),i.normalize(r,r);for(var h=0;h<4;h++){s.set(this._vertexOffset+h,a[h]),l.set(this._vertexOffset+h,o),u.set(this._vertexOffset+h,r);}for(var c=3*this._faceOffset,h=0;h<6;h++){this.indices[c+h]=n[h]+this._vertexOffset;}this._vertexOffset+=4,this._faceOffset+=2;};}()});a.util.defaults(s.prototype,o),e.exports=s;},function(e,t,r){var n=r(0),i=r(12),a=r(28),o=[0,1,2,0,2,3],s=i.extend(function(){return{attributes:{position:new i.Attribute("position","float",3,"POSITION"),texcoord:new i.Attribute("texcoord","float",2,"TEXCOORD_0"),offset:new i.Attribute("offset","float",2),color:new i.Attribute("color","float",4,"COLOR")}};},{resetOffset:function resetOffset(){this._vertexOffset=0,this._faceOffset=0;},setSpriteCount:function setSpriteCount(e){this._spriteCount=e;var t=4*e,r=2*e;this.vertexCount!==t&&(this.attributes.position.init(t),this.attributes.offset.init(t),this.attributes.color.init(t)),this.triangleCount!==r&&(this.indices=t>65535?new Uint32Array(3*r):new Uint16Array(3*r));},setSpriteAlign:function setSpriteAlign(e,t,r,n,i){null==r&&(r="left"),null==n&&(n="top");var a,o,s,u;switch(i=i||0,r){case"left":a=i,s=t[0]+i;break;case"center":case"middle":a=-t[0]/2,s=t[0]/2;break;case"right":a=-t[0]-i,s=-i;}switch(n){case"bottom":o=i,u=t[1]+i;break;case"middle":o=-t[1]/2,u=t[1]/2;break;case"top":o=-t[1]-i,u=-i;}var l=4*e,h=this.attributes.offset;h.set(l,[a,u]),h.set(l+1,[s,u]),h.set(l+2,[s,o]),h.set(l+3,[a,o]);},addSprite:function addSprite(e,t,r,n,i,a){var s=this._vertexOffset;this.setSprite(this._vertexOffset/4,e,t,r,n,i,a);for(var u=0;u<o.length;u++){this.indices[3*this._faceOffset+u]=o[u]+s;}return this._faceOffset+=2,this._vertexOffset+=4,s/4;},setSprite:function setSprite(e,t,r,n,i,a,o){for(var s=4*e,u=this.attributes,l=0;l<4;l++){u.position.set(s+l,t);}var h=u.texcoord;h.set(s,[n[0][0],n[0][1]]),h.set(s+1,[n[1][0],n[0][1]]),h.set(s+2,[n[1][0],n[1][1]]),h.set(s+3,[n[0][0],n[1][1]]),this.setSpriteAlign(e,r,i,a,o);}});n.util.defaults(s.prototype,a),e.exports=s;},function(e,t,r){var n=r(1).vec3,i=r(64);e.exports={needsSortVertices:function needsSortVertices(){return this.sortVertices;},needsSortVerticesProgressively:function needsSortVerticesProgressively(){return this.needsSortVertices()&&this.vertexCount>=2e4;},doSortVertices:function doSortVertices(e,t){var r=this.indices,i=n.create();if(!r){r=this.indices=this.vertexCount>65535?new Uint32Array(this.vertexCount):new Uint16Array(this.vertexCount);for(var a=0;a<r.length;a++){r[a]=a;}}if(0===t){var o=this.attributes.position,e=e._array,s=0;this._zList&&this._zList.length===this.vertexCount||(this._zList=new Float32Array(this.vertexCount));for(var a=0;a<this.vertexCount;a++){o.get(a,i);var u=n.sqrDist(i,e);isNaN(u)&&(u=1e7,s++),this._zList[a]=u;}this._noneCount=s;}if(this.vertexCount<2e4)0===t&&this._simpleSort(this._noneCount/this.vertexCount>.05);else for(var a=0;a<3;a++){this._progressiveQuickSort(3*t+a);}this.dirtyIndices();},_simpleSort:function _simpleSort(e){function t(e,t){return r[t]-r[e];}var r=this._zList,n=this.indices;e?n.sort(t):i.sort(n,t,0,n.length-1);},_progressiveQuickSort:function _progressiveQuickSort(e){var t=this._zList,r=this.indices;this._quickSort=this._quickSort||new i(),this._quickSort.step(r,function(e,r){return t[r]-t[e];},e);}};},function(e,t){e.exports="@export ecgl.color.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\n@import ecgl.common.uvUniforms\n\nattribute vec2 texcoord : TEXCOORD_0;\nattribute vec3 position: POSITION;\n\n@import ecgl.common.wireframe.vertexHeader\n\n#ifdef VERTEX_COLOR\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n#endif\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nuniform float percent : 1.0;\n#endif\n\nvarying vec2 v_Texcoord;\n\nvoid main()\n{\n#ifdef VERTEX_ANIMATION\n    vec3 pos = mix(prevPosition, position, percent);\n#else\n    vec3 pos = position;\n#endif\n\n    gl_Position = worldViewProjection * vec4(pos, 1.0);\n    v_Texcoord = texcoord * uvRepeat + uvOffset;\n\n#ifdef VERTEX_COLOR\n    v_Color = a_Color;\n#endif\n\n    @import ecgl.common.wireframe.vertexMain\n\n}\n\n@end\n\n@export ecgl.color.fragment\n\n#define LAYER_DIFFUSEMAP_COUNT 0\n#define LAYER_EMISSIVEMAP_COUNT 0\n\nuniform sampler2D diffuseMap;\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\n@import ecgl.common.layers.header\n\nvarying vec2 v_Texcoord;\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import qtek.util.srgb\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n    gl_FragColor = sRGBToLinear(color);\n#else\n    gl_FragColor = color;\n#endif\n\n#ifdef VERTEX_COLOR\n    gl_FragColor *= v_Color;\n#endif\n\n    vec4 albedoTexel = vec4(1.0);\n#ifdef DIFFUSEMAP_ENABLED\n    albedoTexel = texture2D(diffuseMap, v_Texcoord);\n    #ifdef SRGB_DECODE\n    albedoTexel = sRGBToLinear(albedoTexel);\n    #endif\n#endif\n\n    @import ecgl.common.diffuseLayer.main\n\n    gl_FragColor *= albedoTexel;\n\n    @import ecgl.common.emissiveLayer.main\n\n    @import ecgl.common.wireframe.fragmentMain\n\n}\n@end";},function(e,t){e.exports="\n@export ecgl.common.transformUniforms\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform mat4 worldInverseTranspose : WORLDINVERSETRANSPOSE;\nuniform mat4 world : WORLD;\n@end\n\n@export ecgl.common.attributes\nattribute vec3 position : POSITION;\nattribute vec2 texcoord : TEXCOORD_0;\nattribute vec3 normal : NORMAL;\n@end\n\n@export ecgl.common.uvUniforms\nuniform vec2 uvRepeat : [1.0, 1.0];\nuniform vec2 uvOffset : [0.0, 0.0];\n@end\n\n\n@export ecgl.common.wireframe.vertexHeader\n\n#ifdef WIREFRAME_QUAD\nattribute vec4 barycentric;\nvarying vec4 v_Barycentric;\n#elif defined(WIREFRAME_TRIANGLE)\nattribute vec3 barycentric;\nvarying vec3 v_Barycentric;\n#endif\n\n@end\n\n@export ecgl.common.wireframe.vertexMain\n\n#if defined(WIREFRAME_QUAD) || defined(WIREFRAME_TRIANGLE)\n    v_Barycentric = barycentric;\n#endif\n\n@end\n\n\n@export ecgl.common.wireframe.fragmentHeader\n\nuniform float wireframeLineWidth : 1;\nuniform vec4 wireframeLineColor: [0, 0, 0, 0.5];\n\n#ifdef WIREFRAME_QUAD\nvarying vec4 v_Barycentric;\nfloat edgeFactor () {\n    vec4 d = fwidth(v_Barycentric);\n    vec4 a4 = smoothstep(vec4(0.0), d * wireframeLineWidth, v_Barycentric);\n    return min(min(min(a4.x, a4.y), a4.z), a4.w);\n}\n#elif defined(WIREFRAME_TRIANGLE)\nvarying vec3 v_Barycentric;\nfloat edgeFactor () {\n    vec3 d = fwidth(v_Barycentric);\n    vec3 a3 = smoothstep(vec3(0.0), d * wireframeLineWidth, v_Barycentric);\n    return min(min(a3.x, a3.y), a3.z);\n}\n#endif\n\n@end\n\n\n@export ecgl.common.wireframe.fragmentMain\n\n#if defined(WIREFRAME_QUAD) || defined(WIREFRAME_TRIANGLE)\n    if (wireframeLineWidth > 0.) {\n        vec4 lineColor = wireframeLineColor;\n#ifdef SRGB_DECODE\n        lineColor = sRGBToLinear(lineColor);\n#endif\n\n        gl_FragColor.rgb = mix(gl_FragColor.rgb, lineColor.rgb, (1.0 - edgeFactor()) * lineColor.a);\n    }\n#endif\n@end\n\n\n\n\n@export ecgl.common.bumpMap.header\n\n#ifdef BUMPMAP_ENABLED\nuniform sampler2D bumpMap;\nuniform float bumpScale : 1.0;\n\n\nvec3 bumpNormal(vec3 surfPos, vec3 surfNormal, vec3 baseNormal)\n{\n    vec2 dSTdx = dFdx(v_Texcoord);\n    vec2 dSTdy = dFdy(v_Texcoord);\n\n    float Hll = bumpScale * texture2D(bumpMap, v_Texcoord).x;\n    float dHx = bumpScale * texture2D(bumpMap, v_Texcoord + dSTdx).x - Hll;\n    float dHy = bumpScale * texture2D(bumpMap, v_Texcoord + dSTdy).x - Hll;\n\n    vec3 vSigmaX = dFdx(surfPos);\n    vec3 vSigmaY = dFdy(surfPos);\n    vec3 vN = surfNormal;\n\n    vec3 R1 = cross(vSigmaY, vN);\n    vec3 R2 = cross(vN, vSigmaX);\n\n    float fDet = dot(vSigmaX, R1);\n\n    vec3 vGrad = sign(fDet) * (dHx * R1 + dHy * R2);\n    return normalize(abs(fDet) * baseNormal - vGrad);\n\n}\n#endif\n\n@end\n\n@export ecgl.common.normalMap.vertexHeader\n\n#ifdef NORMALMAP_ENABLED\nattribute vec4 tangent : TANGENT;\nvarying vec3 v_Tangent;\nvarying vec3 v_Bitangent;\n#endif\n\n@end\n\n@export ecgl.common.normalMap.vertexMain\n\n#ifdef NORMALMAP_ENABLED\n    if (dot(tangent, tangent) > 0.0) {\n        v_Tangent = normalize((worldInverseTranspose * vec4(tangent.xyz, 0.0)).xyz);\n        v_Bitangent = normalize(cross(v_Normal, v_Tangent) * tangent.w);\n    }\n#endif\n\n@end\n\n\n@export ecgl.common.normalMap.fragmentHeader\n\n#ifdef NORMALMAP_ENABLED\nuniform sampler2D normalMap;\nvarying vec3 v_Tangent;\nvarying vec3 v_Bitangent;\n#endif\n\n@end\n\n@export ecgl.common.normalMap.fragmentMain\n#ifdef NORMALMAP_ENABLED\n    if (dot(v_Tangent, v_Tangent) > 0.0) {\n        vec3 normalTexel = texture2D(normalMap, v_Texcoord).xyz;\n        if (dot(normalTexel, normalTexel) > 0.0) {             N = normalTexel * 2.0 - 1.0;\n            mat3 tbn = mat3(v_Tangent, v_Bitangent, v_Normal);\n            N = normalize(tbn * N);\n        }\n    }\n#endif\n@end\n\n\n\n@export ecgl.common.vertexAnimation.header\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nattribute vec3 prevNormal;\nuniform float percent;\n#endif\n\n@end\n\n@export ecgl.common.vertexAnimation.main\n\n#ifdef VERTEX_ANIMATION\n    vec3 pos = mix(prevPosition, position, percent);\n    vec3 norm = mix(prevNormal, normal, percent);\n#else\n    vec3 pos = position;\n    vec3 norm = normal;\n#endif\n\n@end\n\n\n@export ecgl.common.ssaoMap.header\n#ifdef SSAOMAP_ENABLED\nuniform sampler2D ssaoMap;\nuniform vec4 viewport : VIEWPORT;\n#endif\n@end\n\n@export ecgl.common.ssaoMap.main\n    float ao = 1.0;\n#ifdef SSAOMAP_ENABLED\n    ao = texture2D(ssaoMap, (gl_FragCoord.xy - viewport.xy) / viewport.zw).r;\n#endif\n@end\n\n\n\n\n@export ecgl.common.diffuseLayer.header\n\n#if (LAYER_DIFFUSEMAP_COUNT > 0)\nuniform float layerDiffuseIntensity[LAYER_DIFFUSEMAP_COUNT];\nuniform sampler2D layerDiffuseMap[LAYER_DIFFUSEMAP_COUNT];\n#endif\n\n@end\n\n@export ecgl.common.emissiveLayer.header\n\n#if (LAYER_EMISSIVEMAP_COUNT > 0)\nuniform float layerEmissionIntensity[LAYER_EMISSIVEMAP_COUNT];\nuniform sampler2D layerEmissiveMap[LAYER_EMISSIVEMAP_COUNT];\n#endif\n\n@end\n\n@export ecgl.common.layers.header\n@import ecgl.common.diffuseLayer.header\n@import ecgl.common.emissiveLayer.header\n@end\n\n@export ecgl.common.diffuseLayer.main\n\n#if (LAYER_DIFFUSEMAP_COUNT > 0)\n    for (int _idx_ = 0; _idx_ < LAYER_DIFFUSEMAP_COUNT; _idx_++) {{\n        float intensity = layerDiffuseIntensity[_idx_];\n        vec4 texel2 = texture2D(layerDiffuseMap[_idx_], v_Texcoord);\n        #ifdef SRGB_DECODE\n        texel2 = sRGBToLinear(texel2);\n        #endif\n                albedoTexel.rgb = mix(albedoTexel.rgb, texel2.rgb * intensity, texel2.a);\n        albedoTexel.a = texel2.a + (1.0 - texel2.a) * albedoTexel.a;\n    }}\n#endif\n\n@end\n\n@export ecgl.common.emissiveLayer.main\n\n#if (LAYER_EMISSIVEMAP_COUNT > 0)\n    for (int _idx_ = 0; _idx_ < LAYER_EMISSIVEMAP_COUNT; _idx_++)\n    {{\n                vec4 texel2 = texture2D(layerEmissiveMap[_idx_], v_Texcoord) * layerEmissionIntensity[_idx_];\n        float intensity = layerEmissionIntensity[_idx_];\n        gl_FragColor.rgb += texel2.rgb * texel2.a * intensity;\n    }}\n#endif\n\n@end\n";},function(e,t){e.exports="@export ecgl.labels3D.vertex\n\nattribute vec3 position: POSITION;\nattribute vec2 texcoord: TEXCOORD_0;\nattribute vec2 offset;\n#ifdef VERTEX_COLOR\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n#endif\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform vec4 viewport : VIEWPORT;\n\nvarying vec2 v_Texcoord;\n\nvoid main()\n{\n    vec4 proj = worldViewProjection * vec4(position, 1.0);\n\n    vec2 screen = (proj.xy / abs(proj.w) + 1.0) * 0.5 * viewport.zw;\n\n    screen += offset;\n\n    proj.xy = (screen / viewport.zw - 0.5) * 2.0 * abs(proj.w);\n    gl_Position = proj;\n#ifdef VERTEX_COLOR\n    v_Color = a_Color;\n#endif\n    v_Texcoord = texcoord;\n\n    gl_PointSize = 10.0;\n}\n@end\n\n\n@export ecgl.labels3D.fragment\n\nuniform vec3 color : [1.0, 1.0, 1.0];\nuniform float alpha : 1.0;\nuniform sampler2D textureAtlas;\nuniform vec2 uvScale: [1.0, 1.0];\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\nvarying float v_Miter;\n\nvarying vec2 v_Texcoord;\n\nvoid main()\n{\n    gl_FragColor = vec4(color, alpha) * texture2D(textureAtlas, v_Texcoord * uvScale);\n#ifdef VERTEX_COLOR\n    gl_FragColor *= v_Color;\n#endif\n}\n\n@end";},function(e,t){e.exports="/**\n * http: */\n\n@export ecgl.lambert.vertex\n\n@import ecgl.common.transformUniforms\n\n@import ecgl.common.uvUniforms\n\n@import ecgl.common.attributes\n\n@import ecgl.common.wireframe.vertexHeader\n\n#ifdef VERTEX_COLOR\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n#endif\n\n\n@import ecgl.common.vertexAnimation.header\n\nvarying vec2 v_Texcoord;\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nvoid main()\n{\n    v_Texcoord = texcoord * uvRepeat + uvOffset;\n\n\n    @import ecgl.common.vertexAnimation.main\n\n\n    gl_Position = worldViewProjection * vec4(pos, 1.0);\n\n    v_Normal = normalize((worldInverseTranspose * vec4(norm, 0.0)).xyz);\n    v_WorldPosition = (world * vec4(pos, 1.0)).xyz;\n\n#ifdef VERTEX_COLOR\n    v_Color = a_Color;\n#endif\n\n    @import ecgl.common.wireframe.vertexMain\n}\n\n@end\n\n\n@export ecgl.lambert.fragment\n\n#define LAYER_DIFFUSEMAP_COUNT 0\n#define LAYER_EMISSIVEMAP_COUNT 0\n#define PI 3.14159265358979\n\nvarying vec2 v_Texcoord;\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\n#ifdef DIFFUSEMAP_ENABLED\nuniform sampler2D diffuseMap;\n#endif\n\n@import ecgl.common.layers.header\n\nuniform float emissionIntensity: 1.0;\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nuniform mat4 viewInverse : VIEWINVERSE;\n\n#ifdef AMBIENT_LIGHT_COUNT\n@import qtek.header.ambient_light\n#endif\n#ifdef AMBIENT_SH_LIGHT_COUNT\n@import qtek.header.ambient_sh_light\n#endif\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n@import qtek.header.directional_light\n#endif\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\n\n@import ecgl.common.ssaoMap.header\n\n@import ecgl.common.bumpMap.header\n\n@import qtek.util.srgb\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import qtek.plugin.compute_shadow_map\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n    gl_FragColor = sRGBToLinear(color);\n#else\n    gl_FragColor = color;\n#endif\n\n#ifdef VERTEX_COLOR\n        #ifdef SRGB_DECODE\n    gl_FragColor *= sRGBToLinear(v_Color);\n    #else\n    gl_FragColor *= v_Color;\n    #endif\n#endif\n\n    vec4 albedoTexel = vec4(1.0);\n#ifdef DIFFUSEMAP_ENABLED\n    albedoTexel = texture2D(diffuseMap, v_Texcoord);\n    #ifdef SRGB_DECODE\n    albedoTexel = sRGBToLinear(albedoTexel);\n    #endif\n#endif\n\n    @import ecgl.common.diffuseLayer.main\n\n    gl_FragColor *= albedoTexel;\n\n    vec3 N = v_Normal;\n#ifdef DOUBLE_SIDE\n    vec3 eyePos = viewInverse[3].xyz;\n    vec3 V = normalize(eyePos - v_WorldPosition);\n\n    if (dot(N, V) < 0.0) {\n        N = -N;\n    }\n#endif\n\n    float ambientFactor = 1.0;\n\n#ifdef BUMPMAP_ENABLED\n    N = bumpNormal(v_WorldPosition, v_Normal, N);\n        ambientFactor = dot(v_Normal, N);\n#endif\n\n    vec3 diffuseColor = vec3(0.0, 0.0, 0.0);\n\n    @import ecgl.common.ssaoMap.main\n\n#ifdef AMBIENT_LIGHT_COUNT\n    for(int i = 0; i < AMBIENT_LIGHT_COUNT; i++)\n    {\n                        diffuseColor += ambientLightColor[i] * ambientFactor * ao;\n    }\n#endif\n#ifdef AMBIENT_SH_LIGHT_COUNT\n    for(int _idx_ = 0; _idx_ < AMBIENT_SH_LIGHT_COUNT; _idx_++)\n    {{\n        diffuseColor += calcAmbientSHLight(_idx_, N) * ambientSHLightColor[_idx_] * ao;\n    }}\n#endif\n#ifdef DIRECTIONAL_LIGHT_COUNT\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n    float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];\n    if(shadowEnabled)\n    {\n        computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);\n    }\n#endif\n    for(int i = 0; i < DIRECTIONAL_LIGHT_COUNT; i++)\n    {\n        vec3 lightDirection = -directionalLightDirection[i];\n        vec3 lightColor = directionalLightColor[i];\n\n        float shadowContrib = 1.0;\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n        if (shadowEnabled)\n        {\n            shadowContrib = shadowContribsDir[i];\n        }\n#endif\n\n        float ndl = dot(N, normalize(lightDirection)) * shadowContrib;\n\n        diffuseColor += lightColor * clamp(ndl, 0.0, 1.0);\n    }\n#endif\n\n    gl_FragColor.rgb *= diffuseColor;\n\n    @import ecgl.common.emissiveLayer.main\n\n    @import ecgl.common.wireframe.fragmentMain\n}\n\n@end";},function(e,t){e.exports="@export ecgl.lines2D.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nattribute vec2 position: POSITION;\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n\n#ifdef POSITIONTEXTURE_ENABLED\nuniform sampler2D positionTexture;\n#endif\n\nvoid main()\n{\n    gl_Position = worldViewProjection * vec4(position, -10.0, 1.0);\n\n    v_Color = a_Color;\n}\n\n@end\n\n@export ecgl.lines2D.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nvarying vec4 v_Color;\n\nvoid main()\n{\n    gl_FragColor = color * v_Color;\n}\n@end\n\n\n@export ecgl.meshLines2D.vertex\n\nattribute vec2 position: POSITION;\nattribute vec2 normal;\nattribute float offset;\nattribute vec4 a_Color : COLOR;\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform vec4 viewport : VIEWPORT;\n\nvarying vec4 v_Color;\nvarying float v_Miter;\n\nvoid main()\n{\n    vec4 p2 = worldViewProjection * vec4(position + normal, -10.0, 1.0);\n    gl_Position = worldViewProjection * vec4(position, -10.0, 1.0);\n\n    p2.xy /= p2.w;\n    gl_Position.xy /= gl_Position.w;\n\n        vec2 N = normalize(p2.xy - gl_Position.xy);\n    gl_Position.xy += N * offset / viewport.zw * 2.0;\n\n    gl_Position.xy *= gl_Position.w;\n\n    v_Color = a_Color;\n}\n@end\n\n\n@export ecgl.meshLines2D.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nvarying vec4 v_Color;\nvarying float v_Miter;\n\nvoid main()\n{\n        gl_FragColor = color * v_Color;\n}\n\n@end";},function(e,t){e.exports="@export ecgl.normal.vertex\n\n@import ecgl.common.transformUniforms\n\n@import ecgl.common.uvUniforms\n\n@import ecgl.common.attributes\n\nvarying vec2 v_Texcoord;\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\n@import ecgl.common.normalMap.vertexHeader\n\n@import ecgl.common.vertexAnimation.header\n\nvoid main()\n{\n    @import ecgl.common.vertexAnimation.main\n\n    v_Texcoord = texcoord * uvRepeat + uvOffset;\n\n    v_Normal = normalize((worldInverseTranspose * vec4(normal, 0.0)).xyz);\n    v_WorldPosition = (world * vec4(pos, 1.0)).xyz;\n\n    @import ecgl.common.normalMap.vertexMain\n\n    gl_Position = worldViewProjection * vec4(pos, 1.0);\n\n}\n\n\n@end\n\n\n@export ecgl.normal.fragment\n\nuniform bool useBumpMap;\nuniform bool doubleSide;\n\nvarying vec2 v_Texcoord;\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nuniform mat4 viewInverse : VIEWINVERSE;\n\n@import ecgl.common.normalMap.fragmentHeader\n@import ecgl.common.bumpMap.header\n\nvoid main()\n{\n    vec3 N = v_Normal;\n\n    @import ecgl.common.normalMap.fragmentMain\n\n    if (useBumpMap) {\n        N = bumpNormal(v_WorldPosition, v_Normal, N);\n    }\n\n    if (doubleSide) {\n        vec3 eyePos = viewInverse[3].xyz;\n        vec3 V = normalize(eyePos - v_WorldPosition);\n\n        if (dot(N, V) < 0.0) {\n            N = -N;\n        }\n    }\n\n    gl_FragColor.rgb = (N.xyz + 1.0) * 0.5;\n    gl_FragColor.a = 1.0;\n}\n@end";},function(e,t){e.exports="@export ecgl.realistic.vertex\n\n@import ecgl.common.transformUniforms\n\n@import ecgl.common.uvUniforms\n\n@import ecgl.common.attributes\n\n\n@import ecgl.common.wireframe.vertexHeader\n\n#ifdef VERTEX_COLOR\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n#endif\n\n@import ecgl.common.vertexAnimation.header\n\nvarying vec2 v_Texcoord;\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nvoid main()\n{\n    v_Texcoord = texcoord * uvRepeat + uvOffset;\n\n    @import ecgl.common.vertexAnimation.main\n\n    gl_Position = worldViewProjection * vec4(pos, 1.0);\n\n    v_Normal = normalize((worldInverseTranspose * vec4(norm, 0.0)).xyz);\n    v_WorldPosition = (world * vec4(pos, 1.0)).xyz;\n\n#ifdef VERTEX_COLOR\n    v_Color = a_Color;\n#endif\n\n    @import ecgl.common.wireframe.vertexMain\n\n}\n\n@end\n\n\n\n@export ecgl.realistic.header\n#define LAYER_DIFFUSEMAP_COUNT 0\n#define LAYER_EMISSIVEMAP_COUNT 0\n#define PI 3.14159265358979\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\nvarying vec2 v_Texcoord;\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\n#ifdef DIFFUSEMAP_ENABLED\nuniform sampler2D diffuseMap;\n#endif\n\n@import ecgl.common.layers.header\n\nuniform float emissionIntensity: 1.0;\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nuniform float metalness : 0.0;\nuniform float roughness : 0.5;\n\nuniform mat4 viewInverse : VIEWINVERSE;\n\n#ifdef AMBIENT_LIGHT_COUNT\n@import qtek.header.ambient_light\n#endif\n\n#ifdef AMBIENT_SH_LIGHT_COUNT\n@import qtek.header.ambient_sh_light\n#endif\n\n#ifdef AMBIENT_CUBEMAP_LIGHT_COUNT\n@import qtek.header.ambient_cubemap_light\n#endif\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n@import qtek.header.directional_light\n#endif\n\n@import ecgl.common.ssaoMap.header\n\n@import ecgl.common.bumpMap.header\n\n@import qtek.util.srgb\n\n@import qtek.util.rgbm\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import qtek.plugin.compute_shadow_map\n\nvec3 F_Schlick(float ndv, vec3 spec) {\n    return spec + (1.0 - spec) * pow(1.0 - ndv, 5.0);\n}\n\nfloat D_Phong(float g, float ndh) {\n        float a = pow(8192.0, g);\n    return (a + 2.0) / 8.0 * pow(ndh, a);\n}\n@end\n\n\n@export ecgl.realistic.fragment\n\n@import ecgl.realistic.header\nvoid main()\n{\n    vec4 albedoColor = color;\n\n    vec3 eyePos = viewInverse[3].xyz;\n    vec3 V = normalize(eyePos - v_WorldPosition);\n#ifdef VERTEX_COLOR\n        #ifdef SRGB_DECODE\n    albedoColor *= sRGBToLinear(v_Color);\n    #else\n    albedoColor *= v_Color;\n    #endif\n#endif\n\n    vec4 albedoTexel = vec4(1.0);\n#ifdef DIFFUSEMAP_ENABLED\n    albedoTexel = texture2D(diffuseMap, v_Texcoord);\n    #ifdef SRGB_DECODE\n    albedoTexel = sRGBToLinear(albedoTexel);\n    #endif\n#endif\n\n    @import ecgl.common.diffuseLayer.main\n\n    albedoColor *= albedoTexel;\n\n    vec3 baseColor = albedoColor.rgb;\n    albedoColor.rgb = baseColor * (1.0 - metalness);\n    vec3 specFactor = mix(vec3(0.04), baseColor, metalness);\n\n    float g = 1.0 - roughness;\n\n    vec3 N = v_Normal;\n\n#ifdef DOUBLE_SIDE\n    if (dot(N, V) < 0.0) {\n        N = -N;\n    }\n#endif\n\n    float ambientFactor = 1.0;\n\n#ifdef BUMPMAP_ENABLED\n    N = bumpNormal(v_WorldPosition, v_Normal, N);\n        ambientFactor = dot(v_Normal, N);\n#endif\n\n    vec3 diffuseTerm = vec3(0.0);\n    vec3 specularTerm = vec3(0.0);\n\n    float ndv = clamp(dot(N, V), 0.0, 1.0);\n    vec3 fresnelTerm = F_Schlick(ndv, specFactor);\n\n    @import ecgl.common.ssaoMap.main\n\n#ifdef AMBIENT_LIGHT_COUNT\n    for(int _idx_ = 0; _idx_ < AMBIENT_LIGHT_COUNT; _idx_++)\n    {{\n                        diffuseTerm += ambientLightColor[_idx_] * ambientFactor * ao;\n    }}\n#endif\n\n#ifdef AMBIENT_SH_LIGHT_COUNT\n    for(int _idx_ = 0; _idx_ < AMBIENT_SH_LIGHT_COUNT; _idx_++)\n    {{\n        diffuseTerm += calcAmbientSHLight(_idx_, N) * ambientSHLightColor[_idx_] * ao;\n    }}\n#endif\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n    float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];\n    if(shadowEnabled)\n    {\n        computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);\n    }\n#endif\n    for(int _idx_ = 0; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++)\n    {{\n        vec3 L = -directionalLightDirection[_idx_];\n        vec3 lc = directionalLightColor[_idx_];\n\n        vec3 H = normalize(L + V);\n        float ndl = clamp(dot(N, normalize(L)), 0.0, 1.0);\n        float ndh = clamp(dot(N, H), 0.0, 1.0);\n\n        float shadowContrib = 1.0;\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n        if (shadowEnabled)\n        {\n            shadowContrib = shadowContribsDir[_idx_];\n        }\n#endif\n\n        vec3 li = lc * ndl * shadowContrib;\n\n        diffuseTerm += li;\n        specularTerm += li * fresnelTerm * D_Phong(g, ndh);\n    }}\n#endif\n\n\n#ifdef AMBIENT_CUBEMAP_LIGHT_COUNT\n    vec3 L = reflect(-V, N);\n    float rough2 = clamp(1.0 - g, 0.0, 1.0);\n        float bias2 = rough2 * 5.0;\n        vec2 brdfParam2 = texture2D(ambientCubemapLightBRDFLookup[0], vec2(rough2, ndv)).xy;\n    vec3 envWeight2 = specFactor * brdfParam2.x + brdfParam2.y;\n    vec3 envTexel2;\n    for(int _idx_ = 0; _idx_ < AMBIENT_CUBEMAP_LIGHT_COUNT; _idx_++)\n    {{\n        envTexel2 = RGBMDecode(textureCubeLodEXT(ambientCubemapLightCubemap[_idx_], L, bias2), 51.5);\n                specularTerm += ambientCubemapLightColor[_idx_] * envTexel2 * envWeight2 * ao;\n    }}\n#endif\n\n    gl_FragColor.rgb = albedoColor.rgb * diffuseTerm + specularTerm;\n    gl_FragColor.a = albedoColor.a;\n\n    #ifdef SRGB_ENCODE\n    gl_FragColor = linearTosRGB(gl_FragColor);\n    #endif\n\n    @import ecgl.common.emissiveLayer.main\n\n    @import ecgl.common.wireframe.fragmentMain\n}\n\n@end";},function(e,t){e.exports="@export ecgl.sm.depth.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nattribute vec3 position : POSITION;\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nuniform float percent : 1.0;\n#endif\n\nvarying vec4 v_ViewPosition;\n\nvoid main(){\n\n#ifdef VERTEX_ANIMATION\n    vec3 pos = mix(prevPosition, position, percent);\n#else\n    vec3 pos = position;\n#endif\n\n    v_ViewPosition = worldViewProjection * vec4(pos, 1.0);\n    gl_Position = v_ViewPosition;\n\n}\n@end\n\n\n\n@export ecgl.sm.depth.fragment\n\n@import qtek.sm.depth.fragment\n\n@end";},function(e,t){function r(e){return e.valueOf()/y-.5+x;}function n(e){return r(e)-T;}function i(e,t){return g(f(e)*p(b)-_(t)*f(b),p(e));}function a(e,t){return m(f(t)*p(b)+p(t)*f(b)*f(e));}function o(e,t,r){return g(f(e),p(e)*f(t)-_(r)*p(t));}function s(e,t,r){return m(f(t)*f(r)+p(t)*p(r)*p(e));}function u(e,t){return v*(280.16+360.9856235*e)-t;}function l(e){return v*(357.5291+.98560028*e);}function h(e){return e+v*(1.9148*f(e)+.02*f(2*e)+3e-4*f(3*e))+102.9372*v+d;}function c(e){var t=l(e),r=h(t);return{dec:a(r,0),ra:i(r,0)};}var d=Math.PI,f=Math.sin,p=Math.cos,_=Math.tan,m=Math.asin,g=Math.atan2,v=d/180,y=864e5,x=2440588,T=2451545,b=23.4397*v,w={};w.getPosition=function(e,t,r){var i=v*-r,a=v*t,l=n(e),h=c(l),d=u(l,i)-h.ra;return{azimuth:o(d,a,h.dec),altitude:s(d,a,h.dec)};},e.exports=w;},function(e,t,r){"use strict";function n(e){return this._axes[e];}var i=r(14),a=function a(e){this._axes={},this._dimList=[],this.name=e||"";};a.prototype={constructor:a,type:"cartesian",getAxis:function getAxis(e){return this._axes[e];},getAxes:function getAxes(){return i.map(this._dimList,n,this);},getAxesByScale:function getAxesByScale(e){return e=e.toLowerCase(),i.filter(this.getAxes(),function(t){return t.scale.type===e;});},addAxis:function addAxis(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t);},dataToCoord:function dataToCoord(e){return this._dataCoordConvert(e,"dataToCoord");},coordToData:function coordToData(e){return this._dataCoordConvert(e,"coordToData");},_dataCoordConvert:function _dataCoordConvert(e,t){for(var r=this._dimList,n=e instanceof Array?[]:{},i=0;i<r.length;i++){var a=r[i],o=this._axes[a];n[a]=o[t](e[a]);}return n;}},e.exports=a;},function(e,t,r){var n=r(14),i={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]};e.exports=function(e){n.each(e.regions,function(e){var t=i[e.name];if(t){var r=e.center;r[0]=t[0],r[1]=t[1];}});};},function(e,t,r){var n=r(14),i={"":[32,80],"":[0,-10],"":[10,5],"":[-10,10],"":[5,5]};e.exports=function(e){n.each(e.regions,function(e){var t=i[e.name];if(t){var r=e.center;r[0]+=t[0]/10.5,r[1]+=-t[1]/14;}});};},function(e,t,r){"use strict";function n(e){return"_EC_"+e;}function i(e,t){this.id=null==e?"":e,this.inEdges=[],this.outEdges=[],this.edges=[],this.hostGraph,this.dataIndex=null==t?-1:t;}function a(e,t,r){this.node1=e,this.node2=t,this.dataIndex=null==r?-1:r;}var o=r(14),s=function s(e){this._directed=e||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this.data,this.edgeData;},u=s.prototype;u.type="graph",u.isDirected=function(){return this._directed;},u.addNode=function(e,t){e=e||""+t;var r=this._nodesMap;if(!r[n(e)]){var a=new i(e,t);return a.hostGraph=this,this.nodes.push(a),r[n(e)]=a,a;}},u.getNodeByIndex=function(e){var t=this.data.getRawIndex(e);return this.nodes[t];},u.getNodeById=function(e){return this._nodesMap[n(e)];},u.addEdge=function(e,t,r){var o=this._nodesMap,s=this._edgesMap;if("number"==typeof e&&(e=this.nodes[e]),"number"==typeof t&&(t=this.nodes[t]),e instanceof i||(e=o[n(e)]),t instanceof i||(t=o[n(t)]),e&&t){var u=e.id+"-"+t.id;if(!s[u]){var l=new a(e,t,r);return l.hostGraph=this,this._directed&&(e.outEdges.push(l),t.inEdges.push(l)),e.edges.push(l),e!==t&&t.edges.push(l),this.edges.push(l),s[u]=l,l;}}},u.getEdgeByIndex=function(e){var t=this.edgeData.getRawIndex(e);return this.edges[t];},u.getEdge=function(e,t){e instanceof i&&(e=e.id),t instanceof i&&(t=t.id);var r=this._edgesMap;return this._directed?r[e+"-"+t]:r[e+"-"+t]||r[t+"-"+e];},u.eachNode=function(e,t){for(var r=this.nodes,n=r.length,i=0;i<n;i++){r[i].dataIndex>=0&&e.call(t,r[i],i);}},u.eachEdge=function(e,t){for(var r=this.edges,n=r.length,i=0;i<n;i++){r[i].dataIndex>=0&&r[i].node1.dataIndex>=0&&r[i].node2.dataIndex>=0&&e.call(t,r[i],i);}},u.breadthFirstTraverse=function(e,t,r,a){if(t instanceof i||(t=this._nodesMap[n(t)]),t){for(var o="out"===r?"outEdges":"in"===r?"inEdges":"edges",s=0;s<this.nodes.length;s++){this.nodes[s].__visited=!1;}if(!e.call(a,t,null))for(var u=[t];u.length;){for(var l=u.shift(),h=l[o],s=0;s<h.length;s++){var c=h[s],d=c.node1===l?c.node2:c.node1;if(!d.__visited){if(e.call(d,d,l))return;u.push(d),d.__visited=!0;}}}}},u.update=function(){for(var e=this.data,t=this.edgeData,r=this.nodes,n=this.edges,i=0,a=r.length;i<a;i++){r[i].dataIndex=-1;}for(var i=0,a=e.count();i<a;i++){r[e.getRawIndex(i)].dataIndex=i;}t.filterSelf(function(e){var r=n[t.getRawIndex(e)];return r.node1.dataIndex>=0&&r.node2.dataIndex>=0;});for(var i=0,a=n.length;i<a;i++){n[i].dataIndex=-1;}for(var i=0,a=t.count();i<a;i++){n[t.getRawIndex(i)].dataIndex=i;}},u.clone=function(){for(var e=new s(this._directed),t=this.nodes,r=this.edges,n=0;n<t.length;n++){e.addNode(t[n].id,t[n].dataIndex);}for(var n=0;n<r.length;n++){var i=r[n];e.addEdge(i.node1.id,i.node2.id,i.dataIndex);}return e;},i.prototype={constructor:i,degree:function degree(){return this.edges.length;},inDegree:function inDegree(){return this.inEdges.length;},outDegree:function outDegree(){return this.outEdges.length;},getModel:function getModel(e){if(!(this.dataIndex<0)){return this.hostGraph.data.getItemModel(this.dataIndex).getModel(e);}}},a.prototype.getModel=function(e){if(!(this.dataIndex<0)){return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(e);}};var l=function l(e,t){return{getValue:function getValue(r){var n=this[e][t];return n.get(n.getDimension(r||"value"),this.dataIndex);},setVisual:function setVisual(r,n){this.dataIndex>=0&&this[e][t].setItemVisual(this.dataIndex,r,n);},getVisual:function getVisual(r,n){return this[e][t].getItemVisual(this.dataIndex,r,n);},setLayout:function setLayout(r,n){this.dataIndex>=0&&this[e][t].setItemLayout(this.dataIndex,r,n);},getLayout:function getLayout(){return this[e][t].getItemLayout(this.dataIndex);},getGraphicEl:function getGraphicEl(){return this[e][t].getItemGraphicEl(this.dataIndex);},getRawIndex:function getRawIndex(){return this[e][t].getRawIndex(this.dataIndex);}};};o.mixin(i,l("hostGraph","data")),o.mixin(a,l("hostGraph","edgeData")),s.Node=i,s.Edge=a,e.exports=s;},function(e,t,r){function n(e){var t=e.mainData,r=e.datas;r||(r={main:t},e.datasAttr={main:"data"}),e.datas=e.mainData=null,l(t,r,e),d(r,function(r){d(t.TRANSFERABLE_METHODS,function(t){r.wrapMethod(t,c.curry(i,e));});}),t.wrapMethod("cloneShallow",c.curry(o,e)),d(t.CHANGABLE_METHODS,function(r){t.wrapMethod(r,c.curry(a,e));}),c.assert(r[t.dataType]===t);}function i(e,t){if(u(this)){var r=c.extend({},this[f]);r[this.dataType]=t,l(t,r,e);}else h(t,this.dataType,this[p],e);return t;}function a(e,t){return e.struct&&e.struct.update(this),t;}function o(e,t){return d(t[f],function(r,n){r!==t&&h(r.cloneShallow(),n,t,e);}),t;}function s(e){var t=this[p];return null==e||null==t?t:t[f][e];}function u(e){return e[p]===e;}function l(e,t,r){e[f]={},d(t,function(t,n){h(t,n,e,r);});}function h(e,t,r,n){r[f][t]=e,e[p]=r,e.dataType=t,n.struct&&(e[n.structAttr]=n.struct,n.struct[n.datasAttr[t]]=e),e.getLinkedData=s;}var c=r(14),d=c.each,f="\0__link_datas",p="\0__link_mainData";e.exports=n;},function(e,t,r){var n=r(14),i=r(67),a=r(226),o={};o.addCommas=function(e){return isNaN(e)?"-":(e=(e+"").split("."),e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:""));},o.toCamelCase=function(e,t){return e=(e||"").toLowerCase().replace(/-(.)/g,function(e,t){return t.toUpperCase();}),t&&e&&(e=e.charAt(0).toUpperCase()+e.slice(1)),e;},o.normalizeCssArray=function(e){var t=e.length;return"number"==typeof e?[e,e,e,e]:2===t?[e[0],e[1],e[0],e[1]]:3===t?[e[0],e[1],e[2],e[1]]:e;};var s=o.encodeHTML=function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;");},u=["a","b","c","d","e","f","g"],l=function l(e,t){return"{"+e+(null==t?"":t)+"}";};o.formatTpl=function(e,t,r){n.isArray(t)||(t=[t]);var i=t.length;if(!i)return"";for(var a=t[0].$vars||[],o=0;o<a.length;o++){var h=u[o],c=l(h,0);e=e.replace(l(h),r?s(c):c);}for(var d=0;d<i;d++){for(var f=0;f<a.length;f++){var c=t[d][a[f]];e=e.replace(l(u[f],d),r?s(c):c);}}return e;},o.formatTplSimple=function(e,t,r){return n.each(t,function(t,n){e=e.replace("{"+n+"}",r?s(t):t);}),e;};var h=function h(e){return e<10?"0"+e:e;};o.formatTime=function(e,t,r){"week"!==e&&"month"!==e&&"quarter"!==e&&"half-year"!==e&&"year"!==e||(e="MM-dd\nyyyy");var n=i.parseDate(t),a=r?"UTC":"",o=n["get"+a+"FullYear"](),s=n["get"+a+"Month"]()+1,u=n["get"+a+"Date"](),l=n["get"+a+"Hours"](),c=n["get"+a+"Minutes"](),d=n["get"+a+"Seconds"]();return e=e.replace("MM",h(s)).toLowerCase().replace("yyyy",o).replace("yy",o%100).replace("dd",h(u)).replace("d",u).replace("hh",h(l)).replace("h",l).replace("mm",h(c)).replace("m",c).replace("ss",h(d)).replace("s",d);},o.capitalFirst=function(e){return e?e.charAt(0).toUpperCase()+e.substr(1):e;},o.truncateText=a.truncateText,e.exports=o;},function(e,t,r){"use strict";function n(e){var t;switch(e){case"byte":t=d.Int8Array;break;case"ubyte":t=d.Uint8Array;break;case"short":t=d.Int16Array;break;case"ushort":t=d.Uint16Array;break;default:t=d.Float32Array;}return t;}function i(e,t,r,n){this.name=e,this.type=t,this.size=r,n&&(this.semantic=n);}function a(e,t,r,n){switch(i.call(this,e,t,r,n),this.value=null,r){case 1:this.get=function(e){return this.value[e];},this.set=function(e,t){this.value[e]=t;},this.copy=function(e,t){this.value[e]=this.value[e];};break;case 2:this.get=function(e,t){var r=this.value;return t[0]=r[2*e],t[1]=r[2*e+1],t;},this.set=function(e,t){var r=this.value;r[2*e]=t[0],r[2*e+1]=t[1];},this.copy=function(e,t){var r=this.value;t*=2,e*=2,r[e]=r[t],r[e+1]=r[t+1];};break;case 3:this.get=function(e,t){var r=3*e,n=this.value;return t[0]=n[r],t[1]=n[r+1],t[2]=n[r+2],t;},this.set=function(e,t){var r=3*e,n=this.value;n[r]=t[0],n[r+1]=t[1],n[r+2]=t[2];},this.copy=function(e,t){var r=this.value;t*=3,e*=3,r[e]=r[t],r[e+1]=r[t+1],r[e+2]=r[t+2];};break;case 4:this.get=function(e,t){var r=this.value,n=4*e;return t[0]=r[n],t[1]=r[n+1],t[2]=r[n+2],t[3]=r[n+3],t;},this.set=function(e,t){var r=this.value,n=4*e;r[n]=t[0],r[n+1]=t[1],r[n+2]=t[2],r[n+3]=t[3];},this.copy=function(e,t){var r=this.value;t*=4,e*=4,r[e]=r[t],r[e+1]=r[t+1],r[e+2]=r[t+2],r[e+3]=r[t+3];};}}function o(e,t,r,n,i){this.name=e,this.type=t,this.buffer=r,this.size=n,this.semantic=i,this.symbol="",this.needsRemove=!1;}function s(e){this.buffer=e,this.count=0;}function u(){console.warn("Geometry doesn't implement this method, use StaticGeometry instead");}var l=r(7),h=r(9),c=r(43),d=r(19);i.prototype.clone=function(e){var t=new this.constructor(this.name,this.type,this.size,this.semantic);return e&&console.warn("todo"),t;},a.prototype.constructor=new i(),a.prototype.init=function(e){if(!this.value||this.value.length!=e*this.size){var t=n(this.type);this.value=new t(e*this.size);}},a.prototype.fromArray=function(e){var t,r=n(this.type);if(e[0]&&e[0].length){var i=0,a=this.size;t=new r(e.length*a);for(var o=0;o<e.length;o++){for(var s=0;s<a;s++){t[i++]=e[o][s];}}}else t=new r(e);this.value=t;};var f=l.extend({boundingBox:null,attributes:{},indices:null,dynamic:!1},function(){this._cache=new c(),this._attributeList=Object.keys(this.attributes);},{pickByRay:null,pick:null,mainAttribute:"position",dirty:u,createAttribute:u,removeAttribute:u,getTriangleIndices:u,setTriangleIndices:u,isUseIndices:u,getEnabledAttributes:u,getBufferChunks:u,generateVertexNormals:u,generateFaceNormals:u,isUniqueVertex:u,generateUniqueVertex:u,generateTangents:u,generateBarycentric:u,applyTransform:u,dispose:u});f.STATIC_DRAW=h.STATIC_DRAW,f.DYNAMIC_DRAW=h.DYNAMIC_DRAW,f.STREAM_DRAW=h.STREAM_DRAW,f.AttributeBuffer=o,f.IndicesBuffer=s,f.Attribute=i,f.StaticAttribute=a,e.exports=f;},function(e,t,r){"use strict";var n=r(21),i=r(32),a=i.extend(function(){return{name:"",inputs:{},outputs:null,shader:"",inputLinks:{},outputLinks:{},pass:null,_prevOutputTextures:{},_outputTextures:{},_outputReferences:{},_rendering:!1,_rendered:!1,_compositor:null};},function(){var e=new n({fragment:this.shader});this.pass=e;},{render:function render(e,t){this.trigger("beforerender",e),this._rendering=!0;var r=e.gl;for(var n in this.inputLinks){var i=this.inputLinks[n],a=i.node.getOutput(e,i.pin);this.pass.setUniform(n,a);}if(this.outputs){this.pass.outputs={};var o={};for(var s in this.outputs){var u=this.updateParameter(s,e);isNaN(u.width)&&this.updateParameter(s,e);var l=this.outputs[s],h=this._compositor.allocateTexture(u);this._outputTextures[s]=h;var c=l.attachment||r.COLOR_ATTACHMENT0;"string"==typeof c&&(c=r[c]),o[c]=h;}this._compositor.getFrameBuffer().bind(e);for(var c in o){this._compositor.getFrameBuffer().attach(o[c],c);}this.pass.render(e),this._compositor.getFrameBuffer().updateMipmap(e.gl);}else this.pass.outputs=null,this._compositor.getFrameBuffer().unbind(e),this.pass.render(e,t);for(var n in this.inputLinks){var i=this.inputLinks[n];i.node.removeReference(i.pin);}this._rendering=!1,this._rendered=!0,this.trigger("afterrender",e);},updateParameter:function updateParameter(e,t){var r=this.outputs[e],n=r.parameters,i=r._parametersCopy;if(i||(i=r._parametersCopy={}),n)for(var a in n){"width"!==a&&"height"!==a&&(i[a]=n[a]);}var o,s;return o=n.width instanceof Function?n.width.call(this,t):n.width,s=n.height instanceof Function?n.height.call(this,t):n.height,i.width===o&&i.height===s||this._outputTextures[e]&&this._outputTextures[e].dispose(t.gl),i.width=o,i.height=s,i;},setParameter:function setParameter(e,t){this.pass.setUniform(e,t);},getParameter:function getParameter(e){return this.pass.getUniform(e);},setParameters:function setParameters(e){for(var t in e){this.setParameter(t,e[t]);}},setShader:function setShader(e){var t=this.pass.material;t.shader.setFragment(e),t.attachShader(t.shader,!0);},shaderDefine:function shaderDefine(e,t){this.pass.material.shader.define("fragment",e,t);},shaderUndefine:function shaderUndefine(e){this.pass.material.shader.undefine("fragment",e);},removeReference:function removeReference(e){if(0===--this._outputReferences[e]){this.outputs[e].keepLastFrame?(this._prevOutputTextures[e]&&this._compositor.releaseTexture(this._prevOutputTextures[e]),this._prevOutputTextures[e]=this._outputTextures[e]):this._compositor.releaseTexture(this._outputTextures[e]);}},link:function link(e,t,r){this.inputLinks[e]={node:t,pin:r},t.outputLinks[r]||(t.outputLinks[r]=[]),t.outputLinks[r].push({node:this,pin:e}),this.pass.material.shader.enableTexture(e);},clear:function clear(){i.prototype.clear.call(this),this.pass.material.shader.disableTexturesAll();},updateReference:function updateReference(e){if(!this._rendering){this._rendering=!0;for(var t in this.inputLinks){var r=this.inputLinks[t];r.node.updateReference(r.pin);}this._rendering=!1;}e&&this._outputReferences[e]++;},beforeFrame:function beforeFrame(){this._rendered=!1;for(var e in this.outputLinks){this._outputReferences[e]=0;}},afterFrame:function afterFrame(){for(var e in this.outputLinks){if(this._outputReferences[e]>0){var t=this.outputs[e];t.keepLastFrame?(this._prevOutputTextures[e]&&this._compositor.releaseTexture(this._prevOutputTextures[e]),this._prevOutputTextures[e]=this._outputTextures[e]):this._compositor.releaseTexture(this._outputTextures[e]);}}}});e.exports=a;},function(e,t,r){"use strict";var n=r(7),i=r(32),a=n.extend(function(){return{nodes:[]};},{dirty:function dirty(){this._dirty=!0;},addNode:function addNode(e){this.nodes.indexOf(e)>=0||(this.nodes.push(e),this._dirty=!0);},removeNode:function removeNode(e){"string"==typeof e&&(e=this.getNodeByName(e));var t=this.nodes.indexOf(e);t>=0&&(this.nodes.splice(t,1),this._dirty=!0);},getNodeByName:function getNodeByName(e){for(var t=0;t<this.nodes.length;t++){if(this.nodes[t].name===e)return this.nodes[t];}},update:function update(){for(var e=0;e<this.nodes.length;e++){this.nodes[e].clear();}for(var e=0;e<this.nodes.length;e++){var t=this.nodes[e];if(t.inputs)for(var r in t.inputs){if(t.inputs[r])if(!t.pass||t.pass.material.isUniformEnabled(r)){var n=t.inputs[r],i=this.findPin(n);i?t.link(r,i.node,i.pin):"string"==typeof n?console.warn("Node "+n+" not exist"):console.warn("Pin of "+n.node+"."+n.pin+" not exist");}else console.warn("Pin "+t.name+"."+r+" not used.");}}},findPin:function findPin(e){var t;if(("string"==typeof e||e instanceof i)&&(e={node:e}),"string"==typeof e.node)for(var r=0;r<this.nodes.length;r++){var n=this.nodes[r];n.name===e.node&&(t=n);}else t=e.node;if(t){var a=e.pin;if(a||t.outputs&&(a=Object.keys(t.outputs)[0]),t.outputs[a])return{node:t,pin:a};}}});e.exports=a;},function(e,t,r){"use strict";var n=r(32),i=r(18),a=r(9),o=r(11),s=n.extend({name:"scene",scene:null,camera:null,autoUpdateScene:!0,preZ:!1},function(){this.frameBuffer=new o();},{render:function render(e){this._rendering=!0;var t=e.gl;this.trigger("beforerender");var r;if(this.outputs){var n=this.frameBuffer;for(var o in this.outputs){var s=this.updateParameter(o,e),u=this.outputs[o],l=this._compositor.allocateTexture(s);this._outputTextures[o]=l;var h=u.attachment||t.COLOR_ATTACHMENT0;"string"==typeof h&&(h=t[h]),n.attach(l,h);}n.bind(e);var c=i.getExtension(t,"EXT_draw_buffers");if(c){var d=[];for(var h in this.outputs){(h=parseInt(h))>=t.COLOR_ATTACHMENT0&&h<=t.COLOR_ATTACHMENT0+8&&d.push(h);}c.drawBuffersEXT(d);}e.saveClear(),e.clearBit=a.DEPTH_BUFFER_BIT|a.COLOR_BUFFER_BIT,r=e.render(this.scene,this.camera,!this.autoUpdateScene,this.preZ),e.restoreClear(),n.unbind(e);}else r=e.render(this.scene,this.camera,!this.autoUpdateScene,this.preZ);this.trigger("afterrender",r),this._rendering=!1,this._rendered=!0;}});e.exports=s;},function(e,t,r){"use strict";var n=r(32),i=n.extend(function(){return{texture:null,outputs:{color:{}}};},function(){},{getOutput:function getOutput(e,t){return this.texture;},beforeFrame:function beforeFrame(){},afterFrame:function afterFrame(){}});e.exports=i;},function(e,t,r){"use strict";function n(e,t,r){"object"==(typeof t==="undefined"?"undefined":_typeof(t))&&(r=t,t=null);var n,o=this;if(!(e instanceof Function)){n=[];for(var s in e){e.hasOwnProperty(s)&&n.push(s);}}var u=function u(t){if(o.apply(this,arguments),e instanceof Function?i(this,e.call(this,t)):a(this,e,n),this.constructor===u)for(var r=u.__initializers__,s=0;s<r.length;s++){r[s].apply(this,arguments);}};u.__super__=o,o.__initializers__?u.__initializers__=o.__initializers__.slice():u.__initializers__=[],t&&u.__initializers__.push(t);var l=function l(){};return l.prototype=o.prototype,u.prototype=new l(),u.prototype.constructor=u,i(u.prototype,r),u.extend=o.extend,u.derive=o.extend,u;}function i(e,t){if(t)for(var r in t){t.hasOwnProperty(r)&&(e[r]=t[r]);}}function a(e,t,r){for(var n=0;n<r.length;n++){var i=r[n];e[i]=t[i];}}e.exports={extend:n,derive:n};},function(e,t,r){"use strict";var n=r(16),i=n.extend({castShadow:!1},{type:"AMBIENT_LIGHT",uniformTemplates:{ambientLightColor:{type:"3f",value:function value(e){var t=e.color,r=e.intensity;return[t[0]*r,t[1]*r,t[2]*r];}}}});e.exports=i;},function(e,t,r){"use strict";var n=r(16),i=r(214),a=n.extend({cubemap:null,castShadow:!1,_normalDistribution:null,_brdfLookup:null},{type:"AMBIENT_CUBEMAP_LIGHT",prefilter:function prefilter(e,t){this._brdfLookup||(this._normalDistribution=i.generateNormalDistribution(),this._brdfLookup=i.integrateBRDF(e,this._normalDistribution));var r=this.cubemap;if(!r.__prefiltered){var n=i.prefilterEnvironmentMap(e,r,{encodeRGBM:!0,width:t,height:t},this._normalDistribution,this._brdfLookup);this.cubemap=n.environmentMap,this.cubemap.__prefiltered=!0,r.dispose(e.gl);}},uniformTemplates:{ambientCubemapLightColor:{type:"3f",value:function value(e){var t=e.color,r=e.intensity;return[t[0]*r,t[1]*r,t[2]*r];}},ambientCubemapLightCubemap:{type:"t",value:function value(e){return e.cubemap;}},ambientCubemapLightBRDFLookup:{type:"t",value:function value(e){return e._brdfLookup;}}}});e.exports=a;},function(e,t,r){"use strict";var n=r(16),i=r(19),a=n.extend({castShadow:!1,coefficients:[]},function(){this._coefficientsTmpArr=new i.Float32Array(27);},{type:"AMBIENT_SH_LIGHT",uniformTemplates:{ambientSHLightColor:{type:"3f",value:function value(e){var t=e.color,r=e.intensity;return[t[0]*r,t[1]*r,t[2]*r];}},ambientSHLightCoefficients:{type:"3f",value:function value(e){for(var t=e._coefficientsTmpArr,r=0;r<e.coefficients.length;r++){t[r]=e.coefficients[r];}return t;}}}});e.exports=a;},function(e,t,r){"use strict";function n(e,t){return function(r){var n=r.getDevicePixelRatio(),i=r.getWidth(),a=r.getHeight(),o=t(i,a,n);this.setParameter(e,o);};}function i(e,t){return function(e){var r=e.getDevicePixelRatio(),n=e.getWidth(),i=e.getHeight();return t(n,i,r);};}function a(e){var t=/^expr\((.*)\)$/.exec(e);if(t)try{var r=new Function("width","height","dpr","return "+t[1]);return r(1,1),r;}catch(e){throw new Error("Invalid expression.");}}var o=r(7),s=r(72),u=r(23),l=r(70),h=(r(32),r(183)),c=r(184),d=r(181),f=r(8),p=r(5),_=r(6),m=r(20),g=/#source\((.*?)\)/,v=/#url\((.*?)\)/,y=o.extend({rootPath:"",textureRootPath:"",shaderRootPath:"",scene:null,camera:null},{load:function load(e){var t=this;this.rootPath||(this.rootPath=e.slice(0,e.lastIndexOf("/"))),s.get({url:e,onprogress:function onprogress(e,r,n){t.trigger("progress",e,r,n);},onerror:function onerror(e){t.trigger("error",e);},responseType:"text",onload:function onload(e){t.parse(JSON.parse(e));}});},parse:function parse(e){var t=this,r=new l(),n={textures:{},shaders:{},parameters:{}},i=function i(_i,a){for(var o=0;o<e.nodes.length;o++){var s=e.nodes[o],u=t._createNode(s,n);u&&r.addNode(u);}t.trigger("success",r);};for(var a in e.parameters){var o=e.parameters[a];n.parameters[a]=this._convertParameter(o);}return this._loadShaders(e,function(r){t._loadTextures(e,n,function(e){n.textures=e,n.shaders=r,i();});}),r;},_createNode:function _createNode(e,t){var r,i,o,s=e.type||"filter";if("filter"===s){var u=e.shader.trim(),l=g.exec(u);if(l?r=f.source(l[1].trim()):"#"===u.charAt(0)&&(r=t.shaders[u.substr(1)]),r||(r=u),!r)return;}if(e.inputs){i={};for(var p in e.inputs){"string"==typeof e.inputs[p]?i[p]=e.inputs[p]:i[p]={node:e.inputs[p].node,pin:e.inputs[p].pin};}}if(e.outputs){o={};for(var p in e.outputs){var _=e.outputs[p];if(o[p]={},null!=_.attachment&&(o[p].attachment=_.attachment),null!=_.keepLastFrame&&(o[p].keepLastFrame=_.keepLastFrame),null!=_.outputLastFrame&&(o[p].outputLastFrame=_.outputLastFrame),"string"==typeof _.parameters){var m=_.parameters;"#"===m.charAt(0)&&(o[p].parameters=t.parameters[m.substr(1)]);}else _.parameters&&(o[p].parameters=this._convertParameter(_.parameters));}}var v;if(v="scene"===s?new h({name:e.name,scene:this.scene,camera:this.camera,outputs:o}):"texture"===s?new c({name:e.name,outputs:o}):new d({name:e.name,shader:r,inputs:i,outputs:o})){if(e.parameters)for(var p in e.parameters){var y=e.parameters[p];"string"==typeof y&&(y=y.trim(),"#"===y.charAt(0)?y=t.textures[y.substr(1)]:v.on("beforerender",n(p,a(y)))),v.setParameter(p,y);}if(e.defines&&v.pass)for(var p in e.defines){var y=e.defines[p];v.pass.material.shader.define("fragment",p,y);}}return v;},_convertParameter:function _convertParameter(e){var t={};return e?(["type","minFilter","magFilter","wrapS","wrapT","flipY","useMipmap"].forEach(function(r){var n=e[r];null!=n&&("string"==typeof n&&(n=p[n]),t[r]=n);}),["width","height"].forEach(function(r){if(null!=e[r]){var n=e[r];"string"==typeof n?(n=n.trim(),t[r]=i(r,a(n))):t[r]=n;}}),null!=e.useMipmap&&(t.useMipmap=e.useMipmap),t):t;},_loadShaders:function _loadShaders(e,t){if(!e.shaders)return void t({});var r={},n=0,i=!1,a=this.shaderRootPath||this.rootPath;u.each(e.shaders,function(e,o){var l=v.exec(e);if(l){var h=l[1];h=u.relative2absolute(h,a),n++,s.get({url:h,onload:function onload(e){r[o]=e,f.import(e),0===--n&&(t(r),i=!0);}});}else r[o]=e,f.import(e);},this),0!==n||i||t(r);},_loadTextures:function _loadTextures(e,t,r){if(!e.textures)return void r({});var n={},i=0,a=!1,o=this.textureRootPath||this.rootPath;u.each(e.textures,function(e,t){var s,l=e.path,h=this._convertParameter(e.parameters);if(l instanceof Array&&6===l.length)l=l.map(function(e){return u.relative2absolute(e,o);}),s=new m(h);else{if("string"!=typeof l)return;l=u.relative2absolute(l,o),s=new _(h);}s.load(l),i++,s.once("success",function(){n[t]=s,0===--i&&(r(n),a=!0);});},this),0!==i||a||r(n);}});e.exports=y;},function(e,t,r){"use strict";var n=r(1),i=n.mat2,a=function a(){this._array=i.create(),this._dirty=!0;};a.prototype={constructor:a,setArray:function setArray(e){for(var t=0;t<this._array.length;t++){this._array[t]=e[t];}return this._dirty=!0,this;},clone:function clone(){return new a().copy(this);},copy:function copy(e){return i.copy(this._array,e._array),this._dirty=!0,this;},adjoint:function adjoint(){return i.adjoint(this._array,this._array),this._dirty=!0,this;},determinant:function determinant(){return i.determinant(this._array);},identity:function identity(){return i.identity(this._array),this._dirty=!0,this;},invert:function invert(){return i.invert(this._array,this._array),this._dirty=!0,this;},mul:function mul(e){return i.mul(this._array,this._array,e._array),this._dirty=!0,this;},mulLeft:function mulLeft(e){return i.mul(this._array,e._array,this._array),this._dirty=!0,this;},multiply:function multiply(e){return i.multiply(this._array,this._array,e._array),this._dirty=!0,this;},multiplyLeft:function multiplyLeft(e){return i.multiply(this._array,e._array,this._array),this._dirty=!0,this;},rotate:function rotate(e){return i.rotate(this._array,this._array,e),this._dirty=!0,this;},scale:function scale(e){return i.scale(this._array,this._array,e._array),this._dirty=!0,this;},transpose:function transpose(){return i.transpose(this._array,this._array),this._dirty=!0,this;},toString:function toString(){return"["+Array.prototype.join.call(this._array,",")+"]";},toArray:function toArray(){return Array.prototype.slice.call(this._array);}},a.adjoint=function(e,t){return i.adjoint(e._array,t._array),e._dirty=!0,e;},a.copy=function(e,t){return i.copy(e._array,t._array),e._dirty=!0,e;},a.determinant=function(e){return i.determinant(e._array);},a.identity=function(e){return i.identity(e._array),e._dirty=!0,e;},a.invert=function(e,t){return i.invert(e._array,t._array),e._dirty=!0,e;},a.mul=function(e,t,r){return i.mul(e._array,t._array,r._array),e._dirty=!0,e;},a.multiply=a.mul,a.rotate=function(e,t,r){return i.rotate(e._array,t._array,r),e._dirty=!0,e;},a.scale=function(e,t,r){return i.scale(e._array,t._array,r._array),e._dirty=!0,e;},a.transpose=function(e,t){return i.transpose(e._array,t._array),e._dirty=!0,e;},e.exports=a;},function(e,t,r){"use strict";var n=r(1),i=n.mat2d,a=function a(){this._array=i.create(),this._dirty=!0;};a.prototype={constructor:a,setArray:function setArray(e){for(var t=0;t<this._array.length;t++){this._array[t]=e[t];}return this._dirty=!0,this;},clone:function clone(){return new a().copy(this);},copy:function copy(e){return i.copy(this._array,e._array),this._dirty=!0,this;},determinant:function determinant(){return i.determinant(this._array);},identity:function identity(){return i.identity(this._array),this._dirty=!0,this;},invert:function invert(){return i.invert(this._array,this._array),this._dirty=!0,this;},mul:function mul(e){return i.mul(this._array,this._array,e._array),this._dirty=!0,this;},mulLeft:function mulLeft(e){return i.mul(this._array,e._array,this._array),this._dirty=!0,this;},multiply:function multiply(e){return i.multiply(this._array,this._array,e._array),this._dirty=!0,this;},multiplyLeft:function multiplyLeft(e){return i.multiply(this._array,e._array,this._array),this._dirty=!0,this;},rotate:function rotate(e){return i.rotate(this._array,this._array,e),this._dirty=!0,this;},scale:function scale(e){return i.scale(this._array,this._array,e._array),this._dirty=!0,this;},translate:function translate(e){return i.translate(this._array,this._array,e._array),this._dirty=!0,this;},toString:function toString(){return"["+Array.prototype.join.call(this._array,",")+"]";},toArray:function toArray(){return Array.prototype.slice.call(this._array);}},a.copy=function(e,t){return i.copy(e._array,t._array),e._dirty=!0,e;},a.determinant=function(e){return i.determinant(e._array);},a.identity=function(e){return i.identity(e._array),e._dirty=!0,e;},a.invert=function(e,t){return i.invert(e._array,t._array),e._dirty=!0,e;},a.mul=function(e,t,r){return i.mul(e._array,t._array,r._array),e._dirty=!0,e;},a.multiply=a.mul,a.rotate=function(e,t,r){return i.rotate(e._array,t._array,r),e._dirty=!0,e;},a.scale=function(e,t,r){return i.scale(e._array,t._array,r._array),e._dirty=!0,e;},a.translate=function(e,t,r){return i.translate(e._array,t._array,r._array),e._dirty=!0,e;},e.exports=a;},function(e,t,r){"use strict";var n=r(1),i=n.mat3,a=function a(){this._array=i.create(),this._dirty=!0;};a.prototype={constructor:a,setArray:function setArray(e){for(var t=0;t<this._array.length;t++){this._array[t]=e[t];}return this._dirty=!0,this;},adjoint:function adjoint(){return i.adjoint(this._array,this._array),this._dirty=!0,this;},clone:function clone(){return new a().copy(this);},copy:function copy(e){return i.copy(this._array,e._array),this._dirty=!0,this;},determinant:function determinant(){return i.determinant(this._array);},fromMat2d:function fromMat2d(e){return i.fromMat2d(this._array,e._array),this._dirty=!0,this;},fromMat4:function fromMat4(e){return i.fromMat4(this._array,e._array),this._dirty=!0,this;},fromQuat:function fromQuat(e){return i.fromQuat(this._array,e._array),this._dirty=!0,this;},identity:function identity(){return i.identity(this._array),this._dirty=!0,this;},invert:function invert(){return i.invert(this._array,this._array),this._dirty=!0,this;},mul:function mul(e){return i.mul(this._array,this._array,e._array),this._dirty=!0,this;},mulLeft:function mulLeft(e){return i.mul(this._array,e._array,this._array),this._dirty=!0,this;},multiply:function multiply(e){return i.multiply(this._array,this._array,e._array),this._dirty=!0,this;},multiplyLeft:function multiplyLeft(e){return i.multiply(this._array,e._array,this._array),this._dirty=!0,this;},rotate:function rotate(e){return i.rotate(this._array,this._array,e),this._dirty=!0,this;},scale:function scale(e){return i.scale(this._array,this._array,e._array),this._dirty=!0,this;},translate:function translate(e){return i.translate(this._array,this._array,e._array),this._dirty=!0,this;},normalFromMat4:function normalFromMat4(e){return i.normalFromMat4(this._array,e._array),this._dirty=!0,this;},transpose:function transpose(){return i.transpose(this._array,this._array),this._dirty=!0,this;},toString:function toString(){return"["+Array.prototype.join.call(this._array,",")+"]";},toArray:function toArray(){return Array.prototype.slice.call(this._array);}},a.adjoint=function(e,t){return i.adjoint(e._array,t._array),e._dirty=!0,e;},a.copy=function(e,t){return i.copy(e._array,t._array),e._dirty=!0,e;},a.determinant=function(e){return i.determinant(e._array);},a.identity=function(e){return i.identity(e._array),e._dirty=!0,e;},a.invert=function(e,t){return i.invert(e._array,t._array),e;},a.mul=function(e,t,r){return i.mul(e._array,t._array,r._array),e._dirty=!0,e;},a.multiply=a.mul,a.fromMat2d=function(e,t){return i.fromMat2d(e._array,t._array),e._dirty=!0,e;},a.fromMat4=function(e,t){return i.fromMat4(e._array,t._array),e._dirty=!0,e;},a.fromQuat=function(e,t){return i.fromQuat(e._array,t._array),e._dirty=!0,e;},a.normalFromMat4=function(e,t){return i.normalFromMat4(e._array,t._array),e._dirty=!0,e;},a.rotate=function(e,t,r){return i.rotate(e._array,t._array,r),e._dirty=!0,e;},a.scale=function(e,t,r){return i.scale(e._array,t._array,r._array),e._dirty=!0,e;},a.transpose=function(e,t){return i.transpose(e._array,t._array),e._dirty=!0,e;},a.translate=function(e,t,r){return i.translate(e._array,t._array,r._array),e._dirty=!0,e;},e.exports=a;},function(e,t,r){"use strict";var n=r(1),i=n.vec4,a=function a(e,t,r,n){e=e||0,t=t||0,r=r||0,n=n||0,this._array=i.fromValues(e,t,r,n),this._dirty=!0;};a.prototype={constructor:a,add:function add(e){return i.add(this._array,this._array,e._array),this._dirty=!0,this;},set:function set(e,t,r,n){return this._array[0]=e,this._array[1]=t,this._array[2]=r,this._array[3]=n,this._dirty=!0,this;},setArray:function setArray(e){return this._array[0]=e[0],this._array[1]=e[1],this._array[2]=e[2],this._array[3]=e[3],this._dirty=!0,this;},clone:function clone(){return new a(this.x,this.y,this.z,this.w);},copy:function copy(e){return i.copy(this._array,e._array),this._dirty=!0,this;},dist:function dist(e){return i.dist(this._array,e._array);},distance:function distance(e){return i.distance(this._array,e._array);},div:function div(e){return i.div(this._array,this._array,e._array),this._dirty=!0,this;},divide:function divide(e){return i.divide(this._array,this._array,e._array),this._dirty=!0,this;},dot:function dot(e){return i.dot(this._array,e._array);},len:function len(){return i.len(this._array);},length:function length(){return i.length(this._array);},lerp:function lerp(e,t,r){return i.lerp(this._array,e._array,t._array,r),this._dirty=!0,this;},min:function min(e){return i.min(this._array,this._array,e._array),this._dirty=!0,this;},max:function max(e){return i.max(this._array,this._array,e._array),this._dirty=!0,this;},mul:function mul(e){return i.mul(this._array,this._array,e._array),this._dirty=!0,this;},multiply:function multiply(e){return i.multiply(this._array,this._array,e._array),this._dirty=!0,this;},negate:function negate(){return i.negate(this._array,this._array),this._dirty=!0,this;},normalize:function normalize(){return i.normalize(this._array,this._array),this._dirty=!0,this;},random:function random(e){return i.random(this._array,e),this._dirty=!0,this;},scale:function scale(e){return i.scale(this._array,this._array,e),this._dirty=!0,this;},scaleAndAdd:function scaleAndAdd(e,t){return i.scaleAndAdd(this._array,this._array,e._array,t),this._dirty=!0,this;},sqrDist:function sqrDist(e){return i.sqrDist(this._array,e._array);},squaredDistance:function squaredDistance(e){return i.squaredDistance(this._array,e._array);},sqrLen:function sqrLen(){return i.sqrLen(this._array);},squaredLength:function squaredLength(){return i.squaredLength(this._array);},sub:function sub(e){return i.sub(this._array,this._array,e._array),this._dirty=!0,this;},subtract:function subtract(e){return i.subtract(this._array,this._array,e._array),this._dirty=!0,this;},transformMat4:function transformMat4(e){return i.transformMat4(this._array,this._array,e._array),this._dirty=!0,this;},transformQuat:function transformQuat(e){return i.transformQuat(this._array,this._array,e._array),this._dirty=!0,this;},toString:function toString(){return"["+Array.prototype.join.call(this._array,",")+"]";},toArray:function toArray(){return Array.prototype.slice.call(this._array);}};var o=Object.defineProperty;if(o){var s=a.prototype;o(s,"x",{get:function get(){return this._array[0];},set:function set(e){this._array[0]=e,this._dirty=!0;}}),o(s,"y",{get:function get(){return this._array[1];},set:function set(e){this._array[1]=e,this._dirty=!0;}}),o(s,"z",{get:function get(){return this._array[2];},set:function set(e){this._array[2]=e,this._dirty=!0;}}),o(s,"w",{get:function get(){return this._array[3];},set:function set(e){this._array[3]=e,this._dirty=!0;}});}a.add=function(e,t,r){return i.add(e._array,t._array,r._array),e._dirty=!0,e;},a.set=function(e,t,r,n,a){i.set(e._array,t,r,n,a),e._dirty=!0;},a.copy=function(e,t){return i.copy(e._array,t._array),e._dirty=!0,e;},a.dist=function(e,t){return i.distance(e._array,t._array);},a.distance=a.dist,a.div=function(e,t,r){return i.divide(e._array,t._array,r._array),e._dirty=!0,e;},a.divide=a.div,a.dot=function(e,t){return i.dot(e._array,t._array);},a.len=function(e){return i.length(e._array);},a.lerp=function(e,t,r,n){return i.lerp(e._array,t._array,r._array,n),e._dirty=!0,e;},a.min=function(e,t,r){return i.min(e._array,t._array,r._array),e._dirty=!0,e;},a.max=function(e,t,r){return i.max(e._array,t._array,r._array),e._dirty=!0,e;},a.mul=function(e,t,r){return i.multiply(e._array,t._array,r._array),e._dirty=!0,e;},a.multiply=a.mul,a.negate=function(e,t){return i.negate(e._array,t._array),e._dirty=!0,e;},a.normalize=function(e,t){return i.normalize(e._array,t._array),e._dirty=!0,e;},a.random=function(e,t){return i.random(e._array,t),e._dirty=!0,e;},a.scale=function(e,t,r){return i.scale(e._array,t._array,r),e._dirty=!0,e;},a.scaleAndAdd=function(e,t,r,n){return i.scaleAndAdd(e._array,t._array,r._array,n),e._dirty=!0,e;},a.sqrDist=function(e,t){return i.sqrDist(e._array,t._array);},a.squaredDistance=a.sqrDist,a.sqrLen=function(e){return i.sqrLen(e._array);},a.squaredLength=a.sqrLen,a.sub=function(e,t,r){return i.subtract(e._array,t._array,r._array),e._dirty=!0,e;},a.subtract=a.sub,a.transformMat4=function(e,t,r){return i.transformMat4(e._array,t._array,r._array),e._dirty=!0,e;},a.transformQuat=function(e,t,r){return i.transformQuat(e._array,t._array,r._array),e._dirty=!0,e;},e.exports=a;},function(e,t,r){var n=r(7),i=r(56),a=r(24),o=r(3),s=r(10),u=r(69),l=r(9),h=n.extend({scene:null,camera:null,renderer:null},function(){this._ray=new i(),this._ndc=new a();},{pick:function pick(e,t,r){return this.pickAll(e,t,[],r)[0]||null;},pickAll:function pickAll(e,t,r,n){return this.renderer.screenToNDC(e,t,this._ndc),this.camera.castRay(this._ndc,this._ray),r=r||[],this._intersectNode(this.scene,r,n||!1),r.sort(this._intersectionCompareFunc),r;},_intersectNode:function _intersectNode(e,t,r){e instanceof u&&e.isRenderable()&&(e.ignorePicking&&!r||!(e.mode===l.TRIANGLES&&e.geometry.isUseIndices()||e.geometry.pickByRay||e.geometry.pick)||this._intersectRenderable(e,t));for(var n=0;n<e._children.length;n++){this._intersectNode(e._children[n],t,r);}},_intersectRenderable:function(){var e=new o(),t=new o(),r=new o(),n=new i(),a=new s();return function(i,u){n.copy(this._ray),s.invert(a,i.worldTransform),n.applyTransform(a);var c=i.geometry;if(!c.boundingBox||n.intersectBoundingBox(c.boundingBox)){if(c.pick)return void c.pick(this._ndc.x,this._ndc.y,this.renderer,this.camera,i,u);if(c.pickByRay)return void c.pickByRay(n,i,u);var d,f=i.cullFace===l.BACK&&i.frontFace===l.CCW||i.cullFace===l.FRONT&&i.frontFace===l.CW,p=c.indices,_=c.attributes.position;if(_&&_.value&&p)for(var m=0;m<p.length;m+=3){var g=p[m],v=p[m+1],y=p[m+2];if(_.get(g,e._array),_.get(v,t._array),_.get(y,r._array),d=f?n.intersectTriangle(e,t,r,i.culling):n.intersectTriangle(e,r,t,i.culling)){var x=new o();o.transformMat4(x,d,i.worldTransform),u.push(new h.Intersection(d,x,i,[g,v,y],m/3,o.dist(x,this._ray.origin)));}}}};}(),_intersectionCompareFunc:function _intersectionCompareFunc(e,t){return e.distance-t.distance;}});h.Intersection=function(e,t,r,n,i,a){this.point=e,this.pointWorld=t,this.target=r,this.triangle=n,this.triangleIndex=i,this.distance=a;},e.exports=h;},function(e,t,r){var n=r(7),i=r(9),a=r(3),o=r(13),s=r(54),u=r(10),l=r(51),h=r(8),c=(r(16),r(29),r(77)),d=r(75),f=r(76),p=(r(80),r(17)),_=r(11),m=r(5),g=r(6),v=r(20),y=r(42),x=r(41),T=r(21),b=r(71),w=r(1),E=w.mat4,S=(w.vec3,["px","nx","py","ny","pz","nz"]);h.import(r(211));var A=n.extend(function(){return{softShadow:A.PCF,shadowBlur:1,lightFrustumBias:2,kernelPCF:new Float32Array([1,0,1,1,-1,1,0,1,-1,0,-1,-1,1,-1,0,-1]),_frameBuffer:new _(),_textures:{},_shadowMapNumber:{POINT_LIGHT:0,DIRECTIONAL_LIGHT:0,SPOT_LIGHT:0},_meshMaterials:{},_depthMaterials:{},_depthShaders:{},_distanceMaterials:{},_opaqueCasters:[],_receivers:[],_lightsCastShadow:[],_lightCameras:{},_texturePool:new b()};},function(){this._gaussianPassH=new T({fragment:h.source("qtek.compositor.gaussian_blur")}),this._gaussianPassV=new T({fragment:h.source("qtek.compositor.gaussian_blur")}),this._gaussianPassH.setUniform("blurSize",this.shadowBlur),this._gaussianPassH.setUniform("blurDir",0),this._gaussianPassV.setUniform("blurSize",this.shadowBlur),this._gaussianPassV.setUniform("blurDir",1),this._outputDepthPass=new T({fragment:h.source("qtek.sm.debug_depth")});},{render:function render(e,t,r,n){this.trigger("beforerender",this,e,t,r),this._renderShadowPass(e,t,r,n),this.trigger("afterrender",this,e,t,r);},renderDebug:function renderDebug(e,t){e.saveClear();var r=e.viewport,n=0,i=t||r.width/4,a=i;this.softShadow===A.VSM?this._outputDepthPass.material.shader.define("fragment","USE_VSM"):this._outputDepthPass.material.shader.undefine("fragment","USE_VSM");for(var o in this._textures){var s=this._textures[o];e.setViewport(n,0,i*s.width/s.height,a),this._outputDepthPass.setUniform("depthMap",s),this._outputDepthPass.render(e),n+=i*s.width/s.height;}e.setViewport(r),e.restoreClear();},_bindDepthMaterial:function _bindDepthMaterial(e,t,r){for(var n=0;n<e.length;n++){var i,a,o=e[n],s=o.material.shadowTransparentMap instanceof g,u=o.material.shadowTransparentMap,l=o.joints&&o.joints.length;s?(i=l+"-"+u.__GUID__,a=l+"s"):(i=l,a=l);var c=o.shadowDepthMaterial||this._depthMaterials[i],d=o.shadowDepthMaterial?o.shadowDepthMaterial.shader:this._depthShaders[a];o.material!==c&&(d||(d=new h({vertex:h.source("qtek.sm.depth.vertex"),fragment:h.source("qtek.sm.depth.fragment")}),l>0&&(d.define("vertex","SKINNING"),d.define("vertex","JOINT_COUNT",l)),s&&d.define("both","SHADOW_TRANSPARENT"),this._depthShaders[a]=d),c||(c=new p({shader:d}),this._depthMaterials[i]=c),o.material=c,this.softShadow===A.VSM?d.define("fragment","USE_VSM"):d.undefine("fragment","USE_VSM"),c.setUniform("bias",t),c.setUniform("slopeScale",r),s&&c.set("shadowTransparentMap",u));}},_bindDistanceMaterial:function _bindDistanceMaterial(e,t){for(var r=t.getWorldPosition()._array,n=0;n<e.length;n++){var i=e[n],a=i.joints&&i.joints.length,o=this._distanceMaterials[a];i.material!==o&&(o||(o=new p({shader:new h({vertex:h.source("qtek.sm.distance.vertex"),fragment:h.source("qtek.sm.distance.fragment")})}),a>0&&(o.shader.define("vertex","SKINNING"),o.shader.define("vertex","JOINT_COUNT",a)),this._distanceMaterials[a]=o),i.material=o,this.softShadow===A.VSM?o.shader.define("fragment","USE_VSM"):o.shader.undefine("fragment","USE_VSM")),o.set("lightPosition",r),o.set("range",t.range);}},saveMaterial:function saveMaterial(e){for(var t=0;t<e.length;t++){var r=e[t];this._meshMaterials[r.__GUID__]=r.material;}},restoreMaterial:function restoreMaterial(e){for(var t=0;t<e.length;t++){var r=e[t],n=this._meshMaterials[r.__GUID__];n&&(r.material=n);}},_updateCasterAndReceiver:function _updateCasterAndReceiver(e){e.castShadow&&this._opaqueCasters.push(e),e.receiveShadow?(this._receivers.push(e),e.material.set("shadowEnabled",1),e.material.set("pcfKernel",this.kernelPCF)):e.material.set("shadowEnabled",0);var t=e.material.shader;if(this.softShadow===A.VSM)t.define("fragment","USE_VSM"),t.undefine("fragment","PCF_KERNEL_SIZE");else{t.undefine("fragment","USE_VSM");var r=this.kernelPCF;r&&r.length?t.define("fragment","PCF_KERNEL_SIZE",r.length/2):t.undefine("fragment","PCF_KERNEL_SIZE");}},_update:function _update(e){for(var t=0;t<e.opaqueQueue.length;t++){this._updateCasterAndReceiver(e.opaqueQueue[t]);}for(var t=0;t<e.transparentQueue.length;t++){this._updateCasterAndReceiver(e.transparentQueue[t]);}for(var t=0;t<e.lights.length;t++){var r=e.lights[t];r.castShadow&&this._lightsCastShadow.push(r);}},_renderShadowPass:function _renderShadowPass(e,t,r,n){function i(e){return e.height;}for(var a in this._shadowMapNumber){this._shadowMapNumber[a]=0;}this._lightsCastShadow.length=0,this._opaqueCasters.length=0,this._receivers.length=0;var o=e.gl;if(n||t.update(),this._update(t),this._lightsCastShadow.length){o.enable(o.DEPTH_TEST),o.depthMask(!0),o.disable(o.BLEND),o.clearColor(1,1,1,1);var s=[],u=[],l=[],h=[],p=[],_=[];this.saveMaterial(this._opaqueCasters);for(var m,g=0;g<this._lightsCastShadow.length;g++){var v=this._lightsCastShadow[g];if(v instanceof d){if(m){console.warn("Only one dire light supported with shadow cascade");continue;}if(v.shadowCascade>1&&(m=v,v.shadowCascade>4)){console.warn("Support at most 4 cascade");continue;}this.renderDirectionalLightShadow(e,t,r,v,this._opaqueCasters,p,h,l);}else v instanceof c?this.renderSpotLightShadow(e,v,this._opaqueCasters,u,s):v instanceof f&&this.renderPointLightShadow(e,v,this._opaqueCasters,_);this._shadowMapNumber[v.type]++;}this.restoreMaterial(this._opaqueCasters);var y=p.slice(),x=p.slice();y.pop(),x.shift(),y.reverse(),x.reverse(),h.reverse();for(var T=s.map(i),b=l.map(i),w={},g=0;g<this._receivers.length;g++){var E=this._receivers[g],S=E.material,A=S.shader;if(!w[A.__GUID__]){var M=!1;for(var C in this._shadowMapNumber){var L=this._shadowMapNumber[C],N=C+"_SHADOWMAP_COUNT";A.fragmentDefines[N]!==L&&L>0&&(A.fragmentDefines[N]=L,M=!0);}M&&A.dirty(),m?A.define("fragment","SHADOW_CASCADE",m.shadowCascade):A.undefine("fragment","SHADOW_CASCADE"),w[A.__GUID__]=!0;}s.length>0&&(S.setUniform("spotLightShadowMaps",s),S.setUniform("spotLightMatrices",u),S.setUniform("spotLightShadowMapSizes",T)),l.length>0&&(S.setUniform("directionalLightShadowMaps",l),m&&(S.setUniform("shadowCascadeClipsNear",y),S.setUniform("shadowCascadeClipsFar",x)),S.setUniform("directionalLightMatrices",h),S.setUniform("directionalLightShadowMapSizes",b)),_.length>0&&S.setUniform("pointLightShadowMaps",_);}}},renderDirectionalLightShadow:function(){var e=new s(),t=new u(),r=new o(),n=new u(),i=new u(),a=new u(),h=new u();return function(o,s,c,d,f,p,_,m){var g=d.shadowBias;this._bindDepthMaterial(f,g,d.shadowSlopeScale),f.sort(l.opaqueSortFunc);var v=Math.min(-s.viewBoundingBoxLastFrame.min.z,c.far),y=Math.max(-s.viewBoundingBoxLastFrame.max.z,c.near),x=this._getDirectionalLightCamera(d,s,c),T=a._array;h.copy(x.projectionMatrix),E.invert(i._array,x.worldTransform._array),E.multiply(i._array,i._array,c.worldTransform._array),E.multiply(T,h._array,i._array);for(var b=[],w=c.fov/180*Math.PI,S=c.aspect,M=(c.near+c.far)/(c.near-c.far),C=2*c.near*c.far/(c.near-c.far),L=0;L<=d.shadowCascade;L++){var N=y*Math.pow(v/y,L/d.shadowCascade),R=y+(v-y)*L/d.shadowCascade,D=N*d.cascadeSplitLogFactor+R*(1-d.cascadeSplitLogFactor);b.push(D),p.push(-(-D*M+C)/-D);}var I=this._getTexture(d,d.shadowCascade);m.push(I);var P=o.viewport,O=o.gl;this._frameBuffer.attach(I),this._frameBuffer.bind(o),O.clear(O.COLOR_BUFFER_BIT|O.DEPTH_BUFFER_BIT);for(var L=0;L<d.shadowCascade;L++){var F=b[L],B=b[L+1];E.perspective(t._array,w,S,F,B),e.setFromProjection(t),e.getTransformedBoundingBox(r,i),r.applyProjection(h);var U=r.min._array,z=r.max._array;n.ortho(U[0],z[0],U[1],z[1],1,-1),x.projectionMatrix.multiplyLeft(n);var G=d.shadowResolution||512;o.setViewport((d.shadowCascade-L-1)*G,0,G,G,1);for(var k in this._depthMaterials){this._depthMaterials[k].set("shadowBias",g);}o.renderQueue(f,x),this.softShadow===A.VSM&&this._gaussianFilter(o,I,I.width);var V=new u();V.copy(x.worldTransform).invert().multiplyLeft(x.projectionMatrix),_.push(V._array),x.projectionMatrix.copy(h);}this._frameBuffer.unbind(o),o.setViewport(P);};}(),renderSpotLightShadow:function renderSpotLightShadow(e,t,r,n,i){this._bindDepthMaterial(r,t.shadowBias,t.shadowSlopeScale),r.sort(l.opaqueSortFunc);var a=this._getTexture(t),o=this._getSpotLightCamera(t),s=e.gl;this._frameBuffer.attach(a),this._frameBuffer.bind(e),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT),e.renderQueue(r,o),this._frameBuffer.unbind(e),this.softShadow===A.VSM&&this._gaussianFilter(e,a,a.width);var h=new u();h.copy(o.worldTransform).invert().multiplyLeft(o.projectionMatrix),i.push(a),n.push(h._array);},renderPointLightShadow:function renderPointLightShadow(e,t,r,n){var i=this._getTexture(t),a=e.gl;n.push(i),this._bindDistanceMaterial(r,t);for(var o=0;o<6;o++){var s=S[o],u=this._getPointLightCamera(t,s);this._frameBuffer.attach(i,a.COLOR_ATTACHMENT0,a.TEXTURE_CUBE_MAP_POSITIVE_X+o),this._frameBuffer.bind(e),a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),e.renderQueue(r,u);}this._frameBuffer.unbind(e);},_gaussianFilter:function _gaussianFilter(e,t,r){var n={width:r,height:r,type:m.FLOAT},i=(e.gl,this._texturePool.get(n));this._frameBuffer.attach(i),this._frameBuffer.bind(e),this._gaussianPassH.setUniform("texture",t),this._gaussianPassH.setUniform("textureWidth",r),this._gaussianPassH.render(e),this._frameBuffer.attach(t),this._gaussianPassV.setUniform("texture",i),this._gaussianPassV.setUniform("textureHeight",r),this._gaussianPassV.render(e),this._frameBuffer.unbind(e),this._texturePool.put(i);},_getTexture:function _getTexture(e,t){var r=e.__GUID__,n=this._textures[r],a=e.shadowResolution||512;return t=t||1,n||(n=e instanceof f?new v():new g(),n.width=a*t,n.height=a,this.softShadow===A.VSM?(n.type=m.FLOAT,n.anisotropic=4):(n.minFilter=i.NEAREST,n.magFilter=i.NEAREST,n.useMipmap=!1),this._textures[r]=n),n;},_getPointLightCamera:function _getPointLightCamera(e,t){this._lightCameras.point||(this._lightCameras.point={px:new y(),nx:new y(),py:new y(),ny:new y(),pz:new y(),nz:new y()});var r=this._lightCameras.point[t];switch(r.far=e.range,r.fov=90,r.position.set(0,0,0),t){case"px":r.lookAt(a.POSITIVE_X,a.NEGATIVE_Y);break;case"nx":r.lookAt(a.NEGATIVE_X,a.NEGATIVE_Y);break;case"py":r.lookAt(a.POSITIVE_Y,a.POSITIVE_Z);break;case"ny":r.lookAt(a.NEGATIVE_Y,a.NEGATIVE_Z);break;case"pz":r.lookAt(a.POSITIVE_Z,a.NEGATIVE_Y);break;case"nz":r.lookAt(a.NEGATIVE_Z,a.NEGATIVE_Y);}return e.getWorldPosition(r.position),r.update(),r;},_getDirectionalLightCamera:function(){var e=new u(),t=new o(),r=new o();return function(n,i,a){this._lightCameras.directional||(this._lightCameras.directional=new x());var o=this._lightCameras.directional;t.copy(i.viewBoundingBoxLastFrame),t.intersection(a.frustum.boundingBox),o.position.copy(t.min).add(t.max).scale(.5).transformMat4(a.worldTransform),o.rotation.copy(n.rotation),o.scale.copy(n.scale),o.updateLocalTransform(),o.updateWorldTransform(),e.copy(o.worldTransform).invert().multiply(a.worldTransform),r.copy(t).applyTransform(e);var s=r.min._array,u=r.max._array;return o.position.scaleAndAdd(o.worldTransform.z,u[2]+this.lightFrustumBias),o.near=0,o.far=-s[2]+u[2]+this.lightFrustumBias,o.left=s[0]-this.lightFrustumBias,o.right=u[0]+this.lightFrustumBias,o.top=u[1]+this.lightFrustumBias,o.bottom=s[1]-this.lightFrustumBias,o.update(!0),o;};}(),_getSpotLightCamera:function _getSpotLightCamera(e){this._lightCameras.spot||(this._lightCameras.spot=new y());var t=this._lightCameras.spot;return t.fov=2*e.penumbraAngle,t.far=e.range,t.worldTransform.copy(e.worldTransform),t.updateProjectionMatrix(),E.invert(t.viewMatrix._array,t.worldTransform._array),t;},dispose:function dispose(e){var t=e.gl||e;for(var r in this._depthMaterials){var n=this._depthMaterials[r];n.dispose(t);}for(var r in this._distanceMaterials){var n=this._distanceMaterials[r];n.dispose(t);}this._frameBuffer&&this._frameBuffer.dispose(t);for(var i in this._textures){this._textures[i].dispose(t);}this._texturePool.clear(e.gl),this._depthMaterials={},this._distanceMaterials={},this._textures={},this._lightCameras={},this._shadowMapNumber={POINT_LIGHT:0,DIRECTIONAL_LIGHT:0,SPOT_LIGHT:0},this._meshMaterials={};for(var a=0;a<this._receivers.length;a++){var o=this._receivers[a];if(o.material&&o.material.shader){var s=o.material,u=s.shader;u.undefine("fragment","POINT_LIGHT_SHADOW_COUNT"),u.undefine("fragment","DIRECTIONAL_LIGHT_SHADOW_COUNT"),u.undefine("fragment","AMBIENT_LIGHT_SHADOW_COUNT"),s.set("shadowEnabled",0);}}this._opaqueCasters=[],this._receivers=[],this._lightsCastShadow=[];}});A.VSM=1,A.PCF=2,e.exports=A;},function(e,t){e.exports="@export qtek.basic.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nuniform vec2 uvRepeat : [1.0, 1.0];\nuniform vec2 uvOffset : [0.0, 0.0];\n\nattribute vec2 texcoord : TEXCOORD_0;\nattribute vec3 position : POSITION;\n\nattribute vec3 barycentric;\n\n#ifdef SKINNING\nattribute vec3 weight : WEIGHT;\nattribute vec4 joint : JOINT;\n\nuniform mat4 skinMatrix[JOINT_COUNT] : SKIN_MATRIX;\n#endif\n\nvarying vec2 v_Texcoord;\nvarying vec3 v_Barycentric;\n\nvoid main()\n{\n    vec3 skinnedPosition = position;\n\n#ifdef SKINNING\n    @import qtek.chunk.skin_matrix\n\n    skinnedPosition = (skinMatrixWS * vec4(position, 1.0)).xyz;\n#endif\n\n    v_Texcoord = texcoord * uvRepeat + uvOffset;\n    v_Barycentric = barycentric;\n\n    gl_Position = worldViewProjection * vec4(skinnedPosition, 1.0);\n}\n\n@end\n\n\n\n\n@export qtek.basic.fragment\n\nvarying vec2 v_Texcoord;\nuniform sampler2D diffuseMap;\nuniform vec3 color : [1.0, 1.0, 1.0];\nuniform vec3 emission : [0.0, 0.0, 0.0];\nuniform float alpha : 1.0;\n\nuniform float lineWidth : 0.0;\nuniform vec3 lineColor : [0.0, 0.0, 0.0];\nvarying vec3 v_Barycentric;\n\n@import qtek.util.edge_factor\n\n@import qtek.util.rgbm\n\n@import qtek.util.srgb\n\nvoid main()\n{\n\n#ifdef RENDER_TEXCOORD\n    gl_FragColor = vec4(v_Texcoord, 1.0, 1.0);\n    return;\n#endif\n\n    gl_FragColor = vec4(color, alpha);\n\n#ifdef DIFFUSEMAP_ENABLED\n    vec4 tex = decodeHDR(texture2D(diffuseMap, v_Texcoord));\n\n#ifdef SRGB_DECODE\n    tex = sRGBToLinear(tex);\n#endif\n\n#if defined(DIFFUSEMAP_ALPHA_ALPHA)\n    gl_FragColor.a = tex.a;\n#endif\n\n    gl_FragColor.rgb *= tex.rgb;\n#endif\n\n    gl_FragColor.rgb += emission;\n    if( lineWidth > 0.01)\n    {\n        gl_FragColor.rgb = gl_FragColor.rgb * mix(lineColor, vec3(1.0), edgeFactor(lineWidth));\n    }\n\n#ifdef GAMMA_ENCODE\n        gl_FragColor.rgb = pow(gl_FragColor.rgb, vec3(1 / 2.2));\n#endif\n\n    gl_FragColor = encodeHDR(gl_FragColor);\n\n}\n\n@end";},function(e,t){e.exports="@export qtek.compositor.blend\n#ifdef TEXTURE1_ENABLED\nuniform sampler2D texture1;\nuniform float weight1 : 1.0;\n#endif\n#ifdef TEXTURE2_ENABLED\nuniform sampler2D texture2;\nuniform float weight2 : 1.0;\n#endif\n#ifdef TEXTURE3_ENABLED\nuniform sampler2D texture3;\nuniform float weight3 : 1.0;\n#endif\n#ifdef TEXTURE4_ENABLED\nuniform sampler2D texture4;\nuniform float weight4 : 1.0;\n#endif\n#ifdef TEXTURE5_ENABLED\nuniform sampler2D texture5;\nuniform float weight5 : 1.0;\n#endif\n#ifdef TEXTURE6_ENABLED\nuniform sampler2D texture6;\nuniform float weight6 : 1.0;\n#endif\n\nvarying vec2 v_Texcoord;\n\n@import qtek.util.rgbm\n\nvoid main()\n{\n    vec4 tex = vec4(0.0);\n#ifdef TEXTURE1_ENABLED\n    tex += decodeHDR(texture2D(texture1, v_Texcoord)) * weight1;\n#endif\n#ifdef TEXTURE2_ENABLED\n    tex += decodeHDR(texture2D(texture2, v_Texcoord)) * weight2;\n#endif\n#ifdef TEXTURE3_ENABLED\n    tex += decodeHDR(texture2D(texture3, v_Texcoord)) * weight3;\n#endif\n#ifdef TEXTURE4_ENABLED\n    tex += decodeHDR(texture2D(texture4, v_Texcoord)) * weight4;\n#endif\n#ifdef TEXTURE5_ENABLED\n    tex += decodeHDR(texture2D(texture5, v_Texcoord)) * weight5;\n#endif\n#ifdef TEXTURE6_ENABLED\n    tex += decodeHDR(texture2D(texture6, v_Texcoord)) * weight6;\n#endif\n\n    gl_FragColor = encodeHDR(tex);\n}\n@end";},function(e,t){e.exports="@export qtek.compositor.kernel.gaussian_9\nfloat gaussianKernel[9];\ngaussianKernel[0] = 0.07;\ngaussianKernel[1] = 0.09;\ngaussianKernel[2] = 0.12;\ngaussianKernel[3] = 0.14;\ngaussianKernel[4] = 0.16;\ngaussianKernel[5] = 0.14;\ngaussianKernel[6] = 0.12;\ngaussianKernel[7] = 0.09;\ngaussianKernel[8] = 0.07;\n@end\n\n@export qtek.compositor.kernel.gaussian_13\n\nfloat gaussianKernel[13];\n\ngaussianKernel[0] = 0.02;\ngaussianKernel[1] = 0.03;\ngaussianKernel[2] = 0.06;\ngaussianKernel[3] = 0.08;\ngaussianKernel[4] = 0.11;\ngaussianKernel[5] = 0.13;\ngaussianKernel[6] = 0.14;\ngaussianKernel[7] = 0.13;\ngaussianKernel[8] = 0.11;\ngaussianKernel[9] = 0.08;\ngaussianKernel[10] = 0.06;\ngaussianKernel[11] = 0.03;\ngaussianKernel[12] = 0.02;\n\n@end\n\n\n@export qtek.compositor.gaussian_blur\n\nuniform sampler2D texture; varying vec2 v_Texcoord;\n\nuniform float blurSize : 2.0;\nuniform vec2 textureSize : [512.0, 512.0];\nuniform float blurDir : 0.0;\n\n@import qtek.util.rgbm\n@import qtek.util.clamp_sample\n\nvoid main (void)\n{\n    @import qtek.compositor.kernel.gaussian_9\n\n    vec2 off = blurSize / textureSize;\n    off *= vec2(1.0 - blurDir, blurDir);\n\n    vec4 sum = vec4(0.0);\n    float weightAll = 0.0;\n\n        for (int i = 0; i < 9; i++) {\n        float w = gaussianKernel[i];\n                sum += decodeHDR(clampSample(texture, v_Texcoord + float(i - 4) * off)) * w;\n        weightAll += w;\n    }\n    gl_FragColor = encodeHDR(sum / weightAll);\n}\n\n@end\n\n@export qtek.compositor.box_blur\n\nuniform sampler2D texture;\nvarying vec2 v_Texcoord;\n\nuniform float blurSize : 3.0;\nuniform vec2 textureSize : [512.0, 512.0];\n\n@import qtek.util.rgbm\n@import qtek.util.clamp_sample\n\nvoid main(void)\n{\n\n    vec4 tex = decodeHDR(texture2D(texture, v_Texcoord));\n    vec2 offset = blurSize / textureSize;\n\n    tex += decodeHDR(clampSample(texture, v_Texcoord + vec2(offset.x, 0.0) ));\n    tex += decodeHDR(clampSample(texture, v_Texcoord + vec2(offset.x, offset.y) ));\n    tex += decodeHDR(clampSample(texture, v_Texcoord + vec2(-offset.x, offset.y) ));\n    tex += decodeHDR(clampSample(texture, v_Texcoord + vec2(0.0, offset.y) ));\n    tex += decodeHDR(clampSample(texture, v_Texcoord + vec2(-offset.x, 0.0) ));\n    tex += decodeHDR(clampSample(texture, v_Texcoord + vec2(-offset.x, -offset.y) ));\n    tex += decodeHDR(clampSample(texture, v_Texcoord + vec2(offset.x, -offset.y) ));\n    tex += decodeHDR(clampSample(texture, v_Texcoord + vec2(0.0, -offset.y) ));\n\n    tex /= 9.0;\n\n    \n    gl_FragColor = encodeHDR(tex);\n}\n\n@end";},function(e,t){e.exports="@export qtek.compositor.bright\n\nuniform sampler2D texture;\n\nuniform float threshold : 1;\nuniform float scale : 1.0;\n\nuniform vec2 textureSize: [512, 512];\n\nvarying vec2 v_Texcoord;\n\nconst vec3 lumWeight = vec3(0.2125, 0.7154, 0.0721);\n\n@import qtek.util.rgbm\n\n\nvec3 median(vec3 a, vec3 b, vec3 c)\n{\n    return a + b + c - min(min(a, b), c) - max(max(a, b), c);\n}\n\nvoid main()\n{\n    vec3 texel = decodeHDR(texture2D(texture, v_Texcoord)).rgb;\n\n#ifdef ANTI_FLICKER\n            vec3 d = 1.0 / textureSize.xyx * vec3(1.0, 1.0, 0.0);\n\n    vec3 s1 = decodeHDR(texture2D(texture, v_Texcoord - d.xz)).rgb;\n    vec3 s2 = decodeHDR(texture2D(texture, v_Texcoord + d.xz)).rgb;\n    vec3 s3 = decodeHDR(texture2D(texture, v_Texcoord - d.zy)).rgb;\n    vec3 s4 = decodeHDR(texture2D(texture, v_Texcoord + d.zy)).rgb;\n    texel = median(median(texel, s1, s2), s3, s4);\n\n#endif\n\n    float lum = dot(texel, lumWeight);\n    vec4 color;\n    if (lum > threshold)\n    {\n        color.rgb = texel * scale;\n    }\n    else\n    {\n        color.rgb = vec3(0.0);\n    }\n    color.a = 1.0;\n\n    gl_FragColor = encodeHDR(color);\n}\n@end\n";},function(e,t){e.exports="@export qtek.compositor.dof.coc\n\nuniform sampler2D depth;\n\nuniform float zNear: 0.1;\nuniform float zFar: 2000;\n\nuniform float focalDist: 3;\nuniform float focalRange: 1;\nuniform float focalLength: 30;\nuniform float fstop: 2.8;\n\nvarying vec2 v_Texcoord;\n\n@import qtek.util.encode_float\n\nvoid main()\n{\n    float z = texture2D(depth, v_Texcoord).r * 2.0 - 1.0;\n\n    float dist = 2.0 * zNear * zFar / (zFar + zNear - z * (zFar - zNear));\n\n    float aperture = focalLength / fstop;\n\n    float coc;\n\n    float uppper = focalDist + focalRange;\n    float lower = focalDist - focalRange;\n    if (dist <= uppper && dist >= lower) {\n                coc = 0.5;\n    }\n    else {\n                float focalAdjusted = dist > uppper ? uppper : lower;\n\n                coc = abs(aperture * (focalLength * (dist - focalAdjusted)) / (dist * (focalAdjusted - focalLength)));\n                                coc = clamp(coc, 0.0, 0.4) / 0.4000001;\n\n                if (dist < lower) {\n            coc = -coc;\n        }\n        coc = coc * 0.5 + 0.5;\n    }\n\n        gl_FragColor = encodeFloat(coc);\n}\n\n@end\n\n@export qtek.compositor.dof.premultiply\n\nuniform sampler2D texture;\nuniform sampler2D coc;\nvarying vec2 v_Texcoord;\n\n@import qtek.util.rgbm\n\n@import qtek.util.decode_float\n\nvoid main() {\n    float fCoc = max(abs(decodeFloat(texture2D(coc, v_Texcoord)) * 2.0 - 1.0), 0.1);\n    gl_FragColor = encodeHDR(\n        vec4(decodeHDR(texture2D(texture, v_Texcoord)).rgb * fCoc, 1.0)\n    );\n}\n@end\n\n\n@export qtek.compositor.dof.min_coc\nuniform sampler2D coc;\nvarying vec2 v_Texcoord;\nuniform vec2 textureSize : [512.0, 512.0];\n\n@import qtek.util.float\n\nvoid main()\n{\n    vec4 d = vec4(-1.0, -1.0, 1.0, 1.0) / textureSize.xyxy;\n\n    float fCoc = decodeFloat(texture2D(coc, v_Texcoord + d.xy));\n    fCoc = min(fCoc, decodeFloat(texture2D(coc, v_Texcoord + d.zy)));\n    fCoc = min(fCoc, decodeFloat(texture2D(coc, v_Texcoord + d.xw)));\n    fCoc = min(fCoc, decodeFloat(texture2D(coc, v_Texcoord + d.zw)));\n\n    gl_FragColor = encodeFloat(fCoc);\n}\n\n@end\n\n\n@export qtek.compositor.dof.max_coc\nuniform sampler2D coc;\nvarying vec2 v_Texcoord;\nuniform vec2 textureSize : [512.0, 512.0];\n\n@import qtek.util.float\n\nvoid main()\n{\n\n    vec4 d = vec4(-1.0, -1.0, 1.0, 1.0) / textureSize.xyxy;\n\n    float fCoc = decodeFloat(texture2D(coc, v_Texcoord + d.xy));\n    fCoc = max(fCoc, decodeFloat(texture2D(coc, v_Texcoord + d.zy)));\n    fCoc = max(fCoc, decodeFloat(texture2D(coc, v_Texcoord + d.xw)));\n    fCoc = max(fCoc, decodeFloat(texture2D(coc, v_Texcoord + d.zw)));\n\n    gl_FragColor = encodeFloat(fCoc);\n}\n\n@end\n\n\n\n\n@export qtek.compositor.dof.coc_upsample\n\n#define HIGH_QUALITY\n\nuniform sampler2D coc;\nuniform vec2 textureSize : [512, 512];\n\nuniform float sampleScale: 0.5;\n\nvarying vec2 v_Texcoord;\n\n@import qtek.util.float\n\nvoid main()\n{\n\n#ifdef HIGH_QUALITY\n        vec4 d = vec4(1.0, 1.0, -1.0, 0.0) / textureSize.xyxy * sampleScale;\n\n    float s;\n    s  = decodeFloat(texture2D(coc, v_Texcoord - d.xy));\n    s += decodeFloat(texture2D(coc, v_Texcoord - d.wy)) * 2.0;\n    s += decodeFloat(texture2D(coc, v_Texcoord - d.zy));\n\n    s += decodeFloat(texture2D(coc, v_Texcoord + d.zw)) * 2.0;\n    s += decodeFloat(texture2D(coc, v_Texcoord       )) * 4.0;\n    s += decodeFloat(texture2D(coc, v_Texcoord + d.xw)) * 2.0;\n\n    s += decodeFloat(texture2D(coc, v_Texcoord + d.zy));\n    s += decodeFloat(texture2D(coc, v_Texcoord + d.wy)) * 2.0;\n    s += decodeFloat(texture2D(coc, v_Texcoord + d.xy));\n\n    gl_FragColor = encodeFloat(s / 16.0);\n#else\n        vec4 d = vec4(-1.0, -1.0, +1.0, +1.0) / textureSize.xyxy;\n\n    float s;\n    s  = decodeFloat(texture2D(coc, v_Texcoord + d.xy));\n    s += decodeFloat(texture2D(coc, v_Texcoord + d.zy));\n    s += decodeFloat(texture2D(coc, v_Texcoord + d.xw));\n    s += decodeFloat(texture2D(coc, v_Texcoord + d.zw));\n\n    gl_FragColor = encodeFloat(s / 4.0);\n#endif\n}\n\n@end\n\n\n\n@export qtek.compositor.dof.upsample\n\n#define HIGH_QUALITY\n\nuniform sampler2D coc;\nuniform sampler2D texture;\nuniform vec2 textureSize : [512, 512];\n\nuniform float sampleScale: 0.5;\n\nvarying vec2 v_Texcoord;\n\n\n@import qtek.util.rgbm\n\n@import qtek.util.decode_float\n\nfloat tap(vec2 uv, inout vec4 color, float baseWeight) {\n    float weight = abs(decodeFloat(texture2D(coc, uv)) * 2.0 - 1.0) * baseWeight;\n    color += decodeHDR(texture2D(texture, uv)) * weight;\n    return weight;\n}\n\nvoid main()\n{\n#ifdef HIGH_QUALITY\n        vec4 d = vec4(1.0, 1.0, -1.0, 0.0) / textureSize.xyxy * sampleScale;\n\n    vec4 color = vec4(0.0);\n    float baseWeight = 1.0 / 16.0;\n    float w  = tap(v_Texcoord - d.xy, color, baseWeight);\n    w += tap(v_Texcoord - d.wy, color, baseWeight * 2.0);\n    w += tap(v_Texcoord - d.zy, color, baseWeight);\n\n    w += tap(v_Texcoord + d.zw, color, baseWeight * 2.0);\n    w += tap(v_Texcoord       , color, baseWeight * 4.0);\n    w += tap(v_Texcoord + d.xw, color, baseWeight * 2.0);\n\n    w += tap(v_Texcoord + d.zy, color, baseWeight);\n    w += tap(v_Texcoord + d.wy, color, baseWeight * 2.0);\n    w += tap(v_Texcoord + d.xy, color, baseWeight);\n\n    gl_FragColor = encodeHDR(color / w);\n#else\n        vec4 d = vec4(-1.0, -1.0, +1.0, +1.0) / textureSize.xyxy;\n\n    vec4 color = vec4(0.0);\n    float baseWeight = 1.0 / 4.0;\n    float w  = tap(v_Texcoord + d.xy, color, baseWeight);\n    w += tap(v_Texcoord + d.zy, color, baseWeight);\n    w += tap(v_Texcoord + d.xw, color, baseWeight);\n    w += tap(v_Texcoord + d.zw, color, baseWeight);\n\n    gl_FragColor = encodeHDR(color / w);\n#endif\n}\n\n@end\n\n\n\n@export qtek.compositor.dof.downsample\n\nuniform sampler2D texture;\nuniform sampler2D coc;\nuniform vec2 textureSize : [512, 512];\n\nvarying vec2 v_Texcoord;\n\n@import qtek.util.rgbm\n\n@import qtek.util.decode_float\n\nfloat tap(vec2 uv, inout vec4 color) {\n    float weight = abs(decodeFloat(texture2D(coc, uv)) * 2.0 - 1.0) * 0.25;\n    color += decodeHDR(texture2D(texture, uv)) * weight;\n    return weight;\n}\n\nvoid main()\n{\n    vec4 d = vec4(-1.0, -1.0, 1.0, 1.0) / textureSize.xyxy;\n\n    vec4 color = vec4(0.0);\n    float weight = tap(v_Texcoord + d.xy, color);\n    weight += tap(v_Texcoord + d.zy, color);\n    weight += tap(v_Texcoord + d.xw, color);\n    weight += tap(v_Texcoord + d.zw, color);\n    color /= weight;\n\n    gl_FragColor = encodeHDR(color);\n}\n\n@end\n\n\n\n@export qtek.compositor.dof.hexagonal_blur_frag\n\n@import qtek.util.float\n\n\nvec4 doBlur(sampler2D targetTexture, vec2 offset) {\n#ifdef BLUR_COC\n    float cocSum = 0.0;\n#else\n    vec4 color = vec4(0.0);\n#endif\n\n    float weightSum = 0.0;\n    float kernelWeight = 1.0 / float(KERNEL_SIZE);\n\n    for (int i = 0; i < KERNEL_SIZE; i++) {\n        vec2 coord = v_Texcoord + offset * float(i);\n\n        float w = kernelWeight;\n#ifdef BLUR_COC\n        float fCoc = decodeFloat(texture2D(targetTexture, coord)) * 2.0 - 1.0;\n                cocSum += clamp(fCoc, -1.0, 0.0) * w;\n#else\n        float fCoc = decodeFloat(texture2D(coc, coord)) * 2.0 - 1.0;\n        vec4 texel = texture2D(targetTexture, coord);\n    #if !defined(BLUR_NEARFIELD)\n        w *= abs(fCoc);\n    #endif\n        color += decodeHDR(texel) * w;\n#endif\n\n        weightSum += w;\n    }\n#ifdef BLUR_COC\n    return encodeFloat(clamp(cocSum / weightSum, -1.0, 0.0) * 0.5 + 0.5);\n#else\n    return color / weightSum;\n#endif\n}\n\n@end\n\n\n@export qtek.compositor.dof.hexagonal_blur_1\n\n#define KERNEL_SIZE 5\n\nuniform sampler2D texture;\nuniform sampler2D coc;\nvarying vec2 v_Texcoord;\n\nuniform float blurSize : 1.0;\n\nuniform vec2 textureSize : [512.0, 512.0];\n\n@import qtek.util.rgbm\n\n@import qtek.compositor.dof.hexagonal_blur_frag\n\nvoid main()\n{\n    vec2 offset = blurSize / textureSize;\n\n#if !defined(BLUR_NEARFIELD) && !defined(BLUR_COC)\n    offset *= abs(decodeFloat(texture2D(coc, v_Texcoord)) * 2.0 - 1.0);\n#endif\n\n        gl_FragColor = doBlur(texture, vec2(0.0, offset.y));\n#if !defined(BLUR_COC)\n    gl_FragColor = encodeHDR(gl_FragColor);\n#endif\n}\n\n@end\n\n@export qtek.compositor.dof.hexagonal_blur_2\n\n#define KERNEL_SIZE 5\n\nuniform sampler2D texture;\nuniform sampler2D coc;\nvarying vec2 v_Texcoord;\n\nuniform float blurSize : 1.0;\n\nuniform vec2 textureSize : [512.0, 512.0];\n\n@import qtek.util.rgbm\n\n@import qtek.compositor.dof.hexagonal_blur_frag\n\nvoid main()\n{\n    vec2 offset = blurSize / textureSize;\n#if !defined(BLUR_NEARFIELD) && !defined(BLUR_COC)\n    offset *= abs(decodeFloat(texture2D(coc, v_Texcoord)) * 2.0 - 1.0);\n#endif\n\n    offset.y /= 2.0;\n\n        gl_FragColor = doBlur(texture, -offset);\n#if !defined(BLUR_COC)\n    gl_FragColor = encodeHDR(gl_FragColor);\n#endif\n}\n@end\n\n@export qtek.compositor.dof.hexagonal_blur_3\n\n#define KERNEL_SIZE 5\n\nuniform sampler2D texture1;\nuniform sampler2D texture2;\nuniform sampler2D coc;\n\nvarying vec2 v_Texcoord;\n\nuniform float blurSize : 1.0;\n\nuniform vec2 textureSize : [512.0, 512.0];\n\n@import qtek.util.rgbm\n\n@import qtek.compositor.dof.hexagonal_blur_frag\n\nvoid main()\n{\n    vec2 offset = blurSize / textureSize;\n\n#if !defined(BLUR_NEARFIELD) && !defined(BLUR_COC)\n    offset *= abs(decodeFloat(texture2D(coc, v_Texcoord)) * 2.0 - 1.0);\n#endif\n\n    offset.y /= 2.0;\n    vec2 vDownRight = vec2(offset.x, -offset.y);\n\n        vec4 texel1 = doBlur(texture1, -offset);\n        vec4 texel2 = doBlur(texture1, vDownRight);\n        vec4 texel3 = doBlur(texture2, vDownRight);\n\n#ifdef BLUR_COC\n    float coc1 = decodeFloat(texel1) * 2.0 - 1.0;\n    float coc2 = decodeFloat(texel2) * 2.0 - 1.0;\n    float coc3 = decodeFloat(texel3) * 2.0 - 1.0;\n    gl_FragColor = encodeFloat(\n        ((coc1 + coc2 + coc3) / 3.0) * 0.5 + 0.5\n    );\n\n#else\n    vec4 color = (texel1 + texel2 + texel3) / 3.0;\n    gl_FragColor = encodeHDR(color);\n#endif\n}\n\n@end\n\n@export qtek.compositor.dof.composite\n\n#define DEBUG 0\n\nuniform sampler2D original;\nuniform sampler2D blurred;\nuniform sampler2D nearfield;\nuniform sampler2D coc;\nuniform sampler2D nearcoc;\nvarying vec2 v_Texcoord;\n\n@import qtek.util.rgbm\n@import qtek.util.float\n\nvoid main()\n{\n    vec4 blurredColor = decodeHDR(texture2D(blurred, v_Texcoord));\n    vec4 originalColor = decodeHDR(texture2D(original, v_Texcoord));\n\n    float fCoc = decodeFloat(texture2D(coc, v_Texcoord));\n\n            fCoc = abs(fCoc * 2.0 - 1.0);\n\n    float weight = smoothstep(0.0, 1.0, fCoc);\n    \n#ifdef NEARFIELD_ENABLED\n    vec4 nearfieldColor = decodeHDR(texture2D(nearfield, v_Texcoord));\n    float fNearCoc = decodeFloat(texture2D(nearcoc, v_Texcoord));\n    fNearCoc = abs(fNearCoc * 2.0 - 1.0);\n\n        gl_FragColor = encodeHDR(\n        mix(\n            nearfieldColor, mix(originalColor, blurredColor, weight),\n                        pow(1.0 - fNearCoc, 4.0)\n        )\n    );\n#else\n    gl_FragColor = encodeHDR(mix(originalColor, blurredColor, weight));\n#endif\n\n#if DEBUG == 1\n        gl_FragColor = vec4(vec3(fCoc), 1.0);\n#elif DEBUG == 2\n        gl_FragColor = vec4(vec3(fNearCoc), 1.0);\n#elif DEBUG == 3\n    gl_FragColor = encodeHDR(blurredColor);\n#elif DEBUG == 4\n        gl_FragColor = encodeHDR(nearfieldColor);\n#endif\n}\n\n@end";},function(e,t){e.exports="@export qtek.compositor.downsample\n\nuniform sampler2D texture;\nuniform vec2 textureSize : [512, 512];\n\nvarying vec2 v_Texcoord;\n\n@import qtek.util.rgbm\nfloat brightness(vec3 c)\n{\n    return max(max(c.r, c.g), c.b);\n}\n\n@import qtek.util.clamp_sample\n\nvoid main()\n{\n    vec4 d = vec4(-1.0, -1.0, 1.0, 1.0) / textureSize.xyxy;\n\n#ifdef ANTI_FLICKER\n            vec3 s1 = decodeHDR(clampSample(texture, v_Texcoord + d.xy)).rgb;\n    vec3 s2 = decodeHDR(clampSample(texture, v_Texcoord + d.zy)).rgb;\n    vec3 s3 = decodeHDR(clampSample(texture, v_Texcoord + d.xw)).rgb;\n    vec3 s4 = decodeHDR(clampSample(texture, v_Texcoord + d.zw)).rgb;\n\n        float s1w = 1.0 / (brightness(s1) + 1.0);\n    float s2w = 1.0 / (brightness(s2) + 1.0);\n    float s3w = 1.0 / (brightness(s3) + 1.0);\n    float s4w = 1.0 / (brightness(s4) + 1.0);\n    float oneDivideSum = 1.0 / (s1w + s2w + s3w + s4w);\n\n    vec4 color = vec4(\n        (s1 * s1w + s2 * s2w + s3 * s3w + s4 * s4w) * oneDivideSum,\n        1.0\n    );\n#else\n    vec4 color = decodeHDR(clampSample(texture, v_Texcoord + d.xy));\n    color += decodeHDR(clampSample(texture, v_Texcoord + d.zy));\n    color += decodeHDR(clampSample(texture, v_Texcoord + d.xw));\n    color += decodeHDR(clampSample(texture, v_Texcoord + d.zw));\n    color *= 0.25;\n#endif\n\n    gl_FragColor = encodeHDR(color);\n}\n\n@end";},function(e,t){e.exports="@export qtek.compositor.fxaa\n\nuniform sampler2D texture;\nuniform vec4 viewport : VIEWPORT;\n\nvarying vec2 v_Texcoord;\n\n#define FXAA_REDUCE_MIN   (1.0/128.0)\n#define FXAA_REDUCE_MUL   (1.0/8.0)\n#define FXAA_SPAN_MAX     8.0\n\n@import qtek.util.rgbm\n\nvoid main()\n{\n    vec2 resolution = 1.0 / viewport.zw;\n    vec3 rgbNW =  decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( -1.0, -1.0 ) ) * resolution ) ).xyz;\n    vec3 rgbNE = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( 1.0, -1.0 ) ) * resolution ) ).xyz;\n    vec3 rgbSW = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( -1.0, 1.0 ) ) * resolution ) ).xyz;\n    vec3 rgbSE = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( 1.0, 1.0 ) ) * resolution ) ).xyz;\n    vec4 rgbaM  = decodeHDR( texture2D( texture,  gl_FragCoord.xy  * resolution ) );\n    vec3 rgbM  = rgbaM.xyz;\n    float opacity  = rgbaM.w;\n\n    vec3 luma = vec3( 0.299, 0.587, 0.114 );\n\n    float lumaNW = dot( rgbNW, luma );\n    float lumaNE = dot( rgbNE, luma );\n    float lumaSW = dot( rgbSW, luma );\n    float lumaSE = dot( rgbSE, luma );\n    float lumaM  = dot( rgbM,  luma );\n    float lumaMin = min( lumaM, min( min( lumaNW, lumaNE ), min( lumaSW, lumaSE ) ) );\n    float lumaMax = max( lumaM, max( max( lumaNW, lumaNE) , max( lumaSW, lumaSE ) ) );\n\n    vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max( ( lumaNW + lumaNE + lumaSW + lumaSE ) * ( 0.25 * FXAA_REDUCE_MUL ), FXAA_REDUCE_MIN );\n\n    float rcpDirMin = 1.0 / ( min( abs( dir.x ), abs( dir.y ) ) + dirReduce );\n    dir = min( vec2( FXAA_SPAN_MAX,  FXAA_SPAN_MAX),\n          max( vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                dir * rcpDirMin)) * resolution;\n\n    vec3 rgbA = decodeHDR( texture2D( texture, gl_FragCoord.xy  * resolution + dir * ( 1.0 / 3.0 - 0.5 ) ) ).xyz;\n    rgbA += decodeHDR( texture2D( texture, gl_FragCoord.xy  * resolution + dir * ( 2.0 / 3.0 - 0.5 ) ) ).xyz;\n    rgbA *= 0.5;\n\n    vec3 rgbB = decodeHDR( texture2D( texture, gl_FragCoord.xy  * resolution + dir * -0.5 ) ).xyz;\n    rgbB += decodeHDR( texture2D( texture, gl_FragCoord.xy  * resolution + dir * 0.5 ) ).xyz;\n    rgbB *= 0.25;\n    rgbB += rgbA * 0.5;\n\n    float lumaB = dot( rgbB, luma );\n\n    if ( ( lumaB < lumaMin ) || ( lumaB > lumaMax ) )\n    {\n                gl_FragColor = vec4( rgbA, opacity );\n\n    }\n    else {\n\n        gl_FragColor = vec4( rgbB, opacity );\n\n    }\n}\n\n@end";},function(e,t){e.exports="@export qtek.compositor.hdr.log_lum\n\nvarying vec2 v_Texcoord;\n\nuniform sampler2D texture;\n\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\n\n@import qtek.util.rgbm\n\nvoid main()\n{\n    vec4 tex = decodeHDR(texture2D(texture, v_Texcoord));\n    float luminance = dot(tex.rgb, w);\n    luminance = log(luminance + 0.001);\n\n    gl_FragColor = encodeHDR(vec4(vec3(luminance), 1.0));\n}\n\n@end\n\n@export qtek.compositor.hdr.lum_adaption\nvarying vec2 v_Texcoord;\n\nuniform sampler2D adaptedLum;\nuniform sampler2D currentLum;\n\nuniform float frameTime : 0.02;\n\n@import qtek.util.rgbm\n\nvoid main()\n{\n    float fAdaptedLum = decodeHDR(texture2D(adaptedLum, vec2(0.5, 0.5))).r;\n    float fCurrentLum = exp(encodeHDR(texture2D(currentLum, vec2(0.5, 0.5))).r);\n\n    fAdaptedLum += (fCurrentLum - fAdaptedLum) * (1.0 - pow(0.98, 30.0 * frameTime));\n    gl_FragColor = encodeHDR(vec4(vec3(fAdaptedLum), 1.0));\n}\n@end\n\n@export qtek.compositor.hdr.composite\n\nuniform sampler2D texture;\n#ifdef BLOOM_ENABLED\nuniform sampler2D bloom;\n#endif\n#ifdef LENSFLARE_ENABLED\nuniform sampler2D lensflare;\nuniform sampler2D lensdirt;\n#endif\n\n#ifdef LUM_ENABLED\nuniform sampler2D lum;\n#endif\n\n#ifdef LUT_ENABLED\nuniform sampler2D lut;\n#endif\n\n#ifdef COLOR_CORRECTION\nuniform float brightness : 0.0;\nuniform float contrast : 1.0;\nuniform float saturation : 1.0;\n#endif\n\n#ifdef VIGNETTE\nuniform float vignetteDarkness: 1.0;\nuniform float vignetteOffset: 1.0;\n#endif\n\nuniform float exposure : 1.0;\nuniform float bloomIntensity : 0.25;\nuniform float lensflareIntensity : 1;\n\nvarying vec2 v_Texcoord;\n\nconst vec3 whiteScale = vec3(11.2);\n\n@import qtek.util.srgb\n\nvec3 uncharted2ToneMap(vec3 x)\n{\n    const float A = 0.22;       const float B = 0.30;       const float C = 0.10;       const float D = 0.20;       const float E = 0.01;       const float F = 0.30;   \n    return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;\n}\n\nvec3 filmicToneMap(vec3 color)\n{\n    vec3 x = max(vec3(0.0), color - 0.004);\n    return (x*(6.2*x+0.5))/(x*(6.2*x+1.7)+0.06);\n}\n\nvec3 ACESToneMapping(vec3 color)\n{\n    const float A = 2.51;\n    const float B = 0.03;\n    const float C = 2.43;\n    const float D = 0.59;\n    const float E = 0.14;\n    return (color * (A * color + B)) / (color * (C * color + D) + E);\n}\n\nfloat eyeAdaption(float fLum)\n{\n    return mix(0.2, fLum, 0.5);\n}\n\n#ifdef LUT_ENABLED\nvec3 lutTransform(vec3 color) {\n    float blueColor = color.b * 63.0;\n\n    vec2 quad1;\n    quad1.y = floor(floor(blueColor) / 8.0);\n    quad1.x = floor(blueColor) - (quad1.y * 8.0);\n\n    vec2 quad2;\n    quad2.y = floor(ceil(blueColor) / 8.0);\n    quad2.x = ceil(blueColor) - (quad2.y * 8.0);\n\n    vec2 texPos1;\n    texPos1.x = (quad1.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.r);\n    texPos1.y = (quad1.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.g);\n\n    vec2 texPos2;\n    texPos2.x = (quad2.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.r);\n    texPos2.y = (quad2.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.g);\n\n    vec4 newColor1 = texture2D(lut, texPos1);\n    vec4 newColor2 = texture2D(lut, texPos2);\n\n    vec4 newColor = mix(newColor1, newColor2, fract(blueColor));\n    return newColor.rgb;\n}\n#endif\n\n@import qtek.util.rgbm\n\nvoid main()\n{\n        vec4 texel = vec4(0.0);\n#ifdef TEXTURE_ENABLED\n    texel += decodeHDR(texture2D(texture, v_Texcoord));\n#endif\n\n#ifdef BLOOM_ENABLED\n    texel += decodeHDR(texture2D(bloom, v_Texcoord)) * bloomIntensity;\n#endif\n\n#ifdef LENSFLARE_ENABLED\n    texel += decodeHDR(texture2D(lensflare, v_Texcoord)) * texture2D(lensdirt, v_Texcoord) * lensflareIntensity;\n#endif\n\n#ifdef LUM_ENABLED\n    float fLum = texture2D(lum, vec2(0.5, 0.5)).r;\n    float adaptedLumDest = 3.0 / (max(0.1, 1.0 + 10.0*eyeAdaption(fLum)));\n    float exposureBias = adaptedLumDest * exposure;\n#else\n    float exposureBias = exposure;\n#endif\n    texel.rgb *= exposureBias;\n\n                texel.rgb = ACESToneMapping(texel.rgb);\n    texel = linearTosRGB(texel);\n\n#ifdef LUT_ENABLED\n    texel.rgb = lutTransform(clamp(texel.rgb,vec3(0.0),vec3(1.0)));\n#endif\n\n#ifdef COLOR_CORRECTION\n        texel.rgb = clamp(texel.rgb + vec3(brightness), 0.0, 1.0);\n        texel.rgb = clamp((texel.rgb - vec3(0.5))*contrast+vec3(0.5), 0.0, 1.0);\n        float lum = dot(texel.rgb, vec3(0.2125, 0.7154, 0.0721));\n    texel.rgb = mix(vec3(lum), texel.rgb, saturation);\n#endif\n\n#ifdef VIGNETTE\n    vec2 uv = (v_Texcoord - vec2(0.5)) * vec2(vignetteOffset);\n    texel.rgb = mix(texel.rgb, vec3(1.0 - vignetteDarkness), dot(uv, uv));\n#endif\n\n    gl_FragColor = encodeHDR(texel);\n\n#ifdef DEBUG\n        #if DEBUG == 1\n    gl_FragColor = encodeHDR(decodeHDR(texture2D(texture, v_Texcoord)));\n        #elif DEBUG == 2\n    gl_FragColor = encodeHDR(decodeHDR(texture2D(bloom, v_Texcoord)) * bloomIntensity);\n        #elif DEBUG == 3\n    gl_FragColor = encodeHDR(decodeHDR(texture2D(lensflare, v_Texcoord) * lensflareIntensity));\n    #endif\n#endif\n        #ifdef PREMULTIPLY_ALPHA\n    gl_FragColor.rgb *= gl_FragColor.a;\n#endif\n}\n\n@end";},function(e,t){e.exports="@export qtek.compositor.lensflare\n\n#define SAMPLE_NUMBER 8\n\nuniform sampler2D texture;\nuniform sampler2D lenscolor;\n\nuniform vec2 textureSize : [512, 512];\n\nuniform float dispersal : 0.3;\nuniform float haloWidth : 0.4;\nuniform float distortion : 1.0;\n\nvarying vec2 v_Texcoord;\n\n@import qtek.util.rgbm\n\nvec4 textureDistorted(\n    in vec2 texcoord,\n    in vec2 direction,\n    in vec3 distortion\n) {\n    return vec4(\n        decodeHDR(texture2D(texture, texcoord + direction * distortion.r)).r,\n        decodeHDR(texture2D(texture, texcoord + direction * distortion.g)).g,\n        decodeHDR(texture2D(texture, texcoord + direction * distortion.b)).b,\n        1.0\n    );\n}\n\nvoid main()\n{\n    vec2 texcoord = -v_Texcoord + vec2(1.0);     vec2 textureOffset = 1.0 / textureSize;\n\n    vec2 ghostVec = (vec2(0.5) - texcoord) * dispersal;\n    vec2 haloVec = normalize(ghostVec) * haloWidth;\n\n    vec3 distortion = vec3(-textureOffset.x * distortion, 0.0, textureOffset.x * distortion);\n        vec4 result = vec4(0.0);\n    for (int i = 0; i < SAMPLE_NUMBER; i++)\n    {\n        vec2 offset = fract(texcoord + ghostVec * float(i));\n\n        float weight = length(vec2(0.5) - offset) / length(vec2(0.5));\n        weight = pow(1.0 - weight, 10.0);\n\n        result += textureDistorted(offset, normalize(ghostVec), distortion) * weight;\n    }\n\n    result *= texture2D(lenscolor, vec2(length(vec2(0.5) - texcoord)) / length(vec2(0.5)));\n        float weight = length(vec2(0.5) - fract(texcoord + haloVec)) / length(vec2(0.5));\n    weight = pow(1.0 - weight, 10.0);\n    vec2 offset = fract(texcoord + haloVec);\n    result += textureDistorted(offset, normalize(ghostVec), distortion) * weight;\n\n    gl_FragColor = result;\n}\n@end";},function(e,t){e.exports="\n@export qtek.compositor.lut\n\nvarying vec2 v_Texcoord;\n\nuniform sampler2D texture;\nuniform sampler2D lookup;\n\nvoid main()\n{\n\n    vec4 tex = texture2D(texture, v_Texcoord);\n\n    float blueColor = tex.b * 63.0;\n\n    vec2 quad1;\n    quad1.y = floor(floor(blueColor) / 8.0);\n    quad1.x = floor(blueColor) - (quad1.y * 8.0);\n\n    vec2 quad2;\n    quad2.y = floor(ceil(blueColor) / 8.0);\n    quad2.x = ceil(blueColor) - (quad2.y * 8.0);\n\n    vec2 texPos1;\n    texPos1.x = (quad1.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.r);\n    texPos1.y = (quad1.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.g);\n\n    vec2 texPos2;\n    texPos2.x = (quad2.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.r);\n    texPos2.y = (quad2.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.g);\n\n    vec4 newColor1 = texture2D(lookup, texPos1);\n    vec4 newColor2 = texture2D(lookup, texPos2);\n\n    vec4 newColor = mix(newColor1, newColor2, fract(blueColor));\n    gl_FragColor = vec4(newColor.rgb, tex.w);\n}\n\n@end";},function(e,t){e.exports="@export qtek.compositor.output\n\n#define OUTPUT_ALPHA\n\nvarying vec2 v_Texcoord;\n\nuniform sampler2D texture;\n\n@import qtek.util.rgbm\n\nvoid main()\n{\n    vec4 tex = decodeHDR(texture2D(texture, v_Texcoord));\n\n    gl_FragColor.rgb = tex.rgb;\n\n#ifdef OUTPUT_ALPHA\n    gl_FragColor.a = tex.a;\n#else\n    gl_FragColor.a = 1.0;\n#endif\n\n    gl_FragColor = encodeHDR(gl_FragColor);\n\n        #ifdef PREMULTIPLY_ALPHA\n    gl_FragColor.rgb *= gl_FragColor.a;\n#endif\n}\n\n@end";},function(e,t){e.exports="\n@export qtek.compositor.upsample\n\n#define HIGH_QUALITY\n\nuniform sampler2D texture;\nuniform vec2 textureSize : [512, 512];\n\nuniform float sampleScale: 0.5;\n\nvarying vec2 v_Texcoord;\n\n@import qtek.util.rgbm\n\n@import qtek.util.clamp_sample\n\nvoid main()\n{\n\n#ifdef HIGH_QUALITY\n        vec4 d = vec4(1.0, 1.0, -1.0, 0.0) / textureSize.xyxy * sampleScale;\n\n    vec4 s;\n    s  = decodeHDR(clampSample(texture, v_Texcoord - d.xy));\n    s += decodeHDR(clampSample(texture, v_Texcoord - d.wy)) * 2.0;\n    s += decodeHDR(clampSample(texture, v_Texcoord - d.zy));\n\n    s += decodeHDR(clampSample(texture, v_Texcoord + d.zw)) * 2.0;\n    s += decodeHDR(clampSample(texture, v_Texcoord       )) * 4.0;\n    s += decodeHDR(clampSample(texture, v_Texcoord + d.xw)) * 2.0;\n\n    s += decodeHDR(clampSample(texture, v_Texcoord + d.zy));\n    s += decodeHDR(clampSample(texture, v_Texcoord + d.wy)) * 2.0;\n    s += decodeHDR(clampSample(texture, v_Texcoord + d.xy));\n\n    gl_FragColor = encodeHDR(s / 16.0);\n#else\n        vec4 d = vec4(-1.0, -1.0, +1.0, +1.0) / textureSize.xyxy;\n\n    vec4 s;\n    s  = decodeHDR(clampSample(texture, v_Texcoord + d.xy));\n    s += decodeHDR(clampSample(texture, v_Texcoord + d.zy));\n    s += decodeHDR(clampSample(texture, v_Texcoord + d.xw));\n    s += decodeHDR(clampSample(texture, v_Texcoord + d.zw));\n\n    gl_FragColor = encodeHDR(s / 4.0);\n#endif\n}\n\n@end";},function(e,t){e.exports="\n@export qtek.compositor.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nattribute vec3 position : POSITION;\nattribute vec2 texcoord : TEXCOORD_0;\n\nvarying vec2 v_Texcoord;\n\nvoid main()\n{\n    v_Texcoord = texcoord;\n    gl_Position = worldViewProjection * vec4(position, 1.0);\n}\n\n@end";},function(e,t){e.exports="vec3 calcAmbientSHLight(int idx, vec3 N) {\n    int offset = 9 * idx;\n\n        return ambientSHLightCoefficients[0]\n        + ambientSHLightCoefficients[1] * N.x\n        + ambientSHLightCoefficients[2] * N.y\n        + ambientSHLightCoefficients[3] * N.z\n        + ambientSHLightCoefficients[4] * N.x * N.z\n        + ambientSHLightCoefficients[5] * N.z * N.y\n        + ambientSHLightCoefficients[6] * N.y * N.x\n        + ambientSHLightCoefficients[7] * (3.0 * N.z * N.z - 1.0)\n        + ambientSHLightCoefficients[8] * (N.x * N.x - N.y * N.y);\n}";},function(e,t,r){var n=":unconfigurable;";e.exports=["@export qtek.header.directional_light","uniform vec3 directionalLightDirection[DIRECTIONAL_LIGHT_COUNT]"+n,"uniform vec3 directionalLightColor[DIRECTIONAL_LIGHT_COUNT]"+n,"@end","@export qtek.header.ambient_light","uniform vec3 ambientLightColor[AMBIENT_LIGHT_COUNT]"+n,"@end","@export qtek.header.ambient_sh_light","uniform vec3 ambientSHLightColor[AMBIENT_SH_LIGHT_COUNT]"+n,"uniform vec3 ambientSHLightCoefficients[AMBIENT_SH_LIGHT_COUNT * 9]"+n,r(209),"@end","@export qtek.header.ambient_cubemap_light","uniform vec3 ambientCubemapLightColor[AMBIENT_CUBEMAP_LIGHT_COUNT]"+n,"uniform samplerCube ambientCubemapLightCubemap[AMBIENT_CUBEMAP_LIGHT_COUNT]"+n,"uniform sampler2D ambientCubemapLightBRDFLookup[AMBIENT_CUBEMAP_LIGHT_COUNT]"+n,"@end","@export qtek.header.point_light","uniform vec3 pointLightPosition[POINT_LIGHT_COUNT]"+n,"uniform float pointLightRange[POINT_LIGHT_COUNT]"+n,"uniform vec3 pointLightColor[POINT_LIGHT_COUNT]"+n,"@end","@export qtek.header.spot_light","uniform vec3 spotLightPosition[SPOT_LIGHT_COUNT]"+n,"uniform vec3 spotLightDirection[SPOT_LIGHT_COUNT]"+n,"uniform float spotLightRange[SPOT_LIGHT_COUNT]"+n,"uniform float spotLightUmbraAngleCosine[SPOT_LIGHT_COUNT]"+n,"uniform float spotLightPenumbraAngleCosine[SPOT_LIGHT_COUNT]"+n,"uniform float spotLightFalloffFactor[SPOT_LIGHT_COUNT]"+n,"uniform vec3 spotLightColor[SPOT_LIGHT_COUNT]"+n,"@end"].join("\n");},function(e,t){e.exports="@export qtek.sm.depth.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nattribute vec3 position : POSITION;\n\n#ifdef SHADOW_TRANSPARENT\nattribute vec2 texcoord : TEXCOORD_0;\n#endif\n\n#ifdef SKINNING\nattribute vec3 weight : WEIGHT;\nattribute vec4 joint : JOINT;\n\nuniform mat4 skinMatrix[JOINT_COUNT] : SKIN_MATRIX;\n#endif\n\nvarying vec4 v_ViewPosition;\n\n#ifdef SHADOW_TRANSPARENT\nvarying vec2 v_Texcoord;\n#endif\n\nvoid main(){\n\n    vec3 skinnedPosition = position;\n\n#ifdef SKINNING\n\n    @import qtek.chunk.skin_matrix\n\n    skinnedPosition = (skinMatrixWS * vec4(position, 1.0)).xyz;\n#endif\n\n    v_ViewPosition = worldViewProjection * vec4(skinnedPosition, 1.0);\n    gl_Position = v_ViewPosition;\n\n#ifdef SHADOW_TRANSPARENT\n    v_Texcoord = texcoord;\n#endif\n}\n@end\n\n@export qtek.sm.depth.fragment\n\nvarying vec4 v_ViewPosition;\n\n#ifdef SHADOW_TRANSPARENT\nvarying vec2 v_Texcoord;\n#endif\n\nuniform float bias : 0.001;\nuniform float slopeScale : 1.0;\n\n#ifdef SHADOW_TRANSPARENT\nuniform sampler2D transparentMap;\n#endif\n\n@import qtek.util.encode_float\n\nvoid main(){\n            float depth = v_ViewPosition.z / v_ViewPosition.w;\n    \n#ifdef USE_VSM\n    depth = depth * 0.5 + 0.5;\n    float moment1 = depth;\n    float moment2 = depth * depth;\n\n        float dx = dFdx(depth);\n    float dy = dFdy(depth);\n    moment2 += 0.25*(dx*dx+dy*dy);\n\n    gl_FragColor = vec4(moment1, moment2, 0.0, 1.0);\n#else\n        float dx = dFdx(depth);\n    float dy = dFdy(depth);\n    depth += sqrt(dx*dx + dy*dy) * slopeScale + bias;\n\n#ifdef SHADOW_TRANSPARENT\n    if (texture2D(transparentMap, v_Texcoord).a <= 0.1) {\n                gl_FragColor = encodeFloat(0.9999);\n        return;\n    }\n#endif\n\n    gl_FragColor = encodeFloat(depth * 0.5 + 0.5);\n#endif\n}\n@end\n\n@export qtek.sm.debug_depth\n\nuniform sampler2D depthMap;\nvarying vec2 v_Texcoord;\n\n@import qtek.util.decode_float\n\nvoid main() {\n    vec4 tex = texture2D(depthMap, v_Texcoord);\n#ifdef USE_VSM\n    gl_FragColor = vec4(tex.rgb, 1.0);\n#else\n    float depth = decodeFloat(tex);\n    gl_FragColor = vec4(depth, depth, depth, 1.0);\n#endif\n}\n\n@end\n\n\n@export qtek.sm.distance.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform mat4 world : WORLD;\n\nattribute vec3 position : POSITION;\n\n#ifdef SKINNING\nattribute vec3 boneWeight;\nattribute vec4 boneIndex;\n\nuniform mat4 skinMatrix[JOINT_COUNT] : SKIN_MATRIX;\n#endif\n\nvarying vec3 v_WorldPosition;\n\nvoid main (){\n\n    vec3 skinnedPosition = position;\n#ifdef SKINNING\n    @import qtek.chunk.skin_matrix\n\n    skinnedPosition = (skinMatrixWS * vec4(position, 1.0)).xyz;\n#endif\n\n    gl_Position = worldViewProjection * vec4(skinnedPosition , 1.0);\n    v_WorldPosition = (world * vec4(skinnedPosition, 1.0)).xyz;\n}\n\n@end\n\n@export qtek.sm.distance.fragment\n\nuniform vec3 lightPosition;\nuniform float range : 100;\n\nvarying vec3 v_WorldPosition;\n\n@import qtek.util.encode_float\n\nvoid main(){\n    float dist = distance(lightPosition, v_WorldPosition);\n#ifdef USE_VSM\n    gl_FragColor = vec4(dist, dist * dist, 0.0, 0.0);\n#else\n    dist = dist / range;\n    gl_FragColor = encodeFloat(dist);\n#endif\n}\n@end\n\n@export qtek.plugin.shadow_map_common\n\n@import qtek.util.decode_float\n\nfloat tapShadowMap(sampler2D map, vec2 uv, float z){\n    vec4 tex = texture2D(map, uv);\n            return step(z, decodeFloat(tex) * 2.0 - 1.0);\n}\n\nfloat pcf(sampler2D map, vec2 uv, float z, float textureSize, vec2 scale) {\n\n    float shadowContrib = tapShadowMap(map, uv, z);\n    vec2 offset = vec2(1.0 / textureSize) * scale;\n#ifdef PCF_KERNEL_SIZE\n    for (int _idx_ = 0; _idx_ < PCF_KERNEL_SIZE; _idx_++) {{\n        shadowContrib += tapShadowMap(map, uv + offset * pcfKernel[_idx_], z);\n    }}\n\n    return shadowContrib / float(PCF_KERNEL_SIZE + 1);\n#endif\n    shadowContrib += tapShadowMap(map, uv+vec2(offset.x, 0.0), z);\n    shadowContrib += tapShadowMap(map, uv+vec2(offset.x, offset.y), z);\n    shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, offset.y), z);\n    shadowContrib += tapShadowMap(map, uv+vec2(0.0, offset.y), z);\n    shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, 0.0), z);\n    shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, -offset.y), z);\n    shadowContrib += tapShadowMap(map, uv+vec2(offset.x, -offset.y), z);\n    shadowContrib += tapShadowMap(map, uv+vec2(0.0, -offset.y), z);\n\n    return shadowContrib;\n}\n\nfloat pcf(sampler2D map, vec2 uv, float z, float textureSize) {\n    return pcf(map, uv, z, textureSize, vec2(1.0));\n}\n\nfloat chebyshevUpperBound(vec2 moments, float z){\n    float p = 0.0;\n    z = z * 0.5 + 0.5;\n    if (z <= moments.x) {\n        p = 1.0;\n    }\n    float variance = moments.y - moments.x * moments.x;\n        variance = max(variance, 0.0000001);\n        float mD = moments.x - z;\n    float pMax = variance / (variance + mD * mD);\n            pMax = clamp((pMax-0.4)/(1.0-0.4), 0.0, 1.0);\n    return max(p, pMax);\n}\nfloat computeShadowContrib(\n    sampler2D map, mat4 lightVPM, vec3 position, float textureSize, vec2 scale, vec2 offset\n) {\n\n    vec4 posInLightSpace = lightVPM * vec4(position, 1.0);\n    posInLightSpace.xyz /= posInLightSpace.w;\n    float z = posInLightSpace.z;\n        if(all(greaterThan(posInLightSpace.xyz, vec3(-0.99, -0.99, -1.0))) &&\n        all(lessThan(posInLightSpace.xyz, vec3(0.99, 0.99, 1.0)))){\n                vec2 uv = (posInLightSpace.xy+1.0) / 2.0;\n\n        #ifdef USE_VSM\n            vec2 moments = texture2D(map, uv * scale + offset).xy;\n            return chebyshevUpperBound(moments, z);\n        #else\n            return pcf(map, uv * scale + offset, z, textureSize, scale);\n        #endif\n    }\n    return 1.0;\n}\n\nfloat computeShadowContrib(sampler2D map, mat4 lightVPM, vec3 position, float textureSize) {\n    return computeShadowContrib(map, lightVPM, position, textureSize, vec2(1.0), vec2(0.0));\n}\n\nfloat computeShadowContribOmni(samplerCube map, vec3 direction, float range)\n{\n    float dist = length(direction);\n    vec4 shadowTex = textureCube(map, direction);\n\n#ifdef USE_VSM\n    vec2 moments = shadowTex.xy;\n    float variance = moments.y - moments.x * moments.x;\n    float mD = moments.x - dist;\n    float p = variance / (variance + mD * mD);\n    if(moments.x + 0.001 < dist){\n        return clamp(p, 0.0, 1.0);\n    }else{\n        return 1.0;\n    }\n#else\n    return step(dist, (decodeFloat(shadowTex) + 0.0002) * range);\n#endif\n}\n\n@end\n\n\n\n@export qtek.plugin.compute_shadow_map\n\n#if defined(SPOT_LIGHT_SHADOWMAP_COUNT) || defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT) || defined(POINT_LIGHT_SHADOWMAP_COUNT)\n\n#ifdef SPOT_LIGHT_SHADOWMAP_COUNT\nuniform sampler2D spotLightShadowMaps[SPOT_LIGHT_SHADOWMAP_COUNT];\nuniform mat4 spotLightMatrices[SPOT_LIGHT_SHADOWMAP_COUNT];\nuniform float spotLightShadowMapSizes[SPOT_LIGHT_SHADOWMAP_COUNT];\n#endif\n\n#ifdef DIRECTIONAL_LIGHT_SHADOWMAP_COUNT\n#if defined(SHADOW_CASCADE)\nuniform sampler2D directionalLightShadowMaps[1];\nuniform mat4 directionalLightMatrices[SHADOW_CASCADE];\nuniform float directionalLightShadowMapSizes[1];\nuniform float shadowCascadeClipsNear[SHADOW_CASCADE];\nuniform float shadowCascadeClipsFar[SHADOW_CASCADE];\n#else\nuniform sampler2D directionalLightShadowMaps[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT];\nuniform mat4 directionalLightMatrices[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT];\nuniform float directionalLightShadowMapSizes[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT];\n#endif\n#endif\n\n#ifdef POINT_LIGHT_SHADOWMAP_COUNT\nuniform samplerCube pointLightShadowMaps[POINT_LIGHT_SHADOWMAP_COUNT];\nuniform float pointLightShadowMapSizes[POINT_LIGHT_SHADOWMAP_COUNT];\n#endif\n\nuniform bool shadowEnabled : true;\n\n#ifdef PCF_KERNEL_SIZE\nuniform vec2 pcfKernel[PCF_KERNEL_SIZE];\n#endif\n\n@import qtek.plugin.shadow_map_common\n\n#if defined(SPOT_LIGHT_SHADOWMAP_COUNT)\n\nvoid computeShadowOfSpotLights(vec3 position, inout float shadowContribs[SPOT_LIGHT_COUNT] ) {\n    float shadowContrib;\n    for(int _idx_ = 0; _idx_ < SPOT_LIGHT_SHADOWMAP_COUNT; _idx_++) {{\n        shadowContrib = computeShadowContrib(\n            spotLightShadowMaps[_idx_], spotLightMatrices[_idx_], position,\n            spotLightShadowMapSizes[_idx_]\n        );\n        shadowContribs[_idx_] = shadowContrib;\n    }}\n        for(int _idx_ = SPOT_LIGHT_SHADOWMAP_COUNT; _idx_ < SPOT_LIGHT_COUNT; _idx_++){{\n        shadowContribs[_idx_] = 1.0;\n    }}\n}\n\n#endif\n\n\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n\n#ifdef SHADOW_CASCADE\n\nvoid computeShadowOfDirectionalLights(vec3 position, inout float shadowContribs[DIRECTIONAL_LIGHT_COUNT]){\n        float depth = (2.0 * gl_FragCoord.z - gl_DepthRange.near - gl_DepthRange.far)\n                    / (gl_DepthRange.far - gl_DepthRange.near);\n\n    float shadowContrib;\n            shadowContribs[0] = 1.0;\n\n    for (int _idx_ = 0; _idx_ < SHADOW_CASCADE; _idx_++) {{\n        if (\n            depth >= shadowCascadeClipsNear[_idx_] &&\n            depth <= shadowCascadeClipsFar[_idx_]\n        ) {\n            shadowContrib = computeShadowContrib(\n                directionalLightShadowMaps[0], directionalLightMatrices[_idx_], position,\n                directionalLightShadowMapSizes[0],\n                vec2(1.0 / float(SHADOW_CASCADE), 1.0),\n                vec2(float(_idx_) / float(SHADOW_CASCADE), 0.0)\n            );\n                        shadowContribs[0] = shadowContrib;\n        }\n    }}\n        for(int _idx_ = DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++) {{\n        shadowContribs[_idx_] = 1.0;\n    }}\n}\n\n#else\n\nvoid computeShadowOfDirectionalLights(vec3 position, inout float shadowContribs[DIRECTIONAL_LIGHT_COUNT]){\n    float shadowContrib;\n\n    for(int _idx_ = 0; _idx_ < DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_++) {{\n        shadowContrib = computeShadowContrib(\n            directionalLightShadowMaps[_idx_], directionalLightMatrices[_idx_], position,\n            directionalLightShadowMapSizes[_idx_]\n        );\n        shadowContribs[_idx_] = shadowContrib;\n    }}\n        for(int _idx_ = DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++) {{\n        shadowContribs[_idx_] = 1.0;\n    }}\n}\n#endif\n\n#endif\n\n\n#if defined(POINT_LIGHT_SHADOWMAP_COUNT)\n\nvoid computeShadowOfPointLights(vec3 position, inout float shadowContribs[POINT_LIGHT_COUNT] ){\n    vec3 lightPosition;\n    vec3 direction;\n    for(int _idx_ = 0; _idx_ < POINT_LIGHT_SHADOWMAP_COUNT; _idx_++) {{\n        lightPosition = pointLightPosition[_idx_];\n        direction = position - lightPosition;\n        shadowContribs[_idx_] = computeShadowContribOmni(pointLightShadowMaps[_idx_], direction, pointLightRange[_idx_]);\n    }}\n    for(int _idx_ = POINT_LIGHT_SHADOWMAP_COUNT; _idx_ < POINT_LIGHT_COUNT; _idx_++) {{\n        shadowContribs[_idx_] = 1.0;\n    }}\n}\n\n#endif\n\n#endif\n\n@end";},function(e,t){e.exports="@export qtek.skybox.vertex\n\nuniform mat4 world : WORLD;\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nattribute vec3 position : POSITION;\n\nvarying vec3 v_WorldPosition;\n\nvoid main()\n{\n    v_WorldPosition = (world * vec4(position, 1.0)).xyz;\n    gl_Position = worldViewProjection * vec4(position, 1.0);\n}\n\n@end\n\n@export qtek.skybox.fragment\n\nuniform mat4 viewInverse : VIEWINVERSE;\nuniform samplerCube environmentMap;\nuniform float lod: 0.0;\n\nvarying vec3 v_WorldPosition;\n\n@import qtek.util.rgbm\n\nvoid main()\n{\n    vec3 eyePos = viewInverse[3].xyz;\n    vec3 viewDirection = normalize(v_WorldPosition - eyePos);\n\n    vec3 tex = decodeHDR(textureCubeLodEXT(environmentMap, viewDirection, lod)).rgb;\n\n#ifdef SRGB_DECODE\n    tex.rgb = pow(tex.rgb, vec3(2.2));\n#endif\n\n    gl_FragColor = encodeHDR(vec4(tex, 1.0));\n}\n@end";},function(e,t){e.exports="\n@export qtek.util.rand\nhighp float rand(vec2 uv) {\n    const highp float a = 12.9898, b = 78.233, c = 43758.5453;\n    highp float dt = dot(uv.xy, vec2(a,b)), sn = mod(dt, 3.141592653589793);\n    return fract(sin(sn) * c);\n}\n@end\n\n@export qtek.util.calculate_attenuation\n\nuniform float attenuationFactor : 5.0;\n\nfloat lightAttenuation(float dist, float range)\n{\n    float attenuation = 1.0;\n    attenuation = dist*dist/(range*range+1.0);\n    float att_s = attenuationFactor;\n    attenuation = 1.0/(attenuation*att_s+1.0);\n    att_s = 1.0/(att_s+1.0);\n    attenuation = attenuation - att_s;\n    attenuation /= 1.0 - att_s;\n    return clamp(attenuation, 0.0, 1.0);\n}\n\n@end\n\n@export qtek.util.edge_factor\n\nfloat edgeFactor(float width)\n{\n    vec3 d = fwidth(v_Barycentric);\n    vec3 a3 = smoothstep(vec3(0.0), d * width, v_Barycentric);\n    return min(min(a3.x, a3.y), a3.z);\n}\n\n@end\n\n@export qtek.util.encode_float\nvec4 encodeFloat(const in float depth)\n{\n            \n            \n    const vec4 bitShifts = vec4(256.0*256.0*256.0, 256.0*256.0, 256.0, 1.0);\n    const vec4 bit_mask  = vec4(0.0, 1.0/256.0, 1.0/256.0, 1.0/256.0);\n    vec4 res = fract(depth * bitShifts);\n    res -= res.xxyz * bit_mask;\n\n    return res;\n}\n@end\n\n@export qtek.util.decode_float\nfloat decodeFloat(const in vec4 color)\n{\n            \n    \n    const vec4 bitShifts = vec4(1.0/(256.0*256.0*256.0), 1.0/(256.0*256.0), 1.0/256.0, 1.0);\n    return dot(color, bitShifts);\n}\n@end\n\n\n@export qtek.util.float\n@import qtek.util.encode_float\n@import qtek.util.decode_float\n@end\n\n\n\n@export qtek.util.rgbm_decode\nvec3 RGBMDecode(vec4 rgbm, float range) {\n  return range * rgbm.rgb * rgbm.a;\n    }\n@end\n\n@export qtek.util.rgbm_encode\nvec4 RGBMEncode(vec3 color, float range) {\n    if (dot(color, color) == 0.0) {\n        return vec4(0.0);\n    }\n    vec4 rgbm;\n    color /= range;\n    rgbm.a = clamp(max(max(color.r, color.g), max(color.b, 1e-6)), 0.0, 1.0);\n    rgbm.a = ceil(rgbm.a * 255.0) / 255.0;\n    rgbm.rgb = color / rgbm.a;\n    return rgbm;\n}\n@end\n\n@export qtek.util.rgbm\n@import qtek.util.rgbm_decode\n@import qtek.util.rgbm_encode\n\nvec4 decodeHDR(vec4 color)\n{\n#if defined(RGBM_DECODE) || defined(RGBM)\n    return vec4(RGBMDecode(color, 51.5), 1.0);\n#else\n    return color;\n#endif\n}\n\nvec4 encodeHDR(vec4 color)\n{\n#if defined(RGBM_ENCODE) || defined(RGBM)\n    return RGBMEncode(color.xyz, 51.5);\n#else\n    return color;\n#endif\n}\n\n@end\n\n\n@export qtek.util.srgb\n\nvec4 sRGBToLinear(in vec4 value) {\n    return vec4(mix(pow(value.rgb * 0.9478672986 + vec3(0.0521327014), vec3(2.4)), value.rgb * 0.0773993808, vec3(lessThanEqual(value.rgb, vec3(0.04045)))), value.w);\n}\n\nvec4 linearTosRGB(in vec4 value) {\n    return vec4(mix(pow(value.rgb, vec3(0.41666)) * 1.055 - vec3(0.055), value.rgb * 12.92, vec3(lessThanEqual(value.rgb, vec3(0.0031308)))), value.w);\n}\n@end\n\n\n@export qtek.chunk.skin_matrix\n\nmat4 skinMatrixWS;\nif (joint.x >= 0.0)\n{\n    skinMatrixWS = skinMatrix[int(joint.x)] * weight.x;\n}\nif (joint.y >= 0.0)\n{\n    skinMatrixWS += skinMatrix[int(joint.y)] * weight.y;\n}\nif (joint.z >= 0.0)\n{\n    skinMatrixWS += skinMatrix[int(joint.z)] * weight.z;\n}\nif (joint.w >= 0.0)\n{\n    skinMatrixWS += skinMatrix[int(joint.w)] * (1.0-weight.x-weight.y-weight.z);\n}\n@end\n\n\n\n@export qtek.util.parallax_correct\n\nvec3 parallaxCorrect(in vec3 dir, in vec3 pos, in vec3 boxMin, in vec3 boxMax) {\n            vec3 first = (boxMax - pos) / dir;\n    vec3 second = (boxMin - pos) / dir;\n\n    vec3 further = max(first, second);\n    float dist = min(further.x, min(further.y, further.z));\n\n    vec3 fixedPos = pos + dir * dist;\n    vec3 boxCenter = (boxMax + boxMin) * 0.5;\n\n    return normalize(fixedPos - boxCenter);\n}\n\n@end\n\n\n\n@export qtek.util.clamp_sample\nvec4 clampSample(const in sampler2D texture, const in vec2 coord)\n{\n#ifdef STEREO\n            float eye = step(0.5, coord.x) * 0.5;\n    vec2 coordClamped = clamp(coord, vec2(eye, 0.0), vec2(0.5 + eye, 1.0));\n#else\n    vec2 coordClamped = clamp(coord, vec2(0.0), vec2(1.0));\n#endif\n    return texture2D(texture, coordClamped);\n}\n@end";},function(e,t,r){var n=r(6),i=r(20),a=r(5),o=r(11),s=r(21),u=r(17),l=r(8),h=r(57),c=r(31),d=r(59),f=r(19),p=r(44),_=r(218),m=r(219),g={},v=["px","nx","py","ny","pz","nz"];g.prefilterEnvironmentMap=function(e,t,r,s,_){_&&s||(s=g.generateNormalDistribution(),_=g.integrateBRDF(e,s)),r=r||{};var y=r.width||64,x=r.height||64,T=r.type||t.type,b=new i({width:y,height:x,type:T,flipY:!1,mipmaps:[]});b.isPowerOfTwo()||console.warn("Width and height must be power of two to enable mipmap.");var w=Math.min(y,x),E=Math.log(w)/Math.log(2)+1,S=new u({shader:new l({vertex:l.source("qtek.skybox.vertex"),fragment:m})});S.set("normalDistribution",s),r.encodeRGBM&&S.shader.define("fragment","RGBM_ENCODE"),r.decodeRGBM&&S.shader.define("fragment","RGBM_DECODE");var A,M=new c();if(t instanceof n){var C=new i({width:y,height:x,type:T===a.FLOAT?a.HALF_FLOAT:T});p.panoramaToCubeMap(e,t,C,{encodeRGBM:r.decodeRGBM}),t=C;}A=new h({scene:M,material:S}),A.material.set("environmentMap",t);var L=new d({texture:b});r.encodeRGBM&&(T=b.type=a.UNSIGNED_BYTE);for(var N=new n({width:y,height:x,type:T}),R=new o({depthBuffer:!1}),D=f[T===a.UNSIGNED_BYTE?"Uint8Array":"Float32Array"],I=0;I<E;I++){b.mipmaps[I]={pixels:{}},A.material.set("roughness",I/(v.length-1));for(var P=N.width,O=2*Math.atan(P/(P-.5))/Math.PI*180,F=0;F<v.length;F++){var B=new D(N.width*N.height*4);R.attach(N),R.bind(e);var U=L.getCamera(v[F]);U.fov=O,e.render(M,U),e.gl.readPixels(0,0,N.width,N.height,a.RGBA,T,B),R.unbind(e),b.mipmaps[I].pixels[v[F]]=B;}N.width/=2,N.height/=2,N.dirty();}return R.dispose(e.gl),N.dispose(e.gl),A.dispose(e.gl),s.dispose(e.gl),{environmentMap:b,brdfLookup:_,normalDistribution:s,maxMipmapLevel:E};},g.integrateBRDF=function(e,t){t=t||g.generateNormalDistribution();var r=new o({depthBuffer:!1}),i=new s({fragment:_}),u=new n({width:512,height:256,type:a.HALF_FLOAT,minFilter:a.NEAREST,magFilter:a.NEAREST,useMipmap:!1});return i.setUniform("normalDistribution",t),i.setUniform("viewportSize",[512,256]),i.attachOutput(u),i.render(e,r),r.dispose(e.gl),u;},g.generateNormalDistribution=function(e,t){for(var e=e||256,t=t||1024,r=new n({width:e,height:t,type:a.FLOAT,minFilter:a.NEAREST,magFilter:a.NEAREST,useMipmap:!1}),i=new Float32Array(t*e*4),o=0;o<t;o++){var s=o/t,u=(o<<16|o>>>16)>>>0;u=((1431655765&u)<<1|(2863311530&u)>>>1)>>>0,u=((858993459&u)<<2|(3435973836&u)>>>2)>>>0,u=((252645135&u)<<4|(4042322160&u)>>>4)>>>0,u=(((16711935&u)<<8|(4278255360&u)>>>8)>>>0)/4294967296;for(var l=0;l<e;l++){var h=l/e,c=h*h,d=2*Math.PI*s,f=Math.sqrt((1-u)/(1+(c*c-1)*u)),p=Math.sqrt(1-f*f),_=4*(o*e+l);i[_]=p*Math.cos(d),i[_+1]=p*Math.sin(d),i[_+2]=f,i[_+3]=1;}}return r.pixels=i,r;},e.exports=g;},function(e,t,r){"use strict";function n(e){return e.charCodeAt(0)+(e.charCodeAt(1)<<8)+(e.charCodeAt(2)<<16)+(e.charCodeAt(3)<<24);}var i=r(5),a=r(6),o=(r(20),n("DXT1")),s=n("DXT3"),u=n("DXT5"),l={parse:function parse(e,t){var r=new Int32Array(e,0,31);if(542327876!==r[0])return null;if(4&!r(20))return null;var n,l,h=r(21),c=r[4],d=r[3],f=512&r[28],p=131072&r[2];switch(h){case o:n=8,l=i.COMPRESSED_RGB_S3TC_DXT1_EXT;break;case s:n=16,l=i.COMPRESSED_RGBA_S3TC_DXT3_EXT;break;case u:n=16,l=i.COMPRESSED_RGBA_S3TC_DXT5_EXT;break;default:return null;}var _=r[1]+4,m=f?6:1,g=1;p&&(g=Math.max(1,r[7]));for(var v=[],y=0;y<m;y++){var x=c,T=d;v[y]=new a({width:x,height:T,format:l});for(var b=[],w=0;w<g;w++){var E=Math.max(4,x)/4*Math.max(4,T)/4*n,S=new Uint8Array(e,_,E);_+=E,x*=.5,T*=.5,b[w]=S;}v[y].pixels=b[0],p&&(v[y].mipmaps=b);}if(!t)return v[0];t.width=v[0].width,t.height=v[0].height,t.format=v[0].format,t.pixels=v[0].pixels,t.mipmaps=v[0].mipmaps;}};e.exports=l;},function(e,t,r){"use strict";function n(e,t,r,n){if(e[3]>0){var i=Math.pow(2,e[3]-128-8+n);t[r+0]=e[0]*i,t[r+1]=e[1]*i,t[r+2]=e[2]*i;}else t[r+0]=0,t[r+1]=0,t[r+2]=0;return t[r+3]=1,t;}function i(e,t,r){for(var n="",i=t;i<r;i++){n+=h(e[i]);}return n;}function a(e,t){t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3];}function o(e,t,r,n){for(var i=0,o=0,s=n;s>0;){if(e[o][0]=t[r++],e[o][1]=t[r++],e[o][2]=t[r++],e[o][3]=t[r++],1===e[o][0]&&1===e[o][1]&&1===e[o][2]){for(var u=e[o][3]<<i>>>0;u>0;u--){a(e[o-1],e[o]),o++,s--;}i+=8;}else o++,s--,i=0;}return r;}function s(e,t,r,n){if(n<c|n>d)return o(e,t,r,n);var i=t[r++];if(2!=i)return o(e,t,r-1,n);if(e[0][1]=t[r++],e[0][2]=t[r++],i=t[r++],(e[0][2]<<8>>>0|i)>>>0!==n)return null;for(var i=0;i<4;i++){for(var a=0;a<n;){var s=t[r++];if(s>128){s=(127&s)>>>0;for(var u=t[r++];s--;){e[a++][i]=u;}}else for(;s--;){e[a++][i]=t[r++];}}}return r;}var u=r(5),l=r(6),h=String.fromCharCode,c=8,d=32767,f={parseRGBE:function parseRGBE(e,t,r){null==r&&(r=0);var a=new Uint8Array(e),o=a.length;if("#?"===i(a,0,2)){for(var c=2;c<o&&("\n"!==h(a[c])||"\n"!==h(a[c+1]));c++){}if(!(c>=o)){c+=2;for(var d="";c<o;c++){var f=h(a[c]);if("\n"===f)break;d+=f;}var p=d.split(" "),_=parseInt(p[1]),m=parseInt(p[3]);if(m&&_){for(var g=c+1,v=[],y=0;y<m;y++){v[y]=[];for(var x=0;x<4;x++){v[y][x]=0;}}for(var T=new Float32Array(m*_*4),b=0,w=0;w<_;w++){var g=s(v,a,g,m);if(!g)return null;for(var y=0;y<m;y++){n(v[y],T,b,r),b+=4;}}return t||(t=new l()),t.width=m,t.height=_,t.pixels=T,t.type=u.FLOAT,t;}}}},parseRGBEFromPNG:function parseRGBEFromPNG(e){}};e.exports=f;},function(e,t,r){function n(e,t){var r=e[0],n=e[1],i=e[2];return 0===t?1:1===t?r:2===t?n:3===t?i:4===t?r*i:5===t?n*i:6===t?r*n:7===t?3*i*i-1:r*r-n*n;}function i(e,t,r,i){for(var a=new u.Float32Array(27),o=p.create(),s=p.create(),l=p.create(),h=0;h<9;h++){for(var c=p.create(),d=0;d<m.length;d++){for(var f=t[m[d]],_=p.create(),v=0,y=0,x=g[m[d]],T=0;T<i;T++){for(var b=0;b<r;b++){o[0]=b/(r-1)*2-1,o[1]=T/(i-1)*2-1,o[2]=-1,p.normalize(o,o),l[0]=o[x[0]]*x[3],l[1]=o[x[1]]*x[4],l[2]=o[x[2]]*x[5],s[0]=f[y++]/255,s[1]=f[y++]/255,s[2]=f[y++]/255;var w=f[y++]/255*51.5;s[0]*=w,s[1]*=w,s[2]*=w,p.scaleAndAdd(_,_,s,n(l,h)*-o[2]),v+=-o[2];}}p.scaleAndAdd(c,c,_,1/v);}a[3*h]=c[0]/6,a[3*h+1]=c[1]/6,a[3*h+2]=c[2]/6;}return a;}var a=r(5),o=r(11),s=r(6),u=(r(20),r(44),r(21),r(19)),l=r(57),h=r(58),c=r(59),d=r(31),f=r(1),p=f.vec3,_={},m=(r(220),["px","nx","py","ny","pz","nz"]),g={px:[2,1,0,-1,-1,1],nx:[2,1,0,1,-1,-1],py:[0,2,1,1,-1,-1],ny:[0,2,1,1,1,1],pz:[0,1,2,-1,-1,-1],nz:[0,1,2,1,-1,1]};_.projectEnvironmentMap=function(e,t,r){r=r||{},r.lod=r.lod||0;var n,u=new d(),f=64;t instanceof s?n=new h({scene:u,environmentMap:t}):(f=t.image&&t.image.px?t.image.px.width:t.width,n=new l({scene:u,environmentMap:t}));var p=Math.ceil(f/Math.pow(2,r.lod)),_=Math.ceil(f/Math.pow(2,r.lod)),g=new s({width:p,height:_}),v=new o();n.material.shader.define("fragment","RGBM_ENCODE"),r.decodeRGBM&&n.material.shader.define("fragment","RGBM_DECODE"),n.material.set("lod",r.lod);for(var y=new c({texture:g}),x={},T=0;T<m.length;T++){x[m[T]]=new Uint8Array(p*_*4);var b=y.getCamera(m[T]);b.fov=90,v.attach(g),v.bind(e),e.render(u,b),e.gl.readPixels(0,0,p,_,a.RGBA,a.UNSIGNED_BYTE,x[m[T]]),v.unbind(e);}return n.dispose(e.gl),v.dispose(e.gl),g.dispose(e.gl),i(e,x,p,_);},e.exports=_;},function(e,t){e.exports="#define SAMPLE_NUMBER 1024\n#define PI 3.14159265358979\n\n\nuniform sampler2D normalDistribution;\n\nuniform vec2 viewportSize : [512, 256];\n\nconst vec3 N = vec3(0.0, 0.0, 1.0);\nconst float fSampleNumber = float(SAMPLE_NUMBER);\n\nvec3 importanceSampleNormal(float i, float roughness, vec3 N) {\n    vec3 H = texture2D(normalDistribution, vec2(roughness, i)).rgb;\n\n    vec3 upVector = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\n    vec3 tangentX = normalize(cross(upVector, N));\n    vec3 tangentY = cross(N, tangentX);\n        return tangentX * H.x + tangentY * H.y + N * H.z;\n}\n\nfloat G_Smith(float roughness, float NoV, float NoL) {\n        float k = roughness * roughness / 2.0;\n    float G1V = NoV / (NoV * (1.0 - k) + k);\n    float G1L = NoL / (NoL * (1.0 - k) + k);\n    return G1L * G1V;\n}\n\nvoid main() {\n    vec2 uv = gl_FragCoord.xy / viewportSize;\n    float NoV = uv.x;\n    float roughness = uv.y;\n\n    vec3 V;\n    V.x = sqrt(1.0 - NoV * NoV);\n    V.y = 0.0;\n    V.z = NoV;\n\n    float A = 0.0;\n    float B = 0.0;\n\n    for (int i = 0; i < SAMPLE_NUMBER; i++) {\n        vec3 H = importanceSampleNormal(float(i) / fSampleNumber, roughness, N);\n        vec3 L = reflect(-V, H);\n        float NoL = clamp(L.z, 0.0, 1.0);\n        float NoH = clamp(H.z, 0.0, 1.0);\n        float VoH = clamp(dot(V, H), 0.0, 1.0);\n\n        if (NoL > 0.0) {\n            float G = G_Smith(roughness, NoV, NoL);\n            float G_Vis = G * VoH / (NoH * NoV);\n            float Fc = pow(1.0 - VoH, 5.0);\n            A += (1.0 - Fc) * G_Vis;\n            B += Fc * G_Vis;\n        }\n    }\n\n    gl_FragColor = vec4(vec2(A, B) / fSampleNumber, 0.0, 1.0);\n}\n";},function(e,t){e.exports="#define SAMPLE_NUMBER 1024\n#define PI 3.14159265358979\n\nuniform mat4 viewInverse : VIEWINVERSE;\nuniform samplerCube environmentMap;\nuniform sampler2D normalDistribution;\n\nuniform float roughness : 0.5;\n\nvarying vec2 v_Texcoord;\nvarying vec3 v_WorldPosition;\n\nconst float fSampleNumber = float(SAMPLE_NUMBER);\n\n@import qtek.util.rgbm\n\nvec3 importanceSampleNormal(float i, float roughness, vec3 N) {\n    vec3 H = texture2D(normalDistribution, vec2(roughness, i)).rgb;\n\n    vec3 upVector = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\n    vec3 tangentX = normalize(cross(upVector, N));\n    vec3 tangentY = cross(N, tangentX);\n        return tangentX * H.x + tangentY * H.y + N * H.z;\n}\n\nvoid main() {\n\n    vec3 eyePos = viewInverse[3].xyz;\n    vec3 V = normalize(v_WorldPosition - eyePos);\n\n    vec3 N = V;\n    vec3 R = V;\n\n    vec3 prefilteredColor = vec3(0.0);\n    float totalWeight = 0.0;\n\n\n    for (int i = 0; i < SAMPLE_NUMBER; i++) {\n        vec3 H = importanceSampleNormal(float(i) / fSampleNumber, roughness, N);\n        vec3 L = reflect(-V, H);\n\n        float NoL = clamp(dot(N, L), 0.0, 1.0);\n        if (NoL > 0.0) {\n            prefilteredColor += decodeHDR(textureCube(environmentMap, L)).rgb * NoL;\n            totalWeight += NoL;\n        }\n    }\n\n    gl_FragColor = encodeHDR(vec4(prefilteredColor / totalWeight, 1.0));\n}\n";},function(e,t){e.exports="uniform samplerCube environmentMap;\n\nvarying vec2 v_Texcoord;\n\n#define TEXTURE_SIZE 16\n\nmat3 front = mat3(\n     1.0,  0.0,  0.0,\n     0.0,  1.0,  0.0,\n     0.0,  0.0,  1.0\n);\n\nmat3 back = mat3(\n    -1.0,  0.0,  0.0,\n     0.0,  1.0,  0.0,\n     0.0,  0.0, -1.0\n);\n\nmat3 left = mat3(\n     0.0,  0.0, -1.0,\n     0.0,  1.0,  0.0,\n     1.0,  0.0,  0.0\n);\n\nmat3 right = mat3(\n     0.0,  0.0,  1.0,\n     0.0,  1.0,  0.0,\n    -1.0,  0.0,  0.0\n);\n\nmat3 up = mat3(\n     1.0,  0.0,  0.0,\n     0.0,  0.0,  1.0,\n     0.0, -1.0,  0.0\n);\n\nmat3 down = mat3(\n     1.0,  0.0,  0.0,\n     0.0,  0.0, -1.0,\n     0.0,  1.0,  0.0\n);\n\n\nfloat harmonics(vec3 normal){\n    int index = int(gl_FragCoord.x);\n\n    float x = normal.x;\n    float y = normal.y;\n    float z = normal.z;\n\n    if(index==0){\n        return 1.0;\n    }\n    else if(index==1){\n        return x;\n    }\n    else if(index==2){\n        return y;\n    }\n    else if(index==3){\n        return z;\n    }\n    else if(index==4){\n        return x*z;\n    }\n    else if(index==5){\n        return y*z;\n    }\n    else if(index==6){\n        return x*y;\n    }\n    else if(index==7){\n        return 3.0*z*z - 1.0;\n    }\n    else{\n        return x*x - y*y;\n    }\n}\n\nvec3 sampleSide(mat3 rot)\n{\n\n    vec3 result = vec3(0.0);\n    float divider = 0.0;\n    for (int i = 0; i < TEXTURE_SIZE * TEXTURE_SIZE; i++) {\n        float x = mod(float(i), float(TEXTURE_SIZE));\n        float y = float(i / TEXTURE_SIZE);\n\n        vec2 sidecoord = ((vec2(x, y) + vec2(0.5, 0.5)) / vec2(TEXTURE_SIZE)) * 2.0 - 1.0;\n        vec3 normal = normalize(vec3(sidecoord, -1.0));\n        vec3 fetchNormal = rot * normal;\n        vec3 texel = textureCube(environmentMap, fetchNormal).rgb;\n\n                result += harmonics(fetchNormal) * texel * -normal.z;\n\n        divider += -normal.z;\n    }\n\n    return result / divider;\n}\n\nvoid main()\n{\n    vec3 result = (\n        sampleSide(front) +\n        sampleSide(back) +\n        sampleSide(left) +\n        sampleSide(right) +\n        sampleSide(up) +\n        sampleSide(down)\n    ) / 6.0;\n    gl_FragColor = vec4(result, 1.0);\n}";},function(e,t){e.exports="0.3.5";},function(e,t,r){function n(e,t){return e[t];}function i(e,t,r){e[t]=r;}function a(e,t,r){return(t-e)*r+e;}function o(e,t,r){return r>.5?t:e;}function s(e,t,r,n,i){var o=e.length;if(1==i)for(var s=0;s<o;s++){n[s]=a(e[s],t[s],r);}else for(var u=e[0].length,s=0;s<o;s++){for(var l=0;l<u;l++){n[s][l]=a(e[s][l],t[s][l],r);}}}function u(e,t,r){var n=e.length,i=t.length;if(n!==i){if(n>i)e.length=i;else for(var a=n;a<i;a++){e.push(1===r?t[a]:y.call(t[a]));}}for(var o=e[0]&&e[0].length,a=0;a<e.length;a++){if(1===r)isNaN(e[a])&&(e[a]=t[a]);else for(var s=0;s<o;s++){isNaN(e[a][s])&&(e[a][s]=t[a][s]);}}}function l(e,t,r){if(e===t)return!0;var n=e.length;if(n!==t.length)return!1;if(1===r){for(var i=0;i<n;i++){if(e[i]!==t[i])return!1;}}else for(var a=e[0].length,i=0;i<n;i++){for(var o=0;o<a;o++){if(e[i][o]!==t[i][o])return!1;}}return!0;}function h(e,t,r,n,i,a,o,s,u){var l=e.length;if(1==u)for(var h=0;h<l;h++){s[h]=c(e[h],t[h],r[h],n[h],i,a,o);}else for(var d=e[0].length,h=0;h<l;h++){for(var f=0;f<d;f++){s[h][f]=c(e[h][f],t[h][f],r[h][f],n[h][f],i,a,o);}}}function c(e,t,r,n,i,a,o){var s=.5*(r-e),u=.5*(n-t);return(2*(t-r)+s+u)*o+(-3*(t-r)-2*s-u)*a+s*i+t;}function d(e){if(v(e)){var t=e.length;if(v(e[0])){for(var r=[],n=0;n<t;n++){r.push(y.call(e[n]));}return r;}return y.call(e);}return e;}function f(e){return e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.floor(e[2]),"rgba("+e.join(",")+")";}function p(e,t,r,n,i){var d=e._getter,p=e._setter,g="spline"===t,y=n.length;if(y){var x,T=n[0].value,b=v(T),w=!1,E=!1,S=b&&v(T[0])?2:1;n.sort(function(e,t){return e.time-t.time;}),x=n[y-1].time;for(var A=[],M=[],C=n[0].value,L=!0,N=0;N<y;N++){A.push(n[N].time/x);var R=n[N].value;if(b&&l(R,C,S)||!b&&R===C||(L=!1),C=R,"string"==typeof R){var D=m.parse(R);D?(R=D,w=!0):E=!0;}M.push(R);}if(!L){for(var I=M[y-1],N=0;N<y-1;N++){b?u(M[N],I,S):!isNaN(M[N])||isNaN(I)||E||w||(M[N]=I);}b&&u(d(e._target,i),I,S);var P,O,F,B,U,z,G=0,k=0;if(w)var V=[0,0,0,0];var H=function H(e,t){var r;if(t<0)r=0;else if(t<k){for(P=Math.min(G+1,y-1),r=P;r>=0&&!(A[r]<=t);r--){}r=Math.min(r,y-2);}else{for(r=G;r<y&&!(A[r]>t);r++){}r=Math.min(r-1,y-2);}G=r,k=t;var n=A[r+1]-A[r];if(0!==n)if(O=(t-A[r])/n,g){if(B=M[r],F=M[0===r?r:r-1],U=M[r>y-2?y-1:r+1],z=M[r>y-3?y-1:r+2],b)h(F,B,U,z,O,O*O,O*O*O,d(e,i),S);else{var u;if(w)u=h(F,B,U,z,O,O*O,O*O*O,V,1),u=f(V);else{if(E)return o(B,U,O);u=c(F,B,U,z,O,O*O,O*O*O);}p(e,i,u);}}else if(b)s(M[r],M[r+1],O,d(e,i),S);else{var u;if(w)s(M[r],M[r+1],O,V,1),u=f(V);else{if(E)return o(M[r],M[r+1],O);u=a(M[r],M[r+1],O);}p(e,i,u);}},W=new _({target:e._target,life:x,loop:e._loop,delay:e._delay,onframe:H,ondestroy:r});return t&&"spline"!==t&&(W.easing=t),W;}}}var _=r(223),m=r(229),g=r(14),v=g.isArrayLike,y=Array.prototype.slice,x=function x(e,t,r,a){this._tracks={},this._target=e,this._loop=t||!1,this._getter=r||n,this._setter=a||i,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[];};x.prototype={when:function when(e,t){var r=this._tracks;for(var n in t){if(t.hasOwnProperty(n)){if(!r[n]){r[n]=[];var i=this._getter(this._target,n);if(null==i)continue;0!==e&&r[n].push({time:0,value:d(i)});}r[n].push({time:e,value:t[n]});}}return this;},during:function during(e){return this._onframeList.push(e),this;},pause:function pause(){for(var e=0;e<this._clipList.length;e++){this._clipList[e].pause();}this._paused=!0;},resume:function resume(){for(var e=0;e<this._clipList.length;e++){this._clipList[e].resume();}this._paused=!1;},isPaused:function isPaused(){return!!this._paused;},_doneCallback:function _doneCallback(){this._tracks={},this._clipList.length=0;for(var e=this._doneList,t=e.length,r=0;r<t;r++){e[r].call(this);}},start:function start(e){var t,r=this,n=0,i=function i(){--n||r._doneCallback();};for(var a in this._tracks){if(this._tracks.hasOwnProperty(a)){var o=p(this,e,i,this._tracks[a],a);o&&(this._clipList.push(o),n++,this.animation&&this.animation.addClip(o),t=o);}}if(t){var s=t.onframe;t.onframe=function(e,t){s(e,t);for(var n=0;n<r._onframeList.length;n++){r._onframeList[n](e,t);}};}return n||this._doneCallback(),this;},stop:function stop(e){for(var t=this._clipList,r=this.animation,n=0;n<t.length;n++){var i=t[n];e&&i.onframe(this._target,1),r&&r.removeClip(i);}t.length=0;},delay:function delay(e){return this._delay=e,this;},done:function done(e){return e&&this._doneList.push(e),this;},getClips:function getClips(){return this._clipList;}},e.exports=x;},function(e,t,r){function n(e){this._target=e.target,this._life=e.life||1e3,this._delay=e.delay||0,this._initialized=!1,this.loop=null!=e.loop&&e.loop,this.gap=e.gap||0,this.easing=e.easing||"Linear",this.onframe=e.onframe,this.ondestroy=e.ondestroy,this.onrestart=e.onrestart,this._pausedTime=0,this._paused=!1;}var i=r(224);n.prototype={constructor:n,step:function step(e,t){if(this._initialized||(this._startTime=e+this._delay,this._initialized=!0),this._paused)return void(this._pausedTime+=t);var r=(e-this._startTime-this._pausedTime)/this._life;if(!(r<0)){r=Math.min(r,1);var n=this.easing,a="string"==typeof n?i[n]:n,o="function"==typeof a?a(r):r;return this.fire("frame",o),1==r?this.loop?(this.restart(e),"restart"):(this._needsRemove=!0,"destroy"):null;}},restart:function restart(e){var t=(e-this._startTime-this._pausedTime)%this._life;this._startTime=e-t+this.gap,this._pausedTime=0,this._needsRemove=!1;},fire:function fire(e,t){e="on"+e,this[e]&&this[e](this._target,t);},pause:function pause(){this._paused=!0;},resume:function resume(){this._paused=!1;}},e.exports=n;},function(e,t){var r={linear:function linear(e){return e;},quadraticIn:function quadraticIn(e){return e*e;},quadraticOut:function quadraticOut(e){return e*(2-e);},quadraticInOut:function quadraticInOut(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1);},cubicIn:function cubicIn(e){return e*e*e;},cubicOut:function cubicOut(e){return--e*e*e+1;},cubicInOut:function cubicInOut(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2);},quarticIn:function quarticIn(e){return e*e*e*e;},quarticOut:function quarticOut(e){return 1- --e*e*e*e;},quarticInOut:function quarticInOut(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2);},quinticIn:function quinticIn(e){return e*e*e*e*e;},quinticOut:function quinticOut(e){return--e*e*e*e*e+1;},quinticInOut:function quinticInOut(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2);},sinusoidalIn:function sinusoidalIn(e){return 1-Math.cos(e*Math.PI/2);},sinusoidalOut:function sinusoidalOut(e){return Math.sin(e*Math.PI/2);},sinusoidalInOut:function sinusoidalInOut(e){return .5*(1-Math.cos(Math.PI*e));},exponentialIn:function exponentialIn(e){return 0===e?0:Math.pow(1024,e-1);},exponentialOut:function exponentialOut(e){return 1===e?1:1-Math.pow(2,-10*e);},exponentialInOut:function exponentialInOut(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)));},circularIn:function circularIn(e){return 1-Math.sqrt(1-e*e);},circularOut:function circularOut(e){return Math.sqrt(1- --e*e);},circularInOut:function circularInOut(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1);},elasticIn:function elasticIn(e){var t,r=.1;return 0===e?0:1===e?1:(!r||r<1?(r=1,t=.1):t=.4*Math.asin(1/r)/(2*Math.PI),-r*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4));},elasticOut:function elasticOut(e){var t,r=.1;return 0===e?0:1===e?1:(!r||r<1?(r=1,t=.1):t=.4*Math.asin(1/r)/(2*Math.PI),r*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/.4)+1);},elasticInOut:function elasticInOut(e){var t,r=.1;return 0===e?0:1===e?1:(!r||r<1?(r=1,t=.1):t=.4*Math.asin(1/r)/(2*Math.PI),(e*=2)<1?r*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4)*-.5:r*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4)*.5+1);},backIn:function backIn(e){var t=1.70158;return e*e*((t+1)*e-t);},backOut:function backOut(e){var t=1.70158;return--e*e*((t+1)*e+t)+1;},backInOut:function backInOut(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2);},bounceIn:function bounceIn(e){return 1-r.bounceOut(1-e);},bounceOut:function bounceOut(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375;},bounceInOut:function bounceInOut(e){return e<.5?.5*r.bounceIn(2*e):.5*r.bounceOut(2*e-1)+.5;}};e.exports=r;},function(e,t){e.exports={containStroke:function containStroke(e,t,r,n,i,a,o){if(0===i)return!1;var s=i,u=0,l=e;if(o>t+s&&o>n+s||o<t-s&&o<n-s||a>e+s&&a>r+s||a<e-s&&a<r-s)return!1;if(e===r)return Math.abs(a-e)<=s/2;u=(t-n)/(e-r),l=(e*n-r*t)/(e-r);var h=u*a-o+l;return h*h/(u*u+1)<=s/2*s/2;}};},function(e,t,r){function n(e,t){var r=e+":"+t;if(u[r])return u[r];for(var n=(e+"").split("\n"),i=0,a=0,o=n.length;a<o;a++){i=Math.max(p.measureText(n[a],t).width,i);}return l>h&&(l=0,u={}),l++,u[r]=i,i;}function i(e,t,r,i){var a=((e||"")+"").split("\n").length,o=n(e,t),s=n("",t),u=a*s,l=new d(0,0,o,u);switch(l.lineHeight=s,i){case"bottom":case"alphabetic":l.y-=s;break;case"middle":l.y-=s/2;}switch(r){case"end":case"right":l.x-=l.width;break;case"center":l.x-=l.width/2;}return l;}function a(e,t,r,n){var i=t.x,a=t.y,o=t.height,s=t.width,u=r.height,l=r.lineHeight,h=o/2-u/2+l,c="left";switch(e){case"left":i-=n,a+=h,c="right";break;case"right":i+=n+s,a+=h,c="left";break;case"top":i+=s/2,a-=n+u-l,c="center";break;case"bottom":i+=s/2,a+=o+n+l,c="center";break;case"inside":i+=s/2,a+=h,c="center";break;case"insideLeft":i+=n,a+=h,c="left";break;case"insideRight":i+=s-n,a+=h,c="right";break;case"insideTop":i+=s/2,a+=n+l,c="center";break;case"insideBottom":i+=s/2,a+=o-u-n+l,c="center";break;case"insideTopLeft":i+=n,a+=n+l,c="left";break;case"insideTopRight":i+=s-n,a+=n+l,c="right";break;case"insideBottomLeft":i+=n,a+=o-u-n+l;break;case"insideBottomRight":i+=s-n,a+=o-u-n+l,c="right";}return{x:i,y:a,textAlign:c,textBaseline:"alphabetic"};}function o(e,t,r,i,a){if(!t)return"";a=a||{},i=f(i,"...");for(var o=f(a.maxIterations,2),u=f(a.minChar,0),l=n("",r),h=n("a",r),c=f(a.placeholder,""),d=t=Math.max(0,t-1),p=0;p<u&&d>=h;p++){d-=h;}var _=n(i);_>d&&(i="",_=0),d=t-_;for(var m=(e+"").split("\n"),p=0,g=m.length;p<g;p++){var v=m[p],y=n(v,r);if(!(y<=t)){for(var x=0;;x++){if(y<=d||x>=o){v+=i;break;}var T=0===x?s(v,d,h,l):y>0?Math.floor(v.length*d/y):0;v=v.substr(0,T),y=n(v,r);}""===v&&(v=c),m[p]=v;}}return m.join("\n");}function s(e,t,r,n){for(var i=0,a=0,o=e.length;a<o&&i<t;a++){var s=e.charCodeAt(a);i+=0<=s&&s<=127?r:n;}return a;}var u={},l=0,h=5e3,c=r(14),d=r(83),f=c.retrieve,p={getWidth:n,getBoundingRect:i,adjustTextPositionOnRect:a,truncateText:o,measureText:function measureText(e,t){var r=c.getContext();return r.font=t||"12px sans-serif",r.measureText(e);}};e.exports=p;},function(e,t){var r="undefined"==typeof Float32Array?Array:Float32Array,n={create:function create(){var e=new r(6);return n.identity(e),e;},identity:function identity(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e;},copy:function copy(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e;},mul:function mul(e,t,r){var n=t[0]*r[0]+t[2]*r[1],i=t[1]*r[0]+t[3]*r[1],a=t[0]*r[2]+t[2]*r[3],o=t[1]*r[2]+t[3]*r[3],s=t[0]*r[4]+t[2]*r[5]+t[4],u=t[1]*r[4]+t[3]*r[5]+t[5];return e[0]=n,e[1]=i,e[2]=a,e[3]=o,e[4]=s,e[5]=u,e;},translate:function translate(e,t,r){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4]+r[0],e[5]=t[5]+r[1],e;},rotate:function rotate(e,t,r){var n=t[0],i=t[2],a=t[4],o=t[1],s=t[3],u=t[5],l=Math.sin(r),h=Math.cos(r);return e[0]=n*h+o*l,e[1]=-n*l+o*h,e[2]=i*h+s*l,e[3]=-i*l+h*s,e[4]=h*a+l*u,e[5]=h*u-l*a,e;},scale:function scale(e,t,r){var n=r[0],i=r[1];return e[0]=t[0]*n,e[1]=t[1]*i,e[2]=t[2]*n,e[3]=t[3]*i,e[4]=t[4]*n,e[5]=t[5]*i,e;},invert:function invert(e,t){var r=t[0],n=t[2],i=t[4],a=t[1],o=t[3],s=t[5],u=r*o-a*n;return u?(u=1/u,e[0]=o*u,e[1]=-a*u,e[2]=-n*u,e[3]=r*u,e[4]=(n*s-o*i)*u,e[5]=(a*i-r*s)*u,e):null;}};e.exports=n;},function(e,t){var r="undefined"==typeof Float32Array?Array:Float32Array,n={create:function create(e,t){var n=new r(2);return null==e&&(e=0),null==t&&(t=0),n[0]=e,n[1]=t,n;},copy:function copy(e,t){return e[0]=t[0],e[1]=t[1],e;},clone:function clone(e){var t=new r(2);return t[0]=e[0],t[1]=e[1],t;},set:function set(e,t,r){return e[0]=t,e[1]=r,e;},add:function add(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e;},scaleAndAdd:function scaleAndAdd(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e;},sub:function sub(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e;},len:function len(e){return Math.sqrt(this.lenSquare(e));},lenSquare:function lenSquare(e){return e[0]*e[0]+e[1]*e[1];},mul:function mul(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e;},div:function div(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e;},dot:function dot(e,t){return e[0]*t[0]+e[1]*t[1];},scale:function scale(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e;},normalize:function normalize(e,t){var r=n.len(t);return 0===r?(e[0]=0,e[1]=0):(e[0]=t[0]/r,e[1]=t[1]/r),e;},distance:function distance(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]));},distanceSquare:function distanceSquare(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]);},negate:function negate(e,t){return e[0]=-t[0],e[1]=-t[1],e;},lerp:function lerp(e,t,r,n){return e[0]=t[0]+n*(r[0]-t[0]),e[1]=t[1]+n*(r[1]-t[1]),e;},applyTransform:function applyTransform(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i+r[4],e[1]=r[1]*n+r[3]*i+r[5],e;},min:function min(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e;},max:function max(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e;}};n.length=n.len,n.lengthSquare=n.lenSquare,n.dist=n.distance,n.distSquare=n.distanceSquare,e.exports=n;},function(e,t,r){function n(e){return e=Math.round(e),e<0?0:e>255?255:e;}function i(e){return e=Math.round(e),e<0?0:e>360?360:e;}function a(e){return e<0?0:e>1?1:e;}function o(e){return n(e.length&&"%"===e.charAt(e.length-1)?parseFloat(e)/100*255:parseInt(e,10));}function s(e){return a(e.length&&"%"===e.charAt(e.length-1)?parseFloat(e)/100:parseFloat(e));}function u(e,t,r){return r<0?r+=1:r>1&&(r-=1),6*r<1?e+(t-e)*r*6:2*r<1?t:3*r<2?e+(t-e)*(2/3-r)*6:e;}function l(e,t,r){return e+(t-e)*r;}function h(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e;}function c(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e;}function d(e,t){A&&c(A,t),A=S.put(e,A||t.slice());}function f(e,t){if(e){t=t||[];var r=S.get(e);if(r)return c(t,r);e+="";var n=e.replace(/ /g,"").toLowerCase();if(n in E)return c(t,E[n]),d(e,t),t;if("#"!==n.charAt(0)){var i=n.indexOf("("),a=n.indexOf(")");if(-1!==i&&a+1===n.length){var u=n.substr(0,i),l=n.substr(i+1,a-(i+1)).split(","),f=1;switch(u){case"rgba":if(4!==l.length)return void h(t,0,0,0,1);f=s(l.pop());case"rgb":return 3!==l.length?void h(t,0,0,0,1):(h(t,o(l[0]),o(l[1]),o(l[2]),f),d(e,t),t);case"hsla":return 4!==l.length?void h(t,0,0,0,1):(l[3]=s(l[3]),p(l,t),d(e,t),t);case"hsl":return 3!==l.length?void h(t,0,0,0,1):(p(l,t),d(e,t),t);default:return;}}h(t,0,0,0,1);}else{if(4===n.length){var _=parseInt(n.substr(1),16);return _>=0&&_<=4095?(h(t,(3840&_)>>4|(3840&_)>>8,240&_|(240&_)>>4,15&_|(15&_)<<4,1),d(e,t),t):void h(t,0,0,0,1);}if(7===n.length){var _=parseInt(n.substr(1),16);return _>=0&&_<=16777215?(h(t,(16711680&_)>>16,(65280&_)>>8,255&_,1),d(e,t),t):void h(t,0,0,0,1);}}}}function p(e,t){var r=(parseFloat(e[0])%360+360)%360/360,i=s(e[1]),a=s(e[2]),o=a<=.5?a*(i+1):a+i-a*i,l=2*a-o;return t=t||[],h(t,n(255*u(l,o,r+1/3)),n(255*u(l,o,r)),n(255*u(l,o,r-1/3)),1),4===e.length&&(t[3]=e[3]),t;}function _(e){if(e){var t,r,n=e[0]/255,i=e[1]/255,a=e[2]/255,o=Math.min(n,i,a),s=Math.max(n,i,a),u=s-o,l=(s+o)/2;if(0===u)t=0,r=0;else{r=l<.5?u/(s+o):u/(2-s-o);var h=((s-n)/6+u/2)/u,c=((s-i)/6+u/2)/u,d=((s-a)/6+u/2)/u;n===s?t=d-c:i===s?t=1/3+h-d:a===s&&(t=2/3+c-h),t<0&&(t+=1),t>1&&(t-=1);}var f=[360*t,r,l];return null!=e[3]&&f.push(e[3]),f;}}function m(e,t){var r=f(e);if(r){for(var n=0;n<3;n++){r[n]=t<0?r[n]*(1-t)|0:(255-r[n])*t+r[n]|0;}return b(r,4===r.length?"rgba":"rgb");}}function g(e,t){var r=f(e);if(r)return((1<<24)+(r[0]<<16)+(r[1]<<8)+ +r[2]).toString(16).slice(1);}function v(e,t,r){if(t&&t.length&&e>=0&&e<=1){r=r||[];var i=e*(t.length-1),o=Math.floor(i),s=Math.ceil(i),u=t[o],h=t[s],c=i-o;return r[0]=n(l(u[0],h[0],c)),r[1]=n(l(u[1],h[1],c)),r[2]=n(l(u[2],h[2],c)),r[3]=a(l(u[3],h[3],c)),r;}}function y(e,t,r){if(t&&t.length&&e>=0&&e<=1){var i=e*(t.length-1),o=Math.floor(i),s=Math.ceil(i),u=f(t[o]),h=f(t[s]),c=i-o,d=b([n(l(u[0],h[0],c)),n(l(u[1],h[1],c)),n(l(u[2],h[2],c)),a(l(u[3],h[3],c))],"rgba");return r?{color:d,leftIndex:o,rightIndex:s,value:i}:d;}}function x(e,t,r,n){if(e=f(e))return e=_(e),null!=t&&(e[0]=i(t)),null!=r&&(e[1]=s(r)),null!=n&&(e[2]=s(n)),b(p(e),"rgba");}function T(e,t){if((e=f(e))&&null!=t)return e[3]=a(t),b(e,"rgba");}function b(e,t){if(e&&e.length){var r=e[0]+","+e[1]+","+e[2];return"rgba"!==t&&"hsva"!==t&&"hsla"!==t||(r+=","+e[3]),t+"("+r+")";}}var w=r(84),E={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]},S=new w(20),A=null;e.exports={parse:f,lift:m,toHex:g,fastMapToColor:v,mapToColor:y,modifyHSL:x,modifyAlpha:T,stringify:b};}]);});
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(10)(module)))

/***/ }),
/* 27 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

(function (root, factory) {
    if (true) {
        // AMD. Register as an anonymous module.
        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports, __webpack_require__(0)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
    } else if ((typeof exports === 'undefined' ? 'undefined' : _typeof(exports)) === 'object' && typeof exports.nodeName !== 'string') {
        // CommonJS
        factory(exports, require('echarts'));
    } else {
        // Browser globals
        factory({}, root.echarts);
    }
})(this, function (exports, echarts) {
    var log = function log(msg) {
        if (typeof console !== 'undefined') {
            console && console.error && console.error(msg);
        }
    };
    if (!echarts) {
        log('ECharts is not Loaded');
        return;
    }
    var contrastColor = '#eee';
    var axisCommon = function axisCommon() {
        return {
            axisLine: {
                lineStyle: {
                    color: contrastColor
                }
            },
            axisTick: {
                lineStyle: {
                    color: contrastColor
                }
            },
            axisLabel: {
                textStyle: {
                    color: contrastColor
                }
            },
            splitLine: {
                lineStyle: {
                    type: 'dashed',
                    color: '#aaa'
                }
            },
            splitArea: {
                areaStyle: {
                    color: contrastColor
                }
            }
        };
    };

    var colorPalette = ['#09E4CD', '#23539B', '#3C9DE4', '#005EFF', '#FFFFFF', '#8dc1a9', '#ea7e53', '#eedd78', '#73a373', '#73b9bc', '#7289ab', '#91ca8c', '#f49f42'];
    var theme = {
        color: colorPalette,
        // backgroundColor: '#333',
        tooltip: {
            axisPointer: {
                lineStyle: {
                    color: contrastColor
                },
                crossStyle: {
                    color: contrastColor
                }
            }
        },
        legend: {
            textStyle: {
                color: contrastColor
            }
        },
        textStyle: {
            color: contrastColor,
            fontSize: 18
        },
        title: {
            textStyle: {
                color: contrastColor
            }
        },
        toolbox: {
            iconStyle: {
                normal: {
                    borderColor: contrastColor
                }
            }
        },
        timeline: {
            lineStyle: {
                color: contrastColor
            },
            itemStyle: {
                normal: {
                    color: colorPalette[1]
                }
            },
            label: {
                normal: {
                    textStyle: {
                        color: contrastColor
                    }
                }
            },
            controlStyle: {
                normal: {
                    color: contrastColor,
                    borderColor: contrastColor
                }
            }
        },
        timeAxis: axisCommon(),
        logAxis: axisCommon(),
        valueAxis: axisCommon(),
        categoryAxis: axisCommon(),

        line: {
            symbol: 'circle'
        },
        graph: {
            color: colorPalette
        },
        gauge: {
            title: {
                textStyle: {
                    color: contrastColor
                }
            }
        }
    };
    theme.categoryAxis.splitLine.show = false;
    echarts.registerTheme('bigshow', theme);
    return theme;
});

/***/ }),
/* 28 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

(function (root, factory) {
    if (true) {
        // AMD. Register as an anonymous module.
        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports, __webpack_require__(0)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
    } else if ((typeof exports === 'undefined' ? 'undefined' : _typeof(exports)) === 'object' && typeof exports.nodeName !== 'string') {
        // CommonJS
        factory(exports, require('echarts'));
    } else {
        // Browser globals
        factory({}, root.echarts);
    }
})(this, function (exports, echarts) {
    var log = function log(msg) {
        if (typeof console !== 'undefined') {
            console && console.error && console.error(msg);
        }
    };
    if (!echarts) {
        log('ECharts is not Loaded');
        return;
    }

    var colorPalette = ['#E01F54', '#001852', '#f5e8c8', '#b8d2c7', '#c6b38e', '#a4d8c2', '#f3d999', '#d3758f', '#dcc392', '#2e4783', '#82b6e9', '#ff6347', '#a092f1', '#0a915d', '#eaf889', '#6699FF', '#ff6666', '#3cb371', '#d5b158', '#38b6b6'];

    var theme = {
        color: colorPalette,

        visualMap: {
            color: ['#e01f54', '#e7dbc3'],
            textStyle: {
                color: '#333'
            }
        },

        candlestick: {
            itemStyle: {
                normal: {
                    color: '#e01f54',
                    color0: '#001852',
                    lineStyle: {
                        width: 1,
                        color: '#f5e8c8',
                        color0: '#b8d2c7'
                    }
                }
            }
        },

        graph: {
            color: colorPalette
        },

        gauge: {
            axisLine: {
                lineStyle: {
                    color: [[0.2, '#E01F54'], [0.8, '#b8d2c7'], [1, '#001852']],
                    width: 8
                }
            }
        }
    };

    echarts.registerTheme('roma', theme);
    return theme;
});

/***/ }),
/* 29 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

(function (root, factory) {
    if (true) {
        // AMD. Register as an anonymous module.
        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports, __webpack_require__(0)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
    } else if ((typeof exports === 'undefined' ? 'undefined' : _typeof(exports)) === 'object' && typeof exports.nodeName !== 'string') {
        // CommonJS
        factory(exports, require('echarts'));
    } else {
        // Browser globals
        factory({}, root.echarts);
    }
})(this, function (exports, echarts) {
    var log = function log(msg) {
        if (typeof console !== 'undefined') {
            console && console.error && console.error(msg);
        }
    };
    if (!echarts) {
        log('ECharts is not Loaded');
        return;
    }

    var colorPalette = ['#c12e34', '#e6b600', '#0098d9', '#2b821d', '#005eaa', '#339ca8', '#cda819', '#32a487'];

    var theme = {

        color: colorPalette,

        title: {
            textStyle: {
                fontWeight: 'normal'
            }
        },

        visualMap: {
            color: ['#1790cf', '#a2d4e6']
        },

        toolbox: {
            iconStyle: {
                normal: {
                    borderColor: '#06467c'
                }
            }
        },

        tooltip: {
            backgroundColor: 'rgba(0,0,0,0.6)'
        },

        dataZoom: {
            dataBackgroundColor: '#dedede',
            fillerColor: 'rgba(154,217,247,0.2)',
            handleColor: '#005eaa'
        },

        timeline: {
            lineStyle: {
                color: '#005eaa'
            },
            controlStyle: {
                normal: {
                    color: '#005eaa',
                    borderColor: '#005eaa'
                }
            }
        },

        candlestick: {
            itemStyle: {
                normal: {
                    color: '#c12e34',
                    color0: '#2b821d',
                    lineStyle: {
                        width: 1,
                        color: '#c12e34',
                        color0: '#2b821d'
                    }
                }
            }
        },

        graph: {
            color: colorPalette
        },

        map: {
            label: {
                normal: {
                    textStyle: {
                        color: '#c12e34'
                    }
                },
                emphasis: {
                    textStyle: {
                        color: '#c12e34'
                    }
                }
            },
            itemStyle: {
                normal: {
                    borderColor: '#eee',
                    areaColor: '#ddd'
                },
                emphasis: {
                    areaColor: '#e6b600'
                }
            }
        },

        gauge: {
            axisLine: {
                show: true,
                lineStyle: {
                    color: [[0.2, '#2b821d'], [0.8, '#005eaa'], [1, '#c12e34']],
                    width: 5
                }
            },
            axisTick: {
                splitNumber: 10,
                length: 8,
                lineStyle: {
                    color: 'auto'
                }
            },
            axisLabel: {
                textStyle: {
                    color: 'auto'
                }
            },
            splitLine: {
                length: 12,
                lineStyle: {
                    color: 'auto'
                }
            },
            pointer: {
                length: '90%',
                width: 3,
                color: 'auto'
            },
            title: {
                textStyle: {
                    color: '#333'
                }
            },
            detail: {
                textStyle: {
                    color: 'auto'
                }
            }
        }
    };
    echarts.registerTheme('shine', theme);
    return theme;
});

/***/ }),
/* 30 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

(function (root, factory) {
    if (true) {
        // AMD. Register as an anonymous module.
        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports, __webpack_require__(0)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
    } else if ((typeof exports === 'undefined' ? 'undefined' : _typeof(exports)) === 'object' && typeof exports.nodeName !== 'string') {
        // CommonJS
        factory(exports, require('echarts'));
    } else {
        // Browser globals
        factory({}, root.echarts);
    }
})(this, function (exports, echarts) {
    var log = function log(msg) {
        if (typeof console !== 'undefined') {
            console && console.error && console.error(msg);
        }
    };
    if (!echarts) {
        log('ECharts is not Loaded');
        return;
    }
    var colorPalette = ['#d87c7c', '#919e8b', '#d7ab82', '#6e7074', '#61a0a8', '#efa18d', '#787464', '#cc7e63', '#724e58', '#4b565b'];
    var theme = {
        color: colorPalette,
        backgroundColor: '#fef8ef',
        graph: {
            color: colorPalette
        }
    };
    echarts.registerTheme('vintage', theme);
    return theme;
});

/***/ }),
/* 31 */
/***/ (function(module, exports) {

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

/*
 * IE8 polyfill
*/

(function (window, document, undefined) {
    /*
     * Object ES5 extend
    */
    if (!Object.create) {
        Object.create = function (o) {
            function F() {}
            F.prototype = o;
            return new F();
        };
    }

    if (!Object.keys) {
        Object.keys = function (o) {
            if (o !== Object(o)) {
                throw new TypeError('Object.keys called on a non-object');
            }
            var k = [],
                p;
            for (p in o) {
                if (Object.prototype.hasOwnProperty.call(o, p)) {
                    k.push(p);
                }
            }
            return k;
        };
    }

    if (!Object.freeze) {
        Object.freeze = function (o) {
            return o;
        };
    }

    /*
     * Date ES5 extend
    */
    if (!Date.now) {
        Date.now = function now() {
            return new Date().valueOf();
        };
    }

    /*
     * Function ES5 extend
    */
    if (!Function.prototype.bind) {
        var noop = function noop() {};
        Function.prototype.bind = function (oThis) {
            if (typeof this !== "function") {
                // closest thing possible to the ECMAScript 5
                // internal IsCallable function
                throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");
            }
            var aArgs = Array.prototype.slice.call(arguments, 1);
            var self = this;
            var context = (this instanceof noop ? this : oThis) || this;
            var fBound = function fBound() {
                var args = aArgs.concat(Array.prototype.slice.call(arguments));
                return self.apply(context, args);
            };
            return fBound;
        };
    }

    /*
     * String ES5 extend
    */
    if (!String.prototype.trim) {
        String.prototype.trim = function () {
            return this.replace(/^\s+|\s+$/g, '');
        };
    }

    /*
     * Array ES5 extend
    */
    if (!Array.isArray) {
        Array.isArray = function (vArg) {
            return Object.prototype.toString.call(vArg) === "[object Array]";
        };
    }

    if (!Array.from) {
        Array.from = function (arrayLike) {
            return Array.prototype.slice.call(arrayLike);
        };
    }

    if (typeof Array.prototype.forEach != "function") {
        Array.prototype.forEach = function (fn, scope) {
            var i, len;
            for (i = 0, len = this.length; i < len; ++i) {
                if (i in this) {
                    fn.call(scope, this[i], i, this);
                }
            }
        };
    }

    if (typeof Array.prototype.map != "function") {
        Array.prototype.map = function (fn, context) {
            var arr = [];
            if (typeof fn === "function") {
                for (var k = 0, length = this.length; k < length; k++) {
                    arr.push(fn.call(context, this[k], k, this));
                }
            }
            return arr;
        };
    }

    if (typeof Array.prototype.filter != "function") {
        Array.prototype.filter = function (fn, context) {
            var arr = [];
            if (typeof fn === "function") {
                for (var k = 0, length = this.length; k < length; k++) {
                    fn.call(context, this[k], k, this) && arr.push(this[k]);
                }
            }
            return arr;
        };
    }

    if (typeof Array.prototype.some != "function") {
        Array.prototype.some = function (fn, context) {
            var passed = false;
            if (typeof fn === "function") {
                for (var k = 0, length = this.length; k < length; k++) {
                    if (passed === true) break;
                    passed = !!fn.call(context, this[k], k, this);
                }
            }
            return passed;
        };
    }

    if (typeof Array.prototype.every != "function") {
        Array.prototype.every = function (fn, context) {
            var passed = true;
            if (typeof fn === "function") {
                for (var k = 0, length = this.length; k < length; k++) {
                    if (passed === false) break;
                    passed = !!fn.call(context, this[k], k, this);
                }
            }
            return passed;
        };
    }

    if (typeof Array.prototype.indexOf != "function") {
        Array.prototype.indexOf = function (searchElement, fromIndex) {
            var index = -1;
            fromIndex = fromIndex * 1 || 0;

            for (var k = 0, length = this.length; k < length; k++) {
                if (k >= fromIndex && this[k] === searchElement) {
                    index = k;
                    break;
                }
            }
            return index;
        };
    }

    if (typeof Array.prototype.lastIndexOf != "function") {
        Array.prototype.lastIndexOf = function (searchElement, fromIndex) {
            var index = -1,
                length = this.length;
            fromIndex = fromIndex * 1 || length - 1;

            for (var k = length - 1; k > -1; k -= 1) {
                if (k <= fromIndex && this[k] === searchElement) {
                    index = k;
                    break;
                }
            }
            return index;
        };
    }

    if (typeof Array.prototype.reduce != "function") {
        Array.prototype.reduce = function (callback, initialValue) {
            var previous = initialValue,
                k = 0,
                length = this.length;
            if (typeof initialValue === "undefined") {
                previous = this[0];
                k = 1;
            }

            if (typeof callback === "function") {
                for (k; k < length; k++) {
                    this.hasOwnProperty(k) && (previous = callback(previous, this[k], k, this));
                }
            }
            return previous;
        };
    }

    if (typeof Array.prototype.reduceRight != "function") {
        Array.prototype.reduceRight = function (callback, initialValue) {
            var length = this.length;
            var k = length - 1;
            var previous = initialValue;
            if (typeof initialValue === "undefined") {
                previous = this[length - 1];
                k--;
            }
            if (typeof callback === "function") {
                for (k; k > -1; k -= 1) {
                    this.hasOwnProperty(k) && (previous = callback(previous, this[k], k, this));
                }
            }
            return previous;
        };
    }

    /**
     * dom method that extend
    */
    var oDomExtend = {
        // selector realtive
        querySelector: function querySelector(selector) {
            return document.querySelector(selector);
        },
        querySelectorAll: function querySelectorAll(selector) {
            return document.querySelectorAll(selector);
        },
        getElementsByClassName: function getElementsByClassName(classNames) {
            return this.querySelectorAll("." + classNames.trim().replace(/\s+/, "."));
        },
        // addEventListener
        addEventListener: function addEventListener(eventType, funcHandle, useCapture) {
            var element = this,
                eventStoreType = '';
            if (eventType == "input") {
                eventType = "propertychange";
            }
            if (typeof funcHandle != "function") return;
            // some compatibility deal
            var eventHandle = function eventHandle(event) {
                event = event || window.event || {};

                if (!event.target) event.target = event.srcElement;
                if (!event.preventDefault) event.preventDefault = function () {
                    event.returnValue = false;
                };

                if (eventType == "propertychange") {
                    if (event.propertyName !== "value" || element.r_oldvalue === element.value) return;
                    element.r_oldvalue = element.value;
                }
                return funcHandle.call(element, event || {});
            };
            eventHandle.initFuncHandle = funcHandle;

            // event bind
            element.attachEvent("on" + eventType, eventHandle);

            // event store
            if (element["event" + eventType]) {
                element["event" + eventType].push(eventHandle);
            } else {
                element["event" + eventType] = [eventHandle];
            }
        },
        dispatchEvent: function dispatchEvent(event) {
            var eventType = event && event.type;
            if (eventType && this["event" + eventType]) {
                event.target = this;
                this["event" + eventType].forEach(function (eventHandle) {
                    event.timeStamp = Date.now();
                    eventHandle.call(this, event);
                }.bind(this));
            }
        },
        removeEventListener: function removeEventListener(eventType, funcHandle, useCapture) {
            var arrEventStore = this["event" + eventType];
            if (Array.isArray(arrEventStore)) {
                this["event" + eventType] = arrEventStore.filter(function (eventHandle) {
                    if (eventHandle.initFuncHandle === funcHandle) {
                        this.detachEvent("on" + eventType, eventHandle);
                        return false;
                    }
                    return true;
                }.bind(this));
            }
        }

    };

    /* 
     * getElementsByClassName
    */
    if (!document.getElementsByClassName) {
        document.getElementsByClassName = function (classNames) {
            return oDomExtend.getElementsByClassName.call(document, classNames);
        };
    }

    /**
     * getComputedStyle
    */
    if (typeof window.getComputedStyle !== "function") {
        window.getComputedStyle = function (el, pseudo) {
            var oStyle = {};
            var oCurrentStyle = el.currentStyle || {};
            for (var key in oCurrentStyle) {
                oStyle[key] = oCurrentStyle[key];
            }

            oStyle.styleFloat = oStyle.cssFloat;

            oStyle.getPropertyValue = function (prop) {
                // return oCurrentStyle.getAttribute(prop) || null;
                // IE6 do not support "key-key" but "keyKey"
                var re = /(\-([a-z]){1})/g;
                if (prop == 'float') prop = 'styleFloat';
                if (re.test(prop)) {
                    prop = prop.replace(re, function () {
                        return arguments[2].toUpperCase();
                    });
                }
                return el.currentStyle[prop] ? el.currentStyle[prop] : null;
            };
            return oStyle;
        };
    }

    /**
     * requestAnimationFrame, cancelAnimationFrame
     */
    var vendors = ['ms', 'moz', 'webkit', 'o'];
    for (var i = 0; i < vendors.length && !window.requestAnimationFrame; ++i) {
        var vp = vendors[i];
        window.requestAnimationFrame = window[vp + 'RequestAnimationFrame'];
        window.cancelAnimationFrame = window[vp + 'CancelAnimationFrame'] || window[vp + 'CancelRequestAnimationFrame'];
    }
    if (/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent // iOS6 is buggy
    ) || !window.requestAnimationFrame || !window.cancelAnimationFrame) {
        var lastTime = 0;
        window.requestAnimationFrame = function (callback) {
            var now = Date.now();
            var nextTime = Math.max(lastTime + 16, now);
            return setTimeout(function () {
                callback(lastTime = nextTime);
            }, nextTime - now);
        };
        window.cancelAnimationFrame = clearTimeout;
    }

    window.getIEVersion = function () {
        var versions = {
            objectobject: 7, //IE7-8
            objectundefined: 6, //IE6
            undefinedfunction: NaN, // other modern browsers
            undefinedobject: NaN
        };
        return document.documentMode || versions[_typeof(document.all) + (typeof XMLHttpRequest === "undefined" ? "undefined" : _typeof(XMLHttpRequest))];
    };
})(window, document);

/***/ }),
/* 32 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**
 * 
 * mlayer.msg('some msg', options);
 * mlayer.iconMsg('some msg', options);
 * mlayer.alert('some msg', options|callback);
 * mlayer.confirm('some msg', options|callback);
 * mlayer.loading(options);
 * mlayer.html(html, options);
 *
 * options: {
 *     coverZIndex: 10000,    // zindex, 19900415
 *     coverOpacity: .3,      // , 0.3
 *     withCover: true,       // 
 *     zIndex: 10000,         // Contentzindex, 19900420
 *     hookContentShow: func, // Content, show
 *
 *     width: '100px',
 *     width: '80%',          // Content
 *
 *     height: '200px',
 *     height: '80%',         // Content
 *
 *     overflow: 'auto',      // Content Overflow
 *
 *     closeBtn: true,        // 
 *
 *     time: 3000,            // , 
 * }
 */

!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(6)], __WEBPACK_AMD_DEFINE_RESULT__ = function ($) {

    var globalName = 'mlayer';
    var BOX_CLASS_NAME = 'mlayer-box';
    var COVER_CLASS_NAME = 'mlayer-cover';

    function classInherit(Child, Parent) {
        var F = function F() {};
        F.prototype = Parent.prototype;
        Child.prototype = new F();
        Child.prototype.constructor = Child;
        Child.uber = Parent.prototype;
        return Child;
    }
    var $html = $(document.documentElement);
    var $body = $(document.body);
    var Z_INDEX = 19900420;

    var makeAttr = function makeAttr(obj) {
        var arr = [];
        for (var i in obj) {
            if (obj.hasOwnProperty(i)) {
                var value = obj[i] || '';
                if (value.replace) {
                    value = value.replace(/"/g, '');
                }
                arr.push(i + '="' + value + '"');
            }
        }
        return ' ' + arr.join(' ') + ' ';
    };

    var getNumberPixel = function getNumberPixel(w) {
        if (isNaN(w)) {
            return w;
        }
        return w + 'px';
    };

    /**
     * 
     *
     * @class      Base
     */
    function Base() {}
    Base.prototype.createCover = function () {
        var html = '<div class="' + COVER_CLASS_NAME + '">&nbsp;</div>';
        var $cover = $(html);
        $body.append($cover);
        return $cover;
    };
    Base.prototype.showCover = function () {
        if (!this.$cover) {
            this.$cover = this.createCover();
        }
        if (this.options.coverZIndex !== undefined) {
            this.$cover.css('z-index', this.options.coverZIndex);
        }
        if (this.options.coverOpacity !== undefined) {
            var ieValue = this.options.coverOpacity * 100;
            this.$cover.css('opacity', this.options.coverOpacity);
            this.$cover.css('filter', 'alpha(opacity=' + ieValue + ')');
        }
        this.$cover.show();
    };
    Base.prototype.hideCover = function () {
        if (this.$cover) {
            this.$cover.hide();
        }
    };
    Base.prototype.createBox = function (html, type) {
        type = type || '';
        var boxClassName = BOX_CLASS_NAME;
        var contentClassName = 'mlayer-content ';
        if (type) {
            boxClassName += ' mlayer-box-' + type;
            contentClassName += ' mlayer-content-' + type;
        }
        var html = ['<div class="' + boxClassName + '" style="display: none;">', '<div class="mlayer-box-height-wrapper">', '<div class="mlayer-box-inner">', '<div class="' + contentClassName + '">', html || '', '</div>', '</div>', '</div>', '</div>'].join('');

        var $box = $(html);
        $body.append($box);
        $box[0].mlayerInstance = this;

        if (this.options.zIndex !== undefined) {
            $box.css('z-index', this.options.zIndex);
        }
        this.$wrapper = $box.children('.mlayer-box-height-wrapper');
        this.$innerBox = this.$wrapper.children('.mlayer-box-inner');
        this.$content = this.$innerBox.children('.mlayer-content');

        if (this.options.hookContentShow) {
            this.$content.hide();
        }
        if (this.options.overflow) {
            this.$content.css('overflow', this.options.overflow);
        }
        return $box;
    };
    Base.prototype.showBox = function () {
        if (!this.$box) {
            return;
        }
        if (this.options.withCover) {
            this.showCover();
        }
        this.$box.show();
    };
    Base.prototype.hideBox = function () {
        if (!this.$box) {
            return;
        }
        this.$box.hide();
        if (this.options.withCover) {
            this.hideCover();
        }
    };
    Base.prototype.show = function () {
        if (window.attachEvent) {
            // this.hackIE();
        }
        this.showBox();
        if (this.options.hookContentShow && this.$content) {
            this.options.hookContentShow.call(this, this.$content);
        }
    };
    Base.prototype.hide = function () {
        this.stopHackIE();
        this.hideBox();
        if (this.options.hookContentShow && this.$content) {
            this.$content.hide();
        }
    };

    Base.prototype.close = function () {
        if (this.closeTimer) {
            clearTimeout(this.closeTimer);
        }
        this.trigger('beforeClose');
        this.hide();
        if (this.$box) {
            this.$box.remove();
            this.$box = null;
        }

        if (this.$cover) {
            this.$cover.remove();
            this.$cover = null;
        }
    };
    Base.prototype.renderSize = function () {
        if (this.options.width) {
            var width = getNumberPixel(this.options.width);
            this.$content.css('width', width);
        }
        if (this.options.height) {
            var height = getNumberPixel(this.options.height);
            this.$innerBox.css('height', height);
            this.$content.css('height', '100%');
        }
    };
    Base.prototype.trigger = function (name) {
        if (!name) {
            return false;
        }
        if (typeof name === 'function') {
            var func = name;
        } else if (typeof this.options[name] === 'function') {
            func = this.options[name];
        }

        if (func) {
            var args = Array.prototype.slice.call(arguments, 1);
            return func.apply(this, args);
        }
    };

    /**
     * 
     */
    Base.prototype.baseBind = function () {
        var self = this;
        this.$content.children('.x-close-btn').click(function () {
            self.close();
        });
        this.$innerBox.delegate('.x-button-box button', 'click', function () {
            var i = this.getAttribute('data-i');
            if (self.options['btn' + i]) {
                self.trigger(self.options['btn' + i].onClick);
            }
        });
    };

    /**
     * wrapper
     */
    Base.prototype.renderWrapperHeight = function () {
        this.$wrapper.css('height', window.innerHeight + 'px');
    };

    /**
     * HTML
     *
     * @return     {string}
     */
    Base.prototype.getCloseBtnHtml = function () {
        return ['<a href="javascript:;" class="x-close-btn">', '<img src="' + (window.xPath || '') + 'images/mlayer/close.png" />', '</a>'].join('');
    };

    /**
     * html
     */
    Base.prototype.getButtonHtml = function () {
        var html = '';
        for (var i = 1; this.options['btn' + i]; i++) {
            var item = this.options['btn' + i];
            var attrs = {};
            attrs['class'] = 'x-btn';
            if (item.type) {
                attrs['class'] += ' button-' + item.type;
            }
            attrs['data-i'] = i;
            html += '<button ' + makeAttr(attrs) + '>' + (item.text || '') + '</button>';
        }
        if (!html) {
            return '';
        }
        var className = ['x-button-box', 'clearfix'];
        if (this.options.btnAlign) {
            className.push('align-' + this.options.btnAlign);
        }
        return '<div class="' + className.join(' ') + '">' + html + '</div>';
    };

    /**
     * IE8, content, 
     */
    Base.prototype.hackIE = function () {
        if (this.$box) {
            this.$box.find('.mlayer-content');
        }
        var self = this;
        this.hackIETimer = setTimeout(function () {
            self.hackIE();
        }, 500);
    };
    Base.prototype.stopHackIE = function () {
        if (this.hackIETimer) {
            clearTimeout(this.hackIETimer);
            this.hackIETimer = null;
        }
    };

    /**
     * -
     *
     * @constructor
     * @class      Mlayer
     */
    function Mlayer(options) {
        this.options = $.extend(true, {}, Mlayer.config, options);
        if (this.options.html) {
            this.$box = this.createBox(this.getHtml(), this.options.type || 'html');
            this.renderSize();
        } else if (this.options.type === 'loading') {
            this.$box = this.createBox('', 'loading');
        }
        this.baseBind();
        this.show();
    }
    classInherit(Mlayer, Base);
    Mlayer.config = {
        closeBtn: true,
        withCover: true
    };
    Mlayer.prototype.getHtml = function () {
        return [this.options.closeBtn ? this.getCloseBtnHtml() : '', this.options.html || '', this.getButtonHtml()].join('');
    };

    /**
     * 
     *
     */
    function Message(options) {
        this.options = options || {};
        this.$box = this.createBox(this.getHtml(), this.options.type || 'message');
        this.show();
        var self = this;
        var time = this.options.time || 3000;
        if (time < 60) {
            time *= 1000;
        }
        this.closeTimer = setTimeout(function () {
            self.close();
        }, time);
    }
    classInherit(Message, Base);
    Message.prototype.getHtml = function () {
        var text = this.options.text || '';
        var iconHtml = '';
        if (this.options.type === 'iconmsg') {
            var iconClass = 'x-icon-' + (this.options.icon || '1');
            iconHtml = '<i class="' + iconClass + '"></i>';
        }
        return [iconHtml, '<p>' + text + '</p>'].join('');
    };

    /**
     * 
     */
    if (window.parent && window.parent[globalName]) {
        window[globalName] = window.parent[globalName];
        return window.parent[globalName];
    }

    var exports = {};

    /**
     * Html
     *
     * @param      {string}  html     The html
     * @param      {object}  options  The options
     * @return     {Mlayer}
     */
    exports.html = function (html, options) {
        options = options || {};
        options.html = html;
        return new Mlayer(options);
    };

    /**
     * 
     *
     * @param      {string}   text     The text
     * @param      {object}   options  The options
     * @return     {Message}
     */
    exports.msg = function (text, options) {
        exports.close('iconmsg');
        exports.close('message');
        options = options || {};
        options.text = text;
        return new Message(options);
    };

    /**
     * iconmsg
     *
     * @param      {string}  text     The text
     * @param      {object}  options  The options
     */
    exports.iconMsg = function (text, options) {
        exports.close('iconmsg');
        exports.close('message');
        options = options || {};
        options.type = 'iconmsg';
        options.text = text;
        return new Message(options);
    };

    exports.alert = function (text, options) {
        if (typeof options === 'function') {
            var callback = options;
            options = {};
        } else {
            options = options || {};
        }
        options.type = 'alert';
        options.html = ['<div class="x-alert-box">', text || '', '</div>'].join('');
        options.btnAlign = 'center';
        options.btn1 = options.btn1 || {
            text: '',
            onClick: function onClick() {
                var foo = callback || options.onCallback;
                if (foo) {
                    foo.call(this);
                }
                this.close();
            }
        };

        return new Mlayer(options);
    };

    /**
     * 
     *
     * @param      {string}  text     The text
     * @param      {object}  options  The options
     */
    exports.confirm = function (text, options) {
        if (typeof options === 'function') {
            var func1 = options;
            options = {};
        } else {
            options = options || {};
        }
        options.type = 'confirm';
        options.html = ['<div class="x-confirm-box">', text || '', '</div>'].join('');
        options.btnAlign = 'right';
        options.btn1 = options.btn1 || {
            text: '',
            onClick: function onClick() {
                var foo = func1 || options.onConfirm;
                if (foo) {
                    foo.call(this);
                }
                this.close();
            }
        };
        options.btn2 = options.btn2 || {
            text: '',
            type: 'cancel',
            onClick: function onClick() {
                this.close();
            }
        };
        return new Mlayer(options);
    };

    /**
     * loading
     *
     * @param      {object}  options  The options
     */
    exports.loading = function (options) {
        exports.close('loading');
        options = options || {};
        options.type = 'loading';
        options.closeBtn = false;
        options.zIndex = Z_INDEX + 10;
        options.coverZIndex = options.zIndex - 5;
        options.coverOpacity = 0;
        return new Mlayer(options);
    };

    /**
     * 
     *
     * @param      {string}  type    The type
     */
    exports.close = function (type) {
        if (type) {
            var $layers = $('.mlayer-box-' + type);
        } else {
            $layers = $('.' + BOX_CLASS_NAME);
        }

        if ($layers.length) {
            $layers.each(function () {
                var instance = this.mlayerInstance;
                if (instance) {
                    instance.close();
                }
            });
        }
        return $layers;
    };

    window[globalName] = exports;
    return exports;
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 33 */,
/* 34 */,
/* 35 */
/***/ (function(module, exports, __webpack_require__) {

/**
 * @  fetch
 * @  fetch(url, data)
 */

var $ = __webpack_require__(6);
var Promise = __webpack_require__(74);

var fetch = function fetch(url) {
    var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    var method = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'GET';
    var dataType = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'json';

    return new Promise(function (resolve, reject) {
        var p = {
            url: url, dataType: dataType, data: data, type: method
        };
        return $.ajax(p).success(function (json) {
            json ? resolve(json) : reject(json);
        }).error(reject);
    });
};

fetch.getJSON = function (url, data) {
    return fetch(url, data, 'GET', 'json');
};
fetch.getHTML = function (url, data) {
    return fetch(url, data, 'GET', 'html');
};
fetch.post = function (url, data) {
    return fetch(url, data, 'POST');
};

fetch.once = function (func) {
    var result = void 0;
    return function () {
        if (result === undefined) {
            result = func();
        }
        return result;
    };
};
fetch.onceParam = function (func) {
    var result = {};
    return function () {
        var args = Array.prototype.slice.call(arguments) || [];
        var key = '';
        args.forEach(function (o) {
            if (typeof o === 'string') {
                key += o;
            } else {
                key += JSON.stringify(o);
            }
        });
        if (!key) {
            key = 'default';
        }
        if (result[key] === undefined) {
            result[key] = func.apply(null, args);
        }
        return result[key];
    };
};

module.exports = fetch;

/***/ }),
/* 36 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*
  * TransitionEnd
*/
!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = function () {
    var transitions = {
        'transition': 'transitionend',
        'WebkitTransition': 'webkitTransitionEnd',
        'MozTransition': 'transitionend',
        'OTransition': 'oTransitionEnd otransitionend'
    };
    function getPropertyTime(value) {
        var arr = value.split(',');
        var result = [];
        for (var i = 0; i < arr.length; i++) {
            var val = arr[i];
            var num = parseFloat(val) || 0;
            if (val.substr(val.length - 2) === 'ms') {
                result.push(num);
            } else if (val.charAt(val.length - 1) === 's') {
                result.push(num * 1000);
            } else {
                result.push(num);
            }
        }
        return Math.max.apply(Math, result);
    }
    function getPropertyValue(props, propName) {
        propName = propName.substr(0, 1).toUpperCase() + propName.substr(1).toLowerCase();
        for (var i in transitions) {
            if (props[i + propName] !== undefined) {
                return props[i + propName];
            }
        }
        return '';
    }
    function getTransitionTime(elem) {
        var props = window.getComputedStyle(elem, null);
        var duration = getPropertyValue(props, 'duration');
        var durationTime = getPropertyTime(duration);
        var delay = getPropertyValue(props, 'delay');
        var delayTime = getPropertyTime(delay);
        var time = durationTime + delayTime;
        var plus = Math.min(Math.round(time * .1), 100);
        return time + plus;
    }
    function getTransitionEventName(elem) {
        for (var t in transitions) {
            if (elem.style[t] !== undefined) {
                return transitions[t];
            }
        }
        return 'transitionend';
    }
    var exports = function exports(elem, callback) {
        var noop = function noop() {};
        if (!elem) {
            return {
                remove: noop,
                name: 'ElemUndefined'
            };
        }
        if (typeof elem === 'string') {
            elem = document.querySelector(elem);
        }

        var eventName = getTransitionEventName(elem);
        var holder = {
            name: eventName
        };
        holder.remove = function () {
            elem.removeEventListener(eventName, eventHandler, false);
            if (holder.timer) {
                clearTimeout(holder.timer);
            }
            holder.timer = null;
            try {
                delete elem.transitionEnd;
            } catch (e) {
                elem.transitionEnd = undefined;
            }
        };
        var eventHandler = function eventHandler() {
            if (holder.fired) {
                return false;
            }
            callback(elem);
            holder.fired = true;
            holder.remove();
        };
        // start
        elem.addEventListener(eventName, eventHandler, false);
        holder.timer = setTimeout(eventHandler, getTransitionTime(elem));
        elem.transitionEnd = holder;
        return holder;
    };
    return exports;
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 37 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**
 * @  URL
 * @:
 * 1. getQuery(url)   URL a=1&b=2  {"a":"1", "b":"2"}
 * 2. buildQuery(obj) URL {"a":"1", "b":"2"}  a=1&b=2
 * 3. query(bool)     URL
 */

(function (name, factory) {
    if (true) {
        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
    } else {
        window[name] = factory();
    }
})('URL', function () {
    "use strict";

    var exports = {};

    /**
     * query
     * @param  {string} url URL
     * @return {Object}
     */
    exports.getQuery = function (url) {
        url = url || window.location.search;

        var qMarkPos = url.indexOf('?');
        if (qMarkPos >= 0) {
            url = url.substr(qMarkPos + 1);
        }

        var hashPos = url.indexOf('#');
        if (hashPos >= 0) {
            url = url.substr(0, hashPos);
        }

        var ret = {};
        var arr = url.split('&');
        for (var i = 0; i < arr.length; i++) {
            var kv = arr[i].split('=');
            if (kv[0]) {
                ret[kv[0]] = kv[1] || '';
            }
        }
        return ret;
    };

    /**
     * query
     * @param  {Object} obj Query
     * @return {string}
     */
    exports.buildQuery = function (obj) {
        var str = [];
        for (var key in obj) {
            if (!obj.hasOwnProperty(key) || !key) {
                return;
            }
            var val = encodeURIComponent(obj[key] || '');
            str.push(encodeURIComponent(key) + '=' + val);
        };
        return str.join('&');
    };

    exports.getHashArray = function (split) {
        split = split || '-';
        var hash = location.hash.substr(1);
        return hash ? hash.split(split) : [];
    };

    /**
     * url
     * 
     * @return {Object}
     */
    exports.query = function () {
        var q;
        return function (force) {
            if (!q || force) {
                q = exports.getQuery();
            }
            return q;
        };
    }();

    return exports;
});

/***/ }),
/* 38 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_util_tool__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_util_tool___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_util_tool__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_util_chart__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_echarts__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_echarts___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_echarts__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_util_request__ = __webpack_require__(4);
//
//
//
//
//
//
//
//





var methods = {};
methods.fetchRender = function () {
	var _this = this;

	__WEBPACK_IMPORTED_MODULE_3_util_request__["a" /* default */].gitBigShowAllType1().then(function (data) {
		var o = __WEBPACK_IMPORTED_MODULE_1_util_chart__["a" /* default */].getBigShowAllType1(data);
		o = __WEBPACK_IMPORTED_MODULE_0_util_tool___default.a.extend(o, _this.chartOption);

		var myChart = _this.getChartInstance();
		myChart.setOption(o);

		_this.chart = myChart;
		_this.loopNext();
	});
};
var computed = {};
var watch = {};
var mounted = function mounted() {};
var destroyed = function destroyed() {};
var dataFunc = function dataFunc() {
	var o = {};
	return o;
};
/* harmony default export */ __webpack_exports__["default"] = ({
	data: dataFunc,
	watch: watch,
	mixins: [__webpack_require__(9)],
	methods: methods,
	computed: computed,
	props: [],
	mounted: mounted,
	destroyed: destroyed,
	components: {}
});

/***/ }),
/* 39 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_util_tool__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_util_tool___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_util_tool__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_util_chart__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_echarts__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_echarts___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_echarts__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_util_request__ = __webpack_require__(4);
//
//
//
//
//
//
//
//





var methods = {};
methods.fetchRender = function () {
	var _this = this;

	__WEBPACK_IMPORTED_MODULE_3_util_request__["a" /* default */].gitBigShowAllType2().then(function (data) {
		var o = __WEBPACK_IMPORTED_MODULE_1_util_chart__["a" /* default */].getBigShowAllType2(data);
		o = __WEBPACK_IMPORTED_MODULE_0_util_tool___default.a.extend(o, _this.chartOption);

		var myChart = _this.getChartInstance();
		myChart.setOption(o);

		_this.chart = myChart;
		_this.loopNext();
	});
};
var computed = {};
var watch = {};
var mounted = function mounted() {};
var destroyed = function destroyed() {};
var dataFunc = function dataFunc() {
	var o = {};
	return o;
};
/* harmony default export */ __webpack_exports__["default"] = ({
	data: dataFunc,
	watch: watch,
	mixins: [__webpack_require__(9)],
	methods: methods,
	computed: computed,
	props: [],
	mounted: mounted,
	destroyed: destroyed,
	components: {}
});

/***/ }),
/* 40 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_util_tool__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_util_tool___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_util_tool__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_util_chart__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_echarts__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_echarts___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_echarts__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_util_request__ = __webpack_require__(4);
//
//
//
//
//
//
//
//






var methods = {};
methods.fetchRender = function () {
	var _this = this;

	__WEBPACK_IMPORTED_MODULE_3_util_request__["a" /* default */].getBigShowInOut().then(function (data) {
		var option = __WEBPACK_IMPORTED_MODULE_1_util_chart__["a" /* default */].getBigShowInOut(data);
		option = __WEBPACK_IMPORTED_MODULE_0_util_tool___default.a.extend(option, _this.chartOption);

		var myChart = _this.getChartInstance();
		myChart.setOption(option);

		_this.chart = myChart;
		_this.loopNext();
	});
};
var computed = {};
var watch = {};
var mounted = function mounted() {};
var destroyed = function destroyed() {};
var dataFunc = function dataFunc() {
	var o = {};
	return o;
};
/* harmony default export */ __webpack_exports__["default"] = ({
	data: dataFunc,
	watch: watch,
	mixins: [__webpack_require__(9)],
	methods: methods,
	computed: computed,
	props: [],
	mounted: mounted,
	destroyed: destroyed,
	components: {}
});

/***/ }),
/* 41 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_util_tool__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_util_tool___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_util_tool__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_util_chart__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_echarts__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_echarts___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_echarts__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_util_request__ = __webpack_require__(4);
//
//
//
//
//
//
//
//





var methods = {};
methods.fetchRender = function () {
	var _this = this;

	__WEBPACK_IMPORTED_MODULE_3_util_request__["a" /* default */].getBigShowPie1().then(function (data) {
		var o = __WEBPACK_IMPORTED_MODULE_1_util_chart__["a" /* default */].getAnalysisTerminalPieOption({
			data: data
		});
		o = __WEBPACK_IMPORTED_MODULE_1_util_chart__["a" /* default */].getBigShowPieChartOption(o);

		if (_this.chart) {
			_this.chart.dispose();
		}
		var myChart = __WEBPACK_IMPORTED_MODULE_2_echarts___default.a.init(_this.$refs.chart, 'bigshow');
		myChart.setOption(o);
		_this.chart = myChart;
		_this.loopNext();
	});
};
var computed = {};
var watch = {};
var mounted = function mounted() {
	// this.fetchRender();
};
var destroyed = function destroyed() {};
var dataFunc = function dataFunc() {
	var o = {};
	return o;
};
/* harmony default export */ __webpack_exports__["default"] = ({
	data: dataFunc,
	watch: watch,
	mixins: [__webpack_require__(14)],
	methods: methods,
	computed: computed,
	props: [],
	mounted: mounted,
	destroyed: destroyed,
	components: {}
});

/***/ }),
/* 42 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_util_tool__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_util_tool___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_util_tool__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_util_chart__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_echarts__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_echarts___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_echarts__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_util_request__ = __webpack_require__(4);
//
//
//
//
//
//
//
//





var methods = {};
methods.fetchRender = function () {
	var _this = this;

	__WEBPACK_IMPORTED_MODULE_3_util_request__["a" /* default */].getBigShowPie2().then(function (data) {
		var o = __WEBPACK_IMPORTED_MODULE_1_util_chart__["a" /* default */].getAnalysisConsumptionPieOption({
			data: data
		});
		o = __WEBPACK_IMPORTED_MODULE_1_util_chart__["a" /* default */].getBigShowPieChartOption(o);

		if (_this.chart) {
			_this.chart.dispose();
		}
		var myChart = __WEBPACK_IMPORTED_MODULE_2_echarts___default.a.init(_this.$refs.chart, 'bigshow');
		myChart.setOption(o);
		_this.chart = myChart;
		_this.loopNext();
	});
};
var computed = {};
var watch = {};
var mounted = function mounted() {
	// this.fetchRender();
};
var destroyed = function destroyed() {};
var dataFunc = function dataFunc() {
	var o = {};
	return o;
};
/* harmony default export */ __webpack_exports__["default"] = ({
	data: dataFunc,
	watch: watch,
	mixins: [__webpack_require__(14)],
	methods: methods,
	computed: computed,
	props: [],
	mounted: mounted,
	destroyed: destroyed,
	components: {}
});

/***/ }),
/* 43 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_util_tool__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_util_tool___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_util_tool__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_util_chart__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_echarts__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_echarts___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_echarts__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_util_request__ = __webpack_require__(4);
//
//
//
//
//
//
//
//





var methods = {};
methods.fetchRender = function () {
	var _this = this;

	__WEBPACK_IMPORTED_MODULE_3_util_request__["a" /* default */].getBigShowPie3().then(function (data) {
		var o = __WEBPACK_IMPORTED_MODULE_1_util_chart__["a" /* default */].getAnalysisAgePieOption({
			data: data
		});
		o = __WEBPACK_IMPORTED_MODULE_1_util_chart__["a" /* default */].getBigShowPieChartOption(o);

		if (_this.chart) {
			_this.chart.dispose();
		}
		var myChart = __WEBPACK_IMPORTED_MODULE_2_echarts___default.a.init(_this.$refs.chart, 'bigshow');
		myChart.setOption(o);
		_this.chart = myChart;
		_this.loopNext();
	});
};
var computed = {};
var watch = {};
var mounted = function mounted() {
	// this.fetchRender();
};
var destroyed = function destroyed() {};
var dataFunc = function dataFunc() {
	var o = {};
	return o;
};
/* harmony default export */ __webpack_exports__["default"] = ({
	data: dataFunc,
	watch: watch,
	mixins: [__webpack_require__(14)],
	methods: methods,
	computed: computed,
	props: [],
	mounted: mounted,
	destroyed: destroyed,
	components: {}
});

/***/ }),
/* 44 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_util_chart__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_echarts__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_echarts___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_echarts__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_util_request__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_util_tool__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_util_tool___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_util_tool__);
//
//
//
//
//
//
//
//





var methods = {};
methods.fetchRender = function () {
	var _this = this;

	__WEBPACK_IMPORTED_MODULE_2_util_request__["a" /* default */].getBigShowRealtimeUser().then(function (data) {

		var option = __WEBPACK_IMPORTED_MODULE_0_util_chart__["a" /* default */].getHumanTrafficOption({
			data: data
		});
		option = __WEBPACK_IMPORTED_MODULE_3_util_tool___default.a.extend(option, _this.chartOption);

		var myChart = _this.getChartInstance();
		myChart.setOption(option);

		_this.chart = myChart;
		_this.loopNext();
	});
};
var computed = {};
var watch = {};
var mounted = function mounted() {};
var destroyed = function destroyed() {};
var dataFunc = function dataFunc() {
	var o = {};
	return o;
};
/* harmony default export */ __webpack_exports__["default"] = ({
	data: dataFunc,
	watch: watch,
	mixins: [__webpack_require__(9)],
	methods: methods,
	computed: computed,
	props: [],
	mounted: mounted,
	destroyed: destroyed,
	components: {}
});

/***/ }),
/* 45 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_util_chart__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_echarts__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_echarts___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_echarts__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_util_request__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_util_tool__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_util_tool___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_util_tool__);
//
//
//
//
//
//
//
//





var methods = {};
methods.fetchRender = function () {
	var _this = this;

	__WEBPACK_IMPORTED_MODULE_2_util_request__["a" /* default */].getBigShowStayTime().then(function (data) {
		var option = __WEBPACK_IMPORTED_MODULE_0_util_chart__["a" /* default */].getBigShowStayTime(data);
		option = __WEBPACK_IMPORTED_MODULE_3_util_tool___default.a.extend(option, _this.chartOption);

		var myChart = _this.getChartInstance();
		myChart.setOption(option);

		_this.chart = myChart;
		_this.loopNext();
	});
};
var computed = {};
var watch = {};
var mounted = function mounted() {};
var destroyed = function destroyed() {};
var dataFunc = function dataFunc() {
	var o = {};
	return o;
};
/* harmony default export */ __webpack_exports__["default"] = ({
	data: dataFunc,
	watch: watch,
	mixins: [__webpack_require__(9)],
	methods: methods,
	computed: computed,
	props: [],
	mounted: mounted,
	destroyed: destroyed,
	components: {}
});

/***/ }),
/* 46 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_util_tool__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_util_tool___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_util_tool__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_echarts__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_echarts___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_echarts__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lib_echarts_gl_min_js__ = __webpack_require__(26);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lib_echarts_gl_min_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_lib_echarts_gl_min_js__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_global_config__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_global_config___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_global_config__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_util_echart_js__ = __webpack_require__(17);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_util_echart_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_util_echart_js__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_util_request__ = __webpack_require__(4);
//
//
//
//
//
//








var methods = {};
methods.initChart = function (myChart, data) {
	var airports = data.airports.map(function (item) {
		return {
			coord: [item[3], item[4]]
		};
	});

	function getAirportCoord(idx) {
		return [data.airports[idx][3], data.airports[idx][4]];
	}

	// Route: [airlineIndex, sourceAirportIndex, destinationAirportIndex]
	var routesGroupByAirline = {};
	data.routes.forEach(function (route) {
		var airline = data.airlines[route[0]];
		var airlineName = airline[0];
		if (!routesGroupByAirline[airlineName]) {
			routesGroupByAirline[airlineName] = [];
		}
		routesGroupByAirline[airlineName].push(route);
	});

	var pointsData = [];
	data.routes.forEach(function (airline) {
		pointsData.push(getAirportCoord(airline[1]));
		pointsData.push(getAirportCoord(airline[2]));
	});

	var series = data.airlines.map(function (airline, index) {
		if (index > 2) {
			return null;
		}
		var airlineName = airline[0];
		var routes = routesGroupByAirline[airlineName];

		if (!routes) {
			return null;
		}
		return {
			type: 'lines3D',
			name: airlineName,

			effect: {
				show: true,
				trailWidth: 2,
				trailLength: 0.2,
				trailOpacity: 0.4,
				trailColor: 'rgb(30, 30, 60)'
			},

			lineStyle: {
				width: 1,
				color: 'rgb(50, 50, 150)',
				// color: 'rgb(118, 233, 241)',
				opacity: 0.1
			},
			blendMode: 'lighter',

			distanceToGlobe: 4,

			data: routes.map(function (item) {
				return [airports[item[1]].coord, airports[item[2]].coord];
			})
		};
	}).filter(function (series) {
		if (series) {
			// LOG('s data:');
			// LOG(series.data);
		}
		return !!series;
	});

	series.push({
		type: 'scatter3D',
		coordinateSystem: 'globe',
		blendMode: 'lighter',
		symbolSize: 2,
		distanceToGlobe: 4,
		itemStyle: {
			color: 'rgb(50, 50, 150)',
			opacity: 0.2
		},
		data: pointsData
	});

	var baseTexture = 'globe/data-1491837049070-rJZtl7Y6x.jpg';
	var heightTexture = 'globe/data-1491837049070-rJZtl7Y6x.jpg';
	var environment = 'globe/data-1491837999815-H1_44Qtal.jpg';
	var texture = 'globe/data-1491838644249-ry33I7YTe.hdr';
	var light = {
		main: {
			intensity: 1,
			shadow: true
		},
		ambientCubemap: {
			texture: texture,
			diffuseIntensity: 0.2
		}
	};
	myChart.setOption({
		legend: {},
		globe: {
			viewControl: {
				autoRotate: this.autoRotate,
				distance: 170
			},
			baseTexture: baseTexture,
			heightTexture: heightTexture,
			environment: environment,
			displacementScale: 0.04,
			shading: 'realistic',
			realisticMaterial: {
				roughness: 0.9
			},
			postEffect: {
				enable: true
			},
			light: light
		},
		series: series
	});
};
methods.toggleRotate = function () {
	var myChart = this.chart;
	if (!myChart) {
		return false;
	}
	this.autoRotate = !this.autoRotate;
	var globe = {
		viewControl: {
			autoRotate: this.autoRotate
		}
	};
	myChart.setOption({
		globe: globe
	}, {
		lazyUpdate: true
	});
};
methods.bind = function () {
	var _this = this;

	document.documentElement.addEventListener('keydown', function (e) {
		if (e.keyCode === 13) {
			_this.toggleRotate();
		}
	});
};
methods.init = function () {
	var _this2 = this;

	__WEBPACK_IMPORTED_MODULE_5_util_request__["a" /* default */].getGlobe2().then(function (data) {
		var myChart = __WEBPACK_IMPORTED_MODULE_1_echarts___default.a.init(_this2.$el);
		_this2.initChart(myChart, data);

		_this2.chart = myChart;
	});
};
var computed = {};
var watch = {};
var mounted = function mounted() {
	var _this3 = this;

	setTimeout(function () {
		_this3.init();
	}, 0);

	this.bind();
};
var beforeDestroy = function beforeDestroy() {
	if (this.chart) {
		this.chart.dispose();
		this.chart = null;
	}
};
var dataFunc = function dataFunc() {
	var o = {
		autoRotate: false
	};
	return o;
};
/* harmony default export */ __webpack_exports__["default"] = ({
	data: dataFunc,
	watch: watch,
	mixins: [],
	methods: methods,
	computed: computed,
	props: [],
	mounted: mounted,
	beforeDestroy: beforeDestroy,
	components: {}
});

/***/ }),
/* 47 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
//
//
//
//
//
//
//
//
//

var methods = {};
var computed = {};
var watch = {};
var mounted = function mounted() {};
var destroyed = function destroyed() {};
var dataFunc = function dataFunc() {
	var o = {};
	return o;
};
/* harmony default export */ __webpack_exports__["default"] = ({
	data: dataFunc,
	watch: watch,
	mixins: [],
	methods: methods,
	computed: computed,
	props: [],
	mounted: mounted,
	destroyed: destroyed,
	components: {}
});

/***/ }),
/* 48 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
//
//
//
//
//
//

var methods = {};
var computed = {};
computed.src = function () {
	return './images/logo.png';
};
var watch = {};
var mounted = function mounted() {};
var beforeDestroy = function beforeDestroy() {};
var dataFunc = function dataFunc() {
	var o = {};
	return o;
};
/* harmony default export */ __webpack_exports__["default"] = ({
	data: dataFunc,
	watch: watch,
	mixins: [],
	methods: methods,
	computed: computed,
	props: [],
	mounted: mounted,
	beforeDestroy: beforeDestroy,
	components: {}
});

/***/ }),
/* 49 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

var methods = {};
var computed = {};
var watch = {};
var mounted = function mounted() {};
var destroyed = function destroyed() {};
var dataFunc = function dataFunc() {
	var o = {};
	return o;
};
/* harmony default export */ __webpack_exports__["default"] = ({
	data: dataFunc,
	watch: watch,
	mixins: [],
	methods: methods,
	computed: computed,
	props: [],
	mounted: mounted,
	destroyed: destroyed,
	components: {
		'v-logo': __webpack_require__(91),
		'v-head': __webpack_require__(90),
		'v-time': __webpack_require__(94),
		'rank-list': __webpack_require__(92),
		'v-globe': __webpack_require__(89),
		'chart-in-out': __webpack_require__(83),
		'chart-realtime-user': __webpack_require__(87),
		'chart-stay-time': __webpack_require__(88),
		'chart-all-type-1': __webpack_require__(81),
		'chart-all-type-2': __webpack_require__(82),
		'chart-pie-1': __webpack_require__(84),
		'chart-pie-2': __webpack_require__(85),
		'chart-pie-3': __webpack_require__(86),
		'r-line': __webpack_require__(93)
	}
});

/***/ }),
/* 50 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_util_request__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_util_transitionend_js__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_util_transitionend_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_util_transitionend_js__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//




var loopInterval = 6400;
var methods = {};
methods.rotate = function (item) {
	item.rotate = true;

	setTimeout(function () {
		item.rotate = false;
	}, 520);
};
methods.rotateOneByOne = function (i) {
	var _this = this;

	var item = this.list[i];
	if (!item) {
		return;
	}
	this.rotate(item);
	setTimeout(function () {
		_this.marqueeItem(i);
	}, 500);
	setTimeout(function () {
		_this.rotateOneByOne(i + 1);
	}, 120);
};
methods.rotateAll = function () {
	var _this2 = this;

	this.rotateOneByOne(0);
	// this.startMarquee();
	setTimeout(function () {
		_this2.rotateAll();
	}, loopInterval);
};
methods.lineMoveOneByOne = function (i) {
	var _this3 = this;

	var item = this.list[i];
	if (!item) {
		return;
	}

	item.lineMove = true;

	setTimeout(function () {
		item.lineMove = false;
	}, 520);

	setTimeout(function () {
		_this3.lineMoveOneByOne(i + 1);
	}, 120);
};
methods.lineMoveAll = function () {
	var _this4 = this;

	this.lineMoveOneByOne(0);
	setTimeout(function () {
		_this4.lineMoveAll();
	}, loopInterval);
};
methods.stopMarquee = function (elem, i) {
	var item = this.list[i] || {};
	var style = item.textStyle || {};
	item.textMarquee = false;
	style.transform = 'translateX(0px)';
	/*
 if (elem.transitionEnd && elem.transitionEnd.remove) {
 	elem.transitionEnd.remove();
 }
 */
};
methods.restartMarquee = function (elem, i) {
	var _this5 = this;

	this.stopMarquee(elem, i);
	setTimeout(function () {
		_this5.startMarquee(elem, i);
	}, 50);
};
methods.startMarquee = function (elem, i) {
	var textElem = elem.parentNode || elem.parentElement;
	var w1 = textElem.clientWidth || textElem.offsetWidth;
	var w2 = elem.scrollWidth;
	var v = w2 - w1;
	if (v < 5) {
		return;
	}

	var x = v + 20;
	var item = this.list[i] || {};
	var style = item.textStyle || {};
	item.textMarquee = true;
	style.transform = 'translateX(-' + x + 'px)';
};
methods.marqueeItem = function (i) {
	var node = this.$refs.item[i];
	if (node) {
		var line1 = node.children[0];
		var textElem = line1.children[1];
		var textSupElem = textElem.children[0];
		this.restartMarquee(textSupElem, i);
	}
};

var computed = {};
var watch = {};
var mounted = function mounted() {
	var _this6 = this;

	__WEBPACK_IMPORTED_MODULE_0_util_request__["a" /* default */].getCities().then(function (r) {
		var list = [];
		r.forEach(function (city) {
			if (list.length >= 20) {
				return;
			}
			if (city.places) {
				city.places.forEach(function (v) {
					list.push({
						rotate: false,
						textMarquee: false,
						textStyle: {
							'transform': 'translateX(0px)'
						},
						lineMove: false,
						text: v.placeName
					});
					if (list.length >= 20) {
						return;
					}
				});
			}
		});
		_this6.list = list;
		_this6.$nextTick(function () {
			_this6.lineMoveAll();
			_this6.rotateAll();
		});
	});
};
var destroyed = function destroyed() {};
var dataFunc = function dataFunc() {
	var o = {
		list: []
	};
	return o;
};
/* harmony default export */ __webpack_exports__["default"] = ({
	data: dataFunc,
	watch: watch,
	mixins: [],
	methods: methods,
	computed: computed,
	props: [],
	mounted: mounted,
	destroyed: destroyed,
	components: {}
});

/***/ }),
/* 51 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
//
//
//
//
//
//

var methods = {};
var computed = {};

var watch = {};
var mounted = function mounted() {};
var beforeDestroy = function beforeDestroy() {};
var dataFunc = function dataFunc() {
	var o = {};
	return o;
};
/* harmony default export */ __webpack_exports__["default"] = ({
	data: dataFunc,
	watch: watch,
	mixins: [],
	methods: methods,
	computed: computed,
	props: [],
	mounted: mounted,
	beforeDestroy: beforeDestroy,
	components: {}
});

/***/ }),
/* 52 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_util_tool__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_util_tool___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_util_tool__);
//
//
//
//
//
//
//



var methods = {};
methods.tick = function () {
	var _this = this;

	var date = new Date();
	var y = date.getFullYear();
	var m = date.getMonth() + 1;
	var d = date.getDate();

	var h = date.getHours();
	var i = date.getMinutes();
	var s = date.getSeconds();

	this.str = [y, __WEBPACK_IMPORTED_MODULE_0_util_tool___default.a.padZero(m), __WEBPACK_IMPORTED_MODULE_0_util_tool___default.a.padZero(d)].join('-') + ' ' + [__WEBPACK_IMPORTED_MODULE_0_util_tool___default.a.padZero(h), __WEBPACK_IMPORTED_MODULE_0_util_tool___default.a.padZero(i), __WEBPACK_IMPORTED_MODULE_0_util_tool___default.a.padZero(s)].join(':');
	this.timer = setTimeout(function () {
		_this.tick();
	}, 1000);
};
var computed = {};
var watch = {};
var mounted = function mounted() {
	this.tick();
};
var beforeDestroy = function beforeDestroy() {
	if (this.timer) {
		clearTimeout(this.timer);
		this.timer = null;
	}
};
var dataFunc = function dataFunc() {
	var o = {
		str: ''
	};
	return o;
};
/* harmony default export */ __webpack_exports__["default"] = ({
	data: dataFunc,
	watch: watch,
	mixins: [],
	methods: methods,
	computed: computed,
	props: [],
	mounted: mounted,
	beforeDestroy: beforeDestroy,
	components: {}
});

/***/ }),
/* 53 */,
/* 54 */,
/* 55 */,
/* 56 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(1)(undefined);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/***/ }),
/* 57 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(1)(undefined);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/***/ }),
/* 58 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(1)(undefined);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/***/ }),
/* 59 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(1)(undefined);
// imports


// module
exports.push([module.i, "\n.r-line img[data-v-1488cf2a] {\n  width: 25px;\n  height: 772px;\n}\n", ""]);

// exports


/***/ }),
/* 60 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(1)(undefined);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/***/ }),
/* 61 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(1)(undefined);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/***/ }),
/* 62 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(1)(undefined);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/***/ }),
/* 63 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(1)(undefined);
// imports


// module
exports.push([module.i, "\n.v-logo img[data-v-4567dd17] {\n  width: 230px;\n  height: 42px;\n}\n", ""]);

// exports


/***/ }),
/* 64 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(1)(undefined);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/***/ }),
/* 65 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(1)(undefined);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/***/ }),
/* 66 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(1)(undefined);
// imports


// module
exports.push([module.i, "\n.v-time[data-v-50bc0939] {\n  color: #2e93ff;\n}\n.v-time .fa[data-v-50bc0939] {\n  font-size: 18px;\n  font-weight: normal;\n  vertical-align: 0px;\n}\n.v-time span[data-v-50bc0939] {\n  margin-left: 5px;\n}\n", ""]);

// exports


/***/ }),
/* 67 */,
/* 68 */,
/* 69 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(1)(undefined);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/***/ }),
/* 70 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(1)(undefined);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/***/ }),
/* 71 */,
/* 72 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(1)(undefined);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/***/ }),
/* 73 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(1)(undefined);
// imports


// module
exports.push([module.i, "\n.v-head[data-v-ebe67a68] {\n  text-align: center;\n  position: fixed;\n  left: 50%;\n  width: 800px;\n  margin-left: -400px;\n  top: 10px;\n  z-index: 5;\n}\nh1[data-v-ebe67a68] {\n  color: #ffffff;\n  font-weight: lighter;\n  font-size: 32px;\n  -o-text-overflow: ellipsis;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n", ""]);

// exports


/***/ }),
/* 74 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


module.exports = __webpack_require__(78)


/***/ }),
/* 75 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var Promise = __webpack_require__(8);

module.exports = Promise;
Promise.prototype.done = function (onFulfilled, onRejected) {
  var self = arguments.length ? this.then.apply(this, arguments) : this;
  self.then(null, function (err) {
    setTimeout(function () {
      throw err;
    }, 0);
  });
};


/***/ }),
/* 76 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


//This file contains the ES6 extensions to the core Promises/A+ API

var Promise = __webpack_require__(8);

module.exports = Promise;

/* Static Functions */

var TRUE = valuePromise(true);
var FALSE = valuePromise(false);
var NULL = valuePromise(null);
var UNDEFINED = valuePromise(undefined);
var ZERO = valuePromise(0);
var EMPTYSTRING = valuePromise('');

function valuePromise(value) {
  var p = new Promise(Promise._61);
  p._81 = 1;
  p._65 = value;
  return p;
}
Promise.resolve = function (value) {
  if (value instanceof Promise) return value;

  if (value === null) return NULL;
  if (value === undefined) return UNDEFINED;
  if (value === true) return TRUE;
  if (value === false) return FALSE;
  if (value === 0) return ZERO;
  if (value === '') return EMPTYSTRING;

  if (typeof value === 'object' || typeof value === 'function') {
    try {
      var then = value.then;
      if (typeof then === 'function') {
        return new Promise(then.bind(value));
      }
    } catch (ex) {
      return new Promise(function (resolve, reject) {
        reject(ex);
      });
    }
  }
  return valuePromise(value);
};

Promise.all = function (arr) {
  var args = Array.prototype.slice.call(arr);

  return new Promise(function (resolve, reject) {
    if (args.length === 0) return resolve([]);
    var remaining = args.length;
    function res(i, val) {
      if (val && (typeof val === 'object' || typeof val === 'function')) {
        if (val instanceof Promise && val.then === Promise.prototype.then) {
          while (val._81 === 3) {
            val = val._65;
          }
          if (val._81 === 1) return res(i, val._65);
          if (val._81 === 2) reject(val._65);
          val.then(function (val) {
            res(i, val);
          }, reject);
          return;
        } else {
          var then = val.then;
          if (typeof then === 'function') {
            var p = new Promise(then.bind(val));
            p.then(function (val) {
              res(i, val);
            }, reject);
            return;
          }
        }
      }
      args[i] = val;
      if (--remaining === 0) {
        resolve(args);
      }
    }
    for (var i = 0; i < args.length; i++) {
      res(i, args[i]);
    }
  });
};

Promise.reject = function (value) {
  return new Promise(function (resolve, reject) {
    reject(value);
  });
};

Promise.race = function (values) {
  return new Promise(function (resolve, reject) {
    values.forEach(function(value){
      Promise.resolve(value).then(resolve, reject);
    });
  });
};

/* Prototype Methods */

Promise.prototype['catch'] = function (onRejected) {
  return this.then(null, onRejected);
};


/***/ }),
/* 77 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var Promise = __webpack_require__(8);

module.exports = Promise;
Promise.prototype['finally'] = function (f) {
  return this.then(function (value) {
    return Promise.resolve(f()).then(function () {
      return value;
    });
  }, function (err) {
    return Promise.resolve(f()).then(function () {
      throw err;
    });
  });
};


/***/ }),
/* 78 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


module.exports = __webpack_require__(8);
__webpack_require__(75);
__webpack_require__(77);
__webpack_require__(76);
__webpack_require__(79);
__webpack_require__(80);


/***/ }),
/* 79 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


// This file contains then/promise specific extensions that are only useful
// for node.js interop

var Promise = __webpack_require__(8);
var asap = __webpack_require__(20);

module.exports = Promise;

/* Static Functions */

Promise.denodeify = function (fn, argumentCount) {
  if (
    typeof argumentCount === 'number' && argumentCount !== Infinity
  ) {
    return denodeifyWithCount(fn, argumentCount);
  } else {
    return denodeifyWithoutCount(fn);
  }
}

var callbackFn = (
  'function (err, res) {' +
  'if (err) { rj(err); } else { rs(res); }' +
  '}'
);
function denodeifyWithCount(fn, argumentCount) {
  var args = [];
  for (var i = 0; i < argumentCount; i++) {
    args.push('a' + i);
  }
  var body = [
    'return function (' + args.join(',') + ') {',
    'var self = this;',
    'return new Promise(function (rs, rj) {',
    'var res = fn.call(',
    ['self'].concat(args).concat([callbackFn]).join(','),
    ');',
    'if (res &&',
    '(typeof res === "object" || typeof res === "function") &&',
    'typeof res.then === "function"',
    ') {rs(res);}',
    '});',
    '};'
  ].join('');
  return Function(['Promise', 'fn'], body)(Promise, fn);
}
function denodeifyWithoutCount(fn) {
  var fnLength = Math.max(fn.length - 1, 3);
  var args = [];
  for (var i = 0; i < fnLength; i++) {
    args.push('a' + i);
  }
  var body = [
    'return function (' + args.join(',') + ') {',
    'var self = this;',
    'var args;',
    'var argLength = arguments.length;',
    'if (arguments.length > ' + fnLength + ') {',
    'args = new Array(arguments.length + 1);',
    'for (var i = 0; i < arguments.length; i++) {',
    'args[i] = arguments[i];',
    '}',
    '}',
    'return new Promise(function (rs, rj) {',
    'var cb = ' + callbackFn + ';',
    'var res;',
    'switch (argLength) {',
    args.concat(['extra']).map(function (_, index) {
      return (
        'case ' + (index) + ':' +
        'res = fn.call(' + ['self'].concat(args.slice(0, index)).concat('cb').join(',') + ');' +
        'break;'
      );
    }).join(''),
    'default:',
    'args[argLength] = cb;',
    'res = fn.apply(self, args);',
    '}',
    
    'if (res &&',
    '(typeof res === "object" || typeof res === "function") &&',
    'typeof res.then === "function"',
    ') {rs(res);}',
    '});',
    '};'
  ].join('');

  return Function(
    ['Promise', 'fn'],
    body
  )(Promise, fn);
}

Promise.nodeify = function (fn) {
  return function () {
    var args = Array.prototype.slice.call(arguments);
    var callback =
      typeof args[args.length - 1] === 'function' ? args.pop() : null;
    var ctx = this;
    try {
      return fn.apply(this, arguments).nodeify(callback, ctx);
    } catch (ex) {
      if (callback === null || typeof callback == 'undefined') {
        return new Promise(function (resolve, reject) {
          reject(ex);
        });
      } else {
        asap(function () {
          callback.call(ctx, ex);
        })
      }
    }
  }
}

Promise.prototype.nodeify = function (callback, ctx) {
  if (typeof callback != 'function') return this;

  this.then(function (value) {
    asap(function () {
      callback.call(ctx, null, value);
    });
  }, function (err) {
    asap(function () {
      callback.call(ctx, err);
    });
  });
}


/***/ }),
/* 80 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var Promise = __webpack_require__(8);

module.exports = Promise;
Promise.enableSynchronous = function () {
  Promise.prototype.isPending = function() {
    return this.getState() == 0;
  };

  Promise.prototype.isFulfilled = function() {
    return this.getState() == 1;
  };

  Promise.prototype.isRejected = function() {
    return this.getState() == 2;
  };

  Promise.prototype.getValue = function () {
    if (this._81 === 3) {
      return this._65.getValue();
    }

    if (!this.isFulfilled()) {
      throw new Error('Cannot get a value of an unfulfilled promise.');
    }

    return this._65;
  };

  Promise.prototype.getReason = function () {
    if (this._81 === 3) {
      return this._65.getReason();
    }

    if (!this.isRejected()) {
      throw new Error('Cannot get a rejection reason of a non-rejected promise.');
    }

    return this._65;
  };

  Promise.prototype.getState = function () {
    if (this._81 === 3) {
      return this._65.getState();
    }
    if (this._81 === -1 || this._81 === -2) {
      return 0;
    }

    return this._81;
  };
};

Promise.disableSynchronous = function() {
  Promise.prototype.isPending = undefined;
  Promise.prototype.isFulfilled = undefined;
  Promise.prototype.isRejected = undefined;
  Promise.prototype.getValue = undefined;
  Promise.prototype.getReason = undefined;
  Promise.prototype.getState = undefined;
};


/***/ }),
/* 81 */
/***/ (function(module, exports, __webpack_require__) {


/* styles */
__webpack_require__(120)

var Component = __webpack_require__(2)(
  /* script */
  __webpack_require__(38),
  /* template */
  __webpack_require__(102),
  /* scopeId */
  "data-v-3fc707c5",
  /* cssModules */
  null
)
Component.options.__file = "D:\\wamp\\www\\meepo3927.github.io\\bigshow\\js\\comp\\bigshow\\chart-all-type-1.vue"
if (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== "default" && key !== "__esModule"})) {console.error("named exports are not supported in *.vue files.")}
if (Component.options.functional) {console.error("[vue-loader] chart-all-type-1.vue: functional components are not supported with templates, they should use render functions.")}

/* hot reload */
if (false) {(function () {
  var hotAPI = require("vue-hot-reload-api")
  hotAPI.install(require("vue"), false)
  if (!hotAPI.compatible) return
  module.hot.accept()
  if (!module.hot.data) {
    hotAPI.createRecord("data-v-3fc707c5", Component.options)
  } else {
    hotAPI.reload("data-v-3fc707c5", Component.options)
  }
})()}

module.exports = Component.exports


/***/ }),
/* 82 */
/***/ (function(module, exports, __webpack_require__) {


/* styles */
__webpack_require__(121)

var Component = __webpack_require__(2)(
  /* script */
  __webpack_require__(39),
  /* template */
  __webpack_require__(103),
  /* scopeId */
  "data-v-3fd51f46",
  /* cssModules */
  null
)
Component.options.__file = "D:\\wamp\\www\\meepo3927.github.io\\bigshow\\js\\comp\\bigshow\\chart-all-type-2.vue"
if (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== "default" && key !== "__esModule"})) {console.error("named exports are not supported in *.vue files.")}
if (Component.options.functional) {console.error("[vue-loader] chart-all-type-2.vue: functional components are not supported with templates, they should use render functions.")}

/* hot reload */
if (false) {(function () {
  var hotAPI = require("vue-hot-reload-api")
  hotAPI.install(require("vue"), false)
  if (!hotAPI.compatible) return
  module.hot.accept()
  if (!module.hot.data) {
    hotAPI.createRecord("data-v-3fd51f46", Component.options)
  } else {
    hotAPI.reload("data-v-3fd51f46", Component.options)
  }
})()}

module.exports = Component.exports


/***/ }),
/* 83 */
/***/ (function(module, exports, __webpack_require__) {


/* styles */
__webpack_require__(125)

var Component = __webpack_require__(2)(
  /* script */
  __webpack_require__(40),
  /* template */
  __webpack_require__(107),
  /* scopeId */
  "data-v-4b1b7c3e",
  /* cssModules */
  null
)
Component.options.__file = "D:\\wamp\\www\\meepo3927.github.io\\bigshow\\js\\comp\\bigshow\\chart-in-out.vue"
if (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== "default" && key !== "__esModule"})) {console.error("named exports are not supported in *.vue files.")}
if (Component.options.functional) {console.error("[vue-loader] chart-in-out.vue: functional components are not supported with templates, they should use render functions.")}

/* hot reload */
if (false) {(function () {
  var hotAPI = require("vue-hot-reload-api")
  hotAPI.install(require("vue"), false)
  if (!hotAPI.compatible) return
  module.hot.accept()
  if (!module.hot.data) {
    hotAPI.createRecord("data-v-4b1b7c3e", Component.options)
  } else {
    hotAPI.reload("data-v-4b1b7c3e", Component.options)
  }
})()}

module.exports = Component.exports


/***/ }),
/* 84 */
/***/ (function(module, exports, __webpack_require__) {


/* styles */
__webpack_require__(116)

var Component = __webpack_require__(2)(
  /* script */
  __webpack_require__(41),
  /* template */
  __webpack_require__(98),
  /* scopeId */
  "data-v-021ae2c5",
  /* cssModules */
  null
)
Component.options.__file = "D:\\wamp\\www\\meepo3927.github.io\\bigshow\\js\\comp\\bigshow\\chart-pie-1.vue"
if (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== "default" && key !== "__esModule"})) {console.error("named exports are not supported in *.vue files.")}
if (Component.options.functional) {console.error("[vue-loader] chart-pie-1.vue: functional components are not supported with templates, they should use render functions.")}

/* hot reload */
if (false) {(function () {
  var hotAPI = require("vue-hot-reload-api")
  hotAPI.install(require("vue"), false)
  if (!hotAPI.compatible) return
  module.hot.accept()
  if (!module.hot.data) {
    hotAPI.createRecord("data-v-021ae2c5", Component.options)
  } else {
    hotAPI.reload("data-v-021ae2c5", Component.options)
  }
})()}

module.exports = Component.exports


/***/ }),
/* 85 */
/***/ (function(module, exports, __webpack_require__) {


/* styles */
__webpack_require__(117)

var Component = __webpack_require__(2)(
  /* script */
  __webpack_require__(42),
  /* template */
  __webpack_require__(99),
  /* scopeId */
  "data-v-0228fa46",
  /* cssModules */
  null
)
Component.options.__file = "D:\\wamp\\www\\meepo3927.github.io\\bigshow\\js\\comp\\bigshow\\chart-pie-2.vue"
if (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== "default" && key !== "__esModule"})) {console.error("named exports are not supported in *.vue files.")}
if (Component.options.functional) {console.error("[vue-loader] chart-pie-2.vue: functional components are not supported with templates, they should use render functions.")}

/* hot reload */
if (false) {(function () {
  var hotAPI = require("vue-hot-reload-api")
  hotAPI.install(require("vue"), false)
  if (!hotAPI.compatible) return
  module.hot.accept()
  if (!module.hot.data) {
    hotAPI.createRecord("data-v-0228fa46", Component.options)
  } else {
    hotAPI.reload("data-v-0228fa46", Component.options)
  }
})()}

module.exports = Component.exports


/***/ }),
/* 86 */
/***/ (function(module, exports, __webpack_require__) {


/* styles */
__webpack_require__(118)

var Component = __webpack_require__(2)(
  /* script */
  __webpack_require__(43),
  /* template */
  __webpack_require__(100),
  /* scopeId */
  "data-v-023711c7",
  /* cssModules */
  null
)
Component.options.__file = "D:\\wamp\\www\\meepo3927.github.io\\bigshow\\js\\comp\\bigshow\\chart-pie-3.vue"
if (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== "default" && key !== "__esModule"})) {console.error("named exports are not supported in *.vue files.")}
if (Component.options.functional) {console.error("[vue-loader] chart-pie-3.vue: functional components are not supported with templates, they should use render functions.")}

/* hot reload */
if (false) {(function () {
  var hotAPI = require("vue-hot-reload-api")
  hotAPI.install(require("vue"), false)
  if (!hotAPI.compatible) return
  module.hot.accept()
  if (!module.hot.data) {
    hotAPI.createRecord("data-v-023711c7", Component.options)
  } else {
    hotAPI.reload("data-v-023711c7", Component.options)
  }
})()}

module.exports = Component.exports


/***/ }),
/* 87 */
/***/ (function(module, exports, __webpack_require__) {


/* styles */
__webpack_require__(124)

var Component = __webpack_require__(2)(
  /* script */
  __webpack_require__(44),
  /* template */
  __webpack_require__(106),
  /* scopeId */
  "data-v-46a47602",
  /* cssModules */
  null
)
Component.options.__file = "D:\\wamp\\www\\meepo3927.github.io\\bigshow\\js\\comp\\bigshow\\chart-realtime-user.vue"
if (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== "default" && key !== "__esModule"})) {console.error("named exports are not supported in *.vue files.")}
if (Component.options.functional) {console.error("[vue-loader] chart-realtime-user.vue: functional components are not supported with templates, they should use render functions.")}

/* hot reload */
if (false) {(function () {
  var hotAPI = require("vue-hot-reload-api")
  hotAPI.install(require("vue"), false)
  if (!hotAPI.compatible) return
  module.hot.accept()
  if (!module.hot.data) {
    hotAPI.createRecord("data-v-46a47602", Component.options)
  } else {
    hotAPI.reload("data-v-46a47602", Component.options)
  }
})()}

module.exports = Component.exports


/***/ }),
/* 88 */
/***/ (function(module, exports, __webpack_require__) {


/* styles */
__webpack_require__(132)

var Component = __webpack_require__(2)(
  /* script */
  __webpack_require__(45),
  /* template */
  __webpack_require__(114),
  /* scopeId */
  "data-v-e7513554",
  /* cssModules */
  null
)
Component.options.__file = "D:\\wamp\\www\\meepo3927.github.io\\bigshow\\js\\comp\\bigshow\\chart-stay-time.vue"
if (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== "default" && key !== "__esModule"})) {console.error("named exports are not supported in *.vue files.")}
if (Component.options.functional) {console.error("[vue-loader] chart-stay-time.vue: functional components are not supported with templates, they should use render functions.")}

/* hot reload */
if (false) {(function () {
  var hotAPI = require("vue-hot-reload-api")
  hotAPI.install(require("vue"), false)
  if (!hotAPI.compatible) return
  module.hot.accept()
  if (!module.hot.data) {
    hotAPI.createRecord("data-v-e7513554", Component.options)
  } else {
    hotAPI.reload("data-v-e7513554", Component.options)
  }
})()}

module.exports = Component.exports


/***/ }),
/* 89 */
/***/ (function(module, exports, __webpack_require__) {


/* styles */
__webpack_require__(122)

var Component = __webpack_require__(2)(
  /* script */
  __webpack_require__(46),
  /* template */
  __webpack_require__(104),
  /* scopeId */
  "data-v-42f9739e",
  /* cssModules */
  null
)
Component.options.__file = "D:\\wamp\\www\\meepo3927.github.io\\bigshow\\js\\comp\\bigshow\\globe.vue"
if (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== "default" && key !== "__esModule"})) {console.error("named exports are not supported in *.vue files.")}
if (Component.options.functional) {console.error("[vue-loader] globe.vue: functional components are not supported with templates, they should use render functions.")}

/* hot reload */
if (false) {(function () {
  var hotAPI = require("vue-hot-reload-api")
  hotAPI.install(require("vue"), false)
  if (!hotAPI.compatible) return
  module.hot.accept()
  if (!module.hot.data) {
    hotAPI.createRecord("data-v-42f9739e", Component.options)
  } else {
    hotAPI.reload("data-v-42f9739e", Component.options)
  }
})()}

module.exports = Component.exports


/***/ }),
/* 90 */
/***/ (function(module, exports, __webpack_require__) {


/* styles */
__webpack_require__(133)

var Component = __webpack_require__(2)(
  /* script */
  __webpack_require__(47),
  /* template */
  __webpack_require__(115),
  /* scopeId */
  "data-v-ebe67a68",
  /* cssModules */
  null
)
Component.options.__file = "D:\\wamp\\www\\meepo3927.github.io\\bigshow\\js\\comp\\bigshow\\head.vue"
if (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== "default" && key !== "__esModule"})) {console.error("named exports are not supported in *.vue files.")}
if (Component.options.functional) {console.error("[vue-loader] head.vue: functional components are not supported with templates, they should use render functions.")}

/* hot reload */
if (false) {(function () {
  var hotAPI = require("vue-hot-reload-api")
  hotAPI.install(require("vue"), false)
  if (!hotAPI.compatible) return
  module.hot.accept()
  if (!module.hot.data) {
    hotAPI.createRecord("data-v-ebe67a68", Component.options)
  } else {
    hotAPI.reload("data-v-ebe67a68", Component.options)
  }
})()}

module.exports = Component.exports


/***/ }),
/* 91 */
/***/ (function(module, exports, __webpack_require__) {


/* styles */
__webpack_require__(123)

var Component = __webpack_require__(2)(
  /* script */
  __webpack_require__(48),
  /* template */
  __webpack_require__(105),
  /* scopeId */
  "data-v-4567dd17",
  /* cssModules */
  null
)
Component.options.__file = "D:\\wamp\\www\\meepo3927.github.io\\bigshow\\js\\comp\\bigshow\\logo.vue"
if (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== "default" && key !== "__esModule"})) {console.error("named exports are not supported in *.vue files.")}
if (Component.options.functional) {console.error("[vue-loader] logo.vue: functional components are not supported with templates, they should use render functions.")}

/* hot reload */
if (false) {(function () {
  var hotAPI = require("vue-hot-reload-api")
  hotAPI.install(require("vue"), false)
  if (!hotAPI.compatible) return
  module.hot.accept()
  if (!module.hot.data) {
    hotAPI.createRecord("data-v-4567dd17", Component.options)
  } else {
    hotAPI.reload("data-v-4567dd17", Component.options)
  }
})()}

module.exports = Component.exports


/***/ }),
/* 92 */
/***/ (function(module, exports, __webpack_require__) {


/* styles */
__webpack_require__(130)

var Component = __webpack_require__(2)(
  /* script */
  __webpack_require__(50),
  /* template */
  __webpack_require__(112),
  /* scopeId */
  "data-v-939ba23a",
  /* cssModules */
  null
)
Component.options.__file = "D:\\wamp\\www\\meepo3927.github.io\\bigshow\\js\\comp\\bigshow\\rank-list.vue"
if (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== "default" && key !== "__esModule"})) {console.error("named exports are not supported in *.vue files.")}
if (Component.options.functional) {console.error("[vue-loader] rank-list.vue: functional components are not supported with templates, they should use render functions.")}

/* hot reload */
if (false) {(function () {
  var hotAPI = require("vue-hot-reload-api")
  hotAPI.install(require("vue"), false)
  if (!hotAPI.compatible) return
  module.hot.accept()
  if (!module.hot.data) {
    hotAPI.createRecord("data-v-939ba23a", Component.options)
  } else {
    hotAPI.reload("data-v-939ba23a", Component.options)
  }
})()}

module.exports = Component.exports


/***/ }),
/* 93 */
/***/ (function(module, exports, __webpack_require__) {


/* styles */
__webpack_require__(119)

var Component = __webpack_require__(2)(
  /* script */
  __webpack_require__(51),
  /* template */
  __webpack_require__(101),
  /* scopeId */
  "data-v-1488cf2a",
  /* cssModules */
  null
)
Component.options.__file = "D:\\wamp\\www\\meepo3927.github.io\\bigshow\\js\\comp\\bigshow\\rline.vue"
if (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== "default" && key !== "__esModule"})) {console.error("named exports are not supported in *.vue files.")}
if (Component.options.functional) {console.error("[vue-loader] rline.vue: functional components are not supported with templates, they should use render functions.")}

/* hot reload */
if (false) {(function () {
  var hotAPI = require("vue-hot-reload-api")
  hotAPI.install(require("vue"), false)
  if (!hotAPI.compatible) return
  module.hot.accept()
  if (!module.hot.data) {
    hotAPI.createRecord("data-v-1488cf2a", Component.options)
  } else {
    hotAPI.reload("data-v-1488cf2a", Component.options)
  }
})()}

module.exports = Component.exports


/***/ }),
/* 94 */
/***/ (function(module, exports, __webpack_require__) {


/* styles */
__webpack_require__(126)

var Component = __webpack_require__(2)(
  /* script */
  __webpack_require__(52),
  /* template */
  __webpack_require__(108),
  /* scopeId */
  "data-v-50bc0939",
  /* cssModules */
  null
)
Component.options.__file = "D:\\wamp\\www\\meepo3927.github.io\\bigshow\\js\\comp\\bigshow\\time.vue"
if (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== "default" && key !== "__esModule"})) {console.error("named exports are not supported in *.vue files.")}
if (Component.options.functional) {console.error("[vue-loader] time.vue: functional components are not supported with templates, they should use render functions.")}

/* hot reload */
if (false) {(function () {
  var hotAPI = require("vue-hot-reload-api")
  hotAPI.install(require("vue"), false)
  if (!hotAPI.compatible) return
  module.hot.accept()
  if (!module.hot.data) {
    hotAPI.createRecord("data-v-50bc0939", Component.options)
  } else {
    hotAPI.reload("data-v-50bc0939", Component.options)
  }
})()}

module.exports = Component.exports


/***/ }),
/* 95 */,
/* 96 */,
/* 97 */,
/* 98 */
/***/ (function(module, exports, __webpack_require__) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "chart-pie-1 m-panel"
  }, [_c('h2', [_vm._v("")]), _vm._v(" "), _c('h6', [_vm._v("Types of Devices")]), _vm._v(" "), _c('div', {
    ref: "chart",
    staticClass: "v-chart"
  })])
},staticRenderFns: []}
module.exports.render._withStripped = true
if (false) {
  module.hot.accept()
  if (module.hot.data) {
     require("vue-hot-reload-api").rerender("data-v-021ae2c5", module.exports)
  }
}

/***/ }),
/* 99 */
/***/ (function(module, exports, __webpack_require__) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "chart-pie-2 m-panel"
  }, [_c('h2', [_vm._v("")]), _vm._v(" "), _c('h6', [_vm._v("Types of ARPU")]), _vm._v(" "), _c('div', {
    ref: "chart",
    staticClass: "v-chart"
  })])
},staticRenderFns: []}
module.exports.render._withStripped = true
if (false) {
  module.hot.accept()
  if (module.hot.data) {
     require("vue-hot-reload-api").rerender("data-v-0228fa46", module.exports)
  }
}

/***/ }),
/* 100 */
/***/ (function(module, exports, __webpack_require__) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "chart-pie-3 m-panel"
  }, [_c('h2', [_vm._v("")]), _vm._v(" "), _c('h6', [_vm._v("Types of Age")]), _vm._v(" "), _c('div', {
    ref: "chart",
    staticClass: "v-chart"
  })])
},staticRenderFns: []}
module.exports.render._withStripped = true
if (false) {
  module.hot.accept()
  if (module.hot.data) {
     require("vue-hot-reload-api").rerender("data-v-023711c7", module.exports)
  }
}

/***/ }),
/* 101 */
/***/ (function(module, exports, __webpack_require__) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "r-line"
  })
},staticRenderFns: []}
module.exports.render._withStripped = true
if (false) {
  module.hot.accept()
  if (module.hot.data) {
     require("vue-hot-reload-api").rerender("data-v-1488cf2a", module.exports)
  }
}

/***/ }),
/* 102 */
/***/ (function(module, exports, __webpack_require__) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "chart-all-type-1 m-panel m-right-chart"
  }, [_c('h2', [_vm._v("")]), _vm._v(" "), _c('h6', [_vm._v("User Gender Age Analysis")]), _vm._v(" "), _c('div', {
    ref: "chart",
    staticClass: "v-chart"
  })])
},staticRenderFns: []}
module.exports.render._withStripped = true
if (false) {
  module.hot.accept()
  if (module.hot.data) {
     require("vue-hot-reload-api").rerender("data-v-3fc707c5", module.exports)
  }
}

/***/ }),
/* 103 */
/***/ (function(module, exports, __webpack_require__) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "chart-all-type-2 m-panel m-right-chart"
  }, [_c('h2', [_vm._v("")]), _vm._v(" "), _c('h6', [_vm._v("User Gender Age Analysis")]), _vm._v(" "), _c('div', {
    ref: "chart",
    staticClass: "v-chart"
  })])
},staticRenderFns: []}
module.exports.render._withStripped = true
if (false) {
  module.hot.accept()
  if (module.hot.data) {
     require("vue-hot-reload-api").rerender("data-v-3fd51f46", module.exports)
  }
}

/***/ }),
/* 104 */
/***/ (function(module, exports, __webpack_require__) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "v-globe"
  })
},staticRenderFns: []}
module.exports.render._withStripped = true
if (false) {
  module.hot.accept()
  if (module.hot.data) {
     require("vue-hot-reload-api").rerender("data-v-42f9739e", module.exports)
  }
}

/***/ }),
/* 105 */
/***/ (function(module, exports, __webpack_require__) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "v-logo"
  }, [_c('img', {
    attrs: {
      "src": _vm.src,
      "alt": ""
    }
  })])
},staticRenderFns: []}
module.exports.render._withStripped = true
if (false) {
  module.hot.accept()
  if (module.hot.data) {
     require("vue-hot-reload-api").rerender("data-v-4567dd17", module.exports)
  }
}

/***/ }),
/* 106 */
/***/ (function(module, exports, __webpack_require__) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "chart-realtime-user m-panel m-right-chart"
  }, [_c('h2', [_vm._v("")]), _vm._v(" "), _c('h6', [_vm._v("User Realtime Monitor")]), _vm._v(" "), _c('div', {
    ref: "chart",
    staticClass: "v-chart"
  })])
},staticRenderFns: []}
module.exports.render._withStripped = true
if (false) {
  module.hot.accept()
  if (module.hot.data) {
     require("vue-hot-reload-api").rerender("data-v-46a47602", module.exports)
  }
}

/***/ }),
/* 107 */
/***/ (function(module, exports, __webpack_require__) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "chart-in-out m-panel m-right-chart"
  }, [_c('h2', [_vm._v("")]), _vm._v(" "), _c('h6', [_vm._v("Move In/Out Monitor")]), _vm._v(" "), _c('div', {
    ref: "chart",
    staticClass: "v-chart"
  })])
},staticRenderFns: []}
module.exports.render._withStripped = true
if (false) {
  module.hot.accept()
  if (module.hot.data) {
     require("vue-hot-reload-api").rerender("data-v-4b1b7c3e", module.exports)
  }
}

/***/ }),
/* 108 */
/***/ (function(module, exports, __webpack_require__) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "v-time"
  }, [_c('i', {
    staticClass: "fa fa-clock-o"
  }), _vm._v(" "), _c('span', {
    domProps: {
      "textContent": _vm._s(_vm.str)
    }
  })])
},staticRenderFns: []}
module.exports.render._withStripped = true
if (false) {
  module.hot.accept()
  if (module.hot.data) {
     require("vue-hot-reload-api").rerender("data-v-50bc0939", module.exports)
  }
}

/***/ }),
/* 109 */,
/* 110 */,
/* 111 */
/***/ (function(module, exports, __webpack_require__) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "big-show"
  }, [_c('v-head'), _vm._v(" "), _c('div', {
    staticClass: "top-bg-2"
  }), _vm._v(" "), _c('v-logo'), _vm._v(" "), _c('v-time'), _vm._v(" "), _c('rank-list'), _vm._v(" "), _c('v-globe'), _vm._v(" "), _c('chart-in-out'), _vm._v(" "), _c('chart-realtime-user'), _vm._v(" "), _c('chart-stay-time'), _vm._v(" "), _c('chart-all-type-1'), _vm._v(" "), _c('chart-all-type-2'), _vm._v(" "), _c('chart-pie-1'), _vm._v(" "), _c('chart-pie-2'), _vm._v(" "), _c('chart-pie-3'), _vm._v(" "), _c('r-line')], 1)
},staticRenderFns: []}
module.exports.render._withStripped = true
if (false) {
  module.hot.accept()
  if (module.hot.data) {
     require("vue-hot-reload-api").rerender("data-v-67e533b6", module.exports)
  }
}

/***/ }),
/* 112 */
/***/ (function(module, exports, __webpack_require__) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "rank-list m-panel p10"
  }, [_c('h2', [_vm._v("")]), _vm._v(" "), _c('h6', [_vm._v("Hot Sceneries Rank")]), _vm._v(" "), _c('div', {
    staticClass: "x-list"
  }, _vm._l((_vm.list), function(item, index) {
    return _c('div', {
      ref: "item",
      refInFor: true,
      staticClass: "x-item"
    }, [_c('div', {
      staticClass: "line-1",
      class: {
        'a-rotate': item.rotate
      }
    }, [_c('span', {
      staticClass: "x-index"
    }, [_vm._v("NO." + _vm._s(index + 1))]), _vm._v(" "), _c('div', {
      staticClass: "x-text"
    }, [_c('div', {
      class: {
        'a-marquee': item.textMarquee
      },
      style: (item.textStyle),
      domProps: {
        "textContent": _vm._s(item.text)
      }
    })])]), _vm._v(" "), _c('div', {
      staticClass: "line-2",
      class: {
        active: item.lineMove
      }
    }, [_c('div', {
      staticClass: "light"
    })]), _vm._v(" "), _c('div', {
      staticClass: "line-3"
    })])
  }))])
},staticRenderFns: []}
module.exports.render._withStripped = true
if (false) {
  module.hot.accept()
  if (module.hot.data) {
     require("vue-hot-reload-api").rerender("data-v-939ba23a", module.exports)
  }
}

/***/ }),
/* 113 */,
/* 114 */
/***/ (function(module, exports, __webpack_require__) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "chart-stay-time m-panel m-right-chart"
  }, [_c('h2', [_vm._v("")]), _vm._v(" "), _c('h6', [_vm._v("Stay Time Monitor")]), _vm._v(" "), _c('div', {
    ref: "chart",
    staticClass: "v-chart"
  })])
},staticRenderFns: []}
module.exports.render._withStripped = true
if (false) {
  module.hot.accept()
  if (module.hot.data) {
     require("vue-hot-reload-api").rerender("data-v-e7513554", module.exports)
  }
}

/***/ }),
/* 115 */
/***/ (function(module, exports, __webpack_require__) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _vm._m(0)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "v-head"
  }, [_c('h1', [_vm._v("\r\n\t\t\r\n\t")]), _vm._v(" "), _c('div', {
    staticClass: "top-gif"
  })])
}]}
module.exports.render._withStripped = true
if (false) {
  module.hot.accept()
  if (module.hot.data) {
     require("vue-hot-reload-api").rerender("data-v-ebe67a68", module.exports)
  }
}

/***/ }),
/* 116 */
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(56);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(3)("7d961b4a", content, false);
// Hot Module Replacement
if(false) {
 // When the styles change, update the <style> tags
 if(!content.locals) {
   module.hot.accept("!!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\"id\":\"data-v-021ae2c5\",\"scoped\":true,\"hasInlineConfig\":true}!../../../../node_modules/less-loader/index.js!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./chart-pie-1.vue", function() {
     var newContent = require("!!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\"id\":\"data-v-021ae2c5\",\"scoped\":true,\"hasInlineConfig\":true}!../../../../node_modules/less-loader/index.js!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./chart-pie-1.vue");
     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];
     update(newContent);
   });
 }
 // When the module is disposed, remove the <style> tags
 module.hot.dispose(function() { update(); });
}

/***/ }),
/* 117 */
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(57);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(3)("21c26455", content, false);
// Hot Module Replacement
if(false) {
 // When the styles change, update the <style> tags
 if(!content.locals) {
   module.hot.accept("!!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\"id\":\"data-v-0228fa46\",\"scoped\":true,\"hasInlineConfig\":true}!../../../../node_modules/less-loader/index.js!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./chart-pie-2.vue", function() {
     var newContent = require("!!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\"id\":\"data-v-0228fa46\",\"scoped\":true,\"hasInlineConfig\":true}!../../../../node_modules/less-loader/index.js!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./chart-pie-2.vue");
     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];
     update(newContent);
   });
 }
 // When the module is disposed, remove the <style> tags
 module.hot.dispose(function() { update(); });
}

/***/ }),
/* 118 */
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(58);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(3)("7bd4011f", content, false);
// Hot Module Replacement
if(false) {
 // When the styles change, update the <style> tags
 if(!content.locals) {
   module.hot.accept("!!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\"id\":\"data-v-023711c7\",\"scoped\":true,\"hasInlineConfig\":true}!../../../../node_modules/less-loader/index.js!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./chart-pie-3.vue", function() {
     var newContent = require("!!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\"id\":\"data-v-023711c7\",\"scoped\":true,\"hasInlineConfig\":true}!../../../../node_modules/less-loader/index.js!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./chart-pie-3.vue");
     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];
     update(newContent);
   });
 }
 // When the module is disposed, remove the <style> tags
 module.hot.dispose(function() { update(); });
}

/***/ }),
/* 119 */
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(59);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(3)("6e158801", content, false);
// Hot Module Replacement
if(false) {
 // When the styles change, update the <style> tags
 if(!content.locals) {
   module.hot.accept("!!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\"id\":\"data-v-1488cf2a\",\"scoped\":true,\"hasInlineConfig\":true}!../../../../node_modules/less-loader/index.js!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./rline.vue", function() {
     var newContent = require("!!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\"id\":\"data-v-1488cf2a\",\"scoped\":true,\"hasInlineConfig\":true}!../../../../node_modules/less-loader/index.js!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./rline.vue");
     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];
     update(newContent);
   });
 }
 // When the module is disposed, remove the <style> tags
 module.hot.dispose(function() { update(); });
}

/***/ }),
/* 120 */
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(60);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(3)("13d2b1df", content, false);
// Hot Module Replacement
if(false) {
 // When the styles change, update the <style> tags
 if(!content.locals) {
   module.hot.accept("!!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\"id\":\"data-v-3fc707c5\",\"scoped\":true,\"hasInlineConfig\":true}!../../../../node_modules/less-loader/index.js!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./chart-all-type-1.vue", function() {
     var newContent = require("!!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\"id\":\"data-v-3fc707c5\",\"scoped\":true,\"hasInlineConfig\":true}!../../../../node_modules/less-loader/index.js!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./chart-all-type-1.vue");
     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];
     update(newContent);
   });
 }
 // When the module is disposed, remove the <style> tags
 module.hot.dispose(function() { update(); });
}

/***/ }),
/* 121 */
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(61);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(3)("bd4d990e", content, false);
// Hot Module Replacement
if(false) {
 // When the styles change, update the <style> tags
 if(!content.locals) {
   module.hot.accept("!!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\"id\":\"data-v-3fd51f46\",\"scoped\":true,\"hasInlineConfig\":true}!../../../../node_modules/less-loader/index.js!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./chart-all-type-2.vue", function() {
     var newContent = require("!!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\"id\":\"data-v-3fd51f46\",\"scoped\":true,\"hasInlineConfig\":true}!../../../../node_modules/less-loader/index.js!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./chart-all-type-2.vue");
     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];
     update(newContent);
   });
 }
 // When the module is disposed, remove the <style> tags
 module.hot.dispose(function() { update(); });
}

/***/ }),
/* 122 */
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(62);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(3)("fa2587d4", content, false);
// Hot Module Replacement
if(false) {
 // When the styles change, update the <style> tags
 if(!content.locals) {
   module.hot.accept("!!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\"id\":\"data-v-42f9739e\",\"scoped\":true,\"hasInlineConfig\":true}!../../../../node_modules/less-loader/index.js!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./globe.vue", function() {
     var newContent = require("!!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\"id\":\"data-v-42f9739e\",\"scoped\":true,\"hasInlineConfig\":true}!../../../../node_modules/less-loader/index.js!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./globe.vue");
     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];
     update(newContent);
   });
 }
 // When the module is disposed, remove the <style> tags
 module.hot.dispose(function() { update(); });
}

/***/ }),
/* 123 */
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(63);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(3)("7fddab75", content, false);
// Hot Module Replacement
if(false) {
 // When the styles change, update the <style> tags
 if(!content.locals) {
   module.hot.accept("!!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\"id\":\"data-v-4567dd17\",\"scoped\":true,\"hasInlineConfig\":true}!../../../../node_modules/less-loader/index.js!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./logo.vue", function() {
     var newContent = require("!!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\"id\":\"data-v-4567dd17\",\"scoped\":true,\"hasInlineConfig\":true}!../../../../node_modules/less-loader/index.js!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./logo.vue");
     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];
     update(newContent);
   });
 }
 // When the module is disposed, remove the <style> tags
 module.hot.dispose(function() { update(); });
}

/***/ }),
/* 124 */
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(64);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(3)("16861f30", content, false);
// Hot Module Replacement
if(false) {
 // When the styles change, update the <style> tags
 if(!content.locals) {
   module.hot.accept("!!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\"id\":\"data-v-46a47602\",\"scoped\":true,\"hasInlineConfig\":true}!../../../../node_modules/less-loader/index.js!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./chart-realtime-user.vue", function() {
     var newContent = require("!!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\"id\":\"data-v-46a47602\",\"scoped\":true,\"hasInlineConfig\":true}!../../../../node_modules/less-loader/index.js!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./chart-realtime-user.vue");
     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];
     update(newContent);
   });
 }
 // When the module is disposed, remove the <style> tags
 module.hot.dispose(function() { update(); });
}

/***/ }),
/* 125 */
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(65);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(3)("dd6633c0", content, false);
// Hot Module Replacement
if(false) {
 // When the styles change, update the <style> tags
 if(!content.locals) {
   module.hot.accept("!!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\"id\":\"data-v-4b1b7c3e\",\"scoped\":true,\"hasInlineConfig\":true}!../../../../node_modules/less-loader/index.js!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./chart-in-out.vue", function() {
     var newContent = require("!!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\"id\":\"data-v-4b1b7c3e\",\"scoped\":true,\"hasInlineConfig\":true}!../../../../node_modules/less-loader/index.js!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./chart-in-out.vue");
     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];
     update(newContent);
   });
 }
 // When the module is disposed, remove the <style> tags
 module.hot.dispose(function() { update(); });
}

/***/ }),
/* 126 */
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(66);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(3)("78f673f6", content, false);
// Hot Module Replacement
if(false) {
 // When the styles change, update the <style> tags
 if(!content.locals) {
   module.hot.accept("!!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\"id\":\"data-v-50bc0939\",\"scoped\":true,\"hasInlineConfig\":true}!../../../../node_modules/less-loader/index.js!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./time.vue", function() {
     var newContent = require("!!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\"id\":\"data-v-50bc0939\",\"scoped\":true,\"hasInlineConfig\":true}!../../../../node_modules/less-loader/index.js!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./time.vue");
     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];
     update(newContent);
   });
 }
 // When the module is disposed, remove the <style> tags
 module.hot.dispose(function() { update(); });
}

/***/ }),
/* 127 */,
/* 128 */,
/* 129 */
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(69);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(3)("384e7fa4", content, false);
// Hot Module Replacement
if(false) {
 // When the styles change, update the <style> tags
 if(!content.locals) {
   module.hot.accept("!!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\"id\":\"data-v-67e533b6\",\"scoped\":true,\"hasInlineConfig\":true}!../../../../node_modules/less-loader/index.js!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./main.vue", function() {
     var newContent = require("!!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\"id\":\"data-v-67e533b6\",\"scoped\":true,\"hasInlineConfig\":true}!../../../../node_modules/less-loader/index.js!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./main.vue");
     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];
     update(newContent);
   });
 }
 // When the module is disposed, remove the <style> tags
 module.hot.dispose(function() { update(); });
}

/***/ }),
/* 130 */
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(70);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(3)("6545bbca", content, false);
// Hot Module Replacement
if(false) {
 // When the styles change, update the <style> tags
 if(!content.locals) {
   module.hot.accept("!!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\"id\":\"data-v-939ba23a\",\"scoped\":true,\"hasInlineConfig\":true}!../../../../node_modules/less-loader/index.js!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./rank-list.vue", function() {
     var newContent = require("!!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\"id\":\"data-v-939ba23a\",\"scoped\":true,\"hasInlineConfig\":true}!../../../../node_modules/less-loader/index.js!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./rank-list.vue");
     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];
     update(newContent);
   });
 }
 // When the module is disposed, remove the <style> tags
 module.hot.dispose(function() { update(); });
}

/***/ }),
/* 131 */,
/* 132 */
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(72);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(3)("e5cedb8a", content, false);
// Hot Module Replacement
if(false) {
 // When the styles change, update the <style> tags
 if(!content.locals) {
   module.hot.accept("!!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\"id\":\"data-v-e7513554\",\"scoped\":true,\"hasInlineConfig\":true}!../../../../node_modules/less-loader/index.js!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./chart-stay-time.vue", function() {
     var newContent = require("!!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\"id\":\"data-v-e7513554\",\"scoped\":true,\"hasInlineConfig\":true}!../../../../node_modules/less-loader/index.js!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./chart-stay-time.vue");
     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];
     update(newContent);
   });
 }
 // When the module is disposed, remove the <style> tags
 module.hot.dispose(function() { update(); });
}

/***/ }),
/* 133 */
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(73);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(3)("ca9b575c", content, false);
// Hot Module Replacement
if(false) {
 // When the styles change, update the <style> tags
 if(!content.locals) {
   module.hot.accept("!!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\"id\":\"data-v-ebe67a68\",\"scoped\":true,\"hasInlineConfig\":true}!../../../../node_modules/less-loader/index.js!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./head.vue", function() {
     var newContent = require("!!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\"id\":\"data-v-ebe67a68\",\"scoped\":true,\"hasInlineConfig\":true}!../../../../node_modules/less-loader/index.js!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./head.vue");
     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];
     update(newContent);
   });
 }
 // When the module is disposed, remove the <style> tags
 module.hot.dispose(function() { update(); });
}

/***/ }),
/* 134 */
/***/ (function(module, exports) {

/**
 * Translates the list format produced by css-loader into something
 * easier to manipulate.
 */
module.exports = function listToStyles (parentId, list) {
  var styles = []
  var newStyles = {}
  for (var i = 0; i < list.length; i++) {
    var item = list[i]
    var id = item[0]
    var css = item[1]
    var media = item[2]
    var sourceMap = item[3]
    var part = {
      id: parentId + ':' + i,
      css: css,
      media: media,
      sourceMap: sourceMap
    }
    if (!newStyles[id]) {
      styles.push(newStyles[id] = { id: id, parts: [part] })
    } else {
      newStyles[id].parts.push(part)
    }
  }
  return styles
}


/***/ })
],[22]);